(self.webpackChunkalexandria=self.webpackChunkalexandria||[]).push([[179],{8255:ve=>{function I(y){return Promise.resolve().then(()=>{var a=new Error("Cannot find module '"+y+"'");throw a.code="MODULE_NOT_FOUND",a})}I.keys=()=>[],I.resolve=I,I.id=8255,ve.exports=I},7716:(ve,I,y)=>{"use strict";y.d(I,{deG:()=>$I,tb:()=>r0,AFp:()=>jm,ip1:()=>hd,CZH:()=>Cu,hGG:()=>Td,z2F:()=>bd,sBO:()=>DA,Sil:()=>qf,_Vd:()=>mu,EJc:()=>_E,SBq:()=>Lo,qLn:()=>Dc,vpe:()=>Vo,gxx:()=>cl,tBr:()=>Qu,XFs:()=>be,OlP:()=>cr,zs3:()=>Un,ZZ4:()=>pf,aQg:()=>gf,soG:()=>Gf,YKP:()=>am,v3s:()=>RE,h0i:()=>Hs,PXZ:()=>DE,R0b:()=>Tr,FiY:()=>tu,Lbi:()=>pd,g9A:()=>n0,n_E:()=>ad,Qsj:()=>nb,FYo:()=>Us,JOm:()=>Ms,Tiy:()=>fn,q3G:()=>dr,tp0:()=>ii,EAV:()=>ev,Rgc:()=>qc,dDg:()=>a0,DyG:()=>Yp,q4F:()=>hf,GfV:()=>df,s_b:()=>um,ifc:()=>qe,eFA:()=>f0,G48:()=>jo,Gpc:()=>X,f3M:()=>sy,X6Q:()=>c0,_c5:()=>Ad,VLi:()=>Km,c2e:()=>gd,zSh:()=>io,wAp:()=>nn,vHH:()=>re,EiD:()=>Eh,mCW:()=>bc,qzn:()=>yc,JVY:()=>Rw,pB0:()=>Ch,eBb:()=>py,L6k:()=>fy,LAX:()=>ga,cg1:()=>Qg,Tjo:()=>fr,kL8:()=>qS,yhl:()=>kw,dqk:()=>$e,sIi:()=>fl,CqO:()=>ef,QGY:()=>Ug,F4k:()=>aS,RDi:()=>kp,AaK:()=>K,z3N:()=>pa,qOj:()=>su,TTD:()=>ea,_Bn:()=>eb,xp6:()=>gC,uIk:()=>n_,ekj:()=>M_,Suo:()=>Ub,Xpm:()=>Mn,lG2:()=>ti,Yz7:()=>ge,cJS:()=>Ce,oAB:()=>Si,Yjl:()=>pi,Y36:()=>Qh,_UZ:()=>Jh,GkF:()=>Xh,BQk:()=>Nc,ynx:()=>C_,qZA:()=>Kh,TgZ:()=>ki,EpF:()=>S_,n5z:()=>qp,Ikx:()=>H_,LFG:()=>Xn,$8M:()=>_w,NdJ:()=>Hg,CRH:()=>Hb,O4$:()=>Bp,oxw:()=>tf,ALo:()=>Ob,lcZ:()=>Pf,Hsn:()=>Gg,F$t:()=>cu,Q6J:()=>w_,s9C:()=>nf,DdM:()=>br,VKq:()=>Ib,iGM:()=>Vb,MAs:()=>o_,Jf7:()=>Yw,CHM:()=>na,LSH:()=>wy,kYT:()=>fi,Udp:()=>Wg,WFA:()=>A_,d8E:()=>G_,YNc:()=>xg,W1O:()=>l1,_uU:()=>I_,Oqu:()=>Yg,hij:()=>_l,AsE:()=>MS,Gf:()=>Of});var a=y(9765),H=y(5319),G=y(7574),ie=y(6682),V=y(8819);function oe(u){for(let l in u)if(u[l]===oe)return l;throw Error("Could not find renamed property on target object.")}function J(u,l){for(const d in l)l.hasOwnProperty(d)&&!u.hasOwnProperty(d)&&(u[d]=l[d])}function K(u){if("string"==typeof u)return u;if(Array.isArray(u))return"["+u.map(K).join(", ")+"]";if(null==u)return""+u;if(u.overriddenName)return`${u.overriddenName}`;if(u.name)return`${u.name}`;const l=u.toString();if(null==l)return""+l;const d=l.indexOf("\n");return-1===d?l:l.substring(0,d)}function he(u,l){return null==u||""===u?null===l?"":l:null==l||""===l?u:u+" "+l}const U=oe({__forward_ref__:oe});function X(u){return u.__forward_ref__=X,u.toString=function(){return K(this())},u}function D(u){return te(u)?u():u}function te(u){return"function"==typeof u&&u.hasOwnProperty(U)&&u.__forward_ref__===X}class re extends Error{constructor(l,d){super(function(u,l){return`${u?`NG0${u}: `:""}${l}`}(l,d)),this.code=l}}function E(u){return"string"==typeof u?u:null==u?"":String(u)}function B(u){return"function"==typeof u?u.name||u.toString():"object"==typeof u&&null!=u&&"function"==typeof u.type?u.type.name||u.type.toString():E(u)}function se(u,l){const d=l?` in ${l}`:"";throw new re("201",`No provider for ${B(u)} found${d}`)}function Z(u,l){null==u&&function(u,l,d,h){throw new Error(`ASSERTION ERROR: ${u}`+(null==h?"":` [Expected=> ${d} ${h} ${l} <=Actual]`))}(l,u,null,"!=")}function ge(u){return{token:u.token,providedIn:u.providedIn||null,factory:u.factory,value:void 0}}function Ce(u){return{providers:u.providers||[],imports:u.imports||[]}}function Re(u){return xe(u,Ke)||xe(u,Ne)}function xe(u,l){return u.hasOwnProperty(l)?u[l]:null}function Ze(u){return u&&(u.hasOwnProperty(et)||u.hasOwnProperty(He))?u[et]:null}const Ke=oe({\u0275prov:oe}),et=oe({\u0275inj:oe}),Ne=oe({ngInjectableDef:oe}),He=oe({ngInjectorDef:oe});var be=(()=>((be=be||{})[be.Default=0]="Default",be[be.Host=1]="Host",be[be.Self=2]="Self",be[be.SkipSelf=4]="SkipSelf",be[be.Optional=8]="Optional",be))();let Ie;function at(u){const l=Ie;return Ie=u,l}function ot(u,l,d){const h=Re(u);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:d&be.Optional?null:void 0!==l?l:void se(K(u),"Injector")}function lt(u){return{toString:u}.toString()}var tt=(()=>((tt=tt||{})[tt.OnPush=0]="OnPush",tt[tt.Default=1]="Default",tt))(),qe=(()=>((qe=qe||{})[qe.Emulated=0]="Emulated",qe[qe.None=2]="None",qe[qe.ShadowDom=3]="ShadowDom",qe))();const ft="undefined"!=typeof globalThis&&globalThis,gt="undefined"!=typeof window&&window,Tt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ve="undefined"!=typeof global&&global,$e=ft||Ve||gt||Tt,Ae={},De=[],Be=oe({\u0275cmp:oe}),Je=oe({\u0275dir:oe}),Qe=oe({\u0275pipe:oe}),St=oe({\u0275mod:oe}),Ft=oe({\u0275loc:oe}),zt=oe({\u0275fac:oe}),rn=oe({__NG_ELEMENT_ID__:oe});let mn=0;function Mn(u){return lt(()=>{const d={},h={type:u.type,providersResolver:null,decls:u.decls,vars:u.vars,factory:null,template:u.template||null,consts:u.consts||null,ngContentSelectors:u.ngContentSelectors,hostBindings:u.hostBindings||null,hostVars:u.hostVars||0,hostAttrs:u.hostAttrs||null,contentQueries:u.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:u.exportAs||null,onPush:u.changeDetection===tt.OnPush,directiveDefs:null,pipeDefs:null,selectors:u.selectors||De,viewQuery:u.viewQuery||null,features:u.features||null,data:u.data||{},encapsulation:u.encapsulation||qe.Emulated,id:"c",styles:u.styles||De,_:null,setInput:null,schemas:u.schemas||null,tView:null},p=u.directives,m=u.features,_=u.pipes;return h.id+=mn++,h.inputs=ei(u.inputs,d),h.outputs=ei(u.outputs),m&&m.forEach(w=>w(h)),h.directiveDefs=p?()=>("function"==typeof p?p():p).map(Gn):null,h.pipeDefs=_?()=>("function"==typeof _?_():_).map(pr):null,h})}function Gn(u){return Ye(u)||function(u){return u[Je]||null}(u)}function pr(u){return function(u){return u[Qe]||null}(u)}const Xr={};function Si(u){return lt(()=>{const l={type:u.type,bootstrap:u.bootstrap||De,declarations:u.declarations||De,imports:u.imports||De,exports:u.exports||De,transitiveCompileScopes:null,schemas:u.schemas||null,id:u.id||null};return null!=u.id&&(Xr[u.id]=u.type),l})}function fi(u,l){return lt(()=>{const d=st(u,!0);d.declarations=l.declarations||De,d.imports=l.imports||De,d.exports=l.exports||De})}function ei(u,l){if(null==u)return Ae;const d={};for(const h in u)if(u.hasOwnProperty(h)){let p=u[h],m=p;Array.isArray(p)&&(m=p[1],p=p[0]),d[p]=h,l&&(l[p]=m)}return d}const ti=Mn;function pi(u){return{type:u.type,name:u.name,factory:null,pure:!1!==u.pure,onDestroy:u.type.prototype.ngOnDestroy||null}}function Ye(u){return u[Be]||null}function st(u,l){const d=u[St]||null;if(!d&&!0===l)throw new Error(`Type ${K(u)} does not have '\u0275mod' property.`);return d}function Ko(u){return Array.isArray(u)&&"object"==typeof u[1]}function Bi(u){return Array.isArray(u)&&!0===u[1]}function $d(u){return 0!=(8&u.flags)}function Nu(u){return 2==(2&u.flags)}function Xs(u){return 1==(1&u.flags)}function Wi(u){return null!==u.template}function Yi(u){return 0!=(512&u[2])}function _s(u,l){return u.hasOwnProperty(zt)?u[zt]:null}class Bv{constructor(l,d,h){this.previousValue=l,this.currentValue=d,this.firstChange=h}isFirstChange(){return this.firstChange}}function ea(){return Kl}function Kl(u){return u.type.prototype.ngOnChanges&&(u.setInput=Tp),Vv}function Vv(){const u=Xd(this),l=null==u?void 0:u.current;if(l){const d=u.previous;if(d===Ae)u.previous=l;else for(let h in l)d[h]=l[h];u.current=null,this.ngOnChanges(l)}}function Tp(u,l,d,h){const p=Xd(u)||function(u,l){return u[Jd]=l}(u,{previous:Ae,current:null}),m=p.current||(p.current={}),_=p.previous,w=this.declaredInputs[d],k=_[w];m[w]=new Bv(k&&k.currentValue,l,_===Ae),u[h]=l}ea.ngInherit=!0;const Jd="__ngSimpleChanges__";function Xd(u){return u[Jd]||null}const ja="http://www.w3.org/2000/svg";let Jl;function kp(u){Jl=u}function Qn(u){return!!u.listen}const za={createRenderer:(u,l)=>void 0!==Jl?Jl:"undefined"!=typeof document?document:void 0};function Kn(u){for(;Array.isArray(u);)u=u[0];return u}function bs(u,l){return Kn(l[u])}function ni(u,l){return Kn(l[u.index])}function th(u,l){return u.data[l]}function ws(u,l){return u[l]}function Ei(u,l){const d=l[u];return Ko(d)?d:d[0]}function Ip(u){return 4==(4&u[2])}function Uu(u){return 128==(128&u[2])}function Cs(u,l){return null==l?null:u[l]}function nh(u){u[18]=0}function rh(u,l){u[5]+=l;let d=u,h=u[3];for(;null!==h&&(1===l&&1===d[5]||-1===l&&0===d[5]);)h[5]+=l,d=h,h=h[3]}const dn={lFrame:Ss(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function jv(){return dn.bindingsEnabled}function Et(){return dn.lFrame.lView}function wn(){return dn.lFrame.tView}function na(u){return dn.lFrame.contextLView=u,u[8]}function Jn(){let u=Ya();for(;null!==u&&64===u.type;)u=u.parent;return u}function Ya(){return dn.lFrame.currentTNode}function ri(u,l){const d=dn.lFrame;d.currentTNode=u,d.isParent=l}function Ki(){return dn.lFrame.isParent}function Za(){dn.lFrame.isParent=!1}function Hu(){return dn.isInCheckNoChangesMode}function nc(u){dn.isInCheckNoChangesMode=u}function ur(){const u=dn.lFrame;let l=u.bindingRootIndex;return-1===l&&(l=u.bindingRootIndex=u.tView.bindingStartIndex),l}function Ji(){return dn.lFrame.bindingIndex}function Jo(){return dn.lFrame.bindingIndex++}function Xi(u){const l=dn.lFrame,d=l.bindingIndex;return l.bindingIndex=l.bindingIndex+u,d}function Fp(u,l){const d=dn.lFrame;d.bindingIndex=d.bindingRootIndex=u,oh(l)}function oh(u){dn.lFrame.currentDirectiveIndex=u}function rc(u){const l=dn.lFrame.currentDirectiveIndex;return-1===l?null:u[l]}function Lp(){return dn.lFrame.currentQueryIndex}function Gu(u){dn.lFrame.currentQueryIndex=u}function ra(u){const l=u[1];return 2===l.type?l.declTNode:1===l.type?u[6]:null}function ic(u,l,d){if(d&be.SkipSelf){let p=l,m=u;for(;!(p=p.parent,null!==p||d&be.Host||(p=ra(m),null===p||(m=m[15],10&p.type))););if(null===p)return!1;l=p,u=m}const h=dn.lFrame=Xo();return h.currentTNode=l,h.lView=u,!0}function ju(u){const l=Xo(),d=u[1];dn.lFrame=l,l.currentTNode=d.firstChild,l.lView=u,l.tView=d,l.contextLView=u,l.bindingIndex=d.bindingStartIndex,l.inI18n=!1}function Xo(){const u=dn.lFrame,l=null===u?null:u.child;return null===l?Ss(u):l}function Ss(u){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:u,child:null,inI18n:!1};return null!==u&&(u.child=l),l}function As(){const u=dn.lFrame;return dn.lFrame=u.parent,u.currentTNode=null,u.lView=null,u}const zu=As;function Qa(){const u=As();u.isParent=!0,u.tView=null,u.selectedIndex=-1,u.contextLView=null,u.elementDepthCount=0,u.currentDirectiveIndex=-1,u.currentNamespace=null,u.bindingRootIndex=-1,u.bindingIndex=-1,u.currentQueryIndex=0}function Ur(){return dn.lFrame.selectedIndex}function es(u){dn.lFrame.selectedIndex=u}function rr(){const u=dn.lFrame;return th(u.tView,u.selectedIndex)}function Bp(){dn.lFrame.currentNamespace=ja}function oc(u,l){for(let d=l.directiveStart,h=l.directiveEnd;d<h;d++){const m=u.data[d].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:w,ngAfterViewInit:k,ngAfterViewChecked:le,ngOnDestroy:me}=m;_&&(u.contentHooks||(u.contentHooks=[])).push(-d,_),w&&((u.contentHooks||(u.contentHooks=[])).push(d,w),(u.contentCheckHooks||(u.contentCheckHooks=[])).push(d,w)),k&&(u.viewHooks||(u.viewHooks=[])).push(-d,k),le&&((u.viewHooks||(u.viewHooks=[])).push(d,le),(u.viewCheckHooks||(u.viewCheckHooks=[])).push(d,le)),null!=me&&(u.destroyHooks||(u.destroyHooks=[])).push(d,me)}}function Ja(u,l,d){Hp(u,l,3,d)}function sc(u,l,d,h){(3&u[2])===d&&Hp(u,l,d,h)}function qu(u,l){let d=u[2];(3&d)===l&&(d&=2047,d+=1,u[2]=d)}function Hp(u,l,d,h){const m=null!=h?h:-1,_=l.length-1;let w=0;for(let k=void 0!==h?65535&u[18]:0;k<_;k++)if("number"==typeof l[k+1]){if(w=l[k],null!=h&&w>=h)break}else l[k]<0&&(u[18]+=65536),(w<m||-1==m)&&(Gp(u,d,l,k),u[18]=(4294901760&u[18])+k+2),k++}function Gp(u,l,d,h){const p=d[h]<0,m=d[h+1],w=u[p?-d[h]:d[h]];if(p){if(u[2]>>11<u[18]>>16&&(3&u[2])===l){u[2]+=2048;try{m.call(w)}finally{}}}else try{m.call(w)}finally{}}class oa{constructor(l,d,h){this.factory=l,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=h}}function uc(u,l,d){const h=Qn(u);let p=0;for(;p<d.length;){const m=d[p];if("number"==typeof m){if(0!==m)break;p++;const _=d[p++],w=d[p++],k=d[p++];h?u.setAttribute(l,w,k,_):l.setAttributeNS(_,w,k)}else{const _=m,w=d[++p];Ao(_)?h&&u.setProperty(l,_,w):h?u.setAttribute(l,_,w):l.setAttribute(_,w),p++}}return p}function jp(u){return 3===u||4===u||6===u}function Ao(u){return 64===u.charCodeAt(0)}function lc(u,l){if(null!==l&&0!==l.length)if(null===u||0===u.length)u=l.slice();else{let d=-1;for(let h=0;h<l.length;h++){const p=l[h];"number"==typeof p?d=p:0===d||zp(u,d,p,null,-1===d||2===d?l[++h]:null)}}return u}function zp(u,l,d,h,p){let m=0,_=u.length;if(-1===l)_=-1;else for(;m<u.length;){const w=u[m++];if("number"==typeof w){if(w===l){_=-1;break}if(w>l){_=m-1;break}}}for(;m<u.length;){const w=u[m];if("number"==typeof w)break;if(w===d){if(null===h)return void(null!==p&&(u[m+1]=p));if(h===u[m+1])return void(u[m+2]=p)}m++,null!==h&&m++,null!==p&&m++}-1!==_&&(u.splice(_,0,l),m=_+1),u.splice(m++,0,d),null!==h&&u.splice(m++,0,h),null!==p&&u.splice(m++,0,p)}function cc(u){return-1!==u}function Eo(u){return 32767&u}function b(u,l){let d=function(u){return u>>16}(u),h=l;for(;d>0;)h=h[15],d--;return h}let q=!0;function _e(u){const l=q;return q=u,l}let Nt=0;function vn(u,l){const d=Xt(u,l);if(-1!==d)return d;const h=l[1];h.firstCreatePass&&(u.injectorIndex=l.length,Wn(h.data,u),Wn(l,null),Wn(h.blueprint,null));const p=Lt(u,l),m=u.injectorIndex;if(cc(p)){const _=Eo(p),w=b(p,l),k=w[1].data;for(let le=0;le<8;le++)l[m+le]=w[_+le]|k[_+le]}return l[m+8]=p,m}function Wn(u,l){u.push(0,0,0,0,0,0,0,0,l)}function Xt(u,l){return-1===u.injectorIndex||u.parent&&u.parent.injectorIndex===u.injectorIndex||null===l[u.injectorIndex+8]?-1:u.injectorIndex}function Lt(u,l){if(u.parent&&-1!==u.parent.injectorIndex)return u.parent.injectorIndex;let d=0,h=null,p=l;for(;null!==p;){const m=p[1],_=m.type;if(h=2===_?m.declTNode:1===_?p[6]:null,null===h)return-1;if(d++,p=p[15],-1!==h.injectorIndex)return h.injectorIndex|d<<16}return-1}function Vt(u,l,d){!function(u,l,d){let h;"string"==typeof d?h=d.charCodeAt(0)||0:d.hasOwnProperty(rn)&&(h=d[rn]),null==h&&(h=d[rn]=Nt++);const p=255&h;l.data[u+(p>>5)]|=1<<p}(u,l,d)}function Hr(u,l,d){if(d&be.Optional)return u;se(l,"NodeInjector")}function To(u,l,d,h){if(d&be.Optional&&void 0===h&&(h=null),0==(d&(be.Self|be.Host))){const p=u[9],m=at(void 0);try{return p?p.get(l,h,d&be.Optional):ot(l,h,d&be.Optional)}finally{at(m)}}return Hr(h,l,d)}function Sr(u,l,d,h=be.Default,p){if(null!==u){const m=function(u){if("string"==typeof u)return u.charCodeAt(0)||0;const l=u.hasOwnProperty(rn)?u[rn]:void 0;return"number"==typeof l?l>=0?255&l:sa:l}(d);if("function"==typeof m){if(!ic(l,u,h))return h&be.Host?Hr(p,d,h):To(l,d,h,p);try{const _=m(h);if(null!=_||h&be.Optional)return _;se(d)}finally{zu()}}else if("number"==typeof m){let _=null,w=Xt(u,l),k=-1,le=h&be.Host?l[16][6]:null;for((-1===w||h&be.SkipSelf)&&(k=-1===w?Lt(u,l):l[w+8],-1!==k&&Gr(h,!1)?(_=l[1],w=Eo(k),l=b(k,l)):w=-1);-1!==w;){const me=l[1];if(vr(m,w,me.data)){const Se=aa(w,l,d,_,h,le);if(Se!==Zn)return Se}k=l[w+8],-1!==k&&Gr(h,l[1].data[w+8]===le)&&vr(m,w,l)?(_=me,w=Eo(k),l=b(k,l)):w=-1}}}return To(l,d,h,p)}const Zn={};function sa(){return new ts(Jn(),Et())}function aa(u,l,d,h,p,m){const _=l[1],w=_.data[u+8],me=ua(w,_,d,null==h?Nu(w)&&q:h!=_&&0!=(3&w.type),p&be.Host&&m===w);return null!==me?Yn(l,_,me,w):Zn}function ua(u,l,d,h,p){const m=u.providerIndexes,_=l.data,w=1048575&m,k=u.directiveStart,me=m>>20,ke=p?w+me:u.directiveEnd;for(let Ge=h?w:w+me;Ge<ke;Ge++){const Xe=_[Ge];if(Ge<k&&d===Xe||Ge>=k&&Xe.type===d)return Ge}if(p){const Ge=_[k];if(Ge&&Wi(Ge)&&Ge.type===d)return k}return null}function Yn(u,l,d,h){let p=u[d];const m=l.data;if(function(u){return u instanceof oa}(p)){const _=p;_.resolving&&function(u,l){throw new re("200",`Circular dependency in DI detected for ${u}`)}(B(m[d]));const w=_e(_.canSeeViewProviders);_.resolving=!0;const k=_.injectImpl?at(_.injectImpl):null;ic(u,h,be.Default);try{p=u[d]=_.factory(void 0,m,u,h),l.firstCreatePass&&d>=h.directiveStart&&function(u,l,d){const{ngOnChanges:h,ngOnInit:p,ngDoCheck:m}=l.type.prototype;if(h){const _=Kl(l);(d.preOrderHooks||(d.preOrderHooks=[])).push(u,_),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(u,_)}p&&(d.preOrderHooks||(d.preOrderHooks=[])).push(0-u,p),m&&((d.preOrderHooks||(d.preOrderHooks=[])).push(u,m),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(u,m))}(d,m[d],l)}finally{null!==k&&at(k),_e(w),_.resolving=!1,zu()}}return p}function vr(u,l,d){return!!(d[l+(u>>5)]&1<<u)}function Gr(u,l){return!(u&be.Self||u&be.Host&&l)}class ts{constructor(l,d){this._tNode=l,this._lView=d}get(l,d){return Sr(this._tNode,this._lView,l,void 0,d)}}function qp(u){return lt(()=>{const l=u.prototype.constructor,d=l[zt]||Qv(l),h=Object.prototype;let p=Object.getPrototypeOf(u.prototype).constructor;for(;p&&p!==h;){const m=p[zt]||Qv(p);if(m&&m!==d)return m;p=Object.getPrototypeOf(p)}return m=>new m})}function Qv(u){return te(u)?()=>{const l=Qv(D(u));return l&&l()}:_s(u)}function _w(u){return function(u,l){if("class"===l)return u.classes;if("style"===l)return u.styles;const d=u.attrs;if(d){const h=d.length;let p=0;for(;p<h;){const m=d[p];if(jp(m))break;if(0===m)p+=2;else if("number"==typeof m)for(p++;p<h&&"string"==typeof d[p];)p++;else{if(m===l)return d[p+1];p+=2}}}return null}(Jn(),u)}const ca="__parameters__";function da(u,l,d){return lt(()=>{const h=function(u){return function(...d){if(u){const h=u(...d);for(const p in h)this[p]=h[p]}}}(l);function p(...m){if(this instanceof p)return h.apply(this,m),this;const _=new p(...m);return w.annotation=_,w;function w(k,le,me){const Se=k.hasOwnProperty(ca)?k[ca]:Object.defineProperty(k,ca,{value:[]})[ca];for(;Se.length<=me;)Se.push(null);return(Se[me]=Se[me]||[]).push(_),k}}return d&&(p.prototype=Object.create(d.prototype)),p.prototype.ngMetadataName=u,p.annotationCls=p,p})}class cr{constructor(l,d){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=ge({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}toString(){return`InjectionToken ${this._desc}`}}const $I=new cr("AnalyzeForEntryComponents"),Yp=Function;function Mo(u,l){void 0===l&&(l=u);for(let d=0;d<u.length;d++){let h=u[d];Array.isArray(h)?(l===u&&(l=u.slice(0,d)),Mo(h,l)):l!==u&&l.push(h)}return l}function Ts(u,l){u.forEach(d=>Array.isArray(d)?Ts(d,l):l(d))}function hh(u,l,d){l>=u.length?u.push(d):u.splice(l,0,d)}function Zu(u,l){return l>=u.length-1?u.pop():u.splice(l,1)[0]}function eu(u,l){const d=[];for(let h=0;h<u;h++)d.push(l);return d}function Pr(u,l,d){let h=hc(u,l);return h>=0?u[1|h]=d:(h=~h,function(u,l,d,h){let p=u.length;if(p==l)u.push(d,h);else if(1===p)u.push(h,u[0]),u[0]=d;else{for(p--,u.push(u[p-1],u[p]);p>l;)u[p]=u[p-2],p--;u[l]=d,u[l+1]=h}}(u,h,l,d)),h}function Or(u,l){const d=hc(u,l);if(d>=0)return u[1|d]}function hc(u,l){return function(u,l,d){let h=0,p=u.length>>d;for(;p!==h;){const m=h+(p-h>>1),_=u[m<<d];if(l===_)return m<<d;_>l?p=m:h=m+1}return~(p<<d)}(u,l,1)}const ph={},ny="__NG_DI_FLAG__",pc="ngTempTokenPath",Aw=/\n/gm,ry="__source",iy=oe({provide:String,useValue:oe});let gc;function yn(u){const l=gc;return gc=u,l}function FD(u,l=be.Default){if(void 0===gc)throw new Error("inject() must be called from an injection context");return null===gc?ot(u,void 0,l):gc.get(u,l&be.Optional?null:void 0,l)}function Xn(u,l=be.Default){return(Ie||FD)(D(u),l)}const sy=Xn;function $u(u){const l=[];for(let d=0;d<u.length;d++){const h=D(u[d]);if(Array.isArray(h)){if(0===h.length)throw new Error("Arguments array must have arguments.");let p,m=be.Default;for(let _=0;_<h.length;_++){const w=h[_],k=LD(w);"number"==typeof k?-1===k?p=w.token:m|=k:p=w}l.push(Xn(p,m))}else l.push(Xn(h))}return l}function gh(u,l){return u[ny]=l,u.prototype[ny]=l,u}function LD(u){return u[ny]}function rs(u,l,d,h){const p=u[pc];throw l[ry]&&p.unshift(l[ry]),u.message=function(u,l,d,h=null){u=u&&"\n"===u.charAt(0)&&"\u0275"==u.charAt(1)?u.substr(2):u;let p=K(l);if(Array.isArray(l))p=l.map(K).join(" -> ");else if("object"==typeof l){let m=[];for(let _ in l)if(l.hasOwnProperty(_)){let w=l[_];m.push(_+":"+("string"==typeof w?JSON.stringify(w):K(w)))}p=`{${m.join(", ")}}`}return`${d}${h?"("+h+")":""}[${p}]: ${u.replace(Aw,"\n  ")}`}("\n"+u.message,p,d,h),u.ngTokenPath=p,u[pc]=null,u}const Qu=gh(da("Inject",u=>({token:u})),-1),tu=gh(da("Optional"),8),ii=gh(da("SkipSelf"),4);let yh;function fa(u){var l;return(null===(l=function(){if(void 0===yh&&(yh=null,$e.trustedTypes))try{yh=$e.trustedTypes.createPolicy("angular",{createHTML:u=>u,createScript:u=>u,createScriptURL:u=>u})}catch(u){}return yh}())||void 0===l?void 0:l.createHTML(u))||u}class Xu{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class HD extends Xu{getTypeName(){return"HTML"}}class GD extends Xu{getTypeName(){return"Style"}}class Jp extends Xu{getTypeName(){return"Script"}}class jD extends Xu{getTypeName(){return"URL"}}class zD extends Xu{getTypeName(){return"ResourceURL"}}function pa(u){return u instanceof Xu?u.changingThisBreaksApplicationSecurity:u}function yc(u,l){const d=kw(u);if(null!=d&&d!==l){if("ResourceURL"===d&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${d} (see https://g.co/ng/security#xss)`)}return d===l}function kw(u){return u instanceof Xu&&u.getTypeName()||null}function Rw(u){return new HD(u)}function fy(u){return new GD(u)}function py(u){return new Jp(u)}function ga(u){return new jD(u)}function Ch(u){return new zD(u)}class xw{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const d=(new window.DOMParser).parseFromString(fa(l),"text/html").body;return null===d?this.inertDocumentHelper.getInertBodyElement(l):(d.removeChild(d.firstChild),d)}catch(d){return null}}}class qD{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const d=this.inertDocument.createElement("html");this.inertDocument.appendChild(d);const h=this.inertDocument.createElement("body");d.appendChild(h)}}getInertBodyElement(l){const d=this.inertDocument.createElement("template");if("content"in d)return d.innerHTML=fa(l),d;const h=this.inertDocument.createElement("body");return h.innerHTML=fa(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(l){const d=l.attributes;for(let p=d.length-1;0<p;p--){const _=d.item(p).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&l.removeAttribute(_)}let h=l.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const Iw=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Xp=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function bc(u){return(u=String(u)).match(Iw)||u.match(Xp)?u:"unsafe:"+u}function is(u){const l={};for(const d of u.split(","))l[d]=!0;return l}function el(...u){const l={};for(const d of u)for(const h in d)d.hasOwnProperty(h)&&(l[h]=!0);return l}const tg=is("area,br,col,hr,img,wbr"),Pw=is("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Sh=is("rp,rt"),my=el(tg,el(Pw,is("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),el(Sh,is("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),el(Sh,Pw)),wc=is("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),tl=is("srcset"),vy=el(wc,tl,is("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),is("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ZD=is("script,style,template");class yy{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let d=l.firstChild,h=!0;for(;d;)if(d.nodeType===Node.ELEMENT_NODE?h=this.startElement(d):d.nodeType===Node.TEXT_NODE?this.chars(d.nodeValue):this.sanitizedSomething=!0,h&&d.firstChild)d=d.firstChild;else for(;d;){d.nodeType===Node.ELEMENT_NODE&&this.endElement(d);let p=this.checkClobberedElement(d,d.nextSibling);if(p){d=p;break}d=this.checkClobberedElement(d,d.parentNode)}return this.buf.join("")}startElement(l){const d=l.nodeName.toLowerCase();if(!my.hasOwnProperty(d))return this.sanitizedSomething=!0,!ZD.hasOwnProperty(d);this.buf.push("<"),this.buf.push(d);const h=l.attributes;for(let p=0;p<h.length;p++){const m=h.item(p),_=m.name,w=_.toLowerCase();if(!vy.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let k=m.value;wc[w]&&(k=bc(k)),tl[w]&&(u=k,k=(u=String(u)).split(",").map(l=>bc(l.trim())).join(", ")),this.buf.push(" ",_,'="',Fw(k),'"')}var u;return this.buf.push(">"),!0}endElement(l){const d=l.nodeName.toLowerCase();my.hasOwnProperty(d)&&!tg.hasOwnProperty(d)&&(this.buf.push("</"),this.buf.push(d),this.buf.push(">"))}chars(l){this.buf.push(Fw(l))}checkClobberedElement(l,d){if(d&&(l.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return d}}const $D=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,QD=/([^\#-~ |!])/g;function Fw(u){return u.replace(/&/g,"&amp;").replace($D,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(QD,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ah;function Eh(u,l){let d=null;try{Ah=Ah||function(u){const l=new qD(u);return function(){try{return!!(new window.DOMParser).parseFromString(fa(""),"text/html")}catch(u){return!1}}()?new xw(l):l}(u);let h=l?String(l):"";d=Ah.getInertBodyElement(h);let p=5,m=h;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,h=m,m=d.innerHTML,d=Ah.getInertBodyElement(h)}while(h!==m);return fa((new yy).sanitizeChildren(_y(d)||d))}finally{if(d){const h=_y(d)||d;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function _y(u){return"content"in u&&function(u){return u.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===u.nodeName}(u)?u.content:null}var dr=(()=>((dr=dr||{})[dr.NONE=0]="NONE",dr[dr.HTML=1]="HTML",dr[dr.STYLE=2]="STYLE",dr[dr.SCRIPT=3]="SCRIPT",dr[dr.URL=4]="URL",dr[dr.RESOURCE_URL=5]="RESOURCE_URL",dr))();function wy(u){const l=function(){const u=Et();return u&&u[12]}();return l?l.sanitize(dr.URL,u)||"":yc(u,"URL")?pa(u):bc(E(u))}const Ac="__ngContext__";function oi(u,l){u[Ac]=l}function Ay(u){const l=function(u){return u[Ac]||null}(u);return l?Array.isArray(l)?l:l.lView:null}function nl(u){return u.ngOriginalError}function rM(u,...l){u.error(...l)}class Dc{constructor(){this._console=console}handleError(l){const d=this._findOriginalError(l),h=this._findContext(l),p=(u=l)&&u.ngErrorLogger||rM;var u;p(this._console,"ERROR",l),d&&p(this._console,"ORIGINAL ERROR",d),h&&p(this._console,"ERROR CONTEXT",h)}_findContext(l){return l?l.ngDebugContext||this._findContext(nl(l)):null}_findOriginalError(l){let d=l&&nl(l);for(;d&&nl(d);)d=nl(d);return d||null}}const Ww=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind($e))();function Yw(u){return u.ownerDocument.defaultView}function Ds(u){return u instanceof Function?u():u}var Ms=(()=>((Ms=Ms||{})[Ms.Important=1]="Important",Ms[Ms.DashCase=2]="DashCase",Ms))();function sg(u,l){return undefined(u,l)}function Rh(u){const l=u[3];return Bi(l)?l[3]:l}function ag(u){return xy(u[13])}function Jw(u){return xy(u[4])}function xy(u){for(;null!==u&&!Bi(u);)u=u[4];return u}function rl(u,l,d,h,p){if(null!=h){let m,_=!1;Bi(h)?m=h:Ko(h)&&(_=!0,h=h[0]);const w=Kn(h);0===u&&null!==d?null==p?rC(l,d,w):iu(l,d,w,p||null,!0):1===u&&null!==d?iu(l,d,w,p||null,!0):2===u?function(u,l,d){const h=dg(u,l);h&&function(u,l,d,h){Qn(u)?u.removeChild(l,d,h):l.removeChild(d)}(u,h,l,d)}(l,w,_):3===u&&l.destroyNode(w),null!=m&&function(u,l,d,h,p){const m=d[7];m!==Kn(d)&&rl(l,u,h,m,p);for(let w=10;w<d.length;w++){const k=d[w];gg(k[1],k,u,l,h,m)}}(l,u,m,d,p)}}function Iy(u,l,d){return Qn(u)?u.createElement(l,d):null===d?u.createElement(l):u.createElementNS(d,l)}function lg(u,l){const d=u[9],h=d.indexOf(l),p=l[3];1024&l[2]&&(l[2]&=-1025,rh(p,-1)),d.splice(h,1)}function cg(u,l){if(u.length<=10)return;const d=10+l,h=u[d];if(h){const p=h[17];null!==p&&p!==u&&lg(p,h),l>0&&(u[d-1][4]=h[4]);const m=Zu(u,10+l);!function(u,l){gg(u,l,l[11],2,null,null),l[0]=null,l[6]=null}(h[1],h);const _=m[19];null!==_&&_.detachView(m[1]),h[3]=null,h[4]=null,h[2]&=-129}return h}function eC(u,l){if(!(256&l[2])){const d=l[11];Qn(d)&&d.destroyNode&&gg(u,l,d,3,null,null),function(u){let l=u[13];if(!l)return ru(u[1],u);for(;l;){let d=null;if(Ko(l))d=l[13];else{const h=l[10];h&&(d=h)}if(!d){for(;l&&!l[4]&&l!==u;)Ko(l)&&ru(l[1],l),l=l[3];null===l&&(l=u),Ko(l)&&ru(l[1],l),d=l&&l[4]}l=d}}(l)}}function ru(u,l){if(!(256&l[2])){l[2]&=-129,l[2]|=256,function(u,l){let d;if(null!=u&&null!=(d=u.destroyHooks))for(let h=0;h<d.length;h+=2){const p=l[d[h]];if(!(p instanceof oa)){const m=d[h+1];if(Array.isArray(m))for(let _=0;_<m.length;_+=2){const w=p[m[_]],k=m[_+1];try{k.call(w)}finally{}}else try{m.call(p)}finally{}}}}(u,l),function(u,l){const d=u.cleanup,h=l[7];let p=-1;if(null!==d)for(let m=0;m<d.length-1;m+=2)if("string"==typeof d[m]){const _=d[m+1],w="function"==typeof _?_(l):Kn(l[_]),k=h[p=d[m+2]],le=d[m+3];"boolean"==typeof le?w.removeEventListener(d[m],k,le):le>=0?h[p=le]():h[p=-le].unsubscribe(),m+=2}else{const _=h[p=d[m+1]];d[m].call(_)}if(null!==h){for(let m=p+1;m<h.length;m++)h[m]();l[7]=null}}(u,l),1===l[1].type&&Qn(l[11])&&l[11].destroy();const d=l[17];if(null!==d&&Bi(l[3])){d!==l[3]&&lg(d,l);const h=l[19];null!==h&&h.detachView(u)}}}function tC(u,l,d){return function(u,l,d){let h=l;for(;null!==h&&40&h.type;)h=(l=h).parent;if(null===h)return d[0];if(2&h.flags){const p=u.data[h.directiveStart].encapsulation;if(p===qe.None||p===qe.Emulated)return null}return ni(h,d)}(u,l.parent,d)}function iu(u,l,d,h,p){Qn(u)?u.insertBefore(l,d,h,p):l.insertBefore(d,h,p)}function rC(u,l,d){Qn(u)?u.appendChild(l,d):l.appendChild(d)}function iC(u,l,d,h,p){null!==h?iu(u,l,d,h,p):rC(u,l,d)}function dg(u,l){return Qn(u)?u.parentNode(l):l.parentNode}function xh(u,l,d){return Ih(u,l,d)}let Ih=function(u,l,d){return 40&u.type?ni(u,d):null};function fg(u,l,d,h){const p=tC(u,h,l),m=l[11],w=xh(h.parent||l[6],h,l);if(null!=p)if(Array.isArray(d))for(let k=0;k<d.length;k++)iC(m,p,d[k],w,!1);else iC(m,p,d,w,!1)}function Ph(u,l){if(null!==l){const d=l.type;if(3&d)return ni(l,u);if(4&d)return pg(-1,u[l.index]);if(8&d){const h=l.child;if(null!==h)return Ph(u,h);{const p=u[l.index];return Bi(p)?pg(-1,p):Kn(p)}}if(32&d)return sg(l,u)()||Kn(u[l.index]);{const h=oC(u,l);return null!==h?Array.isArray(h)?h[0]:Ph(Rh(u[16]),h):Ph(u,l.next)}}return null}function oC(u,l){return null!==l?u[16][6].projection[l.projection]:null}function pg(u,l){const d=10+u+1;if(d<l.length){const h=l[d],p=h[1].firstChild;if(null!==p)return Ph(h,p)}return l[7]}function Oh(u,l,d,h,p,m,_){for(;null!=d;){const w=h[d.index],k=d.type;if(_&&0===l&&(w&&oi(Kn(w),h),d.flags|=4),64!=(64&d.flags))if(8&k)Oh(u,l,d.child,h,p,m,!1),rl(l,u,p,w,m);else if(32&k){const le=sg(d,h);let me;for(;me=le();)rl(l,u,p,me,m);rl(l,u,p,w,m)}else 16&k?Ly(u,l,h,d,p,m):rl(l,u,p,w,m);d=_?d.projectionNext:d.next}}function gg(u,l,d,h,p,m){Oh(d,h,u.firstChild,l,p,m,!1)}function Ly(u,l,d,h,p,m){const _=d[16],k=_[6].projection[h.projection];if(Array.isArray(k))for(let le=0;le<k.length;le++)rl(l,u,p,k[le],m);else Oh(u,l,k,_[3],p,m,!0)}function sC(u,l,d){Qn(u)?u.setAttribute(l,"style",d):l.style.cssText=d}function mg(u,l,d){Qn(u)?""===d?u.removeAttribute(l,"class"):u.setAttribute(l,"class",d):l.className=d}function aC(u,l,d){let h=u.length;for(;;){const p=u.indexOf(l,d);if(-1===p)return p;if(0===p||u.charCodeAt(p-1)<=32){const m=l.length;if(p+m===h||u.charCodeAt(p+m)<=32)return p}d=p+1}}const uC="ng-template";function lC(u,l,d){let h=0;for(;h<u.length;){let p=u[h++];if(d&&"class"===p){if(p=u[h],-1!==aC(p.toLowerCase(),l,0))return!0}else if(1===p){for(;h<u.length&&"string"==typeof(p=u[h++]);)if(p.toLowerCase()===l)return!0;return!1}}return!1}function cC(u){return 4===u.type&&u.value!==uC}function CM(u,l,d){return l===(4!==u.type||d?u.value:uC)}function SM(u,l,d){let h=4;const p=u.attrs||[],m=function(u){for(let l=0;l<u.length;l++)if(jp(u[l]))return l;return u.length}(p);let _=!1;for(let w=0;w<l.length;w++){const k=l[w];if("number"!=typeof k){if(!_)if(4&h){if(h=2|1&h,""!==k&&!CM(u,k,d)||""===k&&1===l.length){if(no(h))return!1;_=!0}}else{const le=8&h?k:l[++w];if(8&h&&null!==u.attrs){if(!lC(u.attrs,le,d)){if(no(h))return!1;_=!0}continue}const Se=AM(8&h?"class":k,p,cC(u),d);if(-1===Se){if(no(h))return!1;_=!0;continue}if(""!==le){let ke;ke=Se>m?"":p[Se+1].toLowerCase();const Ge=8&h?ke:null;if(Ge&&-1!==aC(Ge,le,0)||2&h&&le!==ke){if(no(h))return!1;_=!0}}}}else{if(!_&&!no(h)&&!no(k))return!1;if(_&&no(k))continue;_=!1,h=k|1&h}}return no(h)||_}function no(u){return 0==(1&u)}function AM(u,l,d,h){if(null===l)return-1;let p=0;if(h||!d){let m=!1;for(;p<l.length;){const _=l[p];if(_===u)return p;if(3===_||6===_)m=!0;else{if(1===_||2===_){let w=l[++p];for(;"string"==typeof w;)w=l[++p];continue}if(4===_)break;if(0===_){p+=4;continue}}p+=m?1:2}return-1}return function(u,l){let d=u.indexOf(4);if(d>-1)for(d++;d<u.length;){const h=u[d];if("number"==typeof h)return-1;if(h===l)return d;d++}return-1}(l,u)}function dC(u,l,d=!1){for(let h=0;h<l.length;h++)if(SM(u,l[h],d))return!0;return!1}function fC(u,l){e:for(let d=0;d<l.length;d++){const h=l[d];if(u.length===h.length){for(let p=0;p<u.length;p++)if(u[p]!==h[p])continue e;return!0}}return!1}function TM(u,l){return u?":not("+l.trim()+")":l}function Ny(u){let l=u[0],d=1,h=2,p="",m=!1;for(;d<u.length;){let _=u[d];if("string"==typeof _)if(2&h){const w=u[++d];p+="["+_+(w.length>0?'="'+w+'"':"")+"]"}else 8&h?p+="."+_:4&h&&(p+=" "+_);else""!==p&&!no(_)&&(l+=TM(m,p),p=""),h=_,m=m||!no(h);d++}return""!==p&&(l+=TM(m,p)),l}const hn={};function gC(u){mC(wn(),Et(),Ur()+u,Hu())}function mC(u,l,d,h){if(!h)if(3==(3&l[2])){const m=u.preOrderCheckHooks;null!==m&&Ja(l,m,d)}else{const m=u.preOrderHooks;null!==m&&sc(l,m,0,d)}es(d)}function vg(u,l){return u<<17|l<<2}function Rs(u){return u>>17&32767}function Fh(u){return 2|u}function ou(u){return(131068&u)>>2}function vC(u,l){return-131069&u|l<<2}function By(u){return 1|u}function FM(u,l){const d=u.contentQueries;if(null!==d)for(let h=0;h<d.length;h+=2){const p=d[h],m=d[h+1];if(-1!==m){const _=u.data[m];Gu(p),_.contentQueries(2,l[m],m)}}}function _g(u,l,d,h,p,m,_,w,k,le){const me=l.blueprint.slice();return me[0]=p,me[2]=140|h,nh(me),me[3]=me[15]=u,me[8]=d,me[10]=_||u&&u[10],me[11]=w||u&&u[11],me[12]=k||u&&u[12]||null,me[9]=le||u&&u[9]||null,me[6]=m,me[16]=2==l.type?u[16]:me,me}function Lh(u,l,d,h,p){let m=u.data[l];if(null===m)m=function(u,l,d,h,p){const m=Ya(),_=Ki(),k=u.data[l]=function(u,l,d,h,p,m){return{type:d,index:h,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?m:m&&m.parent,d,l,h,p);return null===u.firstChild&&(u.firstChild=k),null!==m&&(_?null==m.child&&null!==k.parent&&(m.child=k):null===m.next&&(m.next=k)),k}(u,l,d,h,p),dn.lFrame.inI18n&&(m.flags|=64);else if(64&m.type){m.type=d,m.value=h,m.attrs=p;const _=function(){const u=dn.lFrame,l=u.currentTNode;return u.isParent?l:l.parent}();m.injectorIndex=null===_?-1:_.injectorIndex}return ri(m,!0),m}function kc(u,l,d,h){if(0===d)return-1;const p=l.length;for(let m=0;m<d;m++)l.push(h),u.blueprint.push(h),u.data.push(null);return p}function bg(u,l,d){ju(l);try{const h=u.viewQuery;null!==h&&qy(1,h,d);const p=u.template;null!==p&&LM(u,l,p,1,d),u.firstCreatePass&&(u.firstCreatePass=!1),u.staticContentQueries&&FM(u,l),u.staticViewQueries&&qy(2,u.viewQuery,d);const m=u.components;null!==m&&function(u,l){for(let d=0;d<l.length;d++)WP(u,l[d])}(l,m)}catch(h){throw u.firstCreatePass&&(u.incompleteFirstPass=!0,u.firstCreatePass=!1),h}finally{l[2]&=-5,Qa()}}function Nh(u,l,d,h){const p=l[2];if(256==(256&p))return;ju(l);const m=Hu();try{nh(l),function(u){dn.lFrame.bindingIndex=u}(u.bindingStartIndex),null!==d&&LM(u,l,d,2,h);const _=3==(3&p);if(!m)if(_){const le=u.preOrderCheckHooks;null!==le&&Ja(l,le,null)}else{const le=u.preOrderHooks;null!==le&&sc(l,le,0,null),qu(l,0)}if(function(u){for(let l=ag(u);null!==l;l=Jw(l)){if(!l[2])continue;const d=l[9];for(let h=0;h<d.length;h++){const p=d[h],m=p[3];0==(1024&p[2])&&rh(m,1),p[2]|=1024}}}(l),function(u){for(let l=ag(u);null!==l;l=Jw(l))for(let d=10;d<l.length;d++){const h=l[d],p=h[1];Uu(h)&&Nh(p,h,p.template,h[8])}}(l),null!==u.contentQueries&&FM(u,l),!m)if(_){const le=u.contentCheckHooks;null!==le&&Ja(l,le)}else{const le=u.contentHooks;null!==le&&sc(l,le,1),qu(l,1)}!function(u,l){const d=u.hostBindingOpCodes;if(null!==d)try{for(let h=0;h<d.length;h++){const p=d[h];if(p<0)es(~p);else{const m=p,_=d[++h],w=d[++h];Fp(_,m),w(2,l[m])}}}finally{es(-1)}}(u,l);const w=u.components;null!==w&&function(u,l){for(let d=0;d<l.length;d++)qP(u,l[d])}(l,w);const k=u.viewQuery;if(null!==k&&qy(2,k,h),!m)if(_){const le=u.viewCheckHooks;null!==le&&Ja(l,le)}else{const le=u.viewHooks;null!==le&&sc(l,le,2),qu(l,2)}!0===u.firstUpdatePass&&(u.firstUpdatePass=!1),m||(l[2]&=-73),1024&l[2]&&(l[2]&=-1025,rh(l[3],-1))}finally{Qa()}}function TP(u,l,d,h){const p=l[10],m=!Hu(),_=Ip(l);try{m&&!_&&p.begin&&p.begin(),_&&bg(u,l,h),Nh(u,l,d,h)}finally{m&&!_&&p.end&&p.end()}}function LM(u,l,d,h,p){const m=Ur(),_=2&h;try{es(-1),_&&l.length>20&&mC(u,l,20,Hu()),d(h,p)}finally{es(m)}}function NM(u,l,d){if($d(l)){const p=l.directiveEnd;for(let m=l.directiveStart;m<p;m++){const _=u.data[m];_.contentQueries&&_.contentQueries(1,d[m],m)}}}function DC(u,l,d){!jv()||(function(u,l,d,h){const p=d.directiveStart,m=d.directiveEnd;u.firstCreatePass||vn(d,l),oi(h,l);const _=d.initialInputs;for(let w=p;w<m;w++){const k=u.data[w],le=Wi(k);le&&UP(l,d,k);const me=Yn(l,u,w,d);oi(me,l),null!==_&&HP(0,w-p,me,k,0,_),le&&(Ei(d.index,l)[8]=me)}}(u,l,d,ni(d,l)),128==(128&d.flags)&&function(u,l,d){const h=d.directiveStart,p=d.directiveEnd,_=d.index,w=dn.lFrame.currentDirectiveIndex;try{es(_);for(let k=h;k<p;k++){const le=u.data[k],me=l[k];oh(k),(null!==le.hostBindings||0!==le.hostVars||null!==le.hostAttrs)&&qM(le,me)}}finally{es(-1),oh(w)}}(u,l,d))}function MC(u,l,d=ni){const h=l.localNames;if(null!==h){let p=l.index+1;for(let m=0;m<h.length;m+=2){const _=h[m+1],w=-1===_?d(l,u):u[_];u[p++]=w}}}function BM(u){const l=u.tView;return null===l||l.incompleteFirstPass?u.tView=jy(1,null,u.template,u.decls,u.vars,u.directiveDefs,u.pipeDefs,u.viewQuery,u.schemas,u.consts):l}function jy(u,l,d,h,p,m,_,w,k,le){const me=20+h,Se=me+p,ke=function(u,l){const d=[];for(let h=0;h<l;h++)d.push(h<u?null:hn);return d}(me,Se),Ge="function"==typeof le?le():le;return ke[1]={type:u,blueprint:ke,template:d,queries:null,viewQuery:w,declTNode:l,data:ke.slice().fill(null,me),bindingStartIndex:me,expandoStartIndex:Se,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:k,consts:Ge,incompleteFirstPass:!1}}function HM(u,l,d,h){const p=PC(l);null===d?p.push(h):(p.push(d),u.firstCreatePass&&Bh(u).push(h,p.length-1))}function GM(u,l,d){for(let h in u)if(u.hasOwnProperty(h)){const p=u[h];(d=null===d?{}:d).hasOwnProperty(h)?d[h].push(l,p):d[h]=[l,p]}return d}function ko(u,l,d,h,p,m,_,w){const k=ni(l,d);let me,le=l.inputs;!w&&null!=le&&(me=le[h])?(Ut(u,d,me,h,p),Nu(l)&&function(u,l){const d=Ei(l,u);16&d[2]||(d[2]|=64)}(d,l.index)):3&l.type&&(h=function(u){return"class"===u?"className":"for"===u?"htmlFor":"formaction"===u?"formAction":"innerHtml"===u?"innerHTML":"readonly"===u?"readOnly":"tabindex"===u?"tabIndex":u}(h),p=null!=_?_(p,l.value||"",h):p,Qn(m)?m.setProperty(k,h,p):Ao(h)||(k.setProperty?k.setProperty(h,p):k[h]=p))}function kC(u,l,d,h){let p=!1;if(jv()){const m=function(u,l,d){const h=u.directiveRegistry;let p=null;if(h)for(let m=0;m<h.length;m++){const _=h[m];dC(d,_.selectors,!1)&&(p||(p=[]),Vt(vn(d,l),u,_.type),Wi(_)?(WM(u,d),p.unshift(_)):p.push(_))}return p}(u,l,d),_=null===h?null:{"":-1};if(null!==m){p=!0,YM(d,u.data.length,m.length);for(let me=0;me<m.length;me++){const Se=m[me];Se.providersResolver&&Se.providersResolver(Se)}let w=!1,k=!1,le=kc(u,l,m.length,null);for(let me=0;me<m.length;me++){const Se=m[me];d.mergedAttrs=lc(d.mergedAttrs,Se.hostAttrs),ZM(u,d,l,le,Se),VP(le,Se,_),null!==Se.contentQueries&&(d.flags|=8),(null!==Se.hostBindings||null!==Se.hostAttrs||0!==Se.hostVars)&&(d.flags|=128);const ke=Se.type.prototype;!w&&(ke.ngOnChanges||ke.ngOnInit||ke.ngDoCheck)&&((u.preOrderHooks||(u.preOrderHooks=[])).push(d.index),w=!0),!k&&(ke.ngOnChanges||ke.ngDoCheck)&&((u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(d.index),k=!0),le++}!function(u,l){const h=l.directiveEnd,p=u.data,m=l.attrs,_=[];let w=null,k=null;for(let le=l.directiveStart;le<h;le++){const me=p[le],Se=me.inputs,ke=null===m||cC(l)?null:GP(Se,m);_.push(ke),w=GM(Se,le,w),k=GM(me.outputs,le,k)}null!==w&&(w.hasOwnProperty("class")&&(l.flags|=16),w.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=_,l.inputs=w,l.outputs=k}(u,d)}_&&function(u,l,d){if(l){const h=u.localNames=[];for(let p=0;p<l.length;p+=2){const m=d[l[p+1]];if(null==m)throw new re("301",`Export of name '${l[p+1]}' not found!`);h.push(l[p],m)}}}(d,h,_)}return d.mergedAttrs=lc(d.mergedAttrs,d.attrs),p}function zM(u,l,d,h,p,m){const _=m.hostBindings;if(_){let w=u.hostBindingOpCodes;null===w&&(w=u.hostBindingOpCodes=[]);const k=~l.index;(function(u){let l=u.length;for(;l>0;){const d=u[--l];if("number"==typeof d&&d<0)return d}return 0})(w)!=k&&w.push(k),w.push(h,p,_)}}function qM(u,l){null!==u.hostBindings&&u.hostBindings(1,l)}function WM(u,l){l.flags|=2,(u.components||(u.components=[])).push(l.index)}function VP(u,l,d){if(d){if(l.exportAs)for(let h=0;h<l.exportAs.length;h++)d[l.exportAs[h]]=u;Wi(l)&&(d[""]=u)}}function YM(u,l,d){u.flags|=1,u.directiveStart=l,u.directiveEnd=l+d,u.providerIndexes=l}function ZM(u,l,d,h,p){u.data[h]=p;const m=p.factory||(p.factory=_s(p.type)),_=new oa(m,Wi(p),null);u.blueprint[h]=_,d[h]=_,zM(u,l,0,h,kc(u,d,p.hostVars,hn),p)}function UP(u,l,d){const h=ni(l,u),p=BM(d),m=u[10],_=zy(u,_g(u,p,null,d.onPush?64:16,h,l,m,m.createRenderer(h,d),null,null));u[l.index]=_}function ma(u,l,d,h,p,m){const _=ni(u,l);!function(u,l,d,h,p,m,_){if(null==m)Qn(u)?u.removeAttribute(l,p,d):l.removeAttribute(p);else{const w=null==_?E(m):_(m,h||"",p);Qn(u)?u.setAttribute(l,p,w,d):d?l.setAttributeNS(d,p,w):l.setAttribute(p,w)}}(l[11],_,m,u.value,d,h,p)}function HP(u,l,d,h,p,m){const _=m[l];if(null!==_){const w=h.setInput;for(let k=0;k<_.length;){const le=_[k++],me=_[k++],Se=_[k++];null!==w?h.setInput(d,Se,le,me):d[me]=Se}}}function GP(u,l){let d=null,h=0;for(;h<l.length;){const p=l[h];if(0!==p)if(5!==p){if("number"==typeof p)break;u.hasOwnProperty(p)&&(null===d&&(d=[]),d.push(p,u[p],l[h+1])),h+=2}else h+=2;else h+=4}return d}function $M(u,l,d,h){return new Array(u,!0,!1,l,null,0,h,d,null,null)}function qP(u,l){const d=Ei(l,u);if(Uu(d)){const h=d[1];80&d[2]?Nh(h,d,h.template,d[8]):d[5]>0&&xC(d)}}function xC(u){for(let h=ag(u);null!==h;h=Jw(h))for(let p=10;p<h.length;p++){const m=h[p];if(1024&m[2]){const _=m[1];Nh(_,m,_.template,m[8])}else m[5]>0&&xC(m)}const d=u[1].components;if(null!==d)for(let h=0;h<d.length;h++){const p=Ei(d[h],u);Uu(p)&&p[5]>0&&xC(p)}}function WP(u,l){const d=Ei(l,u),h=d[1];(function(u,l){for(let d=l.length;d<u.blueprint.length;d++)l.push(u.blueprint[d])})(h,d),bg(h,d,d[8])}function zy(u,l){return u[13]?u[14][4]=l:u[13]=l,u[14]=l,l}function IC(u){for(;u;){u[2]|=64;const l=Rh(u);if(Yi(u)&&!l)return u;u=l}return null}function ul(u,l,d){const h=l[10];h.begin&&h.begin();try{Nh(u,l,u.template,d)}catch(p){throw FC(l,p),p}finally{h.end&&h.end()}}function ll(u){!function(u){for(let l=0;l<u.components.length;l++){const d=u.components[l],h=Ay(d),p=h[1];TP(p,h,p.template,d)}}(u[8])}function qy(u,l,d){Gu(0),l(u,d)}const XM=(()=>Promise.resolve(null))();function PC(u){return u[7]||(u[7]=[])}function Bh(u){return u.cleanup||(u.cleanup=[])}function OC(u,l,d){return(null===u||Wi(u))&&(d=function(u){for(;Array.isArray(u);){if("object"==typeof u[1])return u;u=u[0]}return null}(d[l.index])),d[11]}function FC(u,l){const d=u[9],h=d?d.get(Dc,null):null;h&&h.handleError(l)}function Ut(u,l,d,h,p){for(let m=0;m<d.length;){const _=d[m++],w=d[m++],k=l[_],le=u.data[_];null!==le.setInput?le.setInput(k,p,h,w):k[w]=p}}function va(u,l,d){const h=bs(l,u);!function(u,l,d){Qn(u)?u.setValue(l,d):l.textContent=d}(u[11],h,d)}function wg(u,l,d){let h=d?u.styles:null,p=d?u.classes:null,m=0;if(null!==l)for(let _=0;_<l.length;_++){const w=l[_];"number"==typeof w?m=w:1==m?p=he(p,w):2==m&&(h=he(h,w+": "+l[++_]+";"))}d?u.styles=h:u.stylesWithoutHost=h,d?u.classes=p:u.classesWithoutHost=p}const cl=new cr("INJECTOR",-1);class _r{get(l,d=ph){if(d===ph){const h=new Error(`NullInjectorError: No provider for ${K(l)}!`);throw h.name="NullInjectorError",h}return d}}const io=new cr("Set Injector scope."),Cg={},Wy={};let Nn;function dl(){return void 0===Nn&&(Nn=new _r),Nn}function Yy(u,l=null,d=null,h){return new LC(u,d,l||dl(),h)}class LC{constructor(l,d,h,p=null){this.parent=h,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const m=[];d&&Ts(d,w=>this.processProvider(w,l,d)),Ts([l],w=>this.processInjectorType(w,[],m)),this.records.set(cl,Ro(void 0,this));const _=this.records.get(io);this.scope=null!=_?_.value:null,this.source=p||("object"==typeof l?null:K(l))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(l=>l.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(l,d=ph,h=be.Default){this.assertNotDestroyed();const p=yn(this),m=at(void 0);try{if(!(h&be.SkipSelf)){let w=this.records.get(l);if(void 0===w){const k=("function"==typeof(u=l)||"object"==typeof u&&u instanceof cr)&&Re(l);w=k&&this.injectableDefInScope(k)?Ro(hl(l),Cg):null,this.records.set(l,w)}if(null!=w)return this.hydrate(l,w)}return(h&be.Self?dl():this.parent).get(l,d=h&be.Optional&&d===ph?null:d)}catch(_){if("NullInjectorError"===_.name){if((_[pc]=_[pc]||[]).unshift(K(l)),p)throw _;return rs(_,l,"R3InjectorError",this.source)}throw _}finally{at(m),yn(p)}var u}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(l=>this.get(l))}toString(){const l=[];return this.records.forEach((h,p)=>l.push(K(p))),`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(l,d,h){if(!(l=D(l)))return!1;let p=Ze(l);const m=null==p&&l.ngModule||void 0,_=void 0===m?l:m,w=-1!==h.indexOf(_);if(void 0!==m&&(p=Ze(m)),null==p)return!1;if(null!=p.imports&&!w){let me;h.push(_);try{Ts(p.imports,Se=>{this.processInjectorType(Se,d,h)&&(void 0===me&&(me=[]),me.push(Se))})}finally{}if(void 0!==me)for(let Se=0;Se<me.length;Se++){const{ngModule:ke,providers:Ge}=me[Se];Ts(Ge,Xe=>this.processProvider(Xe,ke,Ge||De))}}this.injectorDefTypes.add(_);const k=_s(_)||(()=>new _);this.records.set(_,Ro(k,Cg));const le=p.providers;if(null!=le&&!w){const me=l;Ts(le,Se=>this.processProvider(Se,me,le))}return void 0!==m&&void 0!==l.providers}processProvider(l,d,h){let p=xc(l=D(l))?l:D(l&&l.provide);const m=Zy(u=l)?Ro(void 0,u.useValue):Ro(Uh(u),Cg);var u;if(xc(l)||!0!==l.multi)this.records.get(p);else{let _=this.records.get(p);_||(_=Ro(void 0,Cg,!0),_.factory=()=>$u(_.multi),this.records.set(p,_)),p=l,_.multi.push(l)}this.records.set(p,m)}hydrate(l,d){return d.value===Cg&&(d.value=Wy,d.value=d.factory()),"object"==typeof d.value&&d.value&&null!==(u=d.value)&&"object"==typeof u&&"function"==typeof u.ngOnDestroy&&this.onDestroy.add(d.value),d.value;var u}injectableDefInScope(l){if(!l.providedIn)return!1;const d=D(l.providedIn);return"string"==typeof d?"any"===d||d===this.scope:this.injectorDefTypes.has(d)}}function hl(u){const l=Re(u),d=null!==l?l.factory:_s(u);if(null!==d)return d;if(u instanceof cr)throw new Error(`Token ${K(u)} is missing a \u0275prov definition.`);if(u instanceof Function)return function(u){const l=u.length;if(l>0){const h=eu(l,"?");throw new Error(`Can't resolve all parameters for ${K(u)}: (${h.join(", ")}).`)}const d=function(u){const l=u&&(u[Ke]||u[Ne]);if(l){const d=function(u){if(u.hasOwnProperty("name"))return u.name;const l=(""+u).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(u);return console.warn(`DEPRECATED: DI is instantiating a token "${d}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${d}" class.`),l}return null}(u);return null!==d?()=>d.factory(u):()=>new u}(u);throw new Error("unreachable")}function Uh(u,l,d){let h;if(xc(u)){const p=D(u);return _s(p)||hl(p)}if(Zy(u))h=()=>D(u.useValue);else if(function(u){return!(!u||!u.useFactory)}(u))h=()=>u.useFactory(...$u(u.deps||[]));else if(function(u){return!(!u||!u.useExisting)}(u))h=()=>Xn(D(u.useExisting));else{const p=D(u&&(u.useClass||u.provide));if(!function(u){return!!u.deps}(u))return _s(p)||hl(p);h=()=>new p(...$u(u.deps))}return h}function Ro(u,l,d=!1){return{factory:u,value:l,multi:d?[]:void 0}}function Zy(u){return null!==u&&"object"==typeof u&&iy in u}function xc(u){return"function"==typeof u}const Ag=function(u,l,d){return function(u,l=null,d=null,h){const p=Yy(u,l,d,h);return p._resolveInjectorDefTypes(),p}({name:d},l,u,d)};class Un{static create(l,d){return Array.isArray(l)?Ag(l,d,""):Ag(l.providers,l.parent,l.name||"")}}function ZC(u,l){oc(Ay(u)[1],Jn())}function su(u){let l=function(u){return Object.getPrototypeOf(u.prototype).constructor}(u.type),d=!0;const h=[u];for(;l;){let p;if(Wi(u))p=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Error("Directives cannot inherit Components");p=l.\u0275dir}if(p){if(d){h.push(p);const _=u;_.inputs=Dg(u.inputs),_.declaredInputs=Dg(u.declaredInputs),_.outputs=Dg(u.outputs);const w=p.hostBindings;w&&_k(u,w);const k=p.viewQuery,le=p.contentQueries;if(k&&yk(u,k),le&&QC(u,le),J(u.inputs,p.inputs),J(u.declaredInputs,p.declaredInputs),J(u.outputs,p.outputs),Wi(p)&&p.data.animation){const me=u.data;me.animation=(me.animation||[]).concat(p.data.animation)}}const m=p.features;if(m)for(let _=0;_<m.length;_++){const w=m[_];w&&w.ngInherit&&w(u),w===su&&(d=!1)}}l=Object.getPrototypeOf(l)}!function(u){let l=0,d=null;for(let h=u.length-1;h>=0;h--){const p=u[h];p.hostVars=l+=p.hostVars,p.hostAttrs=lc(p.hostAttrs,d=lc(d,p.hostAttrs))}}(h)}function Dg(u){return u===Ae?{}:u===De?[]:u}function yk(u,l){const d=u.viewQuery;u.viewQuery=d?(h,p)=>{l(h,p),d(h,p)}:l}function QC(u,l){const d=u.contentQueries;u.contentQueries=d?(h,p,m)=>{l(h,p,m),d(h,p,m)}:l}function _k(u,l){const d=u.hostBindings;u.hostBindings=d?(h,p)=>{l(h,p),d(h,p)}:l}Un.THROW_IF_NOT_FOUND=ph,Un.NULL=new _r,Un.\u0275prov=ge({token:Un,providedIn:"any",factory:()=>Xn(cl)}),Un.__NG_ELEMENT_ID__=-1;let ss=null;function Gh(){if(!ss){const u=$e.Symbol;if(u&&u.iterator)ss=u.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let d=0;d<l.length;++d){const h=l[d];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(ss=h)}}}return ss}class xo{constructor(l){this.wrapped=l}static wrap(l){return new xo(l)}static unwrap(l){return xo.isWrapped(l)?l.wrapped:l}static isWrapped(l){return l instanceof xo}}function fl(u){return!!kg(u)&&(Array.isArray(u)||!(u instanceof Map)&&Gh()in u)}function kg(u){return null!==u&&("function"==typeof u||"object"==typeof u)}function Os(u,l,d){return u[l]=d}function Mi(u,l,d){return!Object.is(u[l],d)&&(u[l]=d,!0)}function n_(u,l,d,h){const p=Et();return Mi(p,Jo(),l)&&(wn(),ma(rr(),p,u,l,d,h)),n_}function Fs(u,l,d,h){return Mi(u,Jo(),d)?l+E(d)+h:hn}function so(u,l,d,h,p,m){const w=function(u,l,d,h){const p=Mi(u,l,d);return Mi(u,l+1,h)||p}(u,Ji(),d,p);return Xi(2),w?l+E(d)+h+E(p)+m:hn}function xg(u,l,d,h,p,m,_,w){const k=Et(),le=wn(),me=u+20,Se=le.firstCreatePass?function(u,l,d,h,p,m,_,w,k){const le=l.consts,me=Lh(l,u,4,_||null,Cs(le,w));kC(l,d,me,Cs(le,k)),oc(l,me);const Se=me.tViews=jy(2,me,h,p,m,l.directiveRegistry,l.pipeRegistry,null,l.schemas,le);return null!==l.queries&&(l.queries.template(l,me),Se.queries=l.queries.embeddedTView(me)),me}(me,le,k,l,d,h,p,m,_):le.data[me];ri(Se,!1);const ke=k[11].createComment("");fg(le,k,ke,Se),oi(ke,k),zy(k,k[me]=$M(ke,k,ke,Se)),Xs(Se)&&DC(le,k,Se),null!=_&&MC(k,Se,w)}function o_(u){return ws(dn.lFrame.contextLView,20+u)}function Qh(u,l=be.Default){const d=Et();return null===d?Xn(u,l):Sr(Jn(),d,D(u),l)}function w_(u,l,d){const h=Et();return Mi(h,Jo(),l)&&ko(wn(),rr(),h,u,l,h[11],d,!1),w_}function Vg(u,l,d,h,p){const _=p?"class":"style";Ut(u,d,l.inputs[_],_,h)}function ki(u,l,d,h){const p=Et(),m=wn(),_=20+u,w=p[11],k=p[_]=Iy(w,l,dn.lFrame.currentNamespace),le=m.firstCreatePass?function(u,l,d,h,p,m,_){const w=l.consts,le=Lh(l,u,2,p,Cs(w,m));return kC(l,d,le,Cs(w,_)),null!==le.attrs&&wg(le,le.attrs,!1),null!==le.mergedAttrs&&wg(le,le.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,le),le}(_,m,p,0,l,d,h):m.data[_];ri(le,!0);const me=le.mergedAttrs;null!==me&&uc(w,k,me);const Se=le.classes;null!==Se&&mg(w,k,Se);const ke=le.styles;null!==ke&&sC(w,k,ke),64!=(64&le.flags)&&fg(m,p,k,le),0===dn.lFrame.elementDepthCount&&oi(k,p),dn.lFrame.elementDepthCount++,Xs(le)&&(DC(m,p,le),NM(m,le,p)),null!==h&&MC(p,le)}function Kh(){let u=Jn();Ki()?Za():(u=u.parent,ri(u,!1));const l=u;dn.lFrame.elementDepthCount--;const d=wn();d.firstCreatePass&&(oc(d,u),$d(u)&&d.queries.elementEnd(u)),null!=l.classesWithoutHost&&function(u){return 0!=(16&u.flags)}(l)&&Vg(d,l,Et(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function(u){return 0!=(32&u.flags)}(l)&&Vg(d,l,Et(),l.stylesWithoutHost,!1)}function Jh(u,l,d,h){ki(u,l,d,h),Kh()}function C_(u,l,d){const h=Et(),p=wn(),m=u+20,_=p.firstCreatePass?function(u,l,d,h,p){const m=l.consts,_=Cs(m,h),w=Lh(l,u,8,"ng-container",_);return null!==_&&wg(w,_,!0),kC(l,d,w,Cs(m,p)),null!==l.queries&&l.queries.elementStart(l,w),w}(m,p,h,l,d):p.data[m];ri(_,!0);const w=h[m]=h[11].createComment("");fg(p,h,w,_),oi(w,h),Xs(_)&&(DC(p,h,_),NM(p,_,h)),null!=d&&MC(h,_)}function Nc(){let u=Jn();const l=wn();Ki()?Za():(u=u.parent,ri(u,!1)),l.firstCreatePass&&(oc(l,u),$d(u)&&l.queries.elementEnd(u))}function Xh(u,l,d){C_(u,l,d),Nc()}function S_(){return Et()}function Ug(u){return!!u&&"function"==typeof u.then}function aS(u){return!!u&&"function"==typeof u.subscribe}const ef=aS;function Hg(u,l,d,h){const p=Et(),m=wn(),_=Jn();return uS(m,p,p[11],_,u,l,!!d,h),Hg}function A_(u,l){const d=Jn(),h=Et(),p=wn();return uS(p,h,OC(rc(p.data),d,h),d,u,l,!1),A_}function uS(u,l,d,h,p,m,_,w){const k=Xs(h),me=u.firstCreatePass&&Bh(u),Se=l[8],ke=PC(l);let Ge=!0;if(3&h.type||w){const ut=ni(h,l),It=w?w(ut):ut,wt=ke.length,Yt=w?un=>w(Kn(un[h.index])):h.index;if(Qn(d)){let un=null;if(!w&&k&&(un=function(u,l,d,h){const p=u.cleanup;if(null!=p)for(let m=0;m<p.length-1;m+=2){const _=p[m];if(_===d&&p[m+1]===h){const w=l[7],k=p[m+2];return w.length>k?w[k]:null}"string"==typeof _&&(m+=2)}return null}(u,l,p,h.index)),null!==un)(un.__ngLastListenerFn__||un).__ngNextListenerFn__=m,un.__ngLastListenerFn__=m,Ge=!1;else{m=E_(h,l,Se,m,!1);const An=d.listen(It,p,m);ke.push(m,An),me&&me.push(p,Yt,wt,wt+1)}}else m=E_(h,l,Se,m,!0),It.addEventListener(p,m,_),ke.push(m),me&&me.push(p,Yt,wt,_)}else m=E_(h,l,Se,m,!1);const Xe=h.outputs;let yt;if(Ge&&null!==Xe&&(yt=Xe[p])){const ut=yt.length;if(ut)for(let It=0;It<ut;It+=2){const Br=l[yt[It]][yt[It+1]].subscribe(m),Yo=ke.length;ke.push(m,Br),me&&me.push(p,h.index,Yo,-(Yo+1))}}}function lS(u,l,d,h){try{return!1!==d(h)}catch(p){return FC(u,p),!1}}function E_(u,l,d,h,p){return function m(_){if(_===Function)return h;const w=2&u.flags?Ei(u.index,l):l;0==(32&l[2])&&IC(w);let k=lS(l,0,h,_),le=m.__ngNextListenerFn__;for(;le;)k=lS(l,0,le,_)&&k,le=le.__ngNextListenerFn__;return p&&!1===k&&(_.preventDefault(),_.returnValue=!1),k}}function tf(u=1){return function(u){return(dn.lFrame.contextLView=function(u,l){for(;u>0;)l=l[15],u--;return l}(u,dn.lFrame.contextLView))[8]}(u)}function Pk(u,l){let d=null;const h=function(u){const l=u.attrs;if(null!=l){const d=l.indexOf(5);if(0==(1&d))return l[d+1]}return null}(u);for(let p=0;p<l.length;p++){const m=l[p];if("*"!==m){if(null===h?dC(u,m,!0):fC(h,m))return p}else d=p}return d}function cu(u){const l=Et()[16][6];if(!l.projection){const h=l.projection=eu(u?u.length:1,null),p=h.slice();let m=l.child;for(;null!==m;){const _=u?Pk(m,u):0;null!==_&&(p[_]?p[_].projectionNext=m:h[_]=m,p[_]=m),m=m.next}}}function Gg(u,l=0,d){const h=Et(),p=wn(),m=Lh(p,20+u,16,null,d||null);null===m.projection&&(m.projection=l),Za(),64!=(64&m.flags)&&function(u,l,d){Ly(l[11],0,l,d,tC(u,d,l),xh(d.parent||l[6],d,l))}(p,h,m)}function nf(u,l,d){return Bc(u,"",l,"",d),nf}function Bc(u,l,d,h,p){const m=Et(),_=Fs(m,l,d,h);return _!==hn&&ko(wn(),rr(),m,u,_,m[11],p,!1),Bc}function T_(u,l,d,h,p){const m=u[d+1],_=null===l;let w=h?Rs(m):ou(m),k=!1;for(;0!==w&&(!1===k||_);){const me=u[w+1];Fk(u[w],l)&&(k=!0,u[w+1]=h?By(me):Fh(me)),w=h?Rs(me):ou(me)}k&&(u[d+1]=h?Fh(m):By(m))}function Fk(u,l){return null===u||null==l||(Array.isArray(u)?u[1]:u)===l||!(!Array.isArray(u)||"string"!=typeof l)&&hc(u,l)>=0}function Wg(u,l,d){return Po(u,l,d,!1),Wg}function M_(u,l){return Po(u,l,null,!0),M_}function Po(u,l,d,h){const p=Et(),m=wn(),_=Xi(2);m.firstUpdatePass&&function(u,l,d,h){const p=u.data;if(null===p[d+1]){const m=p[Ur()],_=function(u,l){return l>=u.expandoStartIndex}(u,d);(function(u,l){return 0!=(u.flags&(l?16:32))})(m,h)&&null===l&&!_&&(l=!1),l=function(u,l,d,h){const p=rc(u);let m=h?l.residualClasses:l.residualStyles;if(null===p)0===(h?l.classBindings:l.styleBindings)&&(d=vl(d=ml(null,u,l,d,h),l.attrs,h),m=null);else{const _=l.directiveStylingLast;if(-1===_||u[_]!==p)if(d=ml(p,u,l,d,h),null===m){let k=function(u,l,d){const h=d?l.classBindings:l.styleBindings;if(0!==ou(h))return u[Rs(h)]}(u,l,h);void 0!==k&&Array.isArray(k)&&(k=ml(null,u,l,k[1],h),k=vl(k,l.attrs,h),function(u,l,d,h){u[Rs(d?l.classBindings:l.styleBindings)]=h}(u,l,h,k))}else m=function(u,l,d){let h;const p=l.directiveEnd;for(let m=1+l.directiveStylingLast;m<p;m++)h=vl(h,u[m].hostAttrs,d);return vl(h,l.attrs,d)}(u,l,h)}return void 0!==m&&(h?l.residualClasses=m:l.residualStyles=m),d}(p,m,l,h),function(u,l,d,h,p,m){let _=m?l.classBindings:l.styleBindings,w=Rs(_),k=ou(_);u[h]=d;let me,le=!1;if(Array.isArray(d)){const Se=d;me=Se[1],(null===me||hc(Se,me)>0)&&(le=!0)}else me=d;if(p)if(0!==k){const ke=Rs(u[w+1]);u[h+1]=vg(ke,w),0!==ke&&(u[ke+1]=vC(u[ke+1],h)),u[w+1]=function(u,l){return 131071&u|l<<17}(u[w+1],h)}else u[h+1]=vg(w,0),0!==w&&(u[w+1]=vC(u[w+1],h)),w=h;else u[h+1]=vg(k,0),0===w?w=h:u[k+1]=vC(u[k+1],h),k=h;le&&(u[h+1]=Fh(u[h+1])),T_(u,me,h,!0),T_(u,me,h,!1),function(u,l,d,h,p){const m=p?u.residualClasses:u.residualStyles;null!=m&&"string"==typeof l&&hc(m,l)>=0&&(d[h+1]=By(d[h+1]))}(l,me,u,h,m),_=vg(w,k),m?l.classBindings=_:l.styleBindings=_}(p,m,l,d,_,h)}}(m,u,_,h),l!==hn&&Mi(p,_,l)&&function(u,l,d,h,p,m,_,w){if(!(3&l.type))return;const k=u.data,le=k[w+1];yl(function(u){return 1==(1&u)}(le)?DS(k,l,d,p,ou(le),_):void 0)||(yl(m)||function(u){return 2==(2&u)}(le)&&(m=DS(k,null,d,p,w,_)),function(u,l,d,h,p){const m=Qn(u);if(l)p?m?u.addClass(d,h):d.classList.add(h):m?u.removeClass(d,h):d.classList.remove(h);else{let _=-1===h.indexOf("-")?void 0:Ms.DashCase;if(null==p)m?u.removeStyle(d,h,_):d.style.removeProperty(h);else{const w="string"==typeof p&&p.endsWith("!important");w&&(p=p.slice(0,-10),_|=Ms.Important),m?u.setStyle(d,h,p,_):d.style.setProperty(h,p,w?"important":"")}}}(h,_,bs(Ur(),d),p,m))}(m,m.data[Ur()],p,p[11],u,p[_+1]=function(u,l){return null==u||("string"==typeof l?u+=l:"object"==typeof u&&(u=K(pa(u)))),u}(l,d),h,_)}function ml(u,l,d,h,p){let m=null;const _=d.directiveEnd;let w=d.directiveStylingLast;for(-1===w?w=d.directiveStart:w++;w<_&&(m=l[w],h=vl(h,m.hostAttrs,p),m!==u);)w++;return null!==u&&(d.directiveStylingLast=w),h}function vl(u,l,d){const h=d?1:2;let p=-1;if(null!==l)for(let m=0;m<l.length;m++){const _=l[m];"number"==typeof _?p=_:p===h&&(Array.isArray(u)||(u=void 0===u?[]:["",u]),Pr(u,_,!!d||l[++m]))}return void 0===u?null:u}function DS(u,l,d,h,p,m){const _=null===l;let w;for(;p>0;){const k=u[p],le=Array.isArray(k),me=le?k[1]:k,Se=null===me;let ke=d[p+1];ke===hn&&(ke=Se?De:void 0);let Ge=Se?Or(ke,h):me===h?ke:void 0;if(le&&!yl(Ge)&&(Ge=Or(k,h)),yl(Ge)&&(w=Ge,_))return w;const Xe=u[p+1];p=_?Rs(Xe):ou(Xe)}if(null!==l){let k=m?l.residualClasses:l.residualStyles;null!=k&&(w=Or(k,h))}return w}function yl(u){return void 0!==u}function I_(u,l=""){const d=Et(),h=wn(),p=u+20,m=h.firstCreatePass?Lh(h,p,1,l,null):h.data[p],_=d[p]=function(u,l){return Qn(u)?u.createText(l):u.createTextNode(l)}(d[11],l);fg(h,d,_,m),ri(m,!1)}function Yg(u){return _l("",u,""),Yg}function _l(u,l,d){const h=Et(),p=Fs(h,u,l,d);return p!==hn&&va(h,Ur(),p),_l}function MS(u,l,d,h,p){const m=Et(),_=so(m,u,l,d,h,p);return _!==hn&&va(m,Ur(),_),MS}function H_(u,l,d){const h=Et();return Mi(h,Jo(),l)&&ko(wn(),rr(),h,u,l,h[11],d,!0),H_}function G_(u,l,d){const h=Et();if(Mi(h,Jo(),l)){const m=wn(),_=rr();ko(m,_,h,u,l,OC(rc(m.data),_,h),d,!0)}return G_}const hu=void 0;var zS=["en",[["a","p"],["AM","PM"],hu],[["AM","PM"],hu,hu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],hu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],hu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",hu,"{1} 'at' {0}",hu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(u){const l=Math.floor(Math.abs(u)),d=u.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let Uc={};function Qg(u){const l=function(u){return u.toLowerCase().replace(/_/g,"-")}(u);let d=WS(l);if(d)return d;const h=l.split("-")[0];if(d=WS(h),d)return d;if("en"===h)return zS;throw new Error(`Missing locale data for the locale "${u}".`)}function qS(u){return Qg(u)[nn.PluralCase]}function WS(u){return u in Uc||(Uc[u]=$e.ng&&$e.ng.common&&$e.ng.common.locales&&$e.ng.common.locales[u]),Uc[u]}var nn=(()=>((nn=nn||{})[nn.LocaleId=0]="LocaleId",nn[nn.DayPeriodsFormat=1]="DayPeriodsFormat",nn[nn.DayPeriodsStandalone=2]="DayPeriodsStandalone",nn[nn.DaysFormat=3]="DaysFormat",nn[nn.DaysStandalone=4]="DaysStandalone",nn[nn.MonthsFormat=5]="MonthsFormat",nn[nn.MonthsStandalone=6]="MonthsStandalone",nn[nn.Eras=7]="Eras",nn[nn.FirstDayOfWeek=8]="FirstDayOfWeek",nn[nn.WeekendRange=9]="WeekendRange",nn[nn.DateFormat=10]="DateFormat",nn[nn.TimeFormat=11]="TimeFormat",nn[nn.DateTimeFormat=12]="DateTimeFormat",nn[nn.NumberSymbols=13]="NumberSymbols",nn[nn.NumberFormats=14]="NumberFormats",nn[nn.CurrencyCode=15]="CurrencyCode",nn[nn.CurrencySymbol=16]="CurrencySymbol",nn[nn.CurrencyName=17]="CurrencyName",nn[nn.Currencies=18]="Currencies",nn[nn.Directionality=19]="Directionality",nn[nn.PluralCase=20]="PluralCase",nn[nn.ExtraData=21]="ExtraData",nn))();const Kg="en-US";let $S=Kg;function co(u){Z(u,"Expected localeId to be defined"),"string"==typeof u&&($S=u.toLowerCase().replace(/_/g,"-"))}function ho(u,l,d,h,p){if(u=D(u),Array.isArray(u))for(let m=0;m<u.length;m++)ho(u[m],l,d,h,p);else{const m=wn(),_=Et();let w=xc(u)?u:D(u.provide),k=Uh(u);const le=Jn(),me=1048575&le.providerIndexes,Se=le.directiveStart,ke=le.providerIndexes>>20;if(xc(u)||!u.multi){const Ge=new oa(k,p,Qh),Xe=X_(w,l,p?me:me+ke,Se);-1===Xe?(Vt(vn(le,_),m,w),Fo(m,u,l.length),l.push(w),le.directiveStart++,le.directiveEnd++,p&&(le.providerIndexes+=1048576),d.push(Ge),_.push(Ge)):(d[Xe]=Ge,_[Xe]=Ge)}else{const Ge=X_(w,l,me+ke,Se),Xe=X_(w,l,me,me+ke),yt=Ge>=0&&d[Ge],ut=Xe>=0&&d[Xe];if(p&&!ut||!p&&!yt){Vt(vn(le,_),m,w);const It=function(u,l,d,h,p){const m=new oa(u,d,Qh);return m.multi=[],m.index=l,m.componentProviders=0,yA(m,p,h&&!d),m}(p?CR:wR,d.length,p,h,k);!p&&ut&&(d[Xe].providerFactory=It),Fo(m,u,l.length,0),l.push(w),le.directiveStart++,le.directiveEnd++,p&&(le.providerIndexes+=1048576),d.push(It),_.push(It)}else Fo(m,u,Ge>-1?Ge:Xe,yA(d[p?Xe:Ge],k,!p&&h));!p&&h&&ut&&d[Xe].componentProviders++}}}function Fo(u,l,d,h){const p=xc(l);if(p||function(u){return!!u.useClass}(l)){const _=(l.useClass||l).prototype.ngOnDestroy;if(_){const w=u.destroyHooks||(u.destroyHooks=[]);if(!p&&l.multi){const k=w.indexOf(d);-1===k?w.push(d,[h,_]):w[k+1].push(h,_)}else w.push(d,_)}}}function yA(u,l,d){return d&&u.componentProviders++,u.multi.push(l)-1}function X_(u,l,d,h){for(let p=d;p<h;p++)if(l[p]===u)return p;return-1}function wR(u,l,d,h){return lf(this.multi,[])}function CR(u,l,d,h){const p=this.multi;let m;if(this.providerFactory){const _=this.providerFactory.componentProviders,w=Yn(d,d[1],this.providerFactory.index,h);m=w.slice(0,_),lf(p,m);for(let k=_;k<w.length;k++)m.push(w[k])}else m=[],lf(p,m);return m}function lf(u,l){for(let d=0;d<u.length;d++)l.push((0,u[d])());return l}function eb(u,l=[]){return d=>{d.providersResolver=(h,p)=>function(u,l,d){const h=wn();if(h.firstCreatePass){const p=Wi(u);ho(d,h.data,h.blueprint,p,!0),ho(l,h.data,h.blueprint,p,!1)}}(h,p?p(u):u,l)}}class jn{}const cf="ngComponent";class bA{resolveComponentFactory(l){throw function(u){const l=Error(`No component factory found for ${K(u)}. Did you add it to @NgModule.entryComponents?`);return l[cf]=u,l}(l)}}class mu{}function ai(...u){}function ya(u,l){return new Lo(ni(u,l))}mu.NULL=new bA;const MR=function(){return ya(Jn(),Et())};let Lo=(()=>{class u{constructor(d){this.nativeElement=d}}return u.__NG_ELEMENT_ID__=MR,u})();function Me(u){return u instanceof Lo?u.nativeElement:u}class Us{}let nb=(()=>{class u{}return u.__NG_ELEMENT_ID__=()=>xR(),u})();const xR=function(){const u=Et(),d=Ei(Jn().index,u);return function(u){return u[11]}(Ko(d)?d:u)};let fn=(()=>{class u{}return u.\u0275prov=ge({token:u,providedIn:"root",factory:()=>null}),u})();class df{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const hf=new df("12.2.1");class Gc{constructor(){}supports(l){return fl(l)}create(l){return new PR(l)}}const IR=(u,l)=>l;class PR{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||IR}forEachItem(l){let d;for(d=this._itHead;null!==d;d=d._next)l(d)}forEachOperation(l){let d=this._itHead,h=this._removalsHead,p=0,m=null;for(;d||h;){const _=!h||d&&d.currentIndex<ff(h,p,m)?d:h,w=ff(_,p,m),k=_.currentIndex;if(_===h)p--,h=h._nextRemoved;else if(d=d._next,null==_.previousIndex)p++;else{m||(m=[]);const le=w-p,me=k-p;if(le!=me){for(let ke=0;ke<le;ke++){const Ge=ke<m.length?m[ke]:m[ke]=0,Xe=Ge+ke;me<=Xe&&Xe<le&&(m[ke]=Ge+1)}m[_.previousIndex]=me-le}}w!==k&&l(_,w,k)}}forEachPreviousItem(l){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)l(d)}forEachAddedItem(l){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)l(d)}forEachMovedItem(l){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)l(d)}forEachRemovedItem(l){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)l(d)}forEachIdentityChange(l){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)l(d)}diff(l){if(null==l&&(l=[]),!fl(l))throw new Error(`Error trying to diff '${K(l)}'. Only arrays and iterables are allowed`);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let p,m,_,d=this._itHead,h=!1;if(Array.isArray(l)){this.length=l.length;for(let w=0;w<this.length;w++)m=l[w],_=this._trackByFn(w,m),null!==d&&Object.is(d.trackById,_)?(h&&(d=this._verifyReinsertion(d,m,_,w)),Object.is(d.item,m)||this._addIdentityChange(d,m)):(d=this._mismatch(d,m,_,w),h=!0),d=d._next}else p=0,function(u,l){if(Array.isArray(u))for(let d=0;d<u.length;d++)l(u[d]);else{const d=u[Gh()]();let h;for(;!(h=d.next()).done;)l(h.value)}}(l,w=>{_=this._trackByFn(p,w),null!==d&&Object.is(d.trackById,_)?(h&&(d=this._verifyReinsertion(d,w,_,p)),Object.is(d.item,w)||this._addIdentityChange(d,w)):(d=this._mismatch(d,w,_,p),h=!0),d=d._next,p++}),this.length=p;return this._truncate(d),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,d,h,p){let m;return null===l?m=this._itTail:(m=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(l.item,d)||this._addIdentityChange(l,d),this._reinsertAfter(l,m,p)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(h,p))?(Object.is(l.item,d)||this._addIdentityChange(l,d),this._moveAfter(l,m,p)):l=this._addAfter(new OR(d,h),m,p),l}_verifyReinsertion(l,d,h,p){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==m?l=this._reinsertAfter(m,l._prev,p):l.currentIndex!=p&&(l.currentIndex=p,this._addToMoves(l,p)),l}_truncate(l){for(;null!==l;){const d=l._next;this._addToRemovals(this._unlink(l)),l=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,d,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const p=l._prevRemoved,m=l._nextRemoved;return null===p?this._removalsHead=m:p._nextRemoved=m,null===m?this._removalsTail=p:m._prevRemoved=p,this._insertAfter(l,d,h),this._addToMoves(l,h),l}_moveAfter(l,d,h){return this._unlink(l),this._insertAfter(l,d,h),this._addToMoves(l,h),l}_addAfter(l,d,h){return this._insertAfter(l,d,h),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,d,h){const p=null===d?this._itHead:d._next;return l._next=p,l._prev=d,null===p?this._itTail=l:p._prev=l,null===d?this._itHead=l:d._next=l,null===this._linkedRecords&&(this._linkedRecords=new Wr),this._linkedRecords.put(l),l.currentIndex=h,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const d=l._prev,h=l._next;return null===d?this._itHead=h:d._next=h,null===h?this._itTail=d:h._prev=d,l}_addToMoves(l,d){return l.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Wr),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,d){return l.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class OR{constructor(l,d){this.item=l,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class FR{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,d){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===d||d<=h.currentIndex)&&Object.is(h.trackById,l))return h;return null}remove(l){const d=l._prevDup,h=l._nextDup;return null===d?this._head=h:d._nextDup=h,null===h?this._tail=d:h._prevDup=d,null===this._head}}class Wr{constructor(){this.map=new Map}put(l){const d=l.trackById;let h=this.map.get(d);h||(h=new FR,this.map.set(d,h)),h.add(l)}get(l,d){const p=this.map.get(l);return p?p.get(l,d):null}remove(l){const d=l.trackById;return this.map.get(d).remove(l)&&this.map.delete(d),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ff(u,l,d){const h=u.previousIndex;if(null===h)return h;let p=0;return d&&h<d.length&&(p=d[h]),h+l+p}class Yr{constructor(){}supports(l){return l instanceof Map||kg(l)}create(){return new vu}}class vu{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let d;for(d=this._mapHead;null!==d;d=d._next)l(d)}forEachPreviousItem(l){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)l(d)}forEachChangedItem(l){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)l(d)}forEachAddedItem(l){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)l(d)}forEachRemovedItem(l){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)l(d)}diff(l){if(l){if(!(l instanceof Map||kg(l)))throw new Error(`Error trying to diff '${K(l)}'. Only maps and objects are allowed`)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(l,(h,p)=>{if(d&&d.key===p)this._maybeAddToChanges(d,h),this._appendAfter=d,d=d._next;else{const m=this._getOrCreateRecordForKey(p,h);d=this._insertBeforeOrAppend(d,m)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let h=d;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,d){if(l){const h=l._prev;return d._next=l,d._prev=h,l._prev=d,h&&(h._next=d),l===this._mapHead&&(this._mapHead=d),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(l,d){if(this._records.has(l)){const p=this._records.get(l);this._maybeAddToChanges(p,d);const m=p._prev,_=p._next;return m&&(m._next=_),_&&(_._prev=m),p._next=null,p._prev=null,p}const h=new LR(l);return this._records.set(l,h),h.currentValue=d,this._addToAdditions(h),h}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,d){Object.is(d,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=d,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,d){l instanceof Map?l.forEach(d):Object.keys(l).forEach(h=>d(l[h],h))}}class LR{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function CA(){return new pf([new Gc])}let pf=(()=>{class u{constructor(d){this.factories=d}static create(d,h){if(null!=h){const p=h.factories.slice();d=d.concat(p)}return new u(d)}static extend(d){return{provide:u,useFactory:h=>u.create(d,h||CA()),deps:[[u,new ii,new tu]]}}find(d){const h=this.factories.find(p=>p.supports(d));if(null!=h)return h;throw new Error(`Cannot find a differ supporting object '${d}' of type '${function(u){return u.name||typeof u}(d)}'`)}}return u.\u0275prov=ge({token:u,providedIn:"root",factory:CA}),u})();function AA(){return new gf([new Yr])}let gf=(()=>{class u{constructor(d){this.factories=d}static create(d,h){if(h){const p=h.factories.slice();d=d.concat(p)}return new u(d)}static extend(d){return{provide:u,useFactory:h=>u.create(d,h||AA()),deps:[[u,new ii,new tu]]}}find(d){const h=this.factories.find(p=>p.supports(d));if(h)return h;throw new Error(`Cannot find a differ supporting object '${d}'`)}}return u.\u0275prov=ge({token:u,providedIn:"root",factory:AA}),u})();function jc(u,l,d,h,p=!1){for(;null!==d;){const m=l[d.index];if(null!==m&&h.push(Kn(m)),Bi(m))for(let w=10;w<m.length;w++){const k=m[w],le=k[1].firstChild;null!==le&&jc(k[1],k,le,h)}const _=d.type;if(8&_)jc(u,l,d.child,h);else if(32&_){const w=sg(d,l);let k;for(;k=w();)h.push(k)}else if(16&_){const w=oC(l,d);if(Array.isArray(w))h.push(...w);else{const k=Rh(l[16]);jc(k[1],k,w,h,!0)}}d=p?d.projectionNext:d.next}return h}class yu{constructor(l,d){this._lView=l,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,d=l[1];return jc(d,l,d.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(Bi(l)){const d=l[8],h=d?d.indexOf(this):-1;h>-1&&(cg(l,h),Zu(d,h))}this._attachedToViewContainer=!1}eC(this._lView[1],this._lView)}onDestroy(l){HM(this._lView[1],this._lView,null,l)}markForCheck(){IC(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ul(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(u,l,d){nc(!0);try{ul(u,l,d)}finally{nc(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var l;this._appRef=null,gg(this._lView[1],l=this._lView,l[11],2,null,null)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=l}}class EA extends yu{constructor(l){super(l),this._view=l}detectChanges(){ll(this._view)}checkNoChanges(){!function(u){nc(!0);try{ll(u)}finally{nc(!1)}}(this._view)}get context(){return null}}const xi=function(u){return function(u,l,d){if(Nu(u)&&!d){const h=Ei(u.index,l);return new yu(h,h)}return 47&u.type?new yu(l[16],l):null}(Jn(),Et(),16==(16&u))};let DA=(()=>{class u{}return u.__NG_ELEMENT_ID__=xi,u})();const kA=[new Yr],xA=new pf([new Gc]),ob=new gf(kA),zc=function(){return mf(Jn(),Et())};let qc=(()=>{class u{}return u.__NG_ELEMENT_ID__=zc,u})();const sb=qc,IA=class extends sb{constructor(l,d,h){super(),this._declarationLView=l,this._declarationTContainer=d,this.elementRef=h}createEmbeddedView(l){const d=this._declarationTContainer.tViews,h=_g(this._declarationLView,d,l,16,null,d.declTNode,null,null,null,null);h[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(h[19]=m.createEmbeddedView(d)),bg(d,h,l),new yu(h)}};function mf(u,l){return 4&u.type?new IA(l,u,ya(u,l)):null}class Hs{}class am{}const VR=function(){return Wc(Jn(),Et())};let um=(()=>{class u{}return u.__NG_ELEMENT_ID__=VR,u})();const OA=um,FA=class extends OA{constructor(l,d,h){super(),this._lContainer=l,this._hostTNode=d,this._hostLView=h}get element(){return ya(this._hostTNode,this._hostLView)}get injector(){return new ts(this._hostTNode,this._hostLView)}get parentInjector(){const l=Lt(this._hostTNode,this._hostLView);if(cc(l)){const d=b(l,this._hostLView),h=Eo(l);return new ts(d[1].data[h+8],d)}return new ts(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const d=LA(this._lContainer);return null!==d&&d[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,d,h){const p=l.createEmbeddedView(d||{});return this.insert(p,h),p}createComponent(l,d,h,p,m){const _=h||this.parentInjector;if(!m&&null==l.ngModule&&_){const k=_.get(Hs,null);k&&(m=k)}const w=l.create(_,p,void 0,m);return this.insert(w.hostView,d),w}insert(l,d){const h=l._lView,p=h[1];if(Bi(h[3])){const me=this.indexOf(l);if(-1!==me)this.detach(me);else{const Se=h[3],ke=new FA(Se,Se[6],Se[3]);ke.detach(ke.indexOf(l))}}const m=this._adjustIndex(d),_=this._lContainer;!function(u,l,d,h){const p=10+h,m=d.length;h>0&&(d[p-1][4]=l),h<m-10?(l[4]=d[p],hh(d,10+h,l)):(d.push(l),l[4]=null),l[3]=d;const _=l[17];null!==_&&d!==_&&function(u,l){const d=u[9];l[16]!==l[3][3][16]&&(u[2]=!0),null===d?u[9]=[l]:d.push(l)}(_,l);const w=l[19];null!==w&&w.insertView(u),l[2]|=128}(p,h,_,m);const w=pg(m,_),k=h[11],le=dg(k,_[7]);return null!==le&&function(u,l,d,h,p,m){h[0]=p,h[6]=l,gg(u,h,d,1,p,m)}(p,_[6],k,h,le,w),l.attachToViewContainerRef(),hh(Zr(_),m,l),l}move(l,d){return this.insert(l,d)}indexOf(l){const d=LA(this._lContainer);return null!==d?d.indexOf(l):-1}remove(l){const d=this._adjustIndex(l,-1),h=cg(this._lContainer,d);h&&(Zu(Zr(this._lContainer),d),eC(h[1],h))}detach(l){const d=this._adjustIndex(l,-1),h=cg(this._lContainer,d);return h&&null!=Zu(Zr(this._lContainer),d)?new yu(h):null}_adjustIndex(l,d=0){return null==l?this.length+d:l}};function LA(u){return u[8]}function Zr(u){return u[8]||(u[8]=[])}function Wc(u,l){let d;const h=l[u.index];if(Bi(h))d=h;else{let p;if(8&u.type)p=Kn(h);else{const m=l[11];p=m.createComment("");const _=ni(u,l);iu(m,dg(m,_),p,function(u,l){return Qn(u)?u.nextSibling(l):l.nextSibling}(m,_),!1)}l[u.index]=d=$M(h,l,p,u),zy(l,d)}return new FA(d,u,l)}const kl={};class Ab extends mu{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const d=Ye(l);return new Mb(d,this.ngModule)}}function Eb(u){const l=[];for(let d in u)u.hasOwnProperty(d)&&l.push({propName:u[d],templateName:d});return l}const Db=new cr("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ww});class Mb extends jn{constructor(l,d){super(),this.componentDef=l,this.ngModule=d,this.componentType=l.type,this.selector=l.selectors.map(Ny).join(","),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!d}get inputs(){return Eb(this.componentDef.inputs)}get outputs(){return Eb(this.componentDef.outputs)}create(l,d,h,p){const m=(p=p||this.ngModule)?function(u,l){return{get:(d,h,p)=>{const m=u.get(d,kl,p);return m!==kl||h===kl?m:l.get(d,h,p)}}}(l,p.injector):l,_=m.get(Us,za),w=m.get(fn,null),k=_.createRenderer(null,this.componentDef),le=this.componentDef.selectors[0][0]||"div",me=h?function(u,l,d){if(Qn(u))return u.selectRootElement(l,d===qe.ShadowDom);let h="string"==typeof l?u.querySelector(l):l;return h.textContent="",h}(k,h,this.componentDef.encapsulation):Iy(_.createRenderer(null,this.componentDef),le,function(u){const l=u.toLowerCase();return"svg"===l?ja:"math"===l?"http://www.w3.org/1998/MathML/":null}(le)),Se=this.componentDef.onPush?576:528,ke=function(u,l){return{components:[],scheduler:u||Ww,clean:XM,playerHandler:l||null,flags:0}}(),Ge=jy(0,null,null,1,0,null,null,null,null,null),Xe=_g(null,Ge,ke,Se,null,null,_,k,w,m);let yt,ut;ju(Xe);try{const It=function(u,l,d,h,p,m){const _=d[1];d[20]=u;const k=Lh(_,20,2,"#host",null),le=k.mergedAttrs=l.hostAttrs;null!==le&&(wg(k,le,!0),null!==u&&(uc(p,u,le),null!==k.classes&&mg(p,u,k.classes),null!==k.styles&&sC(p,u,k.styles)));const me=h.createRenderer(u,l),Se=_g(d,BM(l),null,l.onPush?64:16,d[20],k,h,me,m||null,null);return _.firstCreatePass&&(Vt(vn(k,d),_,l.type),WM(_,k),YM(k,d.length,1)),zy(d,Se),d[20]=Se}(me,this.componentDef,Xe,_,k);if(me)if(h)uc(k,me,["ng-version",hf.full]);else{const{attrs:wt,classes:Yt}=function(u){const l=[],d=[];let h=1,p=2;for(;h<u.length;){let m=u[h];if("string"==typeof m)2===p?""!==m&&l.push(m,u[++h]):8===p&&d.push(m);else{if(!no(p))break;p=m}h++}return{attrs:l,classes:d}}(this.componentDef.selectors[0]);wt&&uc(k,me,wt),Yt&&Yt.length>0&&mg(k,me,Yt.join(" "))}if(ut=th(Ge,20),void 0!==d){const wt=ut.projection=[];for(let Yt=0;Yt<this.ngContentSelectors.length;Yt++){const un=d[Yt];wt.push(null!=un?Array.from(un):null)}}yt=function(u,l,d,h,p){const m=d[1],_=function(u,l,d){const h=Jn();u.firstCreatePass&&(d.providersResolver&&d.providersResolver(d),ZM(u,h,l,kc(u,l,1,null),d));const p=Yn(l,u,h.directiveStart,h);oi(p,l);const m=ni(h,l);return m&&oi(m,l),p}(m,d,l);if(h.components.push(_),u[8]=_,p&&p.forEach(k=>k(_,l)),l.contentQueries){const k=Jn();l.contentQueries(1,_,k.directiveStart)}const w=Jn();return!m.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(es(w.index),zM(d[1],w,0,w.directiveStart,w.directiveEnd,l),qM(l,_)),_}(It,this.componentDef,Xe,ke,[ZC]),bg(Ge,Xe,null)}finally{Qa()}return new XR(this.componentType,yt,ya(ut,Xe),Xe,ut)}}class XR extends class{}{constructor(l,d,h,p,m){super(),this.location=h,this._rootLView=p,this._tNode=m,this.instance=d,this.hostView=this.changeDetectorRef=new EA(p),this.componentType=l}get injector(){return new ts(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}const Aa=new Map;class If extends Hs{constructor(l,d){super(),this._parent=d,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ab(this);const h=st(l),p=l[Ft]||null;p&&co(p),this._bootstrapComponents=Ds(h.bootstrap),this._r3Injector=Yy(l,d,[{provide:Hs,useValue:this},{provide:mu,useValue:this.componentFactoryResolver}],K(l)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(l)}get(l,d=Un.THROW_IF_NOT_FOUND,h=be.Default){return l===Un||l===Hs||l===cl?this:this._r3Injector.get(l,d,h)}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class xb extends am{constructor(l){super(),this.moduleType=l,null!==st(l)&&function(u){const l=new Set;!function d(h){const p=st(h,!0),m=p.id;null!==m&&(function(u,l,d){if(l&&l!==d)throw new Error(`Duplicate module registered for ${u} - ${K(l)} vs ${K(l.name)}`)}(m,Aa.get(m),h),Aa.set(m,h));const _=Ds(p.imports);for(const w of _)l.has(w)||(l.add(w),d(w))}(u)}(l)}create(l){return new If(this.moduleType,l)}}function br(u,l,d){const h=ur()+u,p=Et();return p[h]===hn?Os(p,h,d?l.call(d):l()):function(u,l){return u[l]}(p,h)}function Ib(u,l,d,h){return js(Et(),ur(),u,l,d,h)}function js(u,l,d,h,p,m){const _=l+d;return Mi(u,_,p)?Os(u,_+1,m?h.call(m,p):h(p)):function(u,l){const d=u[l];return d===hn?void 0:d}(u,_+1)}function Ob(u,l){const d=wn();let h;const p=u+20;d.firstCreatePass?(h=function(u,l){if(l)for(let d=l.length-1;d>=0;d--){const h=l[d];if(u===h.name)return h}throw new re("302",`The pipe '${u}' could not be found!`)}(l,d.pipeRegistry),d.data[p]=h,h.onDestroy&&(d.destroyHooks||(d.destroyHooks=[])).push(p,h.onDestroy)):h=d.data[p];const m=h.factory||(h.factory=_s(h.type)),_=at(Qh);try{const w=_e(!1),k=m();return _e(w),function(u,l,d,h){d>=u.data.length&&(u.data[d]=null,u.blueprint[d]=null),l[d]=h}(d,Et(),p,k),k}finally{at(_)}}function Pf(u,l,d){const h=u+20,p=Et(),m=ws(p,h);return function(u,l){xo.isWrapped(l)&&(l=xo.unwrap(l),u[Ji()]=hn);return l}(p,function(u,l){return u[1].data[l].pure}(p,h)?js(p,ur(),l,m.transform,d,m):m.transform(d))}function Rm(u){return l=>{setTimeout(u,void 0,l)}}const Vo=class extends a.xQ{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,d,h){var p,m,_;let w=l,k=d||(()=>null),le=h;if(l&&"object"==typeof l){const Se=l;w=null===(p=Se.next)||void 0===p?void 0:p.bind(Se),k=null===(m=Se.error)||void 0===m?void 0:m.bind(Se),le=null===(_=Se.complete)||void 0===_?void 0:_.bind(Se)}this.__isAsync&&(k=Rm(k),w&&(w=Rm(w)),le&&(le=Rm(le)));const me=super.subscribe({next:w,error:k,complete:le});return l instanceof H.w&&l.add(me),me}};function Nb(){return this._results[Gh()]()}class ad{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=Gh(),h=ad.prototype;h[d]||(h[d]=Nb)}get changes(){return this._changes||(this._changes=new Vo)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,d){return this._results.reduce(l,d)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,d){const h=this;h.dirty=!1;const p=Mo(l);(this._changesDetected=!function(u,l,d){if(u.length!==l.length)return!1;for(let h=0;h<u.length;h++){let p=u[h],m=l[h];if(d&&(p=d(p),m=d(m)),m!==p)return!1}return!0}(h._results,p,d))&&(h._results=p,h.length=p.length,h.last=p[this.length-1],h.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Ta{constructor(l){this.queryList=l,this.matches=null}clone(){return new Ta(this.queryList)}setDirty(){this.queryList.setDirty()}}class Im{constructor(l=[]){this.queries=l}createEmbeddedView(l){const d=l.queries;if(null!==d){const h=null!==l.contentQueries?l.contentQueries[0]:d.length,p=[];for(let m=0;m<h;m++){const _=d.getByIndex(m);p.push(this.queries[_.indexInDeclarationView].clone())}return new Im(p)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let d=0;d<this.queries.length;d++)null!==u1(l,d).matches&&this.queries[d].setDirty()}}class Bb{constructor(l,d,h=null){this.predicate=l,this.flags=d,this.read=h}}class Pm{constructor(l=[]){this.queries=l}elementStart(l,d){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(l,d)}elementEnd(l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(l)}embeddedTView(l){let d=null;for(let h=0;h<this.length;h++){const p=null!==d?d.length:0,m=this.getByIndex(h).embeddedTView(l,p);m&&(m.indexInDeclarationView=h,null!==d?d.push(m):d=[m])}return null!==d?new Pm(d):null}template(l,d){for(let h=0;h<this.queries.length;h++)this.queries[h].template(l,d)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class Om{constructor(l,d=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(l,d){this.isApplyingToNode(d)&&this.matchTNode(l,d)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,d){this.elementStart(l,d)}embeddedTView(l,d){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,d),new Om(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let h=l.parent;for(;null!==h&&8&h.type&&h.index!==d;)h=h.parent;return d===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(l,d){const h=this.metadata.predicate;if(Array.isArray(h))for(let p=0;p<h.length;p++){const m=h[p];this.matchTNodeWithReadOption(l,d,Fm(d,m)),this.matchTNodeWithReadOption(l,d,ua(d,l,m,!1,!1))}else h===qc?4&d.type&&this.matchTNodeWithReadOption(l,d,-1):this.matchTNodeWithReadOption(l,d,ua(d,l,h,!1,!1))}matchTNodeWithReadOption(l,d,h){if(null!==h){const p=this.metadata.read;if(null!==p)if(p===Lo||p===um||p===qc&&4&d.type)this.addMatch(d.index,-2);else{const m=ua(d,l,p,!1,!1);null!==m&&this.addMatch(d.index,m)}else this.addMatch(d.index,h)}}addMatch(l,d){null===this.matches?this.matches=[l,d]:this.matches.push(l,d)}}function Fm(u,l){const d=u.localNames;if(null!==d)for(let h=0;h<d.length;h+=2)if(d[h]===l)return d[h+1];return null}function cE(u,l,d,h){return-1===d?function(u,l){return 11&u.type?ya(u,l):4&u.type?mf(u,l):null}(l,u):-2===d?function(u,l,d){return d===Lo?ya(l,u):d===qc?mf(l,u):d===um?Wc(l,u):void 0}(u,l,h):Yn(u,u[1],d,l)}function xl(u,l,d,h){const p=l[19].queries[h];if(null===p.matches){const m=u.data,_=d.matches,w=[];for(let k=0;k<_.length;k+=2){const le=_[k];w.push(le<0?null:cE(l,m[le],_[k+1],d.metadata.read))}p.matches=w}return p.matches}function Lm(u,l,d,h){const p=u.queries.getByIndex(d),m=p.matches;if(null!==m){const _=xl(u,l,p,d);for(let w=0;w<m.length;w+=2){const k=m[w];if(k>0)h.push(_[w/2]);else{const le=m[w+1],me=l[-k];for(let Se=10;Se<me.length;Se++){const ke=me[Se];ke[17]===ke[3]&&Lm(ke[1],ke,le,h)}if(null!==me[9]){const Se=me[9];for(let ke=0;ke<Se.length;ke++){const Ge=Se[ke];Lm(Ge[1],Ge,le,h)}}}}}return h}function Vb(u){const l=Et(),d=wn(),h=Lp();Gu(h+1);const p=u1(d,h);if(u.dirty&&Ip(l)===(2==(2&p.metadata.flags))){if(null===p.matches)u.reset([]);else{const m=p.crossesNgTemplate?Lm(d,l,h,[]):xl(d,l,p,h);u.reset(m,Me),u.notifyOnChanges()}return!0}return!1}function Of(u,l,d){const h=wn();h.firstCreatePass&&(ud(h,new Bb(u,l,d),-1),2==(2&l)&&(h.staticViewQueries=!0)),jb(h,Et(),l)}function Ub(u,l,d,h){const p=wn();if(p.firstCreatePass){const m=Jn();ud(p,new Bb(l,d,h),m.index),function(u,l){const d=u.contentQueries||(u.contentQueries=[]);l!==(d.length?d[d.length-1]:-1)&&d.push(u.queries.length-1,l)}(p,u),2==(2&d)&&(p.staticContentQueries=!0)}jb(p,Et(),d)}function Hb(){return u=Et(),l=Lp(),u[19].queries[l].queryList;var u,l}function jb(u,l,d){const h=new ad(4==(4&d));HM(u,l,h,h.destroy),null===l[19]&&(l[19]=new Im),l[19].queries.push(new Ta(h))}function ud(u,l,d){null===u.queries&&(u.queries=new Pm),u.queries.track(new Om(l,d))}function u1(u,l){return u.queries.getByIndex(l)}function l1(u,l){return mf(u,l)}const hd=new cr("Application Initializer");let Cu=(()=>{class u{constructor(d){this.appInits=d,this.resolve=ai,this.reject=ai,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,p)=>{this.resolve=h,this.reject=p})}runInitializers(){if(this.initialized)return;const d=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const m=this.appInits[p]();if(Ug(m))d.push(m);else if(ef(m)){const _=new Promise((w,k)=>{m.subscribe({complete:w,error:k})});d.push(_)}}Promise.all(d).then(()=>{h()}).catch(p=>{this.reject(p)}),0===d.length&&h(),this.initialized=!0}}return u.\u0275fac=function(d){return new(d||u)(Xn(hd,8))},u.\u0275prov=ge({token:u,factory:u.\u0275fac}),u})();const jm=new cr("AppId"),fd={provide:jm,useFactory:function(){return`${Hi()}${Hi()}${Hi()}`},deps:[]};function Hi(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const n0=new cr("Platform Initializer"),pd=new cr("Platform ID"),r0=new cr("appBootstrapListener");let gd=(()=>{class u{log(d){console.log(d)}warn(d){console.warn(d)}}return u.\u0275fac=function(d){return new(d||u)},u.\u0275prov=ge({token:u,factory:u.\u0275fac}),u})();const Gf=new cr("LocaleId"),_E=new cr("DefaultCurrencyCode");class bE{constructor(l,d){this.ngModuleFactory=l,this.componentFactories=d}}const Wm=function(u){return new xb(u)},Nl=Wm,wE=function(u){return Promise.resolve(Wm(u))},vd=function(u){const l=Wm(u),h=Ds(st(u).declarations).reduce((p,m)=>{const _=Ye(m);return _&&p.push(new Mb(_)),p},[]);return new bE(l,h)},T1=vd,Ym=function(u){return Promise.resolve(vd(u))};let qf=(()=>{class u{constructor(){this.compileModuleSync=Nl,this.compileModuleAsync=wE,this.compileModuleAndAllComponentsSync=T1,this.compileModuleAndAllComponentsAsync=Ym}clearCache(){}clearCacheFor(d){}getModuleId(d){}}return u.\u0275fac=function(d){return new(d||u)},u.\u0275prov=ge({token:u,factory:u.\u0275fac}),u})();const CE=(()=>Promise.resolve(0))();function Zm(u){"undefined"==typeof Zone?CE.then(()=>{u&&u.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",u)}class Tr{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Vo(!1),this.onMicrotaskEmpty=new Vo(!1),this.onStable=new Vo(!1),this.onError=new Vo(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!h&&d,p.shouldCoalesceRunChangeDetection=h,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function(){let u=$e.requestAnimationFrame,l=$e.cancelAnimationFrame;if("undefined"!=typeof Zone&&u&&l){const d=u[Zone.__symbol__("OriginalDelegate")];d&&(u=d);const h=l[Zone.__symbol__("OriginalDelegate")];h&&(l=h)}return{nativeRequestAnimationFrame:u,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function(u){const l=()=>{!function(u){u.isCheckStableRunning||-1!==u.lastRequestAnimationFrameId||(u.lastRequestAnimationFrameId=u.nativeRequestAnimationFrame.call($e,()=>{u.fakeTopEventTask||(u.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{u.lastRequestAnimationFrameId=-1,Dn(u),u.isCheckStableRunning=!0,$m(u),u.isCheckStableRunning=!1},void 0,()=>{},()=>{})),u.fakeTopEventTask.invoke()}),Dn(u))}(u)};u._inner=u._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,h,p,m,_,w)=>{try{return yd(u),d.invokeTask(p,m,_,w)}finally{(u.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||u.shouldCoalesceRunChangeDetection)&&l(),Qm(u)}},onInvoke:(d,h,p,m,_,w,k)=>{try{return yd(u),d.invoke(p,m,_,w,k)}finally{u.shouldCoalesceRunChangeDetection&&l(),Qm(u)}},onHasTask:(d,h,p,m)=>{d.hasTask(p,m),h===p&&("microTask"==m.change?(u._hasPendingMicrotasks=m.microTask,Dn(u),$m(u)):"macroTask"==m.change&&(u.hasPendingMacrotasks=m.macroTask))},onHandleError:(d,h,p,m)=>(d.handleError(p,m),u.runOutsideAngular(()=>u.onError.emit(m)),!1)})}(p)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Tr.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Tr.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(l,d,h){return this._inner.run(l,d,h)}runTask(l,d,h,p){const m=this._inner,_=m.scheduleEventTask("NgZoneEvent: "+p,l,SE,ai,ai);try{return m.runTask(_,d,h)}finally{m.cancelTask(_)}}runGuarded(l,d,h){return this._inner.runGuarded(l,d,h)}runOutsideAngular(l){return this._outer.run(l)}}const SE={};function $m(u){if(0==u._nesting&&!u.hasPendingMicrotasks&&!u.isStable)try{u._nesting++,u.onMicrotaskEmpty.emit(null)}finally{if(u._nesting--,!u.hasPendingMicrotasks)try{u.runOutsideAngular(()=>u.onStable.emit(null))}finally{u.isStable=!0}}}function Dn(u){u.hasPendingMicrotasks=!!(u._hasPendingMicrotasks||(u.shouldCoalesceEventChangeDetection||u.shouldCoalesceRunChangeDetection)&&-1!==u.lastRequestAnimationFrameId)}function yd(u){u._nesting++,u.isStable&&(u.isStable=!1,u.onUnstable.emit(null))}function Qm(u){u._nesting--,$m(u)}class M1{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Vo,this.onMicrotaskEmpty=new Vo,this.onStable=new Vo,this.onError=new Vo}run(l,d,h){return l.apply(d,h)}runGuarded(l,d,h){return l.apply(d,h)}runOutsideAngular(l){return l()}runTask(l,d,h,p){return l.apply(d,h)}}let a0=(()=>{class u{constructor(d){this._ngZone=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Tr.assertNotInAngularZone(),Zm(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Zm(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(d)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,h,p){let m=-1;h&&h>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==m),d(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:d,timeoutId:m,updateCb:p})}whenStable(d,h,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,h,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(d,h,p){return[]}}return u.\u0275fac=function(d){return new(d||u)(Xn(Tr))},u.\u0275prov=ge({token:u,factory:u.\u0275fac}),u})(),u0=(()=>{class u{constructor(){this._applications=new Map,zs.addToWindow(this)}registerApplication(d,h){this._applications.set(d,h)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,h=!0){return zs.findTestabilityInTree(this,d,h)}}return u.\u0275fac=function(d){return new(d||u)},u.\u0275prov=ge({token:u,factory:u.\u0275fac}),u})();class bi{addToWindow(l){}findTestabilityInTree(l,d,h){return null}}function Km(u){zs=u}let zs=new bi,Mr=!0,l0=!1;function c0(){return l0=!0,Mr}function jo(){if(l0)throw new Error("Cannot enable prod mode after platform setup.");Mr=!1}let ps;const Yf=new cr("AllowMultipleToken");class DE{constructor(l,d){this.name=l,this.token=d}}function f0(u,l,d=[]){const h=`Platform: ${l}`,p=new cr(h);return(m=[])=>{let _=p0();if(!_||_.injector.get(Yf,!1))if(u)u(d.concat(m).concat({provide:p,useValue:!0}));else{const w=d.concat(m).concat({provide:p,useValue:!0},{provide:io,useValue:"platform"});!function(u){if(ps&&!ps.destroyed&&!ps.injector.get(Yf,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ps=u.get(kE);const l=u.get(n0,null);l&&l.forEach(d=>d())}(Un.create({providers:w,name:h}))}return function(u){const l=p0();if(!l)throw new Error("No platform exists!");if(!l.injector.get(u,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return l}(p)}}function p0(){return ps&&!ps.destroyed?ps:null}let kE=(()=>{class u{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,h){const w=function(u,l){let d;return d="noop"===u?new M1:("zone.js"===u?void 0:u)||new Tr({enableLongStackTrace:c0(),shouldCoalesceEventChangeDetection:!!(null==l?void 0:l.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==l?void 0:l.ngZoneRunCoalescing)}),d}(h?h.ngZone:void 0,{ngZoneEventCoalescing:h&&h.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:h&&h.ngZoneRunCoalescing||!1}),k=[{provide:Tr,useValue:w}];return w.run(()=>{const le=Un.create({providers:k,parent:this.injector,name:d.moduleType.name}),me=d.create(le),Se=me.injector.get(Dc,null);if(!Se)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return w.runOutsideAngular(()=>{const ke=w.onError.subscribe({next:Ge=>{Se.handleError(Ge)}});me.onDestroy(()=>{g0(this._modules,me),ke.unsubscribe()})}),function(u,l,d){try{const h=d();return Ug(h)?h.catch(p=>{throw l.runOutsideAngular(()=>u.handleError(p)),p}):h}catch(h){throw l.runOutsideAngular(()=>u.handleError(h)),h}}(Se,w,()=>{const ke=me.injector.get(Cu);return ke.runInitializers(),ke.donePromise.then(()=>(co(me.injector.get(Gf,Kg)||Kg),this._moduleDoBootstrap(me),me))})})}bootstrapModule(d,h=[]){const p=_d({},h);return function(u,l,d){const h=new xb(d);return Promise.resolve(h)}(0,0,d).then(m=>this.bootstrapModuleFactory(m,p))}_moduleDoBootstrap(d){const h=d.injector.get(bd);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(p=>h.bootstrap(p));else{if(!d.instance.ngDoBootstrap)throw new Error(`The module ${K(d.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);d.instance.ngDoBootstrap(h)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d()),this._destroyed=!0}get destroyed(){return this._destroyed}}return u.\u0275fac=function(d){return new(d||u)(Xn(Un))},u.\u0275prov=ge({token:u,factory:u.\u0275fac}),u})();function _d(u,l){return Array.isArray(l)?l.reduce(_d,u):Object.assign(Object.assign({},u),l)}let bd=(()=>{class u{constructor(d,h,p,m,_){this._zone=d,this._injector=h,this._exceptionHandler=p,this._componentFactoryResolver=m,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const w=new G.y(le=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{le.next(this._stable),le.complete()})}),k=new G.y(le=>{let me;this._zone.runOutsideAngular(()=>{me=this._zone.onStable.subscribe(()=>{Tr.assertNotInAngularZone(),Zm(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,le.next(!0))})})});const Se=this._zone.onUnstable.subscribe(()=>{Tr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{le.next(!1)}))});return()=>{me.unsubscribe(),Se.unsubscribe()}});this.isStable=(0,ie.T)(w,k.pipe((0,V.B)()))}bootstrap(d,h){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let p;p=d instanceof jn?d:this._componentFactoryResolver.resolveComponentFactory(d),this.componentTypes.push(p.componentType);const m=function(u){return u.isBoundToModule}(p)?void 0:this._injector.get(Hs),w=p.create(Un.NULL,[],h||p.selector,m),k=w.location.nativeElement,le=w.injector.get(a0,null),me=le&&w.injector.get(u0);return le&&me&&me.registerApplication(k,le),w.onDestroy(()=>{this.detachView(w.hostView),g0(this.components,w),me&&me.unregisterApplication(k)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(d))}finally{this._runningTick=!1}}attachView(d){const h=d;this._views.push(h),h.attachToAppRef(this)}detachView(d){const h=d;g0(this._views,h),h.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d),this._injector.get(r0,[]).concat(this._bootstrapListeners).forEach(p=>p(d))}ngOnDestroy(){this._views.slice().forEach(d=>d.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return u.\u0275fac=function(d){return new(d||u)(Xn(Tr),Xn(Un),Xn(Dc),Xn(mu),Xn(Cu))},u.\u0275prov=ge({token:u,factory:u.\u0275fac}),u})();function g0(u,l){const d=u.indexOf(l);d>-1&&u.splice(d,1)}class RE{}class PE{}const OE={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let ev=(()=>{class u{constructor(d,h){this._compiler=d,this._config=h||OE}load(d){return this.loadAndCompile(d)}loadAndCompile(d){let[h,p]=d.split("#");return void 0===p&&(p="default"),y(8255)(h).then(m=>m[p]).then(m=>y0(m,h,p)).then(m=>this._compiler.compileModuleAsync(m))}loadFactory(d){let[h,p]=d.split("#"),m="NgFactory";return void 0===p&&(p="default",m=""),y(8255)(this._config.factoryPathPrefix+h+this._config.factoryPathSuffix).then(_=>_[p+m]).then(_=>y0(_,h,p))}}return u.\u0275fac=function(d){return new(d||u)(Xn(qf),Xn(PE,8))},u.\u0275prov=ge({token:u,factory:u.\u0275fac}),u})();function y0(u,l,d){if(!u)throw new Error(`Cannot find '${d}' in '${l}'`);return u}const fr=function(u){return null},Ad=f0(null,"core",[{provide:pd,useValue:"unknown"},{provide:kE,deps:[Un]},{provide:u0,deps:[]},{provide:gd,deps:[]}]),Ot=[{provide:bd,useClass:bd,deps:[Tr,Un,Dc,mu,Cu]},{provide:Db,deps:[Tr],useFactory:function(u){let l=[];return u.onStable.subscribe(()=>{for(;l.length;)l.pop()()}),function(d){l.push(d)}}},{provide:Cu,useClass:Cu,deps:[[new tu,hd]]},{provide:qf,useClass:qf,deps:[]},fd,{provide:pf,useFactory:function(){return xA},deps:[]},{provide:gf,useFactory:function(){return ob},deps:[]},{provide:Gf,useFactory:function(u){return co(u=u||"undefined"!=typeof $localize&&$localize.locale||Kg),u},deps:[[new Qu(Gf),new tu,new ii]]},{provide:_E,useValue:"USD"}];let Td=(()=>{class u{constructor(d){}}return u.\u0275fac=function(d){return new(d||u)(Xn(bd))},u.\u0275mod=Si({type:u}),u.\u0275inj=Ce({providers:Ot}),u})()},57:(ve,I,y)=>{"use strict";y.d(I,{hO:()=>N,xv:()=>z,Dh:()=>L,HU:()=>X,GT:()=>re,sI:()=>ae,on:()=>C,ss:()=>D,pX:()=>ce,yq:()=>R});var a=y(7771),H=y(3637),G=y(3342),ie=y(9673),V=y(9746),oe=y(7716),J=y(2329);function K(){}ve=y.hmd(ve);class he{constructor(ne,x=a.N){this.zone=ne,this.delegate=x}now(){return this.delegate.now()}schedule(ne,x,F){const ee=this.zone;return this.delegate.schedule(function(P){ee.runGuarded(()=>{ne.apply(this,[P])})},x,F)}}class U{constructor(ne){this.zone=ne,this.task=null}call(ne,x){const F=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",K,{},K,K)),x.pipe((0,G.b)({next:F,complete:F,error:F})).subscribe(ne).add(F)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class X{constructor(ne){this.ngZone=ne,this.outsideAngular=ne.runOutsideAngular(()=>new he(Zone.current)),this.insideAngular=ne.run(()=>new he(Zone.current,H.z))}}function D(T){return function(x){return(x=x.lift(new U(T.ngZone))).pipe((0,ie.R)(T.outsideAngular),(0,V.QV)(T.insideAngular))}}const te=["ngOnDestroy"],ce=(T,ne,x,F={})=>new Proxy(T,{get:(ee,M)=>x.runOutsideAngular(()=>{var P;if(T[M])return(null===(P=null==F?void 0:F.spy)||void 0===P?void 0:P.get)&&F.spy.get(M,T[M]),T[M];if(te.indexOf(M)>-1)return()=>{};const Y=ne.toPromise().then(j=>{const A=j&&j[M];return"function"==typeof A?A.bind(j):A&&A.then?A.then(Z=>x.run(()=>Z)):x.run(()=>A)});return new Proxy(()=>{},{get:(j,A)=>Y[A],apply:(j,A,Z)=>Y.then($=>{var Q;const de=$&&$(...Z);return(null===(Q=null==F?void 0:F.spy)||void 0===Q?void 0:Q.apply)&&F.spy.apply(M,Z,de),de})})})}),re=(T,ne)=>{ne.forEach(x=>{Object.getOwnPropertyNames(x.prototype||x).forEach(F=>{Object.defineProperty(T.prototype,F,Object.getOwnPropertyDescriptor(x.prototype||x,F))})})},L=new oe.OlP("angularfire2.app.options"),z=new oe.OlP("angularfire2.app.nameOrConfig"),B=new oe.GfV("6.1.5");function C(T,ne,x){const ee="object"==typeof x&&x||{};ee.name=ee.name||"string"==typeof x&&x||"[DEFAULT]";const P=J.Z.apps.filter(Y=>Y&&Y.name===ee.name)[0]||ne.runOutsideAngular(()=>J.Z.initializeApp(T,ee));try{JSON.stringify(T)!==JSON.stringify(P.options)&&O("error",`${P.name} Firebase App already initialized with different options${ve.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Y){}return P}const R=()=>{O("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},O=(T,...ne)=>{(0,oe.X6Q)()&&"undefined"!=typeof console&&console[T](...ne)};function ae(T,ne,x,F,ee){const[M,...P]=globalThis.\u0275AngularfireInstanceCache.get(T)||[];if(M){try{ee.some((Y,j)=>{const A=P[j];return Y&&"object"==typeof Y?JSON.stringify(Y)!==JSON.stringify(A):Y!==A})&&O("error",`${ne} was already initialized on the ${x.name} Firebase App instance with different settings.${ve.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(Y){}return M}{const Y=F();return globalThis.\u0275AngularfireInstanceCache.set(T,[Y,...ee]),Y}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const ue={provide:class{},useFactory:C,deps:[L,oe.R0b,[new oe.FiY,z]]};let N=(()=>{class T{constructor(x){J.Z.registerVersion("angularfire",B.full,x.toString()),J.Z.registerVersion("angular",oe.q4F.full)}static initializeApp(x,F){return{ngModule:T,providers:[{provide:L,useValue:x},{provide:z,useValue:F}]}}}return T.\u0275fac=function(x){return new(x||T)(oe.LFG(oe.Lbi))},T.\u0275mod=oe.oAB({type:T}),T.\u0275inj=oe.cJS({providers:[ue]}),T})()},9759:(ve,I,y)=>{"use strict";y.d(I,{Z:()=>Z});var V,O,a=y(4762),H=y(4685),G=y(6034),ie=y(300),oe=((V={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",V["bad-app-name"]="Illegal App name: '{$appName}",V["duplicate-app"]="Firebase App named '{$appName}' already exists",V["app-deleted"]="Firebase App named '{$appName}' already deleted",V["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",V["invalid-log-argument"]="First argument to `onLog` must be null or a function.",V),J=new H.LL("app","Firebase",oe),K="@firebase/app",se="[DEFAULT]",ae=((O={})[K]="fire-core",O["@firebase/analytics"]="fire-analytics",O["@firebase/app-check"]="fire-app-check",O["@firebase/auth"]="fire-auth",O["@firebase/database"]="fire-rtdb",O["@firebase/functions"]="fire-fn",O["@firebase/installations"]="fire-iid",O["@firebase/messaging"]="fire-fcm",O["@firebase/performance"]="fire-perf",O["@firebase/remote-config"]="fire-rc",O["@firebase/storage"]="fire-gcs",O["@firebase/firestore"]="fire-fst",O["fire-js"]="fire-js",O["firebase-wrapper"]="fire-js-all",O),ue=new ie.Yd("@firebase/app"),N=function(){function $(Q,de,fe){var ge=this;this.firebase_=fe,this.isDeleted_=!1,this.name_=de.name,this.automaticDataCollectionEnabled_=de.automaticDataCollectionEnabled||!1,this.options_=(0,H.p$)(Q),this.container=new G.H0(de.name),this._addComponent(new G.wA("app",function(){return ge},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(ye){return ge._addComponent(ye)})}return Object.defineProperty($.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(Q){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=Q},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty($.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),$.prototype.delete=function(){var Q=this;return new Promise(function(de){Q.checkDestroyed_(),de()}).then(function(){return Q.firebase_.INTERNAL.removeApp(Q.name_),Promise.all(Q.container.getProviders().map(function(de){return de.delete()}))}).then(function(){Q.isDeleted_=!0})},$.prototype._getService=function(Q,de){var fe;void 0===de&&(de=se),this.checkDestroyed_();var ge=this.container.getProvider(Q);return!ge.isInitialized()&&"EXPLICIT"===(null===(fe=ge.getComponent())||void 0===fe?void 0:fe.instantiationMode)&&ge.initialize(),ge.getImmediate({identifier:de})},$.prototype._removeServiceInstance=function(Q,de){void 0===de&&(de=se),this.container.getProvider(Q).clearInstance(de)},$.prototype._addComponent=function(Q){try{this.container.addComponent(Q)}catch(de){ue.debug("Component "+Q.name+" failed to register with FirebaseApp "+this.name,de)}},$.prototype._addOrOverwriteComponent=function(Q){this.container.addOrOverwriteComponent(Q)},$.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},$.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw J.create("app-deleted",{appName:this.name_})},$}();N.prototype.name&&N.prototype.options||N.prototype.delete||console.log("dc");var F=function x(){var $=function($){var Q={},de=new Map,fe={__esModule:!0,initializeApp:function(Ke,et){void 0===et&&(et={}),("object"!=typeof et||null===et)&&(et={name:et});var He=et;void 0===He.name&&(He.name=se);var be=He.name;if("string"!=typeof be||!be)throw J.create("bad-app-name",{appName:String(be)});if((0,H.r3)(Q,be))throw J.create("duplicate-app",{appName:be});var Ie=new $(Ke,He,fe);return Q[be]=Ie,Ie},app:ye,registerVersion:function(Ke,et,Ne){var He,be=null!==(He=ae[Ke])&&void 0!==He?He:Ke;Ne&&(be+="-"+Ne);var Ie=be.match(/\s|\//),Fe=et.match(/\s|\//);if(Ie||Fe){var at=['Unable to register library "'+be+'" with version "'+et+'":'];return Ie&&at.push('library name "'+be+'" contains illegal characters (whitespace or "/")'),Ie&&Fe&&at.push("and"),Fe&&at.push('version name "'+et+'" contains illegal characters (whitespace or "/")'),void ue.warn(at.join(" "))}xe(new G.wA(be+"-version",function(){return{library:be,version:et}},"VERSION"))},setLogLevel:ie.Ub,onLog:function(Ke,et){if(null!==Ke&&"function"!=typeof Ke)throw J.create("invalid-log-argument");(0,ie.Am)(Ke,et)},apps:null,SDK_VERSION:"8.8.1",INTERNAL:{registerComponent:xe,removeApp:function(Ke){delete Q[Ke]},components:de,useAsService:function(Ke,et){return"serverAuth"===et?null:et}}};function ye(Ke){if(!(0,H.r3)(Q,Ke=Ke||se))throw J.create("no-app",{appName:Ke});return Q[Ke]}function xe(Ke){var et=Ke.name;if(de.has(et))return ue.debug("There were multiple attempts to register component "+et+"."),"PUBLIC"===Ke.type?fe[et]:null;if(de.set(et,Ke),"PUBLIC"===Ke.type){var Ne=function(Fe){if(void 0===Fe&&(Fe=ye()),"function"!=typeof Fe[et])throw J.create("invalid-app-argument",{appName:et});return Fe[et]()};void 0!==Ke.serviceProps&&(0,H.ZB)(Ne,Ke.serviceProps),fe[et]=Ne,$.prototype[et]=function(){for(var Fe=[],at=0;at<arguments.length;at++)Fe[at]=arguments[at];return this._getService.bind(this,et).apply(this,Ke.multipleInstances?Fe:[])}}for(var He=0,be=Object.keys(Q);He<be.length;He++)Q[be[He]]._addComponent(Ke);return"PUBLIC"===Ke.type?fe[et]:null}return fe.default=fe,Object.defineProperty(fe,"apps",{get:function(){return Object.keys(Q).map(function(Ke){return Q[Ke]})}}),ye.App=$,fe}(N);return $.INTERNAL=(0,a.pi)((0,a.pi)({},$.INTERNAL),{createFirebaseNamespace:x,extendNamespace:function(de){(0,H.ZB)($,de)},createSubscribe:H.ne,ErrorFactory:H.LL,deepExtend:H.ZB}),$}(),ee=function(){function $(Q){this.container=Q}return $.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(de){if(function($){var Q=$.getComponent();return"VERSION"===(null==Q?void 0:Q.type)}(de)){var fe=de.getImmediate();return fe.library+"/"+fe.version}return null}).filter(function(de){return de}).join(" ")},$}();if((0,H.jU)()&&void 0!==self.firebase){ue.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Y=self.firebase.SDK_VERSION;Y&&Y.indexOf("LITE")>=0&&ue.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var j=F.initializeApp;F.initializeApp=function(){for(var $=[],Q=0;Q<arguments.length;Q++)$[Q]=arguments[Q];return(0,H.UG)()&&ue.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),j.apply(void 0,$)};var $,A=F;($=A).INTERNAL.registerComponent(new G.wA("platform-logger",function(de){return new ee(de)},"PRIVATE")),$.registerVersion(K,"0.6.29",undefined),$.registerVersion("fire-js","");const Z=A},6034:(ve,I,y)=>{"use strict";y.d(I,{wA:()=>G,H0:()=>K});var a=y(4762),H=y(4685),G=function(){function he(U,X,D){this.name=U,this.instanceFactory=X,this.type=D,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return he.prototype.setInstantiationMode=function(U){return this.instantiationMode=U,this},he.prototype.setMultipleInstances=function(U){return this.multipleInstances=U,this},he.prototype.setServiceProps=function(U){return this.serviceProps=U,this},he.prototype.setInstanceCreatedCallback=function(U){return this.onInstanceCreated=U,this},he}(),ie="[DEFAULT]",V=function(){function he(U,X){this.name=U,this.container=X,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return he.prototype.get=function(U){var X=this.normalizeInstanceIdentifier(U);if(!this.instancesDeferred.has(X)){var D=new H.BH;if(this.instancesDeferred.set(X,D),this.isInitialized(X)||this.shouldAutoInitialize())try{var te=this.getOrInitializeService({instanceIdentifier:X});te&&D.resolve(te)}catch(ce){}}return this.instancesDeferred.get(X).promise},he.prototype.getImmediate=function(U){var X,D=this.normalizeInstanceIdentifier(null==U?void 0:U.identifier),te=null!==(X=null==U?void 0:U.optional)&&void 0!==X&&X;if(!this.isInitialized(D)&&!this.shouldAutoInitialize()){if(te)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:D})}catch(ce){if(te)return null;throw ce}},he.prototype.getComponent=function(){return this.component},he.prototype.setComponent=function(U){var X,D;if(U.name!==this.name)throw Error("Mismatching Component "+U.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=U,this.shouldAutoInitialize()){if(function(he){return"EAGER"===he.instantiationMode}(U))try{this.getOrInitializeService({instanceIdentifier:ie})}catch(C){}try{for(var te=(0,a.XA)(this.instancesDeferred.entries()),ce=te.next();!ce.done;ce=te.next()){var re=(0,a.CR)(ce.value,2),z=re[1],E=this.normalizeInstanceIdentifier(re[0]);try{var B=this.getOrInitializeService({instanceIdentifier:E});z.resolve(B)}catch(C){}}}catch(C){X={error:C}}finally{try{ce&&!ce.done&&(D=te.return)&&D.call(te)}finally{if(X)throw X.error}}}},he.prototype.clearInstance=function(U){void 0===U&&(U=ie),this.instancesDeferred.delete(U),this.instances.delete(U)},he.prototype.delete=function(){return(0,a.mG)(this,void 0,void 0,function(){var U;return(0,a.Jh)(this,function(X){switch(X.label){case 0:return U=Array.from(this.instances.values()),[4,Promise.all((0,a.ev)((0,a.ev)([],(0,a.CR)(U.filter(function(D){return"INTERNAL"in D}).map(function(D){return D.INTERNAL.delete()}))),(0,a.CR)(U.filter(function(D){return"_delete"in D}).map(function(D){return D._delete()}))))];case 1:return X.sent(),[2]}})})},he.prototype.isComponentSet=function(){return null!=this.component},he.prototype.isInitialized=function(U){return void 0===U&&(U=ie),this.instances.has(U)},he.prototype.initialize=function(U){var X,D;void 0===U&&(U={});var te=U.options,ce=void 0===te?{}:te,re=this.normalizeInstanceIdentifier(U.instanceIdentifier);if(this.isInitialized(re))throw Error(this.name+"("+re+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var L=this.getOrInitializeService({instanceIdentifier:re,options:ce});try{for(var z=(0,a.XA)(this.instancesDeferred.entries()),E=z.next();!E.done;E=z.next()){var B=(0,a.CR)(E.value,2),R=B[1];re===this.normalizeInstanceIdentifier(B[0])&&R.resolve(L)}}catch(se){X={error:se}}finally{try{E&&!E.done&&(D=z.return)&&D.call(z)}finally{if(X)throw X.error}}return L},he.prototype.onInit=function(U,X){var D,te=this.normalizeInstanceIdentifier(X),ce=null!==(D=this.onInitCallbacks.get(te))&&void 0!==D?D:new Set;ce.add(U),this.onInitCallbacks.set(te,ce);var re=this.instances.get(te);return re&&U(re,te),function(){ce.delete(U)}},he.prototype.invokeOnInitCallbacks=function(U,X){var D,te,ce=this.onInitCallbacks.get(X);if(ce)try{for(var re=(0,a.XA)(ce),L=re.next();!L.done;L=re.next()){var z=L.value;try{z(U,X)}catch(E){}}}catch(E){D={error:E}}finally{try{L&&!L.done&&(te=re.return)&&te.call(re)}finally{if(D)throw D.error}}},he.prototype.getOrInitializeService=function(U){var X=U.instanceIdentifier,D=U.options,te=void 0===D?{}:D,ce=this.instances.get(X);if(!ce&&this.component&&(ce=this.component.instanceFactory(this.container,{instanceIdentifier:oe(X),options:te}),this.instances.set(X,ce),this.invokeOnInitCallbacks(ce,X),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,X,ce)}catch(re){}return ce||null},he.prototype.normalizeInstanceIdentifier=function(U){return void 0===U&&(U=ie),this.component?this.component.multipleInstances?U:ie:U},he.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},he}();function oe(he){return he===ie?void 0:he}var K=function(){function he(U){this.name=U,this.providers=new Map}return he.prototype.addComponent=function(U){var X=this.getProvider(U.name);if(X.isComponentSet())throw new Error("Component "+U.name+" has already been registered with "+this.name);X.setComponent(U)},he.prototype.addOrOverwriteComponent=function(U){this.getProvider(U.name).isComponentSet()&&this.providers.delete(U.name),this.addComponent(U)},he.prototype.getProvider=function(U){if(this.providers.has(U))return this.providers.get(U);var X=new V(U,this);return this.providers.set(U,X),X},he.prototype.getProviders=function(){return Array.from(this.providers.values())},he}()},300:(ve,I,y)=>{"use strict";function a(){for(var D=0,te=0,ce=arguments.length;te<ce;te++)D+=arguments[te].length;var re=Array(D),L=0;for(te=0;te<ce;te++)for(var z=arguments[te],E=0,B=z.length;E<B;E++,L++)re[L]=z[E];return re}y.d(I,{in:()=>ie,Yd:()=>he,Ub:()=>U,Am:()=>X});var H,G=[],ie=(()=>{return(D=ie||(ie={}))[D.DEBUG=0]="DEBUG",D[D.VERBOSE=1]="VERBOSE",D[D.INFO=2]="INFO",D[D.WARN=3]="WARN",D[D.ERROR=4]="ERROR",D[D.SILENT=5]="SILENT",ie;var D})(),V={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},oe=ie.INFO,J=((H={})[ie.DEBUG]="log",H[ie.VERBOSE]="log",H[ie.INFO]="info",H[ie.WARN]="warn",H[ie.ERROR]="error",H),K=function(D,te){for(var ce=[],re=2;re<arguments.length;re++)ce[re-2]=arguments[re];if(!(te<D.logLevel)){var L=(new Date).toISOString(),z=J[te];if(!z)throw new Error("Attempted to log a message with an invalid logType (value: "+te+")");console[z].apply(console,a(["["+L+"]  "+D.name+":"],ce))}},he=function(){function D(te){this.name=te,this._logLevel=oe,this._logHandler=K,this._userLogHandler=null,G.push(this)}return Object.defineProperty(D.prototype,"logLevel",{get:function(){return this._logLevel},set:function(te){if(!(te in ie))throw new TypeError('Invalid value "'+te+'" assigned to `logLevel`');this._logLevel=te},enumerable:!1,configurable:!0}),D.prototype.setLogLevel=function(te){this._logLevel="string"==typeof te?V[te]:te},Object.defineProperty(D.prototype,"logHandler",{get:function(){return this._logHandler},set:function(te){if("function"!=typeof te)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=te},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(te){this._userLogHandler=te},enumerable:!1,configurable:!0}),D.prototype.debug=function(){for(var te=[],ce=0;ce<arguments.length;ce++)te[ce]=arguments[ce];this._userLogHandler&&this._userLogHandler.apply(this,a([this,ie.DEBUG],te)),this._logHandler.apply(this,a([this,ie.DEBUG],te))},D.prototype.log=function(){for(var te=[],ce=0;ce<arguments.length;ce++)te[ce]=arguments[ce];this._userLogHandler&&this._userLogHandler.apply(this,a([this,ie.VERBOSE],te)),this._logHandler.apply(this,a([this,ie.VERBOSE],te))},D.prototype.info=function(){for(var te=[],ce=0;ce<arguments.length;ce++)te[ce]=arguments[ce];this._userLogHandler&&this._userLogHandler.apply(this,a([this,ie.INFO],te)),this._logHandler.apply(this,a([this,ie.INFO],te))},D.prototype.warn=function(){for(var te=[],ce=0;ce<arguments.length;ce++)te[ce]=arguments[ce];this._userLogHandler&&this._userLogHandler.apply(this,a([this,ie.WARN],te)),this._logHandler.apply(this,a([this,ie.WARN],te))},D.prototype.error=function(){for(var te=[],ce=0;ce<arguments.length;ce++)te[ce]=arguments[ce];this._userLogHandler&&this._userLogHandler.apply(this,a([this,ie.ERROR],te)),this._logHandler.apply(this,a([this,ie.ERROR],te))},D}();function U(D){G.forEach(function(te){te.setLogLevel(D)})}function X(D,te){for(var ce=function(E){var B=null;te&&te.level&&(B=V[te.level]),E.userLogHandler=null===D?null:function(C,R){for(var O=[],se=2;se<arguments.length;se++)O[se-2]=arguments[se];var ae=O.map(function(ue){if(null==ue)return null;if("string"==typeof ue)return ue;if("number"==typeof ue||"boolean"==typeof ue)return ue.toString();if(ue instanceof Error)return ue.message;try{return JSON.stringify(ue)}catch(N){return null}}).filter(function(ue){return ue}).join(" ");R>=(null!=B?B:C.logLevel)&&D({level:ie[R].toLowerCase(),message:ae,args:O,type:C.name})}},re=0,L=G;re<L.length;re++)ce(L[re])}},4685:(ve,I,y)=>{"use strict";y.d(I,{BH:()=>te,LL:()=>M,ZR:()=>ee,r3:()=>ge,Sg:()=>ce,ne:()=>Ne,p$:()=>U,ZB:()=>X,m9:()=>dt,z$:()=>re,jU:()=>E,ru:()=>B,d:()=>R,w1:()=>O,uI:()=>L,UG:()=>z,b$:()=>C,G6:()=>ue,Mn:()=>se});var a=y(4762),J={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(Ae,De){if(!Array.isArray(Ae))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var Be=De?this.byteToCharMapWebSafe_:this.byteToCharMap_,Je=[],Qe=0;Qe<Ae.length;Qe+=3){var St=Ae[Qe],Ft=Qe+1<Ae.length,zt=Ft?Ae[Qe+1]:0,rn=Qe+2<Ae.length,mn=rn?Ae[Qe+2]:0,Gn=(15&zt)<<2|mn>>6,pr=63&mn;rn||(pr=64,Ft||(Gn=64)),Je.push(Be[St>>2],Be[(3&St)<<4|zt>>4],Be[Gn],Be[pr])}return Je.join("")},encodeString:function(Ae,De){return this.HAS_NATIVE_SUPPORT&&!De?btoa(Ae):this.encodeByteArray(function(Ae){for(var De=[],Be=0,Je=0;Je<Ae.length;Je++){var Qe=Ae.charCodeAt(Je);Qe<128?De[Be++]=Qe:Qe<2048?(De[Be++]=Qe>>6|192,De[Be++]=63&Qe|128):55296==(64512&Qe)&&Je+1<Ae.length&&56320==(64512&Ae.charCodeAt(Je+1))?(Qe=65536+((1023&Qe)<<10)+(1023&Ae.charCodeAt(++Je)),De[Be++]=Qe>>18|240,De[Be++]=Qe>>12&63|128,De[Be++]=Qe>>6&63|128,De[Be++]=63&Qe|128):(De[Be++]=Qe>>12|224,De[Be++]=Qe>>6&63|128,De[Be++]=63&Qe|128)}return De}(Ae),De)},decodeString:function(Ae,De){return this.HAS_NATIVE_SUPPORT&&!De?atob(Ae):function(Ae){for(var De=[],Be=0,Je=0;Be<Ae.length;){var Qe=Ae[Be++];if(Qe<128)De[Je++]=String.fromCharCode(Qe);else if(Qe>191&&Qe<224){var St=Ae[Be++];De[Je++]=String.fromCharCode((31&Qe)<<6|63&St)}else if(Qe>239&&Qe<365){var rn=((7&Qe)<<18|(63&(St=Ae[Be++]))<<12|(63&(Ft=Ae[Be++]))<<6|63&Ae[Be++])-65536;De[Je++]=String.fromCharCode(55296+(rn>>10)),De[Je++]=String.fromCharCode(56320+(1023&rn))}else{St=Ae[Be++];var Ft=Ae[Be++];De[Je++]=String.fromCharCode((15&Qe)<<12|(63&St)<<6|63&Ft)}}return De.join("")}(this.decodeStringToByteArray(Ae,De))},decodeStringToByteArray:function(Ae,De){this.init_();for(var Be=De?this.charToByteMapWebSafe_:this.charToByteMap_,Je=[],Qe=0;Qe<Ae.length;){var St=Be[Ae.charAt(Qe++)],zt=Qe<Ae.length?Be[Ae.charAt(Qe)]:0,mn=++Qe<Ae.length?Be[Ae.charAt(Qe)]:64,Ln=++Qe<Ae.length?Be[Ae.charAt(Qe)]:64;if(++Qe,null==St||null==zt||null==mn||null==Ln)throw Error();Je.push(St<<2|zt>>4),64!==mn&&(Je.push(zt<<4&240|mn>>2),64!==Ln&&Je.push(mn<<6&192|Ln))}return Je},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var Ae=0;Ae<this.ENCODED_VALS.length;Ae++)this.byteToCharMap_[Ae]=this.ENCODED_VALS.charAt(Ae),this.charToByteMap_[this.byteToCharMap_[Ae]]=Ae,this.byteToCharMapWebSafe_[Ae]=this.ENCODED_VALS_WEBSAFE.charAt(Ae),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ae]]=Ae,Ae>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ae)]=Ae,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ae)]=Ae)}}};function U(Ae){return X(void 0,Ae)}function X(Ae,De){if(!(De instanceof Object))return De;switch(De.constructor){case Date:return new Date(De.getTime());case Object:void 0===Ae&&(Ae={});break;case Array:Ae=[];break;default:return De}for(var Je in De)!De.hasOwnProperty(Je)||!D(Je)||(Ae[Je]=X(Ae[Je],De[Je]));return Ae}function D(Ae){return"__proto__"!==Ae}var te=function(){function Ae(){var De=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(Be,Je){De.resolve=Be,De.reject=Je})}return Ae.prototype.wrapCallback=function(De){var Be=this;return function(Je,Qe){Je?Be.reject(Je):Be.resolve(Qe),"function"==typeof De&&(Be.promise.catch(function(){}),1===De.length?De(Je):De(Je,Qe))}},Ae}();function ce(Ae,De){if(Ae.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var Je=De||"demo-project",Qe=Ae.iat||0,St=Ae.sub||Ae.user_id;if(!St)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var Ft=(0,a.pi)({iss:"https://securetoken.google.com/"+Je,aud:Je,iat:Qe,exp:Qe+3600,auth_time:Qe,sub:St,user_id:St,firebase:{sign_in_provider:"custom",identities:{}}},Ae);return[J.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),J.encodeString(JSON.stringify(Ft),!1),""].join(".")}function re(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function L(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(re())}function z(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Ae){return!1}}function E(){return"object"==typeof self&&self.self===self}function B(){var Ae="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ae&&void 0!==Ae.id}function C(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function R(){return re().indexOf("Electron/")>=0}function O(){var Ae=re();return Ae.indexOf("MSIE ")>=0||Ae.indexOf("Trident/")>=0}function se(){return re().indexOf("MSAppHost/")>=0}function ue(){return!z()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var ee=function(Ae){function De(Be,Je,Qe){var St=Ae.call(this,Je)||this;return St.code=Be,St.customData=Qe,St.name="FirebaseError",Object.setPrototypeOf(St,De.prototype),Error.captureStackTrace&&Error.captureStackTrace(St,M.prototype.create),St}return(0,a.ZT)(De,Ae),De}(Error),M=function(){function Ae(De,Be,Je){this.service=De,this.serviceName=Be,this.errors=Je}return Ae.prototype.create=function(De){for(var Be=[],Je=1;Je<arguments.length;Je++)Be[Je-1]=arguments[Je];var Qe=Be[0]||{},St=this.service+"/"+De,Ft=this.errors[De],zt=Ft?P(Ft,Qe):"Error",rn=this.serviceName+": "+zt+" ("+St+").",mn=new ee(St,rn,Qe);return mn},Ae}();function P(Ae,De){return Ae.replace(Y,function(Be,Je){var Qe=De[Je];return null!=Qe?String(Qe):"<"+Je+"?>"})}var Y=/\{\$([^}]+)}/g;function ge(Ae,De){return Object.prototype.hasOwnProperty.call(Ae,De)}function Ne(Ae,De){var Be=new He(Ae,De);return Be.subscribe.bind(Be)}!function(){function Ae(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var De=1;De<this.blockSize;++De)this.pad_[De]=0;this.reset()}Ae.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},Ae.prototype.compress_=function(De,Be){Be||(Be=0);var Je=this.W_;if("string"==typeof De)for(var Qe=0;Qe<16;Qe++)Je[Qe]=De.charCodeAt(Be)<<24|De.charCodeAt(Be+1)<<16|De.charCodeAt(Be+2)<<8|De.charCodeAt(Be+3),Be+=4;else for(Qe=0;Qe<16;Qe++)Je[Qe]=De[Be]<<24|De[Be+1]<<16|De[Be+2]<<8|De[Be+3],Be+=4;for(Qe=16;Qe<80;Qe++)Je[Qe]=4294967295&((St=Je[Qe-3]^Je[Qe-8]^Je[Qe-14]^Je[Qe-16])<<1|St>>>31);var Ln,Gn,Ft=this.chain_[0],zt=this.chain_[1],rn=this.chain_[2],mn=this.chain_[3],Mn=this.chain_[4];for(Qe=0;Qe<80;Qe++){Qe<40?Qe<20?(Ln=mn^zt&(rn^mn),Gn=1518500249):(Ln=zt^rn^mn,Gn=1859775393):Qe<60?(Ln=zt&rn|mn&(zt|rn),Gn=2400959708):(Ln=zt^rn^mn,Gn=3395469782);var St=(Ft<<5|Ft>>>27)+Ln+Mn+Gn+Je[Qe]&4294967295;Mn=mn,mn=rn,rn=4294967295&(zt<<30|zt>>>2),zt=Ft,Ft=St}this.chain_[0]=this.chain_[0]+Ft&4294967295,this.chain_[1]=this.chain_[1]+zt&4294967295,this.chain_[2]=this.chain_[2]+rn&4294967295,this.chain_[3]=this.chain_[3]+mn&4294967295,this.chain_[4]=this.chain_[4]+Mn&4294967295},Ae.prototype.update=function(De,Be){if(null!=De){void 0===Be&&(Be=De.length);for(var Je=Be-this.blockSize,Qe=0,St=this.buf_,Ft=this.inbuf_;Qe<Be;){if(0===Ft)for(;Qe<=Je;)this.compress_(De,Qe),Qe+=this.blockSize;if("string"==typeof De){for(;Qe<Be;)if(St[Ft]=De.charCodeAt(Qe),++Qe,++Ft===this.blockSize){this.compress_(St),Ft=0;break}}else for(;Qe<Be;)if(St[Ft]=De[Qe],++Qe,++Ft===this.blockSize){this.compress_(St),Ft=0;break}}this.inbuf_=Ft,this.total_+=Be}},Ae.prototype.digest=function(){var De=[],Be=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var Je=this.blockSize-1;Je>=56;Je--)this.buf_[Je]=255&Be,Be/=256;this.compress_(this.buf_);var Qe=0;for(Je=0;Je<5;Je++)for(var St=24;St>=0;St-=8)De[Qe]=this.chain_[Je]>>St&255,++Qe;return De}}();var He=function(){function Ae(De,Be){var Je=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Be,this.task.then(function(){De(Je)}).catch(function(Qe){Je.error(Qe)})}return Ae.prototype.next=function(De){this.forEachObserver(function(Be){Be.next(De)})},Ae.prototype.error=function(De){this.forEachObserver(function(Be){Be.error(De)}),this.close(De)},Ae.prototype.complete=function(){this.forEachObserver(function(De){De.complete()}),this.close()},Ae.prototype.subscribe=function(De,Be,Je){var St,Qe=this;if(void 0===De&&void 0===Be&&void 0===Je)throw new Error("Missing Observer.");void 0===(St=function(Ae,De){if("object"!=typeof Ae||null===Ae)return!1;for(var Be=0,Je=["next","error","complete"];Be<Je.length;Be++){var Qe=Je[Be];if(Qe in Ae&&"function"==typeof Ae[Qe])return!0}return!1}(De)?De:{next:De,error:Be,complete:Je}).next&&(St.next=Fe),void 0===St.error&&(St.error=Fe),void 0===St.complete&&(St.complete=Fe);var Ft=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{Qe.finalError?St.error(Qe.finalError):St.complete()}catch(zt){}}),this.observers.push(St),Ft},Ae.prototype.unsubscribeOne=function(De){void 0===this.observers||void 0===this.observers[De]||(delete this.observers[De],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},Ae.prototype.forEachObserver=function(De){if(!this.finalized)for(var Be=0;Be<this.observers.length;Be++)this.sendOne(Be,De)},Ae.prototype.sendOne=function(De,Be){var Je=this;this.task.then(function(){if(void 0!==Je.observers&&void 0!==Je.observers[De])try{Be(Je.observers[De])}catch(Qe){"undefined"!=typeof console&&console.error&&console.error(Qe)}})},Ae.prototype.close=function(De){var Be=this;this.finalized||(this.finalized=!0,void 0!==De&&(this.finalError=De),this.task.then(function(){Be.observers=void 0,Be.onNoObservers=void 0}))},Ae}();function Fe(){}function dt(Ae){return Ae&&Ae._delegate?Ae._delegate:Ae}},2329:(ve,I,y)=>{"use strict";y.d(I,{Z:()=>a.Z});var a=y(9759),G="8.9.1";a.Z.registerVersion("firebase",G,"app"),a.Z.SDK_VERSION=G},6890:function(module,__unused_webpack_exports,__webpack_require__){var y;y=function(){return(()=>{var __webpack_modules__=[(ve,I,y)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),Object.defineProperty(I,"addLinkAttributes",{enumerable:!0,get:function(){return a.addLinkAttributes}}),Object.defineProperty(I,"getFilenameFromUrl",{enumerable:!0,get:function(){return a.getFilenameFromUrl}}),Object.defineProperty(I,"LinkTarget",{enumerable:!0,get:function(){return a.LinkTarget}}),Object.defineProperty(I,"loadScript",{enumerable:!0,get:function(){return a.loadScript}}),Object.defineProperty(I,"PDFDateString",{enumerable:!0,get:function(){return a.PDFDateString}}),Object.defineProperty(I,"RenderingCancelledException",{enumerable:!0,get:function(){return a.RenderingCancelledException}}),Object.defineProperty(I,"build",{enumerable:!0,get:function(){return H.build}}),Object.defineProperty(I,"getDocument",{enumerable:!0,get:function(){return H.getDocument}}),Object.defineProperty(I,"LoopbackPort",{enumerable:!0,get:function(){return H.LoopbackPort}}),Object.defineProperty(I,"PDFDataRangeTransport",{enumerable:!0,get:function(){return H.PDFDataRangeTransport}}),Object.defineProperty(I,"PDFWorker",{enumerable:!0,get:function(){return H.PDFWorker}}),Object.defineProperty(I,"version",{enumerable:!0,get:function(){return H.version}}),Object.defineProperty(I,"CMapCompressionType",{enumerable:!0,get:function(){return G.CMapCompressionType}}),Object.defineProperty(I,"createObjectURL",{enumerable:!0,get:function(){return G.createObjectURL}}),Object.defineProperty(I,"createPromiseCapability",{enumerable:!0,get:function(){return G.createPromiseCapability}}),Object.defineProperty(I,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return G.createValidAbsoluteUrl}}),Object.defineProperty(I,"InvalidPDFException",{enumerable:!0,get:function(){return G.InvalidPDFException}}),Object.defineProperty(I,"MissingPDFException",{enumerable:!0,get:function(){return G.MissingPDFException}}),Object.defineProperty(I,"OPS",{enumerable:!0,get:function(){return G.OPS}}),Object.defineProperty(I,"PasswordResponses",{enumerable:!0,get:function(){return G.PasswordResponses}}),Object.defineProperty(I,"PermissionFlag",{enumerable:!0,get:function(){return G.PermissionFlag}}),Object.defineProperty(I,"removeNullCharacters",{enumerable:!0,get:function(){return G.removeNullCharacters}}),Object.defineProperty(I,"shadow",{enumerable:!0,get:function(){return G.shadow}}),Object.defineProperty(I,"UnexpectedResponseException",{enumerable:!0,get:function(){return G.UnexpectedResponseException}}),Object.defineProperty(I,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return G.UNSUPPORTED_FEATURES}}),Object.defineProperty(I,"Util",{enumerable:!0,get:function(){return G.Util}}),Object.defineProperty(I,"VerbosityLevel",{enumerable:!0,get:function(){return G.VerbosityLevel}}),Object.defineProperty(I,"AnnotationLayer",{enumerable:!0,get:function(){return ie.AnnotationLayer}}),Object.defineProperty(I,"apiCompatibilityParams",{enumerable:!0,get:function(){return V.apiCompatibilityParams}}),Object.defineProperty(I,"GlobalWorkerOptions",{enumerable:!0,get:function(){return oe.GlobalWorkerOptions}}),Object.defineProperty(I,"renderTextLayer",{enumerable:!0,get:function(){return J.renderTextLayer}}),Object.defineProperty(I,"SVGGraphics",{enumerable:!0,get:function(){return K.SVGGraphics}});var a=y(1),H=y(135),G=y(4),ie=y(149),V=y(139),oe=y(142),J=y(151),K=y(152);if(y(6).isNodeJS){var te=y(153).PDFNodeStream;(0,H.setPDFNetworkStreamFactory)(function(L){return new te(L)})}else{var re,ce=y(156).PDFNetworkStream;(0,a.isFetchSupported)()&&(re=y(157).PDFFetchStream),(0,H.setPDFNetworkStreamFactory)(function(L){return re&&(0,a.isValidFetchUrl)(L.url)?new re(L):new ce(L)})}},(ve,I,y)=>{"use strict";function a(Q){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(fe){return typeof fe}:function(fe){return fe&&"function"==typeof Symbol&&fe.constructor===Symbol&&fe!==Symbol.prototype?"symbol":typeof fe})(Q)}Object.defineProperty(I,"__esModule",{value:!0}),I.addLinkAttributes=function(Q){var de=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},fe=de.url,ge=de.target,ye=de.rel,Ce=de.enabled,Re=void 0===Ce||Ce;(0,G.assert)(fe&&"string"==typeof fe,'addLinkAttributes: A valid "url" parameter must provided.');var xe=(0,G.removeNullCharacters)(fe);Re?Q.href=Q.title=xe:(Q.href="",Q.title="Disabled: ".concat(xe),Q.onclick=function(){return!1});var Le="";switch(ge){case x.NONE:break;case x.SELF:Le="_self";break;case x.BLANK:Le="_blank";break;case x.PARENT:Le="_parent";break;case x.TOP:Le="_top"}Q.target=Le,Q.rel="string"==typeof ye?ye:C},I.deprecated=function(Q){console.log("Deprecated API usage: "+Q)},I.getFilenameFromUrl=function(Q){var de=Q.indexOf("#"),fe=Q.indexOf("?"),ge=Math.min(de>0?de:Q.length,fe>0?fe:Q.length);return Q.substring(Q.lastIndexOf("/",ge)+1,ge)},I.isFetchSupported=P,I.isValidFetchUrl=Y,I.loadScript=function(Q){var de=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Promise(function(fe,ge){var ye=document.createElement("script");ye.src=Q,ye.onload=function(Ce){de&&ye.remove(),fe(Ce)},ye.onerror=function(){ge(new Error("Cannot load script at: ".concat(ye.src)))},(document.head||document.documentElement).appendChild(ye)})},I.StatTimer=I.RenderingCancelledException=I.PDFDateString=I.PageViewport=I.LinkTarget=I.DOMSVGFactory=I.DOMCMapReaderFactory=I.DOMCanvasFactory=I.DEFAULT_LINK_REL=I.BaseCMapReaderFactory=I.BaseCanvasFactory=void 0;var Q,H=(Q=y(2))&&Q.__esModule?Q:{default:Q},G=y(4);function V(Q,de){var fe;if("undefined"==typeof Symbol||null==Q[Symbol.iterator]){if(Array.isArray(Q)||(fe=function(Q,de){if(Q){if("string"==typeof Q)return J(Q,undefined);var fe=Object.prototype.toString.call(Q).slice(8,-1);if("Object"===fe&&Q.constructor&&(fe=Q.constructor.name),"Map"===fe||"Set"===fe)return Array.from(Q);if("Arguments"===fe||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(fe))return J(Q,undefined)}}(Q))||de&&Q&&"number"==typeof Q.length){fe&&(Q=fe);var ge=0,ye=function(){};return{s:ye,n:function(){return ge>=Q.length?{done:!0}:{done:!1,value:Q[ge++]}},e:function(Oe){throw Oe},f:ye}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var xe,Ce=!0,Re=!1;return{s:function(){fe=Q[Symbol.iterator]()},n:function(){var Oe=fe.next();return Ce=Oe.done,Oe},e:function(Oe){Re=!0,xe=Oe},f:function(){try{!Ce&&null!=fe.return&&fe.return()}finally{if(Re)throw xe}}}}function J(Q,de){(null==de||de>Q.length)&&(de=Q.length);for(var fe=0,ge=new Array(de);fe<de;fe++)ge[fe]=Q[fe];return ge}function K(Q,de,fe,ge,ye,Ce,Re){try{var xe=Q[Ce](Re),Le=xe.value}catch(Oe){return void fe(Oe)}xe.done?de(Le):Promise.resolve(Le).then(ge,ye)}function he(Q){return function(){var de=this,fe=arguments;return new Promise(function(ge,ye){var Ce=Q.apply(de,fe);function Re(Le){K(Ce,ge,ye,Re,xe,"next",Le)}function xe(Le){K(Ce,ge,ye,Re,xe,"throw",Le)}Re(void 0)})}}function U(Q,de){if("function"!=typeof de&&null!==de)throw new TypeError("Super expression must either be null or a function");Q.prototype=Object.create(de&&de.prototype,{constructor:{value:Q,writable:!0,configurable:!0}}),de&&X(Q,de)}function X(Q,de){return(X=Object.setPrototypeOf||function(ge,ye){return ge.__proto__=ye,ge})(Q,de)}function D(Q){var de=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(Q){return!1}}();return function(){var ye,ge=L(Q);if(de){var Ce=L(this).constructor;ye=Reflect.construct(ge,arguments,Ce)}else ye=ge.apply(this,arguments);return te(this,ye)}}function te(Q,de){return!de||"object"!==a(de)&&"function"!=typeof de?function(Q){if(void 0===Q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Q}(Q):de}function L(Q){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(fe){return fe.__proto__||Object.getPrototypeOf(fe)})(Q)}function z(Q,de){if(!(Q instanceof de))throw new TypeError("Cannot call a class as a function")}function E(Q,de){for(var fe=0;fe<de.length;fe++){var ge=de[fe];ge.enumerable=ge.enumerable||!1,ge.configurable=!0,"value"in ge&&(ge.writable=!0),Object.defineProperty(Q,ge.key,ge)}}function B(Q,de,fe){return de&&E(Q.prototype,de),fe&&E(Q,fe),Q}var C="noopener noreferrer nofollow";I.DEFAULT_LINK_REL=C;var R="http://www.w3.org/2000/svg",O=function(){function Q(){z(this,Q),this.constructor===Q&&(0,G.unreachable)("Cannot initialize BaseCanvasFactory.")}return B(Q,[{key:"create",value:function(fe,ge){(0,G.unreachable)("Abstract method `create` called.")}},{key:"reset",value:function(fe,ge,ye){if(!fe.canvas)throw new Error("Canvas is not specified");if(ge<=0||ye<=0)throw new Error("Invalid canvas size");fe.canvas.width=ge,fe.canvas.height=ye}},{key:"destroy",value:function(fe){if(!fe.canvas)throw new Error("Canvas is not specified");fe.canvas.width=0,fe.canvas.height=0,fe.canvas=null,fe.context=null}}]),Q}();I.BaseCanvasFactory=O,I.DOMCanvasFactory=function(Q){U(fe,Q);var de=D(fe);function fe(){var ge,ye=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Ce=ye.ownerDocument,Re=void 0===Ce?globalThis.document:Ce;return z(this,fe),(ge=de.call(this))._document=Re,ge}return B(fe,[{key:"create",value:function(ye,Ce){if(ye<=0||Ce<=0)throw new Error("Invalid canvas size");var Re=this._document.createElement("canvas"),xe=Re.getContext("2d");return Re.width=ye,Re.height=Ce,{canvas:Re,context:xe}}}]),fe}(O);var ae=function(){function Q(de){var fe=de.baseUrl,ge=void 0===fe?null:fe,ye=de.isCompressed,Ce=void 0!==ye&&ye;z(this,Q),this.constructor===Q&&(0,G.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=ge,this.isCompressed=Ce}return B(Q,[{key:"fetch",value:(de=he(H.default.mark(function ge(ye){var Re,xe,Ce=this;return H.default.wrap(function(Ze){for(;;)switch(Ze.prev=Ze.next){case 0:if(Re=ye.name,this.baseUrl){Ze.next=3;break}throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');case 3:if(Re){Ze.next=5;break}throw new Error("CMap name must be specified.");case 5:return Ze.abrupt("return",this._fetchData(xe=this.baseUrl+Re+(this.isCompressed?".bcmap":""),this.isCompressed?G.CMapCompressionType.BINARY:G.CMapCompressionType.NONE).catch(function(Ke){throw new Error("Unable to load ".concat(Ce.isCompressed?"binary ":"","CMap at: ").concat(xe))}));case 8:case"end":return Ze.stop()}},ge,this)})),function(ge){return de.apply(this,arguments)})},{key:"_fetchData",value:function(fe,ge){(0,G.unreachable)("Abstract method `_fetchData` called.")}}]),Q;var de}();I.BaseCMapReaderFactory=ae,I.DOMCMapReaderFactory=function(Q){U(fe,Q);var de=D(fe);function fe(){return z(this,fe),de.apply(this,arguments)}return B(fe,[{key:"_fetchData",value:function(ye,Ce){var Re=this;return P()&&Y(ye,document.baseURI)?fetch(ye).then(function(){var xe=he(H.default.mark(function Le(Oe){var Ze;return H.default.wrap(function(et){for(;;)switch(et.prev=et.next){case 0:if(Oe.ok){et.next=2;break}throw new Error(Oe.statusText);case 2:if(!Re.isCompressed){et.next=10;break}return et.t0=Uint8Array,et.next=6,Oe.arrayBuffer();case 6:et.t1=et.sent,Ze=new et.t0(et.t1),et.next=15;break;case 10:return et.t2=G.stringToBytes,et.next=13,Oe.text();case 13:et.t3=et.sent,Ze=(0,et.t2)(et.t3);case 15:return et.abrupt("return",{cMapData:Ze,compressionType:Ce});case 16:case"end":return et.stop()}},Le)}));return function(Le){return xe.apply(this,arguments)}}()):new Promise(function(xe,Le){var Oe=new XMLHttpRequest;Oe.open("GET",ye,!0),Re.isCompressed&&(Oe.responseType="arraybuffer"),Oe.onreadystatechange=function(){if(Oe.readyState===XMLHttpRequest.DONE){var Ze;if((200===Oe.status||0===Oe.status)&&(Re.isCompressed&&Oe.response?Ze=new Uint8Array(Oe.response):!Re.isCompressed&&Oe.responseText&&(Ze=(0,G.stringToBytes)(Oe.responseText)),Ze))return void xe({cMapData:Ze,compressionType:Ce});Le(new Error(Oe.statusText))}},Oe.send(null)})}}]),fe}(ae),I.DOMSVGFactory=function(){function Q(){z(this,Q)}return B(Q,[{key:"create",value:function(fe,ge){(0,G.assert)(fe>0&&ge>0,"Invalid SVG dimensions");var ye=document.createElementNS(R,"svg:svg");return ye.setAttribute("version","1.1"),ye.setAttribute("width",fe+"px"),ye.setAttribute("height",ge+"px"),ye.setAttribute("preserveAspectRatio","none"),ye.setAttribute("viewBox","0 0 "+fe+" "+ge),ye}},{key:"createElement",value:function(fe){return(0,G.assert)("string"==typeof fe,"Invalid SVG element type"),document.createElementNS(R,fe)}}]),Q}(),I.PageViewport=function(){function Q(de){var fe=de.viewBox,ge=de.scale,ye=de.rotation,Ce=de.offsetX,Re=void 0===Ce?0:Ce,xe=de.offsetY,Le=void 0===xe?0:xe,Oe=de.dontFlip,Ze=void 0!==Oe&&Oe;z(this,Q),this.viewBox=fe,this.scale=ge,this.rotation=ye,this.offsetX=Re,this.offsetY=Le;var Ne,He,be,Ie,Fe,at,ot,ct,Ke=(fe[2]+fe[0])/2,et=(fe[3]+fe[1])/2;switch(ye=(ye%=360)<0?ye+360:ye){case 180:Ne=-1,He=0,be=0,Ie=1;break;case 90:Ne=0,He=1,be=1,Ie=0;break;case 270:Ne=0,He=-1,be=-1,Ie=0;break;case 0:Ne=1,He=0,be=0,Ie=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Ze&&(be=-be,Ie=-Ie),0===Ne?(Fe=Math.abs(et-fe[1])*ge+Re,at=Math.abs(Ke-fe[0])*ge+Le,ot=Math.abs(fe[3]-fe[1])*ge,ct=Math.abs(fe[2]-fe[0])*ge):(Fe=Math.abs(Ke-fe[0])*ge+Re,at=Math.abs(et-fe[1])*ge+Le,ot=Math.abs(fe[2]-fe[0])*ge,ct=Math.abs(fe[3]-fe[1])*ge),this.transform=[Ne*ge,He*ge,be*ge,Ie*ge,Fe-Ne*ge*Ke-be*ge*et,at-He*ge*Ke-Ie*ge*et],this.width=ot,this.height=ct}return B(Q,[{key:"clone",value:function(){var fe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ge=fe.scale,ye=void 0===ge?this.scale:ge,Ce=fe.rotation,Re=void 0===Ce?this.rotation:Ce,xe=fe.offsetX,Le=void 0===xe?this.offsetX:xe,Oe=fe.offsetY,Ze=void 0===Oe?this.offsetY:Oe,Ke=fe.dontFlip,et=void 0!==Ke&&Ke;return new Q({viewBox:this.viewBox.slice(),scale:ye,rotation:Re,offsetX:Le,offsetY:Ze,dontFlip:et})}},{key:"convertToViewportPoint",value:function(fe,ge){return G.Util.applyTransform([fe,ge],this.transform)}},{key:"convertToViewportRectangle",value:function(fe){var ge=G.Util.applyTransform([fe[0],fe[1]],this.transform),ye=G.Util.applyTransform([fe[2],fe[3]],this.transform);return[ge[0],ge[1],ye[0],ye[1]]}},{key:"convertToPdfPoint",value:function(fe,ge){return G.Util.applyInverseTransform([fe,ge],this.transform)}}]),Q}(),I.RenderingCancelledException=function(Q){U(fe,Q);var de=D(fe);function fe(ge,ye){var Ce;return z(this,fe),(Ce=de.call(this,ge)).type=ye,Ce}return fe}(G.BaseException);var Z,x={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function P(){return"undefined"!=typeof fetch&&"undefined"!=typeof Response&&"body"in Response.prototype&&"undefined"!=typeof ReadableStream}function Y(Q,de){try{var ge=(de?new URL(Q,de):new URL(Q)).protocol;return"http:"===ge||"https:"===ge}catch(ye){return!1}}I.LinkTarget=x,I.StatTimer=function(){function Q(){z(this,Q),this.started=Object.create(null),this.times=[]}return B(Q,[{key:"time",value:function(fe){fe in this.started&&(0,G.warn)("Timer is already running for ".concat(fe)),this.started[fe]=Date.now()}},{key:"timeEnd",value:function(fe){fe in this.started||(0,G.warn)("Timer has not been started for ".concat(fe)),this.times.push({name:fe,start:this.started[fe],end:Date.now()}),delete this.started[fe]}},{key:"toString",value:function(){var Ce,fe=[],ge=0,ye=V(this.times);try{for(ye.s();!(Ce=ye.n()).done;){var xe=Ce.value.name;xe.length>ge&&(ge=xe.length)}}catch(et){ye.e(et)}finally{ye.f()}var Oe,Le=V(this.times);try{for(Le.s();!(Oe=Le.n()).done;){var Ze=Oe.value,Ke=Ze.end-Ze.start;fe.push("".concat(Ze.name.padEnd(ge)," ").concat(Ke,"ms\n"))}}catch(et){Le.e(et)}finally{Le.f()}return fe.join("")}}]),Q}(),I.PDFDateString=function(){function Q(){z(this,Q)}return B(Q,null,[{key:"toDateObject",value:function(fe){if(!fe||!(0,G.isString)(fe))return null;Z||(Z=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));var ge=Z.exec(fe);if(!ge)return null;var ye=parseInt(ge[1],10),Ce=parseInt(ge[2],10);Ce=Ce>=1&&Ce<=12?Ce-1:0;var Re=parseInt(ge[3],10);Re=Re>=1&&Re<=31?Re:1;var xe=parseInt(ge[4],10);xe=xe>=0&&xe<=23?xe:0;var Le=parseInt(ge[5],10);Le=Le>=0&&Le<=59?Le:0;var Oe=parseInt(ge[6],10);Oe=Oe>=0&&Oe<=59?Oe:0;var Ze=ge[7]||"Z",Ke=parseInt(ge[8],10);Ke=Ke>=0&&Ke<=23?Ke:0;var et=parseInt(ge[9],10)||0;return et=et>=0&&et<=59?et:0,"-"===Ze?(xe+=Ke,Le+=et):"+"===Ze&&(xe-=Ke,Le-=et),new Date(Date.UTC(ye,Ce,Re,xe,Le,Oe))}}]),Q}()},(ve,I,y)=>{"use strict";ve.exports=y(3)},(ve,I,y)=>{"use strict";function a(G){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(V){return typeof V}:function(V){return V&&"function"==typeof Symbol&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V})(G)}var H=function(G){var oe,ie=Object.prototype,V=ie.hasOwnProperty,J="function"==typeof Symbol?Symbol:{},K=J.iterator||"@@iterator",he=J.asyncIterator||"@@asyncIterator",U=J.toStringTag||"@@toStringTag";function X(j,A,Z){return Object.defineProperty(j,A,{value:Z,enumerable:!0,configurable:!0,writable:!0}),j[A]}try{X({},"")}catch(j){X=function(Z,$,Q){return Z[$]=Q}}function D(j,A,Z,$){var de=Object.create((A&&A.prototype instanceof B?A:B).prototype),fe=new M($||[]);return de._invoke=function(j,A,Z){var $=ce;return function(de,fe){if($===L)throw new Error("Generator is already running");if($===z){if("throw"===de)throw fe;return Y()}for(Z.method=de,Z.arg=fe;;){var ge=Z.delegate;if(ge){var ye=x(ge,Z);if(ye){if(ye===E)continue;return ye}}if("next"===Z.method)Z.sent=Z._sent=Z.arg;else if("throw"===Z.method){if($===ce)throw $=z,Z.arg;Z.dispatchException(Z.arg)}else"return"===Z.method&&Z.abrupt("return",Z.arg);$=L;var Ce=te(j,A,Z);if("normal"===Ce.type){if($=Z.done?z:re,Ce.arg===E)continue;return{value:Ce.arg,done:Z.done}}"throw"===Ce.type&&($=z,Z.method="throw",Z.arg=Ce.arg)}}}(j,Z,fe),de}function te(j,A,Z){try{return{type:"normal",arg:j.call(A,Z)}}catch($){return{type:"throw",arg:$}}}G.wrap=D;var ce="suspendedStart",re="suspendedYield",L="executing",z="completed",E={};function B(){}function C(){}function R(){}var O={};O[K]=function(){return this};var se=Object.getPrototypeOf,ae=se&&se(se(P([])));ae&&ae!==ie&&V.call(ae,K)&&(O=ae);var ue=R.prototype=B.prototype=Object.create(O);function N(j){["next","throw","return"].forEach(function(A){X(j,A,function(Z){return this._invoke(A,Z)})})}function T(j,A){function Z(de,fe,ge,ye){var Ce=te(j[de],j,fe);if("throw"!==Ce.type){var Re=Ce.arg,xe=Re.value;return xe&&"object"===a(xe)&&V.call(xe,"__await")?A.resolve(xe.__await).then(function(Le){Z("next",Le,ge,ye)},function(Le){Z("throw",Le,ge,ye)}):A.resolve(xe).then(function(Le){Re.value=Le,ge(Re)},function(Le){return Z("throw",Le,ge,ye)})}ye(Ce.arg)}var $;this._invoke=function(de,fe){function ge(){return new A(function(ye,Ce){Z(de,fe,ye,Ce)})}return $=$?$.then(ge,ge):ge()}}function x(j,A){var Z=j.iterator[A.method];if(Z===oe){if(A.delegate=null,"throw"===A.method){if(j.iterator.return&&(A.method="return",A.arg=oe,x(j,A),"throw"===A.method))return E;A.method="throw",A.arg=new TypeError("The iterator does not provide a 'throw' method")}return E}var $=te(Z,j.iterator,A.arg);if("throw"===$.type)return A.method="throw",A.arg=$.arg,A.delegate=null,E;var Q=$.arg;return Q?Q.done?(A[j.resultName]=Q.value,A.next=j.nextLoc,"return"!==A.method&&(A.method="next",A.arg=oe),A.delegate=null,E):Q:(A.method="throw",A.arg=new TypeError("iterator result is not an object"),A.delegate=null,E)}function F(j){var A={tryLoc:j[0]};1 in j&&(A.catchLoc=j[1]),2 in j&&(A.finallyLoc=j[2],A.afterLoc=j[3]),this.tryEntries.push(A)}function ee(j){var A=j.completion||{};A.type="normal",delete A.arg,j.completion=A}function M(j){this.tryEntries=[{tryLoc:"root"}],j.forEach(F,this),this.reset(!0)}function P(j){if(j){var A=j[K];if(A)return A.call(j);if("function"==typeof j.next)return j;if(!isNaN(j.length)){var Z=-1,$=function Q(){for(;++Z<j.length;)if(V.call(j,Z))return Q.value=j[Z],Q.done=!1,Q;return Q.value=oe,Q.done=!0,Q};return $.next=$}}return{next:Y}}function Y(){return{value:oe,done:!0}}return C.prototype=ue.constructor=R,R.constructor=C,C.displayName=X(R,U,"GeneratorFunction"),G.isGeneratorFunction=function(j){var A="function"==typeof j&&j.constructor;return!!A&&(A===C||"GeneratorFunction"===(A.displayName||A.name))},G.mark=function(j){return Object.setPrototypeOf?Object.setPrototypeOf(j,R):(j.__proto__=R,X(j,U,"GeneratorFunction")),j.prototype=Object.create(ue),j},G.awrap=function(j){return{__await:j}},N(T.prototype),T.prototype[he]=function(){return this},G.AsyncIterator=T,G.async=function(j,A,Z,$,Q){void 0===Q&&(Q=Promise);var de=new T(D(j,A,Z,$),Q);return G.isGeneratorFunction(A)?de:de.next().then(function(fe){return fe.done?fe.value:de.next()})},N(ue),X(ue,U,"Generator"),ue[K]=function(){return this},ue.toString=function(){return"[object Generator]"},G.keys=function(j){var A=[];for(var Z in j)A.push(Z);return A.reverse(),function $(){for(;A.length;){var Q=A.pop();if(Q in j)return $.value=Q,$.done=!1,$}return $.done=!0,$}},G.values=P,M.prototype={constructor:M,reset:function(A){if(this.prev=0,this.next=0,this.sent=this._sent=oe,this.done=!1,this.delegate=null,this.method="next",this.arg=oe,this.tryEntries.forEach(ee),!A)for(var Z in this)"t"===Z.charAt(0)&&V.call(this,Z)&&!isNaN(+Z.slice(1))&&(this[Z]=oe)},stop:function(){this.done=!0;var Z=this.tryEntries[0].completion;if("throw"===Z.type)throw Z.arg;return this.rval},dispatchException:function(A){if(this.done)throw A;var Z=this;function $(Ce,Re){return fe.type="throw",fe.arg=A,Z.next=Ce,Re&&(Z.method="next",Z.arg=oe),!!Re}for(var Q=this.tryEntries.length-1;Q>=0;--Q){var de=this.tryEntries[Q],fe=de.completion;if("root"===de.tryLoc)return $("end");if(de.tryLoc<=this.prev){var ge=V.call(de,"catchLoc"),ye=V.call(de,"finallyLoc");if(ge&&ye){if(this.prev<de.catchLoc)return $(de.catchLoc,!0);if(this.prev<de.finallyLoc)return $(de.finallyLoc)}else if(ge){if(this.prev<de.catchLoc)return $(de.catchLoc,!0)}else{if(!ye)throw new Error("try statement without catch or finally");if(this.prev<de.finallyLoc)return $(de.finallyLoc)}}}},abrupt:function(A,Z){for(var $=this.tryEntries.length-1;$>=0;--$){var Q=this.tryEntries[$];if(Q.tryLoc<=this.prev&&V.call(Q,"finallyLoc")&&this.prev<Q.finallyLoc){var de=Q;break}}de&&("break"===A||"continue"===A)&&de.tryLoc<=Z&&Z<=de.finallyLoc&&(de=null);var fe=de?de.completion:{};return fe.type=A,fe.arg=Z,de?(this.method="next",this.next=de.finallyLoc,E):this.complete(fe)},complete:function(A,Z){if("throw"===A.type)throw A.arg;return"break"===A.type||"continue"===A.type?this.next=A.arg:"return"===A.type?(this.rval=this.arg=A.arg,this.method="return",this.next="end"):"normal"===A.type&&Z&&(this.next=Z),E},finish:function(A){for(var Z=this.tryEntries.length-1;Z>=0;--Z){var $=this.tryEntries[Z];if($.finallyLoc===A)return this.complete($.completion,$.afterLoc),ee($),E}},catch:function(A){for(var Z=this.tryEntries.length-1;Z>=0;--Z){var $=this.tryEntries[Z];if($.tryLoc===A){var Q=$.completion;if("throw"===Q.type){var de=Q.arg;ee($)}return de}}throw new Error("illegal catch attempt")},delegateYield:function(A,Z,$){return this.delegate={iterator:P(A),resultName:Z,nextLoc:$},"next"===this.method&&(this.arg=oe),E}},G}("object"===a(ve=y.nmd(ve))?ve.exports:{});try{regeneratorRuntime=H}catch(G){Function("r","regeneratorRuntime = r")(H)}},(ve,I,y)=>{"use strict";function a(Ye,bt){for(var je=0;je<bt.length;je++){var st=bt[je];st.enumerable=st.enumerable||!1,st.configurable=!0,"value"in st&&(st.writable=!0),Object.defineProperty(Ye,st.key,st)}}function K(Ye,bt){(null==bt||bt>Ye.length)&&(bt=Ye.length);for(var je=0,st=new Array(bt);je<bt;je++)st[je]=Ye[je];return st}function he(Ye){return(he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(je){return typeof je}:function(je){return je&&"function"==typeof Symbol&&je.constructor===Symbol&&je!==Symbol.prototype?"symbol":typeof je})(Ye)}function U(Ye,bt){if(!(Ye instanceof bt))throw new TypeError("Cannot call a class as a function")}function X(Ye,bt){if("function"!=typeof bt&&null!==bt)throw new TypeError("Super expression must either be null or a function");Ye.prototype=Object.create(bt&&bt.prototype,{constructor:{value:Ye,writable:!0,configurable:!0}}),bt&&D(Ye,bt)}function D(Ye,bt){return(D=Object.setPrototypeOf||function(st,qt){return st.__proto__=qt,st})(Ye,bt)}function te(Ye){var bt=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(Ye){return!1}}();return function(){var qt,st=z(Ye);if(bt){var Ee=z(this).constructor;qt=Reflect.construct(st,arguments,Ee)}else qt=st.apply(this,arguments);return ce(this,qt)}}function ce(Ye,bt){return!bt||"object"!==he(bt)&&"function"!=typeof bt?function(Ye){if(void 0===Ye)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ye}(Ye):bt}function z(Ye){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(je){return je.__proto__||Object.getPrototypeOf(je)})(Ye)}Object.defineProperty(I,"__esModule",{value:!0}),I.arrayByteLength=qe,I.arraysToBytes=function(Ye){var bt=Ye.length;if(1===bt&&Ye[0]instanceof Uint8Array)return Ye[0];for(var je=0,st=0;st<bt;st++)je+=qe(Ye[st]);for(var qt=0,Ee=new Uint8Array(je),We=0;We<bt;We++){var nt=Ye[We];nt instanceof Uint8Array||(nt="string"==typeof nt?Mt(nt):new Uint8Array(nt));var mt=nt.byteLength;Ee.set(nt,qt),qt+=mt}return Ee},I.assert=Le,I.bytesToString=function(Ye){Le(null!==Ye&&"object"===he(Ye)&&void 0!==Ye.length,"Invalid argument for bytesToString");var bt=Ye.length;if(bt<8192)return String.fromCharCode.apply(null,Ye);for(var st=[],qt=0;qt<bt;qt+=8192){var Ee=Math.min(qt+8192,bt),We=Ye.subarray(qt,Ee);st.push(String.fromCharCode.apply(null,We))}return st.join("")},I.createPromiseCapability=function(){var Ye=Object.create(null),bt=!1;return Object.defineProperty(Ye,"settled",{get:function(){return bt}}),Ye.promise=new Promise(function(je,st){Ye.resolve=function(qt){bt=!0,je(qt)},Ye.reject=function(qt){bt=!0,st(qt)}}),Ye},I.createValidAbsoluteUrl=function(Ye,bt){if(!Ye)return null;try{var je=bt?new URL(Ye,bt):new URL(Ye);if(function(Ye){if(!Ye)return!1;switch(Ye.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(je))return je}catch(st){}return null},I.encodeToXmlString=function(Ye){for(var bt=[],je=0,st=0,qt=Ye.length;st<qt;st++){var Ee=Ye.codePointAt(st);if(32<=Ee&&Ee<=126){var We=ti[Ee];We&&(je<st&&bt.push(Ye.substring(je,st)),bt.push(We),je=st+1)}else je<st&&bt.push(Ye.substring(je,st)),bt.push("&#x".concat(Ee.toString(16).toUpperCase(),";")),Ee>55295&&(Ee<57344||Ee>65533)&&st++,je=st+1}return 0===bt.length?Ye:(je<Ye.length&&bt.push(Ye.substring(je,Ye.length)),bt.join(""))},I.escapeString=function(Ye){return Ye.replace(/([()\\\n\r])/g,function(bt){return"\n"===bt?"\\n":"\r"===bt?"\\r":"\\".concat(bt)})},I.getModificationDate=function(){var Ye=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,bt=[Ye.getUTCFullYear().toString(),(Ye.getUTCMonth()+1).toString().padStart(2,"0"),Ye.getUTCDate().toString().padStart(2,"0"),Ye.getUTCHours().toString().padStart(2,"0"),Ye.getUTCMinutes().toString().padStart(2,"0"),Ye.getUTCSeconds().toString().padStart(2,"0")];return bt.join("")},I.getVerbosityLevel=function(){return fe},I.info=function(Ye){fe>=A.INFOS&&console.log("Info: ".concat(Ye))},I.isArrayBuffer=function(Ye){return"object"===he(Ye)&&null!==Ye&&void 0!==Ye.byteLength},I.isArrayEqual=function(Ye,bt){return Ye.length===bt.length&&Ye.every(function(je,st){return je===bt[st]})},I.isAscii=function(Ye){return/^[\x00-\x7F]*$/.test(Ye)},I.isBool=function(Ye){return"boolean"==typeof Ye},I.isNum=function(Ye){return"number"==typeof Ye},I.isSameOrigin=function(Ye,bt){var je;try{if(!(je=new URL(Ye)).origin||"null"===je.origin)return!1}catch(qt){return!1}var st=new URL(bt,je);return je.origin===st.origin},I.isString=function(Ye){return"string"==typeof Ye},I.objectFromEntries=function(Ye){return Object.assign(Object.create(null),Object.fromEntries(Ye))},I.objectSize=function(Ye){return Object.keys(Ye).length},I.removeNullCharacters=function(Ye){return"string"!=typeof Ye?(Re("The argument for removeNullCharacters must be a string."),Ye):Ye.replace(lt,"")},I.setVerbosityLevel=function(Ye){Number.isInteger(Ye)&&(fe=Ye)},I.shadow=et,I.string32=function(Ye){return String.fromCharCode(Ye>>24&255,Ye>>16&255,Ye>>8&255,255&Ye)},I.stringToBytes=Mt,I.stringToPDFString=function(Ye){var bt=Ye.length,je=[];if("\xfe"===Ye[0]&&"\xff"===Ye[1])for(var st=2;st<bt;st+=2)je.push(String.fromCharCode(Ye.charCodeAt(st)<<8|Ye.charCodeAt(st+1)));else if("\xff"===Ye[0]&&"\xfe"===Ye[1])for(var qt=2;qt<bt;qt+=2)je.push(String.fromCharCode(Ye.charCodeAt(qt+1)<<8|Ye.charCodeAt(qt)));else for(var Ee=0;Ee<bt;++Ee){var We=Je[Ye.charCodeAt(Ee)];je.push(We?String.fromCharCode(We):Ye.charAt(Ee))}return je.join("")},I.stringToUTF16BEString=function(Ye){for(var bt=["\xfe\xff"],je=0,st=Ye.length;je<st;je++){var qt=Ye.charCodeAt(je);bt.push(String.fromCharCode(qt>>8&255)),bt.push(String.fromCharCode(255&qt))}return bt.join("")},I.stringToUTF8String=function(Ye){return decodeURIComponent(escape(Ye))},I.unreachable=xe,I.utf8StringToString=function(Ye){return unescape(encodeURIComponent(Ye))},I.warn=Re,I.VerbosityLevel=I.Util=I.UNSUPPORTED_FEATURES=I.UnknownErrorException=I.UnexpectedResponseException=I.TextRenderingMode=I.StreamType=I.PermissionFlag=I.PasswordResponses=I.PasswordException=I.PageActionEventType=I.OPS=I.MissingPDFException=I.IsLittleEndianCached=I.IsEvalSupportedCached=I.InvalidPDFException=I.ImageKind=I.IDENTITY_MATRIX=I.FormatError=I.FontType=I.FONT_IDENTITY_MATRIX=I.DocumentActionEventType=I.createObjectURL=I.CMapCompressionType=I.BaseException=I.AnnotationType=I.AnnotationStateModelType=I.AnnotationReviewState=I.AnnotationReplyType=I.AnnotationMarkedState=I.AnnotationFlag=I.AnnotationFieldFlag=I.AnnotationBorderStyleType=I.AnnotationActionEventType=I.AbortException=void 0,y(5),I.IDENTITY_MATRIX=[1,0,0,1,0,0],I.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],I.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},I.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},I.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},I.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},I.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},I.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},I.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},I.AnnotationReplyType={GROUP:"Group",REPLY:"R"},I.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},I.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},I.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},I.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},I.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},I.PageActionEventType={O:"PageOpen",C:"PageClose"},I.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},I.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};var A={ERRORS:0,WARNINGS:1,INFOS:5};I.VerbosityLevel=A,I.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},I.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},I.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent"},I.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};var fe=A.WARNINGS;function Re(Ye){fe>=A.WARNINGS&&console.log("Warning: ".concat(Ye))}function xe(Ye){throw new Error(Ye)}function Le(Ye,bt){Ye||xe(bt)}function et(Ye,bt,je){return Object.defineProperty(Ye,bt,{value:je,enumerable:!0,configurable:!0,writable:!1}),je}var Ne=function(){function bt(je){this.constructor===bt&&xe("Cannot initialize BaseException."),this.message=je,this.name=this.constructor.name}return bt.prototype=new Error,bt.constructor=bt,bt}();I.BaseException=Ne,I.PasswordException=function(Ye){X(je,Ye);var bt=te(je);function je(st,qt){var Ee;return U(this,je),(Ee=bt.call(this,st)).code=qt,Ee}return je}(Ne),I.UnknownErrorException=function(Ye){X(je,Ye);var bt=te(je);function je(st,qt){var Ee;return U(this,je),(Ee=bt.call(this,st)).details=qt,Ee}return je}(Ne),I.InvalidPDFException=function(Ye){X(je,Ye);var bt=te(je);function je(){return U(this,je),bt.apply(this,arguments)}return je}(Ne),I.MissingPDFException=function(Ye){X(je,Ye);var bt=te(je);function je(){return U(this,je),bt.apply(this,arguments)}return je}(Ne),I.UnexpectedResponseException=function(Ye){X(je,Ye);var bt=te(je);function je(st,qt){var Ee;return U(this,je),(Ee=bt.call(this,st)).status=qt,Ee}return je}(Ne),I.FormatError=function(Ye){X(je,Ye);var bt=te(je);function je(){return U(this,je),bt.apply(this,arguments)}return je}(Ne),I.AbortException=function(Ye){X(je,Ye);var bt=te(je);function je(){return U(this,je),bt.apply(this,arguments)}return je}(Ne);var lt=/\x00/g;function Mt(Ye){Le("string"==typeof Ye,"Invalid argument for stringToBytes");for(var bt=Ye.length,je=new Uint8Array(bt),st=0;st<bt;++st)je[st]=255&Ye.charCodeAt(st);return je}function qe(Ye){return void 0!==Ye.length?Ye.length:(Le(void 0!==Ye.byteLength,"arrayByteLength - invalid argument."),Ye.byteLength)}I.IsLittleEndianCached={get value(){return et(this,"value",((Ye=new Uint8Array(4))[0]=1,1===new Uint32Array(Ye.buffer,0,1)[0]));var Ye}},I.IsEvalSupportedCached={get value(){return et(this,"value",function(){try{return new Function(""),!0}catch(Ye){return!1}}())}};var Ye,De=(Ye=Array(256).keys(),function(Ye){if(Array.isArray(Ye))return K(Ye)}(Ye)||function(Ye){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(Ye))return Array.from(Ye)}(Ye)||function(Ye,bt){if(Ye){if("string"==typeof Ye)return K(Ye,undefined);var je=Object.prototype.toString.call(Ye).slice(8,-1);if("Object"===je&&Ye.constructor&&(je=Ye.constructor.name),"Map"===je||"Set"===je)return Array.from(Ye);if("Arguments"===je||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(je))return K(Ye,undefined)}}(Ye)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(Ye){return Ye.toString(16).padStart(2,"0")});I.Util=function(){function Ye(){U(this,Ye)}return function(Ye,bt,je){je&&a(Ye,je)}(Ye,0,[{key:"makeHexColor",value:function(je,st,qt){return"#".concat(De[je]).concat(De[st]).concat(De[qt])}},{key:"transform",value:function(je,st){return[je[0]*st[0]+je[2]*st[1],je[1]*st[0]+je[3]*st[1],je[0]*st[2]+je[2]*st[3],je[1]*st[2]+je[3]*st[3],je[0]*st[4]+je[2]*st[5]+je[4],je[1]*st[4]+je[3]*st[5]+je[5]]}},{key:"applyTransform",value:function(je,st){return[je[0]*st[0]+je[1]*st[2]+st[4],je[0]*st[1]+je[1]*st[3]+st[5]]}},{key:"applyInverseTransform",value:function(je,st){var qt=st[0]*st[3]-st[1]*st[2];return[(je[0]*st[3]-je[1]*st[2]+st[2]*st[5]-st[4]*st[3])/qt,(-je[0]*st[1]+je[1]*st[0]+st[4]*st[1]-st[5]*st[0])/qt]}},{key:"getAxialAlignedBoundingBox",value:function(je,st){var qt=Ye.applyTransform(je,st),Ee=Ye.applyTransform(je.slice(2,4),st),We=Ye.applyTransform([je[0],je[3]],st),nt=Ye.applyTransform([je[2],je[1]],st);return[Math.min(qt[0],Ee[0],We[0],nt[0]),Math.min(qt[1],Ee[1],We[1],nt[1]),Math.max(qt[0],Ee[0],We[0],nt[0]),Math.max(qt[1],Ee[1],We[1],nt[1])]}},{key:"inverseTransform",value:function(je){var st=je[0]*je[3]-je[1]*je[2];return[je[3]/st,-je[1]/st,-je[2]/st,je[0]/st,(je[2]*je[5]-je[4]*je[3])/st,(je[4]*je[1]-je[5]*je[0])/st]}},{key:"apply3dTransform",value:function(je,st){return[je[0]*st[0]+je[1]*st[1]+je[2]*st[2],je[3]*st[0]+je[4]*st[1]+je[5]*st[2],je[6]*st[0]+je[7]*st[1]+je[8]*st[2]]}},{key:"singularValueDecompose2dScale",value:function(je){var st=[je[0],je[2],je[1],je[3]],qt=je[0]*st[0]+je[1]*st[2],nt=je[2]*st[1]+je[3]*st[3],mt=(qt+nt)/2,Ct=Math.sqrt((qt+nt)*(qt+nt)-4*(qt*nt-(je[2]*st[0]+je[3]*st[2])*(je[0]*st[1]+je[1]*st[3])))/2,Pt=mt-Ct||1;return[Math.sqrt(mt+Ct||1),Math.sqrt(Pt)]}},{key:"normalizeRect",value:function(je){var st=je.slice(0);return je[0]>je[2]&&(st[0]=je[2],st[2]=je[0]),je[1]>je[3]&&(st[1]=je[3],st[3]=je[1]),st}},{key:"intersect",value:function(je,st){function qt(mt,Ct){return mt-Ct}var Ee=[je[0],je[2],st[0],st[2]].sort(qt),We=[je[1],je[3],st[1],st[3]].sort(qt),nt=[];return je=Ye.normalizeRect(je),st=Ye.normalizeRect(st),Ee[0]===je[0]&&Ee[1]===st[0]||Ee[0]===st[0]&&Ee[1]===je[0]?(nt[0]=Ee[1],nt[2]=Ee[2],We[0]===je[1]&&We[1]===st[1]||We[0]===st[1]&&We[1]===je[1]?(nt[1]=We[1],nt[3]=We[2],nt):null):null}}]),Ye}();var bt,Je=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364],ei=(bt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",function(st,qt){var Ee=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!Ee&&URL.createObjectURL){var We=new Blob([st],{type:qt});return URL.createObjectURL(We)}for(var nt="data:".concat(qt,";base64,"),mt=0,Ct=st.length;mt<Ct;mt+=3){var $t=255&st[mt],Pt=255&st[mt+1],tn=255&st[mt+2],Jt=$t>>2,Pn=(3&$t)<<4|Pt>>4,sr=mt+1<Ct?(15&Pt)<<2|tn>>6:64,_t=mt+2<Ct?63&tn:64;nt+=bt[Jt]+bt[Pn]+bt[sr]+bt[_t]}return nt});I.createObjectURL=ei;var ti={60:"&lt;",62:"&gt;",38:"&amp;",34:"&quot;",39:"&apos;"}},(ve,I,y)=>{"use strict";var a=y(6);("undefined"==typeof globalThis||!globalThis._pdfjsCompatibilityChecked)&&(("undefined"==typeof globalThis||globalThis.Math!==Math)&&(globalThis=y(7)),globalThis._pdfjsCompatibilityChecked=!0,globalThis.btoa||!a.isNodeJS||(globalThis.btoa=function(G){return Buffer.from(G,"binary").toString("base64")}),globalThis.atob||!a.isNodeJS||(globalThis.atob=function(G){return Buffer.from(G,"base64").toString("binary")}),Object.fromEntries||y(52),globalThis.Promise.allSettled||(globalThis.Promise=y(82)),globalThis.URL=y(111),function(){var G=!1;if("undefined"!=typeof ReadableStream)try{new ReadableStream({start:function(V){V.close()}}),G=!0}catch(ie){}G||(globalThis.ReadableStream=y(121).ReadableStream)}(),String.prototype.padStart||y(122),String.prototype.padEnd||y(128),Object.values||(Object.values=y(130)),Object.entries||(Object.entries=y(133)))},(ve,I)=>{"use strict";function y(H){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ie){return typeof ie}:function(ie){return ie&&"function"==typeof Symbol&&ie.constructor===Symbol&&ie!==Symbol.prototype?"symbol":typeof ie})(H)}Object.defineProperty(I,"__esModule",{value:!0}),I.isNodeJS=void 0;var a=!("object"!==("undefined"==typeof process?"undefined":y(process))||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);I.isNodeJS=a},(ve,I,y)=>{y(8),ve.exports=y(10)},(ve,I,y)=>{y(9)({global:!0},{globalThis:y(10)})},(ve,I,y)=>{var a=y(10),H=y(11).f,G=y(25),ie=y(28),V=y(29),oe=y(39),J=y(51);ve.exports=function(K,he){var ce,re,L,z,E,U=K.target,X=K.global,D=K.stat;if(ce=X?a:D?a[U]||V(U,{}):(a[U]||{}).prototype)for(re in he){if(z=he[re],L=K.noTargetGet?(E=H(ce,re))&&E.value:ce[re],!J(X?re:U+(D?".":"#")+re,K.forced)&&void 0!==L){if(typeof z==typeof L)continue;oe(z,L)}(K.sham||L&&L.sham)&&G(z,"sham",!0),ie(ce,re,z,K)}}},ve=>{var I=function(y){return y&&y.Math==Math&&y};ve.exports=I("object"==typeof globalThis&&globalThis)||I("object"==typeof window&&window)||I("object"==typeof self&&self)||I("object"==typeof global&&global)||function(){return this}()||Function("return this")()},(ve,I,y)=>{var a=y(12),H=y(14),G=y(15),ie=y(16),V=y(20),oe=y(22),J=y(23),K=Object.getOwnPropertyDescriptor;I.f=a?K:function(U,X){if(U=ie(U),X=V(X,!0),J)try{return K(U,X)}catch(D){}if(oe(U,X))return G(!H.f.call(U,X),U[X])}},(ve,I,y)=>{var a=y(13);ve.exports=!a(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},ve=>{ve.exports=function(I){try{return!!I()}catch(y){return!0}}},(ve,I)=>{"use strict";var y={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,H=a&&!y.call({1:2},1);I.f=H?function(ie){var V=a(this,ie);return!!V&&V.enumerable}:y},ve=>{ve.exports=function(I,y){return{enumerable:!(1&I),configurable:!(2&I),writable:!(4&I),value:y}}},(ve,I,y)=>{var a=y(17),H=y(19);ve.exports=function(G){return a(H(G))}},(ve,I,y)=>{var a=y(13),H=y(18),G="".split;ve.exports=a(function(){return!Object("z").propertyIsEnumerable(0)})?function(ie){return"String"==H(ie)?G.call(ie,""):Object(ie)}:Object},ve=>{var I={}.toString;ve.exports=function(y){return I.call(y).slice(8,-1)}},ve=>{ve.exports=function(I){if(null==I)throw TypeError("Can't call method on "+I);return I}},(ve,I,y)=>{var a=y(21);ve.exports=function(H,G){if(!a(H))return H;var ie,V;if(G&&"function"==typeof(ie=H.toString)&&!a(V=ie.call(H))||"function"==typeof(ie=H.valueOf)&&!a(V=ie.call(H))||!G&&"function"==typeof(ie=H.toString)&&!a(V=ie.call(H)))return V;throw TypeError("Can't convert object to primitive value")}},ve=>{ve.exports=function(I){return"object"==typeof I?null!==I:"function"==typeof I}},ve=>{var I={}.hasOwnProperty;ve.exports=function(y,a){return I.call(y,a)}},(ve,I,y)=>{var a=y(12),H=y(13),G=y(24);ve.exports=!a&&!H(function(){return 7!=Object.defineProperty(G("div"),"a",{get:function(){return 7}}).a})},(ve,I,y)=>{var a=y(10),H=y(21),G=a.document,ie=H(G)&&H(G.createElement);ve.exports=function(V){return ie?G.createElement(V):{}}},(ve,I,y)=>{var a=y(12),H=y(26),G=y(15);ve.exports=a?function(ie,V,oe){return H.f(ie,V,G(1,oe))}:function(ie,V,oe){return ie[V]=oe,ie}},(ve,I,y)=>{var a=y(12),H=y(23),G=y(27),ie=y(20),V=Object.defineProperty;I.f=a?V:function(J,K,he){if(G(J),K=ie(K,!0),G(he),H)try{return V(J,K,he)}catch(U){}if("get"in he||"set"in he)throw TypeError("Accessors not supported");return"value"in he&&(J[K]=he.value),J}},(ve,I,y)=>{var a=y(21);ve.exports=function(H){if(!a(H))throw TypeError(String(H)+" is not an object");return H}},(ve,I,y)=>{var a=y(10),H=y(25),G=y(22),ie=y(29),V=y(30),oe=y(32),J=oe.get,K=oe.enforce,he=String(String).split("String");(ve.exports=function(U,X,D,te){var z,ce=!!te&&!!te.unsafe,re=!!te&&!!te.enumerable,L=!!te&&!!te.noTargetGet;"function"==typeof D&&("string"==typeof X&&!G(D,"name")&&H(D,"name",X),(z=K(D)).source||(z.source=he.join("string"==typeof X?X:""))),U!==a?(ce?!L&&U[X]&&(re=!0):delete U[X],re?U[X]=D:H(U,X,D)):re?U[X]=D:ie(X,D)})(Function.prototype,"toString",function(){return"function"==typeof this&&J(this).source||V(this)})},(ve,I,y)=>{var a=y(10),H=y(25);ve.exports=function(G,ie){try{H(a,G,ie)}catch(V){a[G]=ie}return ie}},(ve,I,y)=>{var a=y(31),H=Function.toString;"function"!=typeof a.inspectSource&&(a.inspectSource=function(G){return H.call(G)}),ve.exports=a.inspectSource},(ve,I,y)=>{var a=y(10),H=y(29),G="__core-js_shared__",ie=a[G]||H(G,{});ve.exports=ie},(ve,I,y)=>{var U,X,D,a=y(33),H=y(10),G=y(21),ie=y(25),V=y(22),oe=y(31),J=y(34),K=y(38);if(a){var re=oe.state||(oe.state=new(0,H.WeakMap)),L=re.get,z=re.has,E=re.set;U=function(C,R){return R.facade=C,E.call(re,C,R),R},X=function(C){return L.call(re,C)||{}},D=function(C){return z.call(re,C)}}else{var B=J("state");K[B]=!0,U=function(C,R){return R.facade=C,ie(C,B,R),R},X=function(C){return V(C,B)?C[B]:{}},D=function(C){return V(C,B)}}ve.exports={set:U,get:X,has:D,enforce:function(C){return D(C)?X(C):U(C,{})},getterFor:function(C){return function(R){var O;if(!G(R)||(O=X(R)).type!==C)throw TypeError("Incompatible receiver, "+C+" required");return O}}}},(ve,I,y)=>{var a=y(10),H=y(30),G=a.WeakMap;ve.exports="function"==typeof G&&/native code/.test(H(G))},(ve,I,y)=>{var a=y(35),H=y(37),G=a("keys");ve.exports=function(ie){return G[ie]||(G[ie]=H(ie))}},(ve,I,y)=>{var a=y(36),H=y(31);(ve.exports=function(G,ie){return H[G]||(H[G]=void 0!==ie?ie:{})})("versions",[]).push({version:"3.8.3",mode:a?"pure":"global",copyright:"\xa9 2021 Denis Pushkarev (zloirock.ru)"})},ve=>{ve.exports=!1},ve=>{var I=0,y=Math.random();ve.exports=function(a){return"Symbol("+String(void 0===a?"":a)+")_"+(++I+y).toString(36)}},ve=>{ve.exports={}},(ve,I,y)=>{var a=y(22),H=y(40),G=y(11),ie=y(26);ve.exports=function(V,oe){for(var J=H(oe),K=ie.f,he=G.f,U=0;U<J.length;U++){var X=J[U];a(V,X)||K(V,X,he(oe,X))}}},(ve,I,y)=>{var a=y(41),H=y(43),G=y(50),ie=y(27);ve.exports=a("Reflect","ownKeys")||function(oe){var J=H.f(ie(oe)),K=G.f;return K?J.concat(K(oe)):J}},(ve,I,y)=>{var a=y(42),H=y(10),G=function(ie){return"function"==typeof ie?ie:void 0};ve.exports=function(ie,V){return arguments.length<2?G(a[ie])||G(H[ie]):a[ie]&&a[ie][V]||H[ie]&&H[ie][V]}},(ve,I,y)=>{var a=y(10);ve.exports=a},(ve,I,y)=>{var a=y(44),G=y(49).concat("length","prototype");I.f=Object.getOwnPropertyNames||function(V){return a(V,G)}},(ve,I,y)=>{var a=y(22),H=y(16),G=y(45).indexOf,ie=y(38);ve.exports=function(V,oe){var U,J=H(V),K=0,he=[];for(U in J)!a(ie,U)&&a(J,U)&&he.push(U);for(;oe.length>K;)a(J,U=oe[K++])&&(~G(he,U)||he.push(U));return he}},(ve,I,y)=>{var a=y(16),H=y(46),G=y(48),ie=function(V){return function(oe,J,K){var D,he=a(oe),U=H(he.length),X=G(K,U);if(V&&J!=J){for(;U>X;)if((D=he[X++])!=D)return!0}else for(;U>X;X++)if((V||X in he)&&he[X]===J)return V||X||0;return!V&&-1}};ve.exports={includes:ie(!0),indexOf:ie(!1)}},(ve,I,y)=>{var a=y(47),H=Math.min;ve.exports=function(G){return G>0?H(a(G),9007199254740991):0}},ve=>{var I=Math.ceil,y=Math.floor;ve.exports=function(a){return isNaN(a=+a)?0:(a>0?y:I)(a)}},(ve,I,y)=>{var a=y(47),H=Math.max,G=Math.min;ve.exports=function(ie,V){var oe=a(ie);return oe<0?H(oe+V,0):G(oe,V)}},ve=>{ve.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},(ve,I)=>{I.f=Object.getOwnPropertySymbols},(ve,I,y)=>{var a=y(13),H=/#|\.prototype\./,G=function(K,he){var U=V[ie(K)];return U==J||U!=oe&&("function"==typeof he?a(he):!!he)},ie=G.normalize=function(K){return String(K).replace(H,".").toLowerCase()},V=G.data={},oe=G.NATIVE="N",J=G.POLYFILL="P";ve.exports=G},(ve,I,y)=>{y(53),y(72);var a=y(42);ve.exports=a.Object.fromEntries},(ve,I,y)=>{"use strict";var a=y(16),H=y(54),G=y(62),ie=y(32),V=y(63),oe="Array Iterator",J=ie.set,K=ie.getterFor(oe);ve.exports=V(Array,"Array",function(he,U){J(this,{type:oe,target:a(he),index:0,kind:U})},function(){var he=K(this),U=he.target,X=he.kind,D=he.index++;return!U||D>=U.length?(he.target=void 0,{value:void 0,done:!0}):"keys"==X?{value:D,done:!1}:"values"==X?{value:U[D],done:!1}:{value:[D,U[D]],done:!1}},"values"),G.Arguments=G.Array,H("keys"),H("values"),H("entries")},(ve,I,y)=>{var a=y(55),H=y(58),G=y(26),ie=a("unscopables"),V=Array.prototype;null==V[ie]&&G.f(V,ie,{configurable:!0,value:H(null)}),ve.exports=function(oe){V[ie][oe]=!0}},(ve,I,y)=>{var a=y(10),H=y(35),G=y(22),ie=y(37),V=y(56),oe=y(57),J=H("wks"),K=a.Symbol,he=oe?K:K&&K.withoutSetter||ie;ve.exports=function(U){return G(J,U)||(J[U]=V&&G(K,U)?K[U]:he("Symbol."+U)),J[U]}},(ve,I,y)=>{var a=y(13);ve.exports=!!Object.getOwnPropertySymbols&&!a(function(){return!String(Symbol())})},(ve,I,y)=>{var a=y(56);ve.exports=a&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},(ve,I,y)=>{var z,a=y(27),H=y(59),G=y(49),ie=y(38),V=y(61),oe=y(24),J=y(34),U="prototype",X="script",D=J("IE_PROTO"),te=function(){},ce=function(B){return"<"+X+">"+B+"</"+X+">"},E=function(){try{z=document.domain&&new ActiveXObject("htmlfile")}catch(C){}E=z?function(B){B.write(ce("")),B.close();var C=B.parentWindow.Object;return B=null,C}(z):function(){var R,B=oe("iframe");return B.style.display="none",V.appendChild(B),B.src=String("javascript:"),(R=B.contentWindow.document).open(),R.write(ce("document.F=Object")),R.close(),R.F}();for(var B=G.length;B--;)delete E[U][G[B]];return E()};ie[D]=!0,ve.exports=Object.create||function(C,R){var O;return null!==C?(te[U]=a(C),O=new te,te[U]=null,O[D]=C):O=E(),void 0===R?O:H(O,R)}},(ve,I,y)=>{var a=y(12),H=y(26),G=y(27),ie=y(60);ve.exports=a?Object.defineProperties:function(oe,J){G(oe);for(var X,K=ie(J),he=K.length,U=0;he>U;)H.f(oe,X=K[U++],J[X]);return oe}},(ve,I,y)=>{var a=y(44),H=y(49);ve.exports=Object.keys||function(ie){return a(ie,H)}},(ve,I,y)=>{var a=y(41);ve.exports=a("document","documentElement")},ve=>{ve.exports={}},(ve,I,y)=>{"use strict";var a=y(9),H=y(64),G=y(66),ie=y(70),V=y(69),oe=y(25),J=y(28),K=y(55),he=y(36),U=y(62),X=y(65),D=X.IteratorPrototype,te=X.BUGGY_SAFARI_ITERATORS,ce=K("iterator"),L="values",z="entries",E=function(){return this};ve.exports=function(B,C,R,O,se,ae,ue){H(R,C,O);var P,Y,j,N=function(A){if(A===se&&ee)return ee;if(!te&&A in x)return x[A];switch(A){case"keys":case L:case z:return function(){return new R(this,A)}}return function(){return new R(this)}},T=C+" Iterator",ne=!1,x=B.prototype,F=x[ce]||x["@@iterator"]||se&&x[se],ee=!te&&F||N(se),M="Array"==C&&x.entries||F;if(M&&(P=G(M.call(new B)),D!==Object.prototype&&P.next&&(!he&&G(P)!==D&&(ie?ie(P,D):"function"!=typeof P[ce]&&oe(P,ce,E)),V(P,T,!0,!0),he&&(U[T]=E))),se==L&&F&&F.name!==L&&(ne=!0,ee=function(){return F.call(this)}),(!he||ue)&&x[ce]!==ee&&oe(x,ce,ee),U[C]=ee,se)if(Y={values:N(L),keys:ae?ee:N("keys"),entries:N(z)},ue)for(j in Y)(te||ne||!(j in x))&&J(x,j,Y[j]);else a({target:C,proto:!0,forced:te||ne},Y);return Y}},(ve,I,y)=>{"use strict";var a=y(65).IteratorPrototype,H=y(58),G=y(15),ie=y(69),V=y(62),oe=function(){return this};ve.exports=function(J,K,he){var U=K+" Iterator";return J.prototype=H(a,{next:G(1,he)}),ie(J,U,!1,!0),V[U]=oe,J}},(ve,I,y)=>{"use strict";var U,X,D,a=y(13),H=y(66),G=y(25),ie=y(22),V=y(55),oe=y(36),J=V("iterator"),K=!1;[].keys&&("next"in(D=[].keys())?(X=H(H(D)))!==Object.prototype&&(U=X):K=!0);var te=null==U||a(function(){var ce={};return U[J].call(ce)!==ce});te&&(U={}),(!oe||te)&&!ie(U,J)&&G(U,J,function(){return this}),ve.exports={IteratorPrototype:U,BUGGY_SAFARI_ITERATORS:K}},(ve,I,y)=>{var a=y(22),H=y(67),G=y(34),ie=y(68),V=G("IE_PROTO"),oe=Object.prototype;ve.exports=ie?Object.getPrototypeOf:function(J){return J=H(J),a(J,V)?J[V]:"function"==typeof J.constructor&&J instanceof J.constructor?J.constructor.prototype:J instanceof Object?oe:null}},(ve,I,y)=>{var a=y(19);ve.exports=function(H){return Object(a(H))}},(ve,I,y)=>{var a=y(13);ve.exports=!a(function(){function H(){}return H.prototype.constructor=null,Object.getPrototypeOf(new H)!==H.prototype})},(ve,I,y)=>{var a=y(26).f,H=y(22),ie=y(55)("toStringTag");ve.exports=function(V,oe,J){V&&!H(V=J?V:V.prototype,ie)&&a(V,ie,{configurable:!0,value:oe})}},(ve,I,y)=>{var a=y(27),H=y(71);ve.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var V,G=!1,ie={};try{(V=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(ie,[]),G=ie instanceof Array}catch(oe){}return function(J,K){return a(J),H(K),G?V.call(J,K):J.__proto__=K,J}}():void 0)},(ve,I,y)=>{var a=y(21);ve.exports=function(H){if(!a(H)&&null!==H)throw TypeError("Can't set "+String(H)+" as a prototype");return H}},(ve,I,y)=>{var a=y(9),H=y(73),G=y(81);a({target:"Object",stat:!0},{fromEntries:function(V){var oe={};return H(V,function(J,K){G(oe,J,K)},{AS_ENTRIES:!0}),oe}})},(ve,I,y)=>{var a=y(27),H=y(74),G=y(46),ie=y(75),V=y(77),oe=y(80),J=function(K,he){this.stopped=K,this.result=he};ve.exports=function(K,he,U){var L,z,E,B,C,R,O,D=!(!U||!U.AS_ENTRIES),te=!(!U||!U.IS_ITERATOR),ce=!(!U||!U.INTERRUPTED),re=ie(he,U&&U.that,1+D+ce),se=function(ue){return L&&oe(L),new J(!0,ue)},ae=function(ue){return D?(a(ue),ce?re(ue[0],ue[1],se):re(ue[0],ue[1])):ce?re(ue,se):re(ue)};if(te)L=K;else{if("function"!=typeof(z=V(K)))throw TypeError("Target is not iterable");if(H(z)){for(E=0,B=G(K.length);B>E;E++)if((C=ae(K[E]))&&C instanceof J)return C;return new J(!1)}L=z.call(K)}for(R=L.next;!(O=R.call(L)).done;){try{C=ae(O.value)}catch(ue){throw oe(L),ue}if("object"==typeof C&&C&&C instanceof J)return C}return new J(!1)}},(ve,I,y)=>{var a=y(55),H=y(62),G=a("iterator"),ie=Array.prototype;ve.exports=function(V){return void 0!==V&&(H.Array===V||ie[G]===V)}},(ve,I,y)=>{var a=y(76);ve.exports=function(H,G,ie){if(a(H),void 0===G)return H;switch(ie){case 0:return function(){return H.call(G)};case 1:return function(V){return H.call(G,V)};case 2:return function(V,oe){return H.call(G,V,oe)};case 3:return function(V,oe,J){return H.call(G,V,oe,J)}}return function(){return H.apply(G,arguments)}}},ve=>{ve.exports=function(I){if("function"!=typeof I)throw TypeError(String(I)+" is not a function");return I}},(ve,I,y)=>{var a=y(78),H=y(62),ie=y(55)("iterator");ve.exports=function(V){if(null!=V)return V[ie]||V["@@iterator"]||H[a(V)]}},(ve,I,y)=>{var a=y(79),H=y(18),ie=y(55)("toStringTag"),V="Arguments"==H(function(){return arguments}());ve.exports=a?H:function(J){var K,he,U;return void 0===J?"Undefined":null===J?"Null":"string"==typeof(he=function(J,K){try{return J[K]}catch(he){}}(K=Object(J),ie))?he:V?H(K):"Object"==(U=H(K))&&"function"==typeof K.callee?"Arguments":U}},(ve,I,y)=>{var G={};G[y(55)("toStringTag")]="z",ve.exports="[object z]"===String(G)},(ve,I,y)=>{var a=y(27);ve.exports=function(H){var G=H.return;if(void 0!==G)return a(G.call(H)).value}},(ve,I,y)=>{"use strict";var a=y(20),H=y(26),G=y(15);ve.exports=function(ie,V,oe){var J=a(V);J in ie?H.f(ie,J,G(0,oe)):ie[J]=oe}},(ve,I,y)=>{y(83),y(84),y(86),y(104),y(105),y(106),y(107),y(109);var a=y(42);ve.exports=a.Promise},(ve,I,y)=>{"use strict";var a=y(9),H=y(66),G=y(70),ie=y(58),V=y(25),oe=y(15),J=y(73),K=function(U,X){var D=this;if(!(D instanceof K))return new K(U,X);G&&(D=G(new Error(void 0),H(D))),void 0!==X&&V(D,"message",String(X));var te=[];return J(U,te.push,{that:te}),V(D,"errors",te),D};K.prototype=ie(Error.prototype,{constructor:oe(5,K),message:oe(5,""),name:oe(5,"AggregateError")}),a({global:!0},{AggregateError:K})},(ve,I,y)=>{var a=y(79),H=y(28),G=y(85);a||H(Object.prototype,"toString",G,{unsafe:!0})},(ve,I,y)=>{"use strict";var a=y(79),H=y(78);ve.exports=a?{}.toString:function(){return"[object "+H(this)+"]"}},(ve,I,y)=>{"use strict";var Ze,Ke,et,Ne,a=y(9),H=y(36),G=y(10),ie=y(41),V=y(87),oe=y(28),J=y(88),K=y(69),he=y(89),U=y(21),X=y(76),D=y(90),te=y(30),ce=y(73),re=y(91),L=y(92),z=y(93).set,E=y(97),B=y(99),C=y(101),R=y(100),O=y(102),se=y(32),ae=y(51),ue=y(55),N=y(96),T=y(103),ne=ue("species"),x="Promise",F=se.get,ee=se.set,M=se.getterFor(x),P=V,Y=G.TypeError,j=G.document,A=G.process,Z=ie("fetch"),$=R.f,Q=$,de=!!(j&&j.createEvent&&G.dispatchEvent),fe="function"==typeof PromiseRejectionEvent,ge="unhandledrejection",He=ae(x,function(){if(te(P)===String(P)&&(66===T||!N&&!fe)||H&&!P.prototype.finally)return!0;if(T>=51&&/native code/.test(P))return!1;var ft=P.resolve(1),gt=function(Ve){Ve(function(){},function(){})};return(ft.constructor={})[ne]=gt,!(ft.then(function(){})instanceof gt)}),be=He||!re(function(qe){P.all(qe).catch(function(){})}),Ie=function(qe){var ft;return!(!U(qe)||"function"!=typeof(ft=qe.then))&&ft},Fe=function(qe,ft){if(!qe.notified){qe.notified=!0;var gt=qe.reactions;E(function(){for(var Tt=qe.value,Ve=1==qe.state,$e=0;gt.length>$e;){var Je,Qe,St,it=gt[$e++],dt=Ve?it.ok:it.fail,Ae=it.resolve,De=it.reject,Be=it.domain;try{dt?(Ve||(2===qe.rejection&&lt(qe),qe.rejection=1),!0===dt?Je=Tt:(Be&&Be.enter(),Je=dt(Tt),Be&&(Be.exit(),St=!0)),Je===it.promise?De(Y("Promise-chain cycle")):(Qe=Ie(Je))?Qe.call(Je,Ae,De):Ae(Je)):De(Tt)}catch(Ft){Be&&!St&&Be.exit(),De(Ft)}}qe.reactions=[],qe.notified=!1,ft&&!qe.rejection&&ot(qe)})}},at=function(qe,ft,gt){var Tt,Ve;de?((Tt=j.createEvent("Event")).promise=ft,Tt.reason=gt,Tt.initEvent(qe,!1,!0),G.dispatchEvent(Tt)):Tt={promise:ft,reason:gt},!fe&&(Ve=G["on"+qe])?Ve(Tt):qe===ge&&C("Unhandled promise rejection",gt)},ot=function(qe){z.call(G,function(){var Ve,ft=qe.facade,gt=qe.value;if(ct(qe)&&(Ve=O(function(){N?A.emit("unhandledRejection",gt,ft):at(ge,ft,gt)}),qe.rejection=N||ct(qe)?2:1,Ve.error))throw Ve.value})},ct=function(qe){return 1!==qe.rejection&&!qe.parent},lt=function(qe){z.call(G,function(){var ft=qe.facade;N?A.emit("rejectionHandled",ft):at("rejectionhandled",ft,qe.value)})},tt=function(qe,ft,gt){return function(Tt){qe(ft,Tt,gt)}},xt=function(qe,ft,gt){qe.done||(qe.done=!0,gt&&(qe=gt),qe.value=ft,qe.state=2,Fe(qe,!0))},Mt=function(qe,ft,gt){if(!qe.done){qe.done=!0,gt&&(qe=gt);try{if(qe.facade===ft)throw Y("Promise can't be resolved itself");var Tt=Ie(ft);Tt?E(function(){var Ve={done:!1};try{Tt.call(ft,tt(Mt,Ve,qe),tt(xt,Ve,qe))}catch($e){xt(Ve,$e,qe)}}):(qe.value=ft,qe.state=1,Fe(qe,!1))}catch(Ve){xt({done:!1},Ve,qe)}}};He&&(P=function(ft){D(this,P,x),X(ft),Ze.call(this);var gt=F(this);try{ft(tt(Mt,gt),tt(xt,gt))}catch(Tt){xt(gt,Tt)}},(Ze=function(ft){ee(this,{type:x,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=J(P.prototype,{then:function(ft,gt){var Tt=M(this),Ve=$(L(this,P));return Ve.ok="function"!=typeof ft||ft,Ve.fail="function"==typeof gt&&gt,Ve.domain=N?A.domain:void 0,Tt.parent=!0,Tt.reactions.push(Ve),0!=Tt.state&&Fe(Tt,!1),Ve.promise},catch:function(qe){return this.then(void 0,qe)}}),Ke=function(){var qe=new Ze,ft=F(qe);this.promise=qe,this.resolve=tt(Mt,ft),this.reject=tt(xt,ft)},R.f=$=function(qe){return qe===P||qe===et?new Ke(qe):Q(qe)},!H&&"function"==typeof V&&(Ne=V.prototype.then,oe(V.prototype,"then",function(ft,gt){var Tt=this;return new P(function(Ve,$e){Ne.call(Tt,Ve,$e)}).then(ft,gt)},{unsafe:!0}),"function"==typeof Z&&a({global:!0,enumerable:!0,forced:!0},{fetch:function(ft){return B(P,Z.apply(G,arguments))}}))),a({global:!0,wrap:!0,forced:He},{Promise:P}),K(P,x,!1,!0),he(x),et=ie(x),a({target:x,stat:!0,forced:He},{reject:function(ft){var gt=$(this);return gt.reject.call(void 0,ft),gt.promise}}),a({target:x,stat:!0,forced:H||He},{resolve:function(ft){return B(H&&this===et?P:this,ft)}}),a({target:x,stat:!0,forced:be},{all:function(ft){var gt=this,Tt=$(gt),Ve=Tt.resolve,$e=Tt.reject,it=O(function(){var dt=X(gt.resolve),Ae=[],De=0,Be=1;ce(ft,function(Je){var Qe=De++,St=!1;Ae.push(void 0),Be++,dt.call(gt,Je).then(function(Ft){St||(St=!0,Ae[Qe]=Ft,--Be||Ve(Ae))},$e)}),--Be||Ve(Ae)});return it.error&&$e(it.value),Tt.promise},race:function(ft){var gt=this,Tt=$(gt),Ve=Tt.reject,$e=O(function(){var it=X(gt.resolve);ce(ft,function(dt){it.call(gt,dt).then(Tt.resolve,Ve)})});return $e.error&&Ve($e.value),Tt.promise}})},(ve,I,y)=>{var a=y(10);ve.exports=a.Promise},(ve,I,y)=>{var a=y(28);ve.exports=function(H,G,ie){for(var V in G)a(H,V,G[V],ie);return H}},(ve,I,y)=>{"use strict";var a=y(41),H=y(26),G=y(55),ie=y(12),V=G("species");ve.exports=function(oe){var J=a(oe);ie&&J&&!J[V]&&(0,H.f)(J,V,{configurable:!0,get:function(){return this}})}},ve=>{ve.exports=function(I,y,a){if(!(I instanceof y))throw TypeError("Incorrect "+(a?a+" ":"")+"invocation");return I}},(ve,I,y)=>{var H=y(55)("iterator"),G=!1;try{var ie=0,V={next:function(){return{done:!!ie++}},return:function(){G=!0}};V[H]=function(){return this},Array.from(V,function(){throw 2})}catch(oe){}ve.exports=function(oe,J){if(!J&&!G)return!1;var K=!1;try{var he={};he[H]=function(){return{next:function(){return{done:K=!0}}}},oe(he)}catch(U){}return K}},(ve,I,y)=>{var a=y(27),H=y(76),ie=y(55)("species");ve.exports=function(V,oe){var K,J=a(V).constructor;return void 0===J||null==(K=a(J)[ie])?oe:H(K)}},(ve,I,y)=>{var z,E,B,a=y(10),H=y(13),G=y(75),ie=y(61),V=y(24),oe=y(94),J=y(96),K=a.location,he=a.setImmediate,U=a.clearImmediate,X=a.process,D=a.MessageChannel,te=a.Dispatch,ce=0,re={},L="onreadystatechange",C=function(ae){if(re.hasOwnProperty(ae)){var ue=re[ae];delete re[ae],ue()}},R=function(ae){return function(){C(ae)}},O=function(ae){C(ae.data)},se=function(ae){a.postMessage(ae+"",K.protocol+"//"+K.host)};(!he||!U)&&(he=function(ue){for(var N=[],T=1;arguments.length>T;)N.push(arguments[T++]);return re[++ce]=function(){("function"==typeof ue?ue:Function(ue)).apply(void 0,N)},z(ce),ce},U=function(ue){delete re[ue]},J?z=function(ae){X.nextTick(R(ae))}:te&&te.now?z=function(ae){te.now(R(ae))}:D&&!oe?(B=(E=new D).port2,E.port1.onmessage=O,z=G(B.postMessage,B,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts&&K&&"file:"!==K.protocol&&!H(se)?(z=se,a.addEventListener("message",O,!1)):z=L in V("script")?function(ae){ie.appendChild(V("script"))[L]=function(){ie.removeChild(this),C(ae)}}:function(ae){setTimeout(R(ae),0)}),ve.exports={set:he,clear:U}},(ve,I,y)=>{var a=y(95);ve.exports=/(iphone|ipod|ipad).*applewebkit/i.test(a)},(ve,I,y)=>{var a=y(41);ve.exports=a("navigator","userAgent")||""},(ve,I,y)=>{var a=y(18),H=y(10);ve.exports="process"==a(H.process)},(ve,I,y)=>{var te,ce,re,L,z,E,B,C,a=y(10),H=y(11).f,G=y(93).set,ie=y(94),V=y(98),oe=y(96),J=a.MutationObserver||a.WebKitMutationObserver,K=a.document,he=a.process,U=a.Promise,X=H(a,"queueMicrotask"),D=X&&X.value;D||(te=function(){var R,O;for(oe&&(R=he.domain)&&R.exit();ce;){O=ce.fn,ce=ce.next;try{O()}catch(se){throw ce?L():re=void 0,se}}re=void 0,R&&R.enter()},ie||oe||V||!J||!K?U&&U.resolve?(B=U.resolve(void 0),C=B.then,L=function(){C.call(B,te)}):L=oe?function(){he.nextTick(te)}:function(){G.call(a,te)}:(z=!0,E=K.createTextNode(""),new J(te).observe(E,{characterData:!0}),L=function(){E.data=z=!z})),ve.exports=D||function(R){var O={fn:R,next:void 0};re&&(re.next=O),ce||(ce=O,L()),re=O}},(ve,I,y)=>{var a=y(95);ve.exports=/web0s(?!.*chrome)/i.test(a)},(ve,I,y)=>{var a=y(27),H=y(21),G=y(100);ve.exports=function(ie,V){if(a(ie),H(V)&&V.constructor===ie)return V;var oe=G.f(ie);return(0,oe.resolve)(V),oe.promise}},(ve,I,y)=>{"use strict";var a=y(76),H=function(G){var ie,V;this.promise=new G(function(oe,J){if(void 0!==ie||void 0!==V)throw TypeError("Bad Promise constructor");ie=oe,V=J}),this.resolve=a(ie),this.reject=a(V)};ve.exports.f=function(G){return new H(G)}},(ve,I,y)=>{var a=y(10);ve.exports=function(H,G){var ie=a.console;ie&&ie.error&&(1===arguments.length?ie.error(H):ie.error(H,G))}},ve=>{ve.exports=function(I){try{return{error:!1,value:I()}}catch(y){return{error:!0,value:y}}}},(ve,I,y)=>{var oe,J,a=y(10),H=y(95),G=a.process,ie=G&&G.versions,V=ie&&ie.v8;V?J=(oe=V.split("."))[0]+oe[1]:H&&(!(oe=H.match(/Edge\/(\d+)/))||oe[1]>=74)&&(oe=H.match(/Chrome\/(\d+)/))&&(J=oe[1]),ve.exports=J&&+J},(ve,I,y)=>{"use strict";var a=y(9),H=y(76),G=y(100),ie=y(102),V=y(73);a({target:"Promise",stat:!0},{allSettled:function(J){var K=this,he=G.f(K),U=he.resolve,X=he.reject,D=ie(function(){var te=H(K.resolve),ce=[],re=0,L=1;V(J,function(z){var E=re++,B=!1;ce.push(void 0),L++,te.call(K,z).then(function(C){B||(B=!0,ce[E]={status:"fulfilled",value:C},--L||U(ce))},function(C){B||(B=!0,ce[E]={status:"rejected",reason:C},--L||U(ce))})}),--L||U(ce)});return D.error&&X(D.value),he.promise}})},(ve,I,y)=>{"use strict";var a=y(9),H=y(76),G=y(41),ie=y(100),V=y(102),oe=y(73),J="No one promise resolved";a({target:"Promise",stat:!0},{any:function(he){var U=this,X=ie.f(U),D=X.resolve,te=X.reject,ce=V(function(){var re=H(U.resolve),L=[],z=0,E=1,B=!1;oe(he,function(C){var R=z++,O=!1;L.push(void 0),E++,re.call(U,C).then(function(se){O||B||(B=!0,D(se))},function(se){O||B||(O=!0,L[R]=se,--E||te(new(G("AggregateError"))(L,J)))})}),--E||te(new(G("AggregateError"))(L,J))});return ce.error&&te(ce.value),X.promise}})},(ve,I,y)=>{"use strict";var a=y(9),H=y(36),G=y(87),ie=y(13),V=y(41),oe=y(92),J=y(99),K=y(28);a({target:"Promise",proto:!0,real:!0,forced:!!G&&ie(function(){G.prototype.finally.call({then:function(){}},function(){})})},{finally:function(U){var X=oe(this,V("Promise")),D="function"==typeof U;return this.then(D?function(te){return J(X,U()).then(function(){return te})}:U,D?function(te){return J(X,U()).then(function(){throw te})}:U)}}),!H&&"function"==typeof G&&!G.prototype.finally&&K(G.prototype,"finally",V("Promise").prototype.finally)},(ve,I,y)=>{"use strict";var a=y(108).charAt,H=y(32),G=y(63),ie="String Iterator",V=H.set,oe=H.getterFor(ie);G(String,"String",function(J){V(this,{type:ie,string:String(J),index:0})},function(){var X,K=oe(this),he=K.string,U=K.index;return U>=he.length?{value:void 0,done:!0}:(X=a(he,U),K.index+=X.length,{value:X,done:!1})})},(ve,I,y)=>{var a=y(47),H=y(19),G=function(ie){return function(V,oe){var U,X,J=String(H(V)),K=a(oe),he=J.length;return K<0||K>=he?ie?"":void 0:(U=J.charCodeAt(K))<55296||U>56319||K+1===he||(X=J.charCodeAt(K+1))<56320||X>57343?ie?J.charAt(K):U:ie?J.slice(K,K+2):X-56320+(U-55296<<10)+65536}};ve.exports={codeAt:G(!1),charAt:G(!0)}},(ve,I,y)=>{var a=y(10),H=y(110),G=y(53),ie=y(25),V=y(55),oe=V("iterator"),J=V("toStringTag"),K=G.values;for(var he in H){var U=a[he],X=U&&U.prototype;if(X){if(X[oe]!==K)try{ie(X,oe,K)}catch(te){X[oe]=K}if(X[J]||ie(X,J,he),H[he])for(var D in G)if(X[D]!==G[D])try{ie(X,D,G[D])}catch(te){X[D]=G[D]}}}},ve=>{ve.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},(ve,I,y)=>{y(112),y(120),y(118);var a=y(42);ve.exports=a.URL},(ve,I,y)=>{"use strict";y(107);var $,a=y(9),H=y(12),G=y(113),ie=y(10),V=y(59),oe=y(28),J=y(90),K=y(22),he=y(114),U=y(115),X=y(108).codeAt,D=y(117),te=y(69),ce=y(118),re=y(32),L=ie.URL,z=ce.URLSearchParams,E=ce.getState,B=re.set,C=re.getterFor("URL"),R=Math.floor,O=Math.pow,ae="Invalid scheme",ue="Invalid host",N="Invalid port",T=/[A-Za-z]/,ne=/[\d+-.A-Za-z]/,x=/\d/,F=/^(0x|0X)/,ee=/^[0-7]+$/,M=/^\d+$/,P=/^[\dA-Fa-f]+$/,Y=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,j=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,A=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,Z=/[\u0009\u000A\u000D]/g,Q=function(Ee,We){var nt,mt,Ct;if("["==We.charAt(0)){if("]"!=We.charAt(We.length-1)||!(nt=fe(We.slice(1,-1))))return ue;Ee.host=nt}else if(Ke(Ee)){if(We=D(We),Y.test(We)||null===(nt=de(We)))return ue;Ee.host=nt}else{if(j.test(We))return ue;for(nt="",mt=U(We),Ct=0;Ct<mt.length;Ct++)nt+=Oe(mt[Ct],Ce);Ee.host=nt}},de=function(Ee){var nt,mt,Ct,$t,Pt,tn,Jt,We=Ee.split(".");if(We.length&&""==We[We.length-1]&&We.pop(),(nt=We.length)>4)return Ee;for(mt=[],Ct=0;Ct<nt;Ct++){if(""==($t=We[Ct]))return Ee;if(Pt=10,$t.length>1&&"0"==$t.charAt(0)&&(Pt=F.test($t)?16:8,$t=$t.slice(8==Pt?1:2)),""===$t)tn=0;else{if(!(10==Pt?M:8==Pt?ee:P).test($t))return Ee;tn=parseInt($t,Pt)}mt.push(tn)}for(Ct=0;Ct<nt;Ct++)if(tn=mt[Ct],Ct==nt-1){if(tn>=O(256,5-nt))return null}else if(tn>255)return null;for(Jt=mt.pop(),Ct=0;Ct<mt.length;Ct++)Jt+=mt[Ct]*O(256,3-Ct);return Jt},fe=function(Ee){var $t,Pt,tn,Jt,Pn,sr,_t,We=[0,0,0,0,0,0,0,0],nt=0,mt=null,Ct=0,qn=function(){return Ee.charAt(Ct)};if(":"==qn()){if(":"!=Ee.charAt(1))return;Ct+=2,mt=++nt}for(;qn();){if(8==nt)return;if(":"!=qn()){for($t=Pt=0;Pt<4&&P.test(qn());)$t=16*$t+parseInt(qn(),16),Ct++,Pt++;if("."==qn()){if(0==Pt||(Ct-=Pt,nt>6))return;for(tn=0;qn();){if(Jt=null,tn>0){if(!("."==qn()&&tn<4))return;Ct++}if(!x.test(qn()))return;for(;x.test(qn());){if(Pn=parseInt(qn(),10),null===Jt)Jt=Pn;else{if(0==Jt)return;Jt=10*Jt+Pn}if(Jt>255)return;Ct++}We[nt]=256*We[nt]+Jt,(2==++tn||4==tn)&&nt++}if(4!=tn)return;break}if(":"==qn()){if(Ct++,!qn())return}else if(qn())return;We[nt++]=$t}else{if(null!==mt)return;Ct++,mt=++nt}}if(null!==mt)for(sr=nt-mt,nt=7;0!=nt&&sr>0;)_t=We[nt],We[nt--]=We[mt+sr-1],We[mt+--sr]=_t;else if(8!=nt)return;return We},ye=function(Ee){var We,nt,mt,Ct;if("number"==typeof Ee){for(We=[],nt=0;nt<4;nt++)We.unshift(Ee%256),Ee=R(Ee/256);return We.join(".")}if("object"==typeof Ee){for(We="",mt=function(Ee){for(var We=null,nt=1,mt=null,Ct=0,$t=0;$t<8;$t++)0!==Ee[$t]?(Ct>nt&&(We=mt,nt=Ct),mt=null,Ct=0):(null===mt&&(mt=$t),++Ct);return Ct>nt&&(We=mt,nt=Ct),We}(Ee),nt=0;nt<8;nt++)Ct&&0===Ee[nt]||(Ct&&(Ct=!1),mt===nt?(We+=nt?":":"::",Ct=!0):(We+=Ee[nt].toString(16),nt<7&&(We+=":")));return"["+We+"]"}return Ee},Ce={},Re=he({},Ce,{" ":1,'"':1,"<":1,">":1,"`":1}),xe=he({},Re,{"#":1,"?":1,"{":1,"}":1}),Le=he({},xe,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Oe=function(Ee,We){var nt=X(Ee,0);return nt>32&&nt<127&&!K(We,Ee)?Ee:encodeURIComponent(Ee)},Ze={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Ke=function(Ee){return K(Ze,Ee.scheme)},et=function(Ee){return""!=Ee.username||""!=Ee.password},Ne=function(Ee){return!Ee.host||Ee.cannotBeABaseURL||"file"==Ee.scheme},He=function(Ee,We){var nt;return 2==Ee.length&&T.test(Ee.charAt(0))&&(":"==(nt=Ee.charAt(1))||!We&&"|"==nt)},be=function(Ee){var We;return Ee.length>1&&He(Ee.slice(0,2))&&(2==Ee.length||"/"===(We=Ee.charAt(2))||"\\"===We||"?"===We||"#"===We)},Ie=function(Ee){var We=Ee.path,nt=We.length;nt&&("file"!=Ee.scheme||1!=nt||!He(We[0],!0))&&We.pop()},Fe=function(Ee){return"."===Ee||"%2e"===Ee.toLowerCase()},at=function(Ee){return".."===(Ee=Ee.toLowerCase())||"%2e."===Ee||".%2e"===Ee||"%2e%2e"===Ee},ot={},ct={},lt={},tt={},xt={},Mt={},qe={},ft={},gt={},Tt={},Ve={},$e={},it={},dt={},Ae={},De={},Be={},Je={},Qe={},St={},Ft={},zt=function(Ee,We,nt,mt){var sr,_t,qn,gr,Ct=nt||ot,$t=0,Pt="",tn=!1,Jt=!1,Pn=!1;for(nt||(Ee.scheme="",Ee.username="",Ee.password="",Ee.host=null,Ee.port=null,Ee.path=[],Ee.query=null,Ee.fragment=null,Ee.cannotBeABaseURL=!1,We=We.replace(A,"")),We=We.replace(Z,""),sr=U(We);$t<=sr.length;){switch(_t=sr[$t],Ct){case ot:if(!_t||!T.test(_t)){if(nt)return ae;Ct=lt;continue}Pt+=_t.toLowerCase(),Ct=ct;break;case ct:if(_t&&(ne.test(_t)||"+"==_t||"-"==_t||"."==_t))Pt+=_t.toLowerCase();else{if(":"!=_t){if(nt)return ae;Pt="",Ct=lt,$t=0;continue}if(nt&&(Ke(Ee)!=K(Ze,Pt)||"file"==Pt&&(et(Ee)||null!==Ee.port)||"file"==Ee.scheme&&!Ee.host))return;if(Ee.scheme=Pt,nt)return void(Ke(Ee)&&Ze[Ee.scheme]==Ee.port&&(Ee.port=null));Pt="","file"==Ee.scheme?Ct=dt:Ke(Ee)&&mt&&mt.scheme==Ee.scheme?Ct=tt:Ke(Ee)?Ct=ft:"/"==sr[$t+1]?(Ct=xt,$t++):(Ee.cannotBeABaseURL=!0,Ee.path.push(""),Ct=Qe)}break;case lt:if(!mt||mt.cannotBeABaseURL&&"#"!=_t)return ae;if(mt.cannotBeABaseURL&&"#"==_t){Ee.scheme=mt.scheme,Ee.path=mt.path.slice(),Ee.query=mt.query,Ee.fragment="",Ee.cannotBeABaseURL=!0,Ct=Ft;break}Ct="file"==mt.scheme?dt:Mt;continue;case tt:if("/"!=_t||"/"!=sr[$t+1]){Ct=Mt;continue}Ct=gt,$t++;break;case xt:if("/"==_t){Ct=Tt;break}Ct=Je;continue;case Mt:if(Ee.scheme=mt.scheme,_t==$)Ee.username=mt.username,Ee.password=mt.password,Ee.host=mt.host,Ee.port=mt.port,Ee.path=mt.path.slice(),Ee.query=mt.query;else if("/"==_t||"\\"==_t&&Ke(Ee))Ct=qe;else if("?"==_t)Ee.username=mt.username,Ee.password=mt.password,Ee.host=mt.host,Ee.port=mt.port,Ee.path=mt.path.slice(),Ee.query="",Ct=St;else{if("#"!=_t){Ee.username=mt.username,Ee.password=mt.password,Ee.host=mt.host,Ee.port=mt.port,Ee.path=mt.path.slice(),Ee.path.pop(),Ct=Je;continue}Ee.username=mt.username,Ee.password=mt.password,Ee.host=mt.host,Ee.port=mt.port,Ee.path=mt.path.slice(),Ee.query=mt.query,Ee.fragment="",Ct=Ft}break;case qe:if(!Ke(Ee)||"/"!=_t&&"\\"!=_t){if("/"!=_t){Ee.username=mt.username,Ee.password=mt.password,Ee.host=mt.host,Ee.port=mt.port,Ct=Je;continue}Ct=Tt}else Ct=gt;break;case ft:if(Ct=gt,"/"!=_t||"/"!=Pt.charAt($t+1))continue;$t++;break;case gt:if("/"!=_t&&"\\"!=_t){Ct=Tt;continue}break;case Tt:if("@"==_t){tn&&(Pt="%40"+Pt),tn=!0,qn=U(Pt);for(var qi=0;qi<qn.length;qi++){var vs=qn[qi];if(":"!=vs||Pn){var mr=Oe(vs,Le);Pn?Ee.password+=mr:Ee.username+=mr}else Pn=!0}Pt=""}else if(_t==$||"/"==_t||"?"==_t||"#"==_t||"\\"==_t&&Ke(Ee)){if(tn&&""==Pt)return"Invalid authority";$t-=U(Pt).length+1,Pt="",Ct=Ve}else Pt+=_t;break;case Ve:case $e:if(nt&&"file"==Ee.scheme){Ct=De;continue}if(":"!=_t||Jt){if(_t==$||"/"==_t||"?"==_t||"#"==_t||"\\"==_t&&Ke(Ee)){if(Ke(Ee)&&""==Pt)return ue;if(nt&&""==Pt&&(et(Ee)||null!==Ee.port))return;if(gr=Q(Ee,Pt))return gr;if(Pt="",Ct=Be,nt)return;continue}"["==_t?Jt=!0:"]"==_t&&(Jt=!1),Pt+=_t}else{if(""==Pt)return ue;if(gr=Q(Ee,Pt))return gr;if(Pt="",Ct=it,nt==$e)return}break;case it:if(!x.test(_t)){if(_t==$||"/"==_t||"?"==_t||"#"==_t||"\\"==_t&&Ke(Ee)||nt){if(""!=Pt){var wo=parseInt(Pt,10);if(wo>65535)return N;Ee.port=Ke(Ee)&&wo===Ze[Ee.scheme]?null:wo,Pt=""}if(nt)return;Ct=Be;continue}return N}Pt+=_t;break;case dt:if(Ee.scheme="file","/"==_t||"\\"==_t)Ct=Ae;else{if(!mt||"file"!=mt.scheme){Ct=Je;continue}if(_t==$)Ee.host=mt.host,Ee.path=mt.path.slice(),Ee.query=mt.query;else if("?"==_t)Ee.host=mt.host,Ee.path=mt.path.slice(),Ee.query="",Ct=St;else{if("#"!=_t){be(sr.slice($t).join(""))||(Ee.host=mt.host,Ee.path=mt.path.slice(),Ie(Ee)),Ct=Je;continue}Ee.host=mt.host,Ee.path=mt.path.slice(),Ee.query=mt.query,Ee.fragment="",Ct=Ft}}break;case Ae:if("/"==_t||"\\"==_t){Ct=De;break}mt&&"file"==mt.scheme&&!be(sr.slice($t).join(""))&&(He(mt.path[0],!0)?Ee.path.push(mt.path[0]):Ee.host=mt.host),Ct=Je;continue;case De:if(_t==$||"/"==_t||"\\"==_t||"?"==_t||"#"==_t){if(!nt&&He(Pt))Ct=Je;else if(""==Pt){if(Ee.host="",nt)return;Ct=Be}else{if(gr=Q(Ee,Pt))return gr;if("localhost"==Ee.host&&(Ee.host=""),nt)return;Pt="",Ct=Be}continue}Pt+=_t;break;case Be:if(Ke(Ee)){if(Ct=Je,"/"!=_t&&"\\"!=_t)continue}else if(nt||"?"!=_t)if(nt||"#"!=_t){if(_t!=$&&(Ct=Je,"/"!=_t))continue}else Ee.fragment="",Ct=Ft;else Ee.query="",Ct=St;break;case Je:if(_t==$||"/"==_t||"\\"==_t&&Ke(Ee)||!nt&&("?"==_t||"#"==_t)){if(at(Pt)?(Ie(Ee),"/"!=_t&&!("\\"==_t&&Ke(Ee))&&Ee.path.push("")):Fe(Pt)?"/"!=_t&&!("\\"==_t&&Ke(Ee))&&Ee.path.push(""):("file"==Ee.scheme&&!Ee.path.length&&He(Pt)&&(Ee.host&&(Ee.host=""),Pt=Pt.charAt(0)+":"),Ee.path.push(Pt)),Pt="","file"==Ee.scheme&&(_t==$||"?"==_t||"#"==_t))for(;Ee.path.length>1&&""===Ee.path[0];)Ee.path.shift();"?"==_t?(Ee.query="",Ct=St):"#"==_t&&(Ee.fragment="",Ct=Ft)}else Pt+=Oe(_t,xe);break;case Qe:"?"==_t?(Ee.query="",Ct=St):"#"==_t?(Ee.fragment="",Ct=Ft):_t!=$&&(Ee.path[0]+=Oe(_t,Ce));break;case St:nt||"#"!=_t?_t!=$&&("'"==_t&&Ke(Ee)?Ee.query+="%27":Ee.query+="#"==_t?"%23":Oe(_t,Ce)):(Ee.fragment="",Ct=Ft);break;case Ft:_t!=$&&(Ee.fragment+=Oe(_t,Re))}$t++}},rn=function(We){var Pt,tn,nt=J(this,rn,"URL"),mt=arguments.length>1?arguments[1]:void 0,Ct=String(We),$t=B(nt,{type:"URL"});if(void 0!==mt)if(mt instanceof rn)Pt=C(mt);else if(tn=zt(Pt={},String(mt)))throw TypeError(tn);if(tn=zt($t,Ct,null,Pt))throw TypeError(tn);var Jt=$t.searchParams=new z,Pn=E(Jt);Pn.updateSearchParams($t.query),Pn.updateURL=function(){$t.query=String(Jt)||null},H||(nt.href=Mn.call(nt),nt.origin=Ln.call(nt),nt.protocol=Gn.call(nt),nt.username=pr.call(nt),nt.password=Xr.call(nt),nt.host=Si.call(nt),nt.hostname=fi.call(nt),nt.port=ei.call(nt),nt.pathname=ti.call(nt),nt.search=pi.call(nt),nt.searchParams=Ye.call(nt),nt.hash=bt.call(nt))},mn=rn.prototype,Mn=function(){var Ee=C(this),We=Ee.scheme,nt=Ee.username,mt=Ee.password,Ct=Ee.host,$t=Ee.port,Pt=Ee.path,tn=Ee.query,Jt=Ee.fragment,Pn=We+":";return null!==Ct?(Pn+="//",et(Ee)&&(Pn+=nt+(mt?":"+mt:"")+"@"),Pn+=ye(Ct),null!==$t&&(Pn+=":"+$t)):"file"==We&&(Pn+="//"),Pn+=Ee.cannotBeABaseURL?Pt[0]:Pt.length?"/"+Pt.join("/"):"",null!==tn&&(Pn+="?"+tn),null!==Jt&&(Pn+="#"+Jt),Pn},Ln=function(){var Ee=C(this),We=Ee.scheme,nt=Ee.port;if("blob"==We)try{return new URL(We.path[0]).origin}catch(mt){return"null"}return"file"!=We&&Ke(Ee)?We+"://"+ye(Ee.host)+(null!==nt?":"+nt:""):"null"},Gn=function(){return C(this).scheme+":"},pr=function(){return C(this).username},Xr=function(){return C(this).password},Si=function(){var Ee=C(this),We=Ee.host,nt=Ee.port;return null===We?"":null===nt?ye(We):ye(We)+":"+nt},fi=function(){var Ee=C(this).host;return null===Ee?"":ye(Ee)},ei=function(){var Ee=C(this).port;return null===Ee?"":String(Ee)},ti=function(){var Ee=C(this),We=Ee.path;return Ee.cannotBeABaseURL?We[0]:We.length?"/"+We.join("/"):""},pi=function(){var Ee=C(this).query;return Ee?"?"+Ee:""},Ye=function(){return C(this).searchParams},bt=function(){var Ee=C(this).fragment;return Ee?"#"+Ee:""},je=function(Ee,We){return{get:Ee,set:We,configurable:!0,enumerable:!0}};if(H&&V(mn,{href:je(Mn,function(Ee){var We=C(this),nt=String(Ee),mt=zt(We,nt);if(mt)throw TypeError(mt);E(We.searchParams).updateSearchParams(We.query)}),origin:je(Ln),protocol:je(Gn,function(Ee){var We=C(this);zt(We,String(Ee)+":",ot)}),username:je(pr,function(Ee){var We=C(this),nt=U(String(Ee));if(!Ne(We)){We.username="";for(var mt=0;mt<nt.length;mt++)We.username+=Oe(nt[mt],Le)}}),password:je(Xr,function(Ee){var We=C(this),nt=U(String(Ee));if(!Ne(We)){We.password="";for(var mt=0;mt<nt.length;mt++)We.password+=Oe(nt[mt],Le)}}),host:je(Si,function(Ee){var We=C(this);We.cannotBeABaseURL||zt(We,String(Ee),Ve)}),hostname:je(fi,function(Ee){var We=C(this);We.cannotBeABaseURL||zt(We,String(Ee),$e)}),port:je(ei,function(Ee){var We=C(this);Ne(We)||(""==(Ee=String(Ee))?We.port=null:zt(We,Ee,it))}),pathname:je(ti,function(Ee){var We=C(this);We.cannotBeABaseURL||(We.path=[],zt(We,Ee+"",Be))}),search:je(pi,function(Ee){var We=C(this);""==(Ee=String(Ee))?We.query=null:("?"==Ee.charAt(0)&&(Ee=Ee.slice(1)),We.query="",zt(We,Ee,St)),E(We.searchParams).updateSearchParams(We.query)}),searchParams:je(Ye),hash:je(bt,function(Ee){var We=C(this);""!=(Ee=String(Ee))?("#"==Ee.charAt(0)&&(Ee=Ee.slice(1)),We.fragment="",zt(We,Ee,Ft)):We.fragment=null})}),oe(mn,"toJSON",function(){return Mn.call(this)},{enumerable:!0}),oe(mn,"toString",function(){return Mn.call(this)},{enumerable:!0}),L){var st=L.createObjectURL,qt=L.revokeObjectURL;st&&oe(rn,"createObjectURL",function(We){return st.apply(L,arguments)}),qt&&oe(rn,"revokeObjectURL",function(We){return qt.apply(L,arguments)})}te(rn,"URL"),a({global:!0,forced:!G,sham:!H},{URL:rn})},(ve,I,y)=>{var a=y(13),H=y(55),G=y(36),ie=H("iterator");ve.exports=!a(function(){var V=new URL("b?a=1&b=2&c=3","http://a"),oe=V.searchParams,J="";return V.pathname="c%20d",oe.forEach(function(K,he){oe.delete("b"),J+=he+K}),G&&!V.toJSON||!oe.sort||"http://a/c%20d?a=1&c=3"!==V.href||"3"!==oe.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!oe[ie]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://\u0442\u0435\u0441\u0442").host||"#%D0%B1"!==new URL("http://a#\u0431").hash||"a1c3"!==J||"x"!==new URL("http://x",void 0).host})},(ve,I,y)=>{"use strict";var a=y(12),H=y(13),G=y(60),ie=y(50),V=y(14),oe=y(67),J=y(17),K=Object.assign,he=Object.defineProperty;ve.exports=!K||H(function(){if(a&&1!==K({b:1},K(he({},"a",{enumerable:!0,get:function(){he(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var U={},X={},D=Symbol(),te="abcdefghijklmnopqrst";return U[D]=7,te.split("").forEach(function(ce){X[ce]=ce}),7!=K({},U)[D]||G(K({},X)).join("")!=te})?function(X,D){for(var te=oe(X),ce=arguments.length,re=1,L=ie.f,z=V.f;ce>re;)for(var O,E=J(arguments[re++]),B=L?G(E).concat(L(E)):G(E),C=B.length,R=0;C>R;)O=B[R++],(!a||z.call(E,O))&&(te[O]=E[O]);return te}:K},(ve,I,y)=>{"use strict";var a=y(75),H=y(67),G=y(116),ie=y(74),V=y(46),oe=y(81),J=y(77);ve.exports=function(he){var z,E,B,C,R,O,U=H(he),X="function"==typeof this?this:Array,D=arguments.length,te=D>1?arguments[1]:void 0,ce=void 0!==te,re=J(U),L=0;if(ce&&(te=a(te,D>2?arguments[2]:void 0,2)),null==re||X==Array&&ie(re))for(E=new X(z=V(U.length));z>L;L++)O=ce?te(U[L],L):U[L],oe(E,L,O);else for(R=(C=re.call(U)).next,E=new X;!(B=R.call(C)).done;L++)O=ce?G(C,te,[B.value,L],!0):B.value,oe(E,L,O);return E.length=L,E}},(ve,I,y)=>{var a=y(27),H=y(80);ve.exports=function(G,ie,V,oe){try{return oe?ie(a(V)[0],V[1]):ie(V)}catch(J){throw H(G),J}}},ve=>{"use strict";var I=2147483647,K=/[^\0-\u007E]/,he=/[.\u3002\uFF0E\uFF61]/g,U="Overflow: input needs wider integers to process",D=Math.floor,te=String.fromCharCode,re=function(E){return E+22+75*(E<26)},L=function(E,B,C){var R=0;for(E=C?D(E/700):E>>1,E+=D(E/B);E>455;R+=36)E=D(E/35);return D(R+36*E/(E+38))},z=function(E){var ae,ue,B=[],C=(E=function(E){for(var B=[],C=0,R=E.length;C<R;){var O=E.charCodeAt(C++);if(O>=55296&&O<=56319&&C<R){var se=E.charCodeAt(C++);56320==(64512&se)?B.push(((1023&O)<<10)+(1023&se)+65536):(B.push(O),C--)}else B.push(O)}return B}(E)).length,R=128,O=0,se=72;for(ae=0;ae<E.length;ae++)(ue=E[ae])<128&&B.push(te(ue));var N=B.length,T=N;for(N&&B.push("-");T<C;){var ne=I;for(ae=0;ae<E.length;ae++)(ue=E[ae])>=R&&ue<ne&&(ne=ue);var x=T+1;if(ne-R>D((I-O)/x))throw RangeError(U);for(O+=(ne-R)*x,R=ne,ae=0;ae<E.length;ae++){if((ue=E[ae])<R&&++O>I)throw RangeError(U);if(ue==R){for(var F=O,ee=36;;ee+=36){var M=ee<=se?1:ee>=se+26?26:ee-se;if(F<M)break;var P=F-M,Y=36-M;B.push(te(re(M+P%Y))),F=D(P/Y)}B.push(te(re(F))),se=L(O,x,T==N),O=0,++T}}++O,++R}return B.join("")};ve.exports=function(E){var R,O,B=[],C=E.toLowerCase().replace(he,".").split(".");for(R=0;R<C.length;R++)B.push(K.test(O=C[R])?"xn--"+z(O):O);return B.join(".")}},(ve,I,y)=>{"use strict";y(53);var a=y(9),H=y(41),G=y(113),ie=y(28),V=y(88),oe=y(69),J=y(64),K=y(32),he=y(90),U=y(22),X=y(75),D=y(78),te=y(27),ce=y(21),re=y(58),L=y(15),z=y(119),E=y(77),B=y(55),C=H("fetch"),R=H("Headers"),O=B("iterator"),se="URLSearchParams",ae=se+"Iterator",ue=K.set,N=K.getterFor(se),T=K.getterFor(ae),ne=/\+/g,x=Array(4),F=function(ye){return x[ye-1]||(x[ye-1]=RegExp("((?:%[\\da-f]{2}){"+ye+"})","gi"))},ee=function(ye){try{return decodeURIComponent(ye)}catch(Ce){return ye}},M=function(ye){var Ce=ye.replace(ne," "),Re=4;try{return decodeURIComponent(Ce)}catch(xe){for(;Re;)Ce=Ce.replace(F(Re--),ee);return Ce}},P=/[!'()~]|%20/g,Y={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},j=function(ye){return Y[ye]},A=function(ye){return encodeURIComponent(ye).replace(P,j)},Z=function(ye,Ce){if(Ce)for(var Le,Oe,Re=Ce.split("&"),xe=0;xe<Re.length;)(Le=Re[xe++]).length&&(Oe=Le.split("="),ye.push({key:M(Oe.shift()),value:M(Oe.join("="))}))},$=function(ye){this.entries.length=0,Z(this.entries,ye)},Q=function(ye,Ce){if(ye<Ce)throw TypeError("Not enough arguments")},de=J(function(Ce,Re){ue(this,{type:ae,iterator:z(N(Ce).entries),kind:Re})},"Iterator",function(){var Ce=T(this),Re=Ce.kind,xe=Ce.iterator.next(),Le=xe.value;return xe.done||(xe.value="keys"===Re?Le.key:"values"===Re?Le.value:[Le.key,Le.value]),xe}),fe=function(){he(this,fe,se);var Le,Oe,Ze,Ke,et,Ne,He,be,Ie,Ce=arguments.length>0?arguments[0]:void 0,Re=this,xe=[];if(ue(Re,{type:se,entries:xe,updateURL:function(){},updateSearchParams:$}),void 0!==Ce)if(ce(Ce))if("function"==typeof(Le=E(Ce)))for(Ze=(Oe=Le.call(Ce)).next;!(Ke=Ze.call(Oe)).done;){if((He=(Ne=(et=z(te(Ke.value))).next).call(et)).done||(be=Ne.call(et)).done||!Ne.call(et).done)throw TypeError("Expected sequence with length 2");xe.push({key:He.value+"",value:be.value+""})}else for(Ie in Ce)U(Ce,Ie)&&xe.push({key:Ie,value:Ce[Ie]+""});else Z(xe,"string"==typeof Ce?"?"===Ce.charAt(0)?Ce.slice(1):Ce:Ce+"")},ge=fe.prototype;V(ge,{append:function(Ce,Re){Q(arguments.length,2);var xe=N(this);xe.entries.push({key:Ce+"",value:Re+""}),xe.updateURL()},delete:function(ye){Q(arguments.length,1);for(var Ce=N(this),Re=Ce.entries,xe=ye+"",Le=0;Le<Re.length;)Re[Le].key===xe?Re.splice(Le,1):Le++;Ce.updateURL()},get:function(Ce){Q(arguments.length,1);for(var Re=N(this).entries,xe=Ce+"",Le=0;Le<Re.length;Le++)if(Re[Le].key===xe)return Re[Le].value;return null},getAll:function(Ce){Q(arguments.length,1);for(var Re=N(this).entries,xe=Ce+"",Le=[],Oe=0;Oe<Re.length;Oe++)Re[Oe].key===xe&&Le.push(Re[Oe].value);return Le},has:function(Ce){Q(arguments.length,1);for(var Re=N(this).entries,xe=Ce+"",Le=0;Le<Re.length;)if(Re[Le++].key===xe)return!0;return!1},set:function(Ce,Re){Q(arguments.length,1);for(var Ne,xe=N(this),Le=xe.entries,Oe=!1,Ze=Ce+"",Ke=Re+"",et=0;et<Le.length;et++)(Ne=Le[et]).key===Ze&&(Oe?Le.splice(et--,1):(Oe=!0,Ne.value=Ke));Oe||Le.push({key:Ze,value:Ke}),xe.updateURL()},sort:function(){var Le,Oe,Ze,Ce=N(this),Re=Ce.entries,xe=Re.slice();for(Re.length=0,Ze=0;Ze<xe.length;Ze++){for(Le=xe[Ze],Oe=0;Oe<Ze;Oe++)if(Re[Oe].key>Le.key){Re.splice(Oe,0,Le);break}Oe===Ze&&Re.push(Le)}Ce.updateURL()},forEach:function(Ce){for(var Oe,Re=N(this).entries,xe=X(Ce,arguments.length>1?arguments[1]:void 0,3),Le=0;Le<Re.length;)xe((Oe=Re[Le++]).value,Oe.key,this)},keys:function(){return new de(this,"keys")},values:function(){return new de(this,"values")},entries:function(){return new de(this,"entries")}},{enumerable:!0}),ie(ge,O,ge.entries),ie(ge,"toString",function(){for(var Le,Ce=N(this).entries,Re=[],xe=0;xe<Ce.length;)Le=Ce[xe++],Re.push(A(Le.key)+"="+A(Le.value));return Re.join("&")},{enumerable:!0}),oe(fe,se),a({global:!0,forced:!G},{URLSearchParams:fe}),!G&&"function"==typeof C&&"function"==typeof R&&a({global:!0,enumerable:!0,forced:!0},{fetch:function(Ce){var xe,Le,Oe,Re=[Ce];return arguments.length>1&&(ce(xe=arguments[1])&&D(Le=xe.body)===se&&((Oe=xe.headers?new R(xe.headers):new R).has("content-type")||Oe.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),xe=re(xe,{body:L(0,String(Le)),headers:L(0,Oe)})),Re.push(xe)),C.apply(this,Re)}}),ve.exports={URLSearchParams:fe,getState:N}},(ve,I,y)=>{var a=y(27),H=y(77);ve.exports=function(G){var ie=H(G);if("function"!=typeof ie)throw TypeError(String(G)+" is not iterable");return a(ie.call(G))}},(ve,I,y)=>{"use strict";y(9)({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},function(ve,I){!function(y){"use strict";var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:function(b){return"Symbol("+b+")"};function H(){}var ie="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0;function V(b){return"object"==typeof b&&null!==b||"function"==typeof b}var oe=H,J=Promise,K=Promise.prototype.then,he=Promise.resolve.bind(J),U=Promise.reject.bind(J);function X(b){return new J(b)}function D(b){return he(b)}function te(b){return U(b)}function ce(b,q,_e){return K.call(b,q,_e)}function re(b,q,_e){ce(ce(b,q,_e),void 0,oe)}function L(b,q){re(b,q)}function z(b,q){re(b,void 0,q)}function E(b,q,_e){return ce(b,q,_e)}function B(b){ce(b,void 0,oe)}var C=function(){var b=ie&&ie.queueMicrotask;if("function"==typeof b)return b;var q=D(void 0);return function(_e){return ce(q,_e)}}();function R(b,q,_e){if("function"!=typeof b)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(b,q,_e)}function O(b,q,_e){try{return D(R(b,q,_e))}catch(ze){return te(ze)}}var ae=function(){function b(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}return Object.defineProperty(b.prototype,"length",{get:function(){return this._size},enumerable:!1,configurable:!0}),b.prototype.push=function(q){var _e=this._back,ze=_e;16383===_e._elements.length&&(ze={_elements:[],_next:void 0}),_e._elements.push(q),ze!==_e&&(this._back=ze,_e._next=ze),++this._size},b.prototype.shift=function(){var q=this._front,_e=q,ze=this._cursor,ht=ze+1,Dt=q._elements,Nt=Dt[ze];return 16384===ht&&(_e=q._next,ht=0),--this._size,this._cursor=ht,q!==_e&&(this._front=_e),Dt[ze]=void 0,Nt},b.prototype.forEach=function(q){for(var _e=this._cursor,ze=this._front,ht=ze._elements;!(_e===ht.length&&void 0===ze._next||_e===ht.length&&(ze=ze._next,ht=ze._elements,_e=0,0===ht.length));)q(ht[_e]),++_e},b.prototype.peek=function(){return this._front._elements[this._cursor]},b}();function ue(b,q){b._ownerReadableStream=q,q._reader=b,"readable"===q._state?x(b):"closed"===q._state?function(b){x(b),Y(b)}(b):F(b,q._storedError)}function N(b,q){return As(b._ownerReadableStream,q)}function T(b){"readable"===b._ownerReadableStream._state?M(b,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(b,q){F(b,q)}(b,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),b._ownerReadableStream._reader=void 0,b._ownerReadableStream=void 0}function ne(b){return new TypeError("Cannot "+b+" a stream using a released reader")}function x(b){b._closedPromise=X(function(q,_e){b._closedPromise_resolve=q,b._closedPromise_reject=_e})}function F(b,q){x(b),M(b,q)}function M(b,q){void 0!==b._closedPromise_reject&&(B(b._closedPromise),b._closedPromise_reject(q),b._closedPromise_resolve=void 0,b._closedPromise_reject=void 0)}function Y(b){void 0!==b._closedPromise_resolve&&(b._closedPromise_resolve(void 0),b._closedPromise_resolve=void 0,b._closedPromise_reject=void 0)}var j=a("[[AbortSteps]]"),A=a("[[ErrorSteps]]"),Z=a("[[CancelSteps]]"),$=a("[[PullSteps]]"),Q=Number.isFinite||function(b){return"number"==typeof b&&isFinite(b)},de=Math.trunc||function(b){return b<0?Math.ceil(b):Math.floor(b)};function ge(b,q){if(void 0!==b&&!function(b){return"object"==typeof b||"function"==typeof b}(b))throw new TypeError(q+" is not an object.")}function ye(b,q){if("function"!=typeof b)throw new TypeError(q+" is not a function.")}function Re(b,q){if(!function(b){return"object"==typeof b&&null!==b||"function"==typeof b}(b))throw new TypeError(q+" is not an object.")}function xe(b,q,_e){if(void 0===b)throw new TypeError("Parameter "+q+" is required in '"+_e+"'.")}function Le(b,q,_e){if(void 0===b)throw new TypeError(q+" is required in '"+_e+"'.")}function Oe(b){return Number(b)}function Ze(b){return 0===b?0:b}function et(b,q){var ze=Number.MAX_SAFE_INTEGER,ht=Number(b);if(ht=Ze(ht),!Q(ht))throw new TypeError(q+" is not a finite number");if((ht=function(b){return Ze(de(b))}(ht))<0||ht>ze)throw new TypeError(q+" is outside the accepted range of 0 to "+ze+", inclusive");return Q(ht)&&0!==ht?ht:0}function Ne(b,q){if(!Xo(b))throw new TypeError(q+" is not a ReadableStream.")}function He(b){return new ot(b)}function be(b,q){b._reader._readRequests.push(q)}function Ie(b,q,_e){var ht=b._reader._readRequests.shift();_e?ht._closeSteps():ht._chunkSteps(q)}function Fe(b){return b._reader._readRequests.length}function at(b){var q=b._reader;return!(void 0===q||!ct(q))}var xt,Mt,ot=function(){function b(q){if(xe(q,1,"ReadableStreamDefaultReader"),Ne(q,"First parameter"),Ss(q))throw new TypeError("This stream has already been locked for exclusive reading by another reader");ue(this,q),this._readRequests=new ae}return Object.defineProperty(b.prototype,"closed",{get:function(){return ct(this)?this._closedPromise:te(tt("closed"))},enumerable:!1,configurable:!0}),b.prototype.cancel=function(q){return void 0===q&&(q=void 0),ct(this)?void 0===this._ownerReadableStream?te(ne("cancel")):N(this,q):te(tt("cancel"))},b.prototype.read=function(){if(!ct(this))return te(tt("read"));if(void 0===this._ownerReadableStream)return te(ne("read from"));var q,_e,ze=X(function(Dt,Nt){q=Dt,_e=Nt});return lt(this,{_chunkSteps:function(Dt){return q({value:Dt,done:!1})},_closeSteps:function(){return q({value:void 0,done:!0})},_errorSteps:function(Dt){return _e(Dt)}}),ze},b.prototype.releaseLock=function(){if(!ct(this))throw tt("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");T(this)}},b}();function ct(b){return!(!V(b)||!Object.prototype.hasOwnProperty.call(b,"_readRequests"))}function lt(b,q){var _e=b._ownerReadableStream;_e._disturbed=!0,"closed"===_e._state?q._closeSteps():"errored"===_e._state?q._errorSteps(_e._storedError):_e._readableStreamController[$](q)}function tt(b){return new TypeError("ReadableStreamDefaultReader.prototype."+b+" can only be used on a ReadableStreamDefaultReader")}Object.defineProperties(ot.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof a.toStringTag&&Object.defineProperty(ot.prototype,a.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0}),"symbol"==typeof a.asyncIterator&&((xt={})[a.asyncIterator]=function(){return this},Mt=xt,Object.defineProperty(Mt,a.asyncIterator,{enumerable:!1}));var qe=function(){function b(q,_e){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=q,this._preventCancel=_e}return b.prototype.next=function(){var q=this,_e=function(){return q._nextSteps()};return this._ongoingPromise=this._ongoingPromise?E(this._ongoingPromise,_e,_e):_e(),this._ongoingPromise},b.prototype.return=function(q){var _e=this,ze=function(){return _e._returnSteps(q)};return this._ongoingPromise?E(this._ongoingPromise,ze,ze):ze()},b.prototype._nextSteps=function(){var q=this;if(this._isFinished)return Promise.resolve({value:void 0,done:!0});var _e=this._reader;if(void 0===_e._ownerReadableStream)return te(ne("iterate"));var ze,ht,Dt=X(function(Qt,vn){ze=Qt,ht=vn});return lt(_e,{_chunkSteps:function(Qt){q._ongoingPromise=void 0,C(function(){return ze({value:Qt,done:!1})})},_closeSteps:function(){q._ongoingPromise=void 0,q._isFinished=!0,T(_e),ze({value:void 0,done:!0})},_errorSteps:function(Qt){q._ongoingPromise=void 0,q._isFinished=!0,T(_e),ht(Qt)}}),Dt},b.prototype._returnSteps=function(q){if(this._isFinished)return Promise.resolve({value:q,done:!0});this._isFinished=!0;var _e=this._reader;if(void 0===_e._ownerReadableStream)return te(ne("finish iterating"));if(!this._preventCancel){var ze=N(_e,q);return T(_e),E(ze,function(){return{value:q,done:!0}})}return T(_e),D({value:q,done:!0})},b}(),ft={next:function(){return Tt(this)?this._asyncIteratorImpl.next():te(Ve("next"))},return:function(b){return Tt(this)?this._asyncIteratorImpl.return(b):te(Ve("return"))}};function Tt(b){return!(!V(b)||!Object.prototype.hasOwnProperty.call(b,"_asyncIteratorImpl"))}function Ve(b){return new TypeError("ReadableStreamAsyncIterator."+b+" can only be used on a ReadableSteamAsyncIterator")}void 0!==Mt&&Object.setPrototypeOf(ft,Mt);var $e=Number.isNaN||function(b){return b!=b};function it(b){return!(!function(b){return!("number"!=typeof b||$e(b)||b<0)}(b)||b===1/0)}function Ae(b){var q=b._queue.shift();return b._queueTotalSize-=q.size,b._queueTotalSize<0&&(b._queueTotalSize=0),q.value}function De(b,q,_e){if(!it(_e=Number(_e)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");b._queue.push({value:q,size:_e}),b._queueTotalSize+=_e}function Je(b){b._queue=new ae,b._queueTotalSize=0}function Qe(b){return b.slice()}function St(b,q,_e,ze,ht){new Uint8Array(b).set(new Uint8Array(_e,ze,ht),q)}var rn=function(){function b(){throw new TypeError("Illegal constructor")}return Object.defineProperty(b.prototype,"view",{get:function(){if(!Ln(this))throw gr("view");return this._view},enumerable:!1,configurable:!0}),b.prototype.respond=function(q){if(!Ln(this))throw gr("respond");if(xe(q,1,"respond"),q=et(q,"First parameter"),void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");!function(b,q){if(!it(q=Number(q)))throw new RangeError("bytesWritten must be a finite");Ee(b,q)}(this._associatedReadableByteStreamController,q)},b.prototype.respondWithNewView=function(q){if(!Ln(this))throw gr("respondWithNewView");if(xe(q,1,"respondWithNewView"),!ArrayBuffer.isView(q))throw new TypeError("You can only respond with array buffer views");if(0===q.byteLength)throw new TypeError("chunk must have non-zero byteLength");if(0===q.buffer.byteLength)throw new TypeError("chunk's buffer must have non-zero byteLength");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");!function(b,q){var _e=b._pendingPullIntos.peek();if(_e.byteOffset+_e.bytesFilled!==q.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(_e.byteLength!==q.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");_e.buffer=q.buffer,Ee(b,q.byteLength)}(this._associatedReadableByteStreamController,q)},b}();Object.defineProperties(rn.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),"symbol"==typeof a.toStringTag&&Object.defineProperty(rn.prototype,a.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var mn=function(){function b(){throw new TypeError("Illegal constructor")}return Object.defineProperty(b.prototype,"byobRequest",{get:function(){if(!Mn(this))throw qi("byobRequest");if(null===this._byobRequest&&this._pendingPullIntos.length>0){var q=this._pendingPullIntos.peek(),_e=new Uint8Array(q.buffer,q.byteOffset+q.bytesFilled,q.byteLength-q.bytesFilled),ze=Object.create(rn.prototype);(function(b,q,_e){b._associatedReadableByteStreamController=q,b._view=_e})(ze,this,_e),this._byobRequest=ze}return this._byobRequest},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"desiredSize",{get:function(){if(!Mn(this))throw qi("desiredSize");return tn(this)},enumerable:!1,configurable:!0}),b.prototype.close=function(){if(!Mn(this))throw qi("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");var q=this._controlledReadableByteStream._state;if("readable"!==q)throw new TypeError("The stream (in "+q+" state) is not in the readable state and cannot be closed");!function(b){var q=b._controlledReadableByteStream;if(!b._closeRequested&&"readable"===q._state){if(b._queueTotalSize>0)return void(b._closeRequested=!0);if(b._pendingPullIntos.length>0&&b._pendingPullIntos.peek().bytesFilled>0){var ze=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Pt(b,ze),ze}mt(b),zu(q)}}(this)},b.prototype.enqueue=function(q){if(!Mn(this))throw qi("enqueue");if(xe(q,1,"enqueue"),!ArrayBuffer.isView(q))throw new TypeError("chunk must be an array buffer view");if(0===q.byteLength)throw new TypeError("chunk must have non-zero byteLength");if(0===q.buffer.byteLength)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");var _e=this._controlledReadableByteStream._state;if("readable"!==_e)throw new TypeError("The stream (in "+_e+" state) is not in the readable state and cannot be enqueued to");!function(b,q){var _e=b._controlledReadableByteStream;if(!b._closeRequested&&"readable"===_e._state){var ht=q.byteOffset,Dt=q.byteLength,Nt=q.buffer;at(_e)?0===Fe(_e)?fi(b,Nt,ht,Dt):Ie(_e,new Uint8Array(Nt,ht,Dt),!1):Ai(_e)?(fi(b,Nt,ht,Dt),bt(b)):fi(b,Nt,ht,Dt),Gn(b)}}(this,q)},b.prototype.error=function(q){if(void 0===q&&(q=void 0),!Mn(this))throw qi("error");Pt(this,q)},b.prototype[Z]=function(q){this._pendingPullIntos.length>0&&(this._pendingPullIntos.peek().bytesFilled=0),Je(this);var ze=this._cancelAlgorithm(q);return mt(this),ze},b.prototype[$]=function(q){var _e=this._controlledReadableByteStream;if(this._queueTotalSize>0){var ze=this._queue.shift();this._queueTotalSize-=ze.byteLength,pi(this);var ht=new Uint8Array(ze.buffer,ze.byteOffset,ze.byteLength);q._chunkSteps(ht)}else{var Dt=this._autoAllocateChunkSize;if(void 0!==Dt){var Nt=void 0;try{Nt=new ArrayBuffer(Dt)}catch(vn){return void q._errorSteps(vn)}var Qt={buffer:Nt,byteOffset:0,byteLength:Dt,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(Qt)}be(_e,q),Gn(this)}},b}();function Mn(b){return!(!V(b)||!Object.prototype.hasOwnProperty.call(b,"_controlledReadableByteStream"))}function Ln(b){return!(!V(b)||!Object.prototype.hasOwnProperty.call(b,"_associatedReadableByteStreamController"))}function Gn(b){if(function(b){var q=b._controlledReadableByteStream;return!("readable"!==q._state||b._closeRequested||!b._started)&&(!!(at(q)&&Fe(q)>0||Ai(q)&&Ks(q)>0)||tn(b)>0)}(b)){if(b._pulling)return void(b._pullAgain=!0);b._pulling=!0,re(b._pullAlgorithm(),function(){b._pulling=!1,b._pullAgain&&(b._pullAgain=!1,Gn(b))},function(ze){Pt(b,ze)})}}function Xr(b,q){var _e=!1;"closed"===b._state&&(_e=!0);var ze=Si(q);"default"===q.readerType?Ie(b,ze,_e):function(b,q,_e){var ht=b._reader._readIntoRequests.shift();_e?ht._closeSteps(q):ht._chunkSteps(q)}(b,ze,_e)}function Si(b){return new b.viewConstructor(b.buffer,b.byteOffset,b.bytesFilled/b.elementSize)}function fi(b,q,_e,ze){b._queue.push({buffer:q,byteOffset:_e,byteLength:ze}),b._queueTotalSize+=ze}function ei(b,q){var _e=q.elementSize,ze=q.bytesFilled-q.bytesFilled%_e,ht=Math.min(b._queueTotalSize,q.byteLength-q.bytesFilled),Dt=q.bytesFilled+ht,Nt=Dt-Dt%_e,Qt=ht,vn=!1;Nt>ze&&(Qt=Nt-q.bytesFilled,vn=!0);for(var Wn=b._queue;Qt>0;){var Xt=Wn.peek(),Lt=Math.min(Qt,Xt.byteLength);St(q.buffer,q.byteOffset+q.bytesFilled,Xt.buffer,Xt.byteOffset,Lt),Xt.byteLength===Lt?Wn.shift():(Xt.byteOffset+=Lt,Xt.byteLength-=Lt),b._queueTotalSize-=Lt,ti(b,Lt,q),Qt-=Lt}return vn}function ti(b,q,_e){Ye(b),_e.bytesFilled+=q}function pi(b){0===b._queueTotalSize&&b._closeRequested?(mt(b),zu(b._controlledReadableByteStream)):Gn(b)}function Ye(b){null!==b._byobRequest&&(b._byobRequest._associatedReadableByteStreamController=void 0,b._byobRequest._view=null,b._byobRequest=null)}function bt(b){for(;b._pendingPullIntos.length>0;){if(0===b._queueTotalSize)return;var q=b._pendingPullIntos.peek();ei(b,q)&&(We(b),Xr(b._controlledReadableByteStream,q))}}function Ee(b,q){var _e=b._pendingPullIntos.peek();if("closed"===b._controlledReadableByteStream._state){if(0!==q)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");!function(b,q){q.buffer=q.buffer;var _e=b._controlledReadableByteStream;if(Ai(_e))for(;Ks(_e)>0;)Xr(_e,We(b))}(b,_e)}else!function(b,q,_e){if(_e.bytesFilled+q>_e.byteLength)throw new RangeError("bytesWritten out of range");if(ti(b,q,_e),!(_e.bytesFilled<_e.elementSize)){We(b);var ze=_e.bytesFilled%_e.elementSize;if(ze>0){var ht=_e.byteOffset+_e.bytesFilled,Dt=_e.buffer.slice(ht-ze,ht);fi(b,Dt,0,Dt.byteLength)}_e.buffer=_e.buffer,_e.bytesFilled-=ze,Xr(b._controlledReadableByteStream,_e),bt(b)}}(b,q,_e);Gn(b)}function We(b){var q=b._pendingPullIntos.shift();return Ye(b),q}function mt(b){b._pullAlgorithm=void 0,b._cancelAlgorithm=void 0}function Pt(b,q){var _e=b._controlledReadableByteStream;"readable"===_e._state&&(function(b){Ye(b),b._pendingPullIntos=new ae}(b),Je(b),mt(b),Qa(_e,q))}function tn(b){var q=b._controlledReadableByteStream._state;return"errored"===q?null:"closed"===q?0:b._strategyHWM-b._queueTotalSize}function _t(b,q,_e){var ze=Object.create(mn.prototype),ht=function(){},Dt=function(){return D(void 0)},Nt=function(){return D(void 0)};void 0!==q.start&&(ht=function(){return q.start(ze)}),void 0!==q.pull&&(Dt=function(){return q.pull(ze)}),void 0!==q.cancel&&(Nt=function(vn){return q.cancel(vn)}),function(b,q,_e,ze,ht,Dt,Nt){q._controlledReadableByteStream=b,q._pullAgain=!1,q._pulling=!1,q._byobRequest=null,q._queue=q._queueTotalSize=void 0,Je(q),q._closeRequested=!1,q._started=!1,q._strategyHWM=Dt,q._pullAlgorithm=ze,q._cancelAlgorithm=ht,q._autoAllocateChunkSize=Nt,q._pendingPullIntos=new ae,b._readableStreamController=q,re(D(_e()),function(){q._started=!0,Gn(q)},function(vn){Pt(q,vn)})}(b,ze,ht,Dt,Nt,_e,q.autoAllocateChunkSize)}function gr(b){return new TypeError("ReadableStreamBYOBRequest.prototype."+b+" can only be used on a ReadableStreamBYOBRequest")}function qi(b){return new TypeError("ReadableByteStreamController.prototype."+b+" can only be used on a ReadableByteStreamController")}function mr(b,q){b._reader._readIntoRequests.push(q)}function Ks(b){return b._reader._readIntoRequests.length}function Ai(b){var q=b._reader;return!(void 0===q||!Va(q))}Object.defineProperties(mn.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof a.toStringTag&&Object.defineProperty(mn.prototype,a.toStringTag,{value:"ReadableByteStreamController",configurable:!0});var Rn=function(){function b(q){if(xe(q,1,"ReadableStreamBYOBReader"),Ne(q,"First parameter"),Ss(q))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!Mn(q._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");ue(this,q),this._readIntoRequests=new ae}return Object.defineProperty(b.prototype,"closed",{get:function(){return Va(this)?this._closedPromise:te(ar("closed"))},enumerable:!1,configurable:!0}),b.prototype.cancel=function(q){return void 0===q&&(q=void 0),Va(this)?void 0===this._ownerReadableStream?te(ne("cancel")):N(this,q):te(ar("cancel"))},b.prototype.read=function(q){if(!Va(this))return te(ar("read"));if(!ArrayBuffer.isView(q))return te(new TypeError("view must be an array buffer view"));if(0===q.byteLength)return te(new TypeError("view must have non-zero byteLength"));if(0===q.buffer.byteLength)return te(new TypeError("view's buffer must have non-zero byteLength"));if(void 0===this._ownerReadableStream)return te(ne("read from"));var _e,ze,ht=X(function(Nt,Qt){_e=Nt,ze=Qt});return function(b,q,_e){var ze=b._ownerReadableStream;ze._disturbed=!0,"errored"===ze._state?_e._errorSteps(ze._storedError):function(b,q,_e){var ze=b._controlledReadableByteStream,ht=1;q.constructor!==DataView&&(ht=q.constructor.BYTES_PER_ELEMENT);var Dt=q.constructor,Qt={buffer:q.buffer,byteOffset:q.byteOffset,byteLength:q.byteLength,bytesFilled:0,elementSize:ht,viewConstructor:Dt,readerType:"byob"};if(b._pendingPullIntos.length>0)return b._pendingPullIntos.push(Qt),void mr(ze,_e);if("closed"!==ze._state){if(b._queueTotalSize>0){if(ei(b,Qt)){var Wn=Si(Qt);return pi(b),void _e._chunkSteps(Wn)}if(b._closeRequested){var Xt=new TypeError("Insufficient bytes to fill elements in the given buffer");return Pt(b,Xt),void _e._errorSteps(Xt)}}b._pendingPullIntos.push(Qt),mr(ze,_e),Gn(b)}else{var vn=new Dt(Qt.buffer,Qt.byteOffset,0);_e._closeSteps(vn)}}(ze._readableStreamController,q,_e)}(this,q,{_chunkSteps:function(Nt){return _e({value:Nt,done:!1})},_closeSteps:function(Nt){return _e({value:Nt,done:!0})},_errorSteps:function(Nt){return ze(Nt)}}),ht},b.prototype.releaseLock=function(){if(!Va(this))throw ar("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");T(this)}},b}();function Va(b){return!(!V(b)||!Object.prototype.hasOwnProperty.call(b,"_readIntoRequests"))}function ar(b){return new TypeError("ReadableStreamBYOBReader.prototype."+b+" can only be used on a ReadableStreamBYOBReader")}function Js(b,q){var _e=b.highWaterMark;if(void 0===_e)return q;if($e(_e)||_e<0)throw new RangeError("Invalid highWaterMark");return _e}function $o(b){return b.size||function(){return 1}}function Qo(b,q){ge(b,q);var _e=null==b?void 0:b.highWaterMark,ze=null==b?void 0:b.size;return{highWaterMark:void 0===_e?void 0:Oe(_e),size:void 0===ze?void 0:Co(ze,q+" has member 'size' that")}}function Co(b,q){return ye(b,q),function(_e){return Oe(b(_e))}}function Fv(b,q,_e){return ye(b,_e),function(ze){return O(b,q,[ze])}}function Ko(b,q,_e){return ye(b,_e),function(){return O(b,q,[])}}function Bi(b,q,_e){return ye(b,_e),function(ze){return R(b,q,[ze])}}function $d(b,q,_e){return ye(b,_e),function(ze,ht){return O(b,q,[ze,ht])}}function Nu(b,q){if(!Ua(b))throw new TypeError(q+" is not a WritableStream.")}Object.defineProperties(Rn.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof a.toStringTag&&Object.defineProperty(Rn.prototype,a.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});var Xs=function(){function b(q,_e){void 0===q&&(q={}),void 0===_e&&(_e={}),void 0===q?q=null:Re(q,"First parameter");var ze=Qo(_e,"Second parameter"),ht=function(b,q){ge(b,q);var _e=null==b?void 0:b.abort,ze=null==b?void 0:b.close,ht=null==b?void 0:b.start,Dt=null==b?void 0:b.type,Nt=null==b?void 0:b.write;return{abort:void 0===_e?void 0:Fv(_e,b,q+" has member 'abort' that"),close:void 0===ze?void 0:Ko(ze,b,q+" has member 'close' that"),start:void 0===ht?void 0:Bi(ht,b,q+" has member 'start' that"),write:void 0===Nt?void 0:$d(Nt,b,q+" has member 'write' that"),type:Dt}}(q,"First parameter");if(Lv(this),void 0!==ht.type)throw new RangeError("Invalid type is specified");var Nt=$o(ze);!function(b,q,_e,ze){var ht=Object.create(Ga.prototype),Dt=function(){},Nt=function(){return D(void 0)},Qt=function(){return D(void 0)},vn=function(){return D(void 0)};void 0!==q.start&&(Dt=function(){return q.start(ht)}),void 0!==q.write&&(Nt=function(Wn){return q.write(Wn,ht)}),void 0!==q.close&&(Qt=function(){return q.close()}),void 0!==q.abort&&(vn=function(Wn){return q.abort(Wn)}),Uv(b,ht,Dt,Nt,Qt,vn,_e,ze)}(this,ht,Js(ze,1),Nt)}return Object.defineProperty(b.prototype,"locked",{get:function(){if(!Ua(this))throw ec("locked");return Ha(this)},enumerable:!1,configurable:!0}),b.prototype.abort=function(q){return void 0===q&&(q=void 0),Ua(this)?Ha(this)?te(new TypeError("Cannot abort a stream that already has a writer")):Qd(this,q):te(ec("abort"))},b.prototype.close=function(){return Ua(this)?Ha(this)?te(new TypeError("Cannot close a stream that already has a writer")):So(this)?te(new TypeError("Cannot close an already-closing stream")):Zi(this):te(ec("close"))},b.prototype.getWriter=function(){if(!Ua(this))throw ec("getWriter");return Wi(this)},b}();function Wi(b){return new Kd(b)}function Lv(b){b._state="writable",b._storedError=void 0,b._writer=void 0,b._writableStreamController=void 0,b._writeRequests=new ae,b._inFlightWriteRequest=void 0,b._closeRequest=void 0,b._inFlightCloseRequest=void 0,b._pendingAbortRequest=void 0,b._backpressure=!1}function Ua(b){return!(!V(b)||!Object.prototype.hasOwnProperty.call(b,"_writableStreamController"))}function Ha(b){return void 0!==b._writer}function Qd(b,q){var _e=b._state;if("closed"===_e||"errored"===_e)return D(void 0);if(void 0!==b._pendingAbortRequest)return b._pendingAbortRequest._promise;var ze=!1;"erroring"===_e&&(ze=!0,q=void 0);var ht=X(function(Dt,Nt){b._pendingAbortRequest={_promise:void 0,_resolve:Dt,_reject:Nt,_reason:q,_wasAlreadyErroring:ze}});return b._pendingAbortRequest._promise=ht,ze||Sp(b,q),ht}function Zi(b){var q=b._state;if("closed"===q||"errored"===q)return te(new TypeError("The stream (in "+q+" state) is not in the writable state and cannot be closed"));var _e=X(function(ht,Dt){b._closeRequest={_resolve:ht,_reject:Dt}}),ze=b._writer;return void 0!==ze&&b._backpressure&&"writable"===q&&ih(ze),function(b){De(b,Xd,0),Xl(b)}(b._writableStreamController),_e}function Cp(b,q){"writable"!==b._state?Ap(b):Sp(b,q)}function Sp(b,q){var _e=b._writableStreamController;b._state="erroring",b._storedError=q;var ze=b._writer;void 0!==ze&&Kl(ze,q),!function(b){return!(void 0===b._inFlightWriteRequest&&void 0===b._inFlightCloseRequest)}(b)&&_e._started&&Ap(b)}function Ap(b){b._state="errored",b._writableStreamController[A]();var q=b._storedError;if(b._writeRequests.forEach(function(ht){ht._reject(q)}),b._writeRequests=new ae,void 0!==b._pendingAbortRequest){var _e=b._pendingAbortRequest;if(b._pendingAbortRequest=void 0,_e._wasAlreadyErroring)return _e._reject(q),void Bu(b);re(b._writableStreamController[j](_e._reason),function(){_e._resolve(),Bu(b)},function(ht){_e._reject(ht),Bu(b)})}else Bu(b)}function So(b){return!(void 0===b._closeRequest&&void 0===b._inFlightCloseRequest)}function Bu(b){void 0!==b._closeRequest&&(b._closeRequest._reject(b._storedError),b._closeRequest=void 0);var q=b._writer;void 0!==q&&ws(q,b._storedError)}function Vu(b,q){var _e=b._writer;void 0!==_e&&q!==b._backpressure&&(q?function(b){Uu(b)}(_e):ih(_e)),b._backpressure=q}Object.defineProperties(Xs.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof a.toStringTag&&Object.defineProperty(Xs.prototype,a.toStringTag,{value:"WritableStream",configurable:!0});var Kd=function(){function b(q){if(xe(q,1,"WritableStreamDefaultWriter"),Nu(q,"First parameter"),Ha(q))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=q,q._writer=this;var _e=q._state;if("writable"===_e)!So(q)&&q._backpressure?Uu(this):Cs(this),ni(this);else if("erroring"===_e)qa(this,q._storedError),ni(this);else if("closed"===_e)Cs(this),function(b){ni(b),Ip(b)}(this);else{var ze=q._storedError;qa(this,ze),tc(this,ze)}}return Object.defineProperty(b.prototype,"closed",{get:function(){return ys(this)?this._closedPromise:te(ta("closed"))},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"desiredSize",{get:function(){if(!ys(this))throw ta("desiredSize");if(void 0===this._ownerWritableStream)throw bs("desiredSize");return function(b){var q=b._ownerWritableStream,_e=q._state;return"errored"===_e||"erroring"===_e?null:"closed"===_e?0:kp(q._writableStreamController)}(this)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"ready",{get:function(){return ys(this)?this._readyPromise:te(ta("ready"))},enumerable:!1,configurable:!0}),b.prototype.abort=function(q){return void 0===q&&(q=void 0),ys(this)?void 0===this._ownerWritableStream?te(bs("abort")):function(b,q){return Qd(b._ownerWritableStream,q)}(this,q):te(ta("abort"))},b.prototype.close=function(){if(!ys(this))return te(ta("close"));var q=this._ownerWritableStream;return void 0===q?te(bs("close")):So(q)?te(new TypeError("Cannot close an already-closing stream")):_s(this)},b.prototype.releaseLock=function(){if(!ys(this))throw ta("releaseLock");void 0!==this._ownerWritableStream&&Tp(this)},b.prototype.write=function(q){return void 0===q&&(q=void 0),ys(this)?void 0===this._ownerWritableStream?te(bs("write to")):Jd(this,q):te(ta("write"))},b}();function ys(b){return!(!V(b)||!Object.prototype.hasOwnProperty.call(b,"_ownerWritableStream"))}function _s(b){return Zi(b._ownerWritableStream)}function ea(b,q){"pending"===b._closedPromiseState?ws(b,q):function(b,q){tc(b,q)}(b,q)}function Kl(b,q){"pending"===b._readyPromiseState?nh(b,q):function(b,q){qa(b,q)}(b,q)}function Tp(b){var q=b._ownerWritableStream,_e=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Kl(b,_e),ea(b,_e),q._writer=void 0,b._ownerWritableStream=void 0}function Jd(b,q){var _e=b._ownerWritableStream,ze=_e._writableStreamController,ht=function(b,q){try{return b._strategySizeAlgorithm(q)}catch(_e){return Qn(b,_e),1}}(ze,q);if(_e!==b._ownerWritableStream)return te(bs("write to"));var Dt=_e._state;if("errored"===Dt)return te(_e._storedError);if(So(_e)||"closed"===Dt)return te(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===Dt)return te(_e._storedError);var Nt=function(b){return X(function(_e,ze){b._writeRequests.push({_resolve:_e,_reject:ze})})}(_e);return function(b,q,_e){try{De(b,q,_e)}catch(Dt){return void Qn(b,Dt)}var ze=b._controlledWritableStream;So(ze)||"writable"!==ze._state||Vu(ze,eh(b)),Xl(b)}(ze,q,ht),Nt}Object.defineProperties(Kd.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),"symbol"==typeof a.toStringTag&&Object.defineProperty(Kd.prototype,a.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});var Xd={},Ga=function(){function b(){throw new TypeError("Illegal constructor")}return b.prototype.error=function(q){if(void 0===q&&(q=void 0),!function(b){return!(!V(b)||!Object.prototype.hasOwnProperty.call(b,"_controlledWritableStream"))}(this))throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this._controlledWritableStream._state&&Kn(this,q)},b.prototype[j]=function(q){var _e=this._abortAlgorithm(q);return ja(this),_e},b.prototype[A]=function(){Je(this)},b}();function Uv(b,q,_e,ze,ht,Dt,Nt,Qt){q._controlledWritableStream=b,b._writableStreamController=q,q._queue=void 0,q._queueTotalSize=void 0,Je(q),q._started=!1,q._strategySizeAlgorithm=Qt,q._strategyHWM=Nt,q._writeAlgorithm=ze,q._closeAlgorithm=ht,q._abortAlgorithm=Dt;var vn=eh(q);Vu(b,vn),re(D(_e()),function(){q._started=!0,Xl(q)},function(Lt){q._started=!0,Cp(b,Lt)})}function ja(b){b._writeAlgorithm=void 0,b._closeAlgorithm=void 0,b._abortAlgorithm=void 0,b._strategySizeAlgorithm=void 0}function kp(b){return b._strategyHWM-b._queueTotalSize}function Xl(b){var q=b._controlledWritableStream;if(b._started&&void 0===q._inFlightWriteRequest){if("erroring"===q._state)return void Ap(q);if(0!==b._queue.length){var ze=function(b){return b._queue.peek().value}(b);ze===Xd?function(b){var q=b._controlledWritableStream;(function(b){b._inFlightCloseRequest=b._closeRequest,b._closeRequest=void 0})(q),Ae(b);var _e=b._closeAlgorithm();ja(b),re(_e,function(){!function(b){b._inFlightCloseRequest._resolve(void 0),b._inFlightCloseRequest=void 0,"erroring"===b._state&&(b._storedError=void 0,void 0!==b._pendingAbortRequest&&(b._pendingAbortRequest._resolve(),b._pendingAbortRequest=void 0)),b._state="closed";var _e=b._writer;void 0!==_e&&Ip(_e)}(q)},function(ze){!function(b,q){b._inFlightCloseRequest._reject(q),b._inFlightCloseRequest=void 0,void 0!==b._pendingAbortRequest&&(b._pendingAbortRequest._reject(q),b._pendingAbortRequest=void 0),Cp(b,q)}(q,ze)})}(b):function(b,q){var _e=b._controlledWritableStream;(function(b){b._inFlightWriteRequest=b._writeRequests.shift()})(_e),re(b._writeAlgorithm(q),function(){!function(b){b._inFlightWriteRequest._resolve(void 0),b._inFlightWriteRequest=void 0}(_e);var ht=_e._state;if(Ae(b),!So(_e)&&"writable"===ht){var Dt=eh(b);Vu(_e,Dt)}Xl(b)},function(ht){"writable"===_e._state&&ja(b),function(b,q){b._inFlightWriteRequest._reject(q),b._inFlightWriteRequest=void 0,Cp(b,q)}(_e,ht)})}(b,ze)}}}function Qn(b,q){"writable"===b._controlledWritableStream._state&&Kn(b,q)}function eh(b){return kp(b)<=0}function Kn(b,q){var _e=b._controlledWritableStream;ja(b),Sp(_e,q)}function ec(b){return new TypeError("WritableStream.prototype."+b+" can only be used on a WritableStream")}function ta(b){return new TypeError("WritableStreamDefaultWriter.prototype."+b+" can only be used on a WritableStreamDefaultWriter")}function bs(b){return new TypeError("Cannot "+b+" a stream using a released writer")}function ni(b){b._closedPromise=X(function(q,_e){b._closedPromise_resolve=q,b._closedPromise_reject=_e,b._closedPromiseState="pending"})}function tc(b,q){ni(b),ws(b,q)}function ws(b,q){void 0!==b._closedPromise_reject&&(B(b._closedPromise),b._closedPromise_reject(q),b._closedPromise_resolve=void 0,b._closedPromise_reject=void 0,b._closedPromiseState="rejected")}function Ip(b){void 0!==b._closedPromise_resolve&&(b._closedPromise_resolve(void 0),b._closedPromise_resolve=void 0,b._closedPromise_reject=void 0,b._closedPromiseState="resolved")}function Uu(b){b._readyPromise=X(function(q,_e){b._readyPromise_resolve=q,b._readyPromise_reject=_e}),b._readyPromiseState="pending"}function qa(b,q){Uu(b),nh(b,q)}function Cs(b){Uu(b),ih(b)}function nh(b,q){void 0!==b._readyPromise_reject&&(B(b._readyPromise),b._readyPromise_reject(q),b._readyPromise_resolve=void 0,b._readyPromise_reject=void 0,b._readyPromiseState="rejected")}function ih(b){void 0!==b._readyPromise_resolve&&(b._readyPromise_resolve(void 0),b._readyPromise_resolve=void 0,b._readyPromise_reject=void 0,b._readyPromiseState="fulfilled")}Object.defineProperties(Ga.prototype,{error:{enumerable:!0}}),"symbol"==typeof a.toStringTag&&Object.defineProperty(Ga.prototype,a.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});var Pp="undefined"!=typeof DOMException?DOMException:void 0;var b,zv=function(b){if("function"!=typeof b&&"object"!=typeof b)return!1;try{return new b,!0}catch(q){return!1}}(Pp)?Pp:((b=function(_e,ze){this.message=_e||"",this.name=ze||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}).prototype=Object.create(Error.prototype),Object.defineProperty(b.prototype,"constructor",{value:b,writable:!0,configurable:!0}),b);function Wa(b,q,_e,ze,ht,Dt){var Nt=He(b),Qt=Wi(q);b._disturbed=!0;var vn=!1,Wn=D(void 0);return X(function(Xt,Lt){var Vt,vr,Gr;if(void 0!==Dt){if(Vt=function(){var On=new zv("Aborted","AbortError"),vr=[];ze||vr.push(function(){return"writable"===q._state?Qd(q,On):D(void 0)}),ht||vr.push(function(){return"readable"===b._state?As(b,On):D(void 0)}),aa(function(){return Promise.all(vr.map(function(Gr){return Gr()}))},!0,On)},Dt.aborted)return void Vt();Dt.addEventListener("abort",Vt)}if(Zn(b,Nt._closedPromise,function(On){ze?ua(!0,On):aa(function(){return Qd(q,On)},!0,On)}),Zn(q,Qt._closedPromise,function(On){ht?ua(!0,On):aa(function(){return As(b,On)},!0,On)}),vr=Nt._closedPromise,Gr=function(){_e?ua():aa(function(){return function(b){var q=b._ownerWritableStream,_e=q._state;return So(q)||"closed"===_e?D(void 0):"errored"===_e?te(q._storedError):_s(b)}(Qt)})},"closed"===b._state?Gr():L(vr,Gr),So(q)||"closed"===q._state){var To=new TypeError("the destination writable stream closed before all data could be piped to it");ht?ua(!0,To):aa(function(){return As(b,To)},!0,To)}function Sr(){var On=Wn;return ce(Wn,function(){return On!==Wn?Sr():void 0})}function Zn(On,vr,Gr){"errored"===On._state?Gr(On._storedError):z(vr,Gr)}function aa(On,vr,Gr){function ts(){re(On(),function(){return Yn(vr,Gr)},function(qp){return Yn(!0,qp)})}vn||(vn=!0,"writable"!==q._state||So(q)?ts():L(Sr(),ts))}function ua(On,vr){vn||(vn=!0,"writable"!==q._state||So(q)?Yn(On,vr):L(Sr(),function(){return Yn(On,vr)}))}function Yn(On,vr){Tp(Qt),T(Nt),void 0!==Dt&&Dt.removeEventListener("abort",Vt),On?Lt(vr):Xt(void 0)}B(X(function(On,vr){!function Gr(ts){ts?On():ce(vn?D(!0):ce(Qt._readyPromise,function(){return X(function(On,vr){lt(Nt,{_chunkSteps:function(Gr){Wn=ce(Jd(Qt,Gr),void 0,H),On(!1)},_closeSteps:function(){return On(!0)},_errorSteps:vr})})}),Gr,vr)}(!1)}))})}var Et=function(){function b(){throw new TypeError("Illegal constructor")}return Object.defineProperty(b.prototype,"desiredSize",{get:function(){if(!wn(this))throw ur("desiredSize");return Za(this)},enumerable:!1,configurable:!0}),b.prototype.close=function(){if(!wn(this))throw ur("close");if(!$a(this))throw new TypeError("The stream is not in a state that permits close");Qi(this)},b.prototype.enqueue=function(q){if(void 0===q&&(q=void 0),!wn(this))throw ur("enqueue");if(!$a(this))throw new TypeError("The stream is not in a state that permits enqueue");return ri(this,q)},b.prototype.error=function(q){if(void 0===q&&(q=void 0),!wn(this))throw ur("error");Ki(this,q)},b.prototype[Z]=function(q){Je(this);var _e=this._cancelAlgorithm(q);return Ya(this),_e},b.prototype[$]=function(q){var _e=this._controlledReadableStream;if(this._queue.length>0){var ze=Ae(this);this._closeRequested&&0===this._queue.length?(Ya(this),zu(_e)):na(this),q._chunkSteps(ze)}else be(_e,q),na(this)},b}();function wn(b){return!(!V(b)||!Object.prototype.hasOwnProperty.call(b,"_controlledReadableStream"))}function na(b){if(Jn(b)){if(b._pulling)return void(b._pullAgain=!0);b._pulling=!0,re(b._pullAlgorithm(),function(){b._pulling=!1,b._pullAgain&&(b._pullAgain=!1,na(b))},function(ze){Ki(b,ze)})}}function Jn(b){var q=b._controlledReadableStream;return!(!$a(b)||!b._started)&&(!!(Ss(q)&&Fe(q)>0)||Za(b)>0)}function Ya(b){b._pullAlgorithm=void 0,b._cancelAlgorithm=void 0,b._strategySizeAlgorithm=void 0}function Qi(b){if($a(b)){var q=b._controlledReadableStream;b._closeRequested=!0,0===b._queue.length&&(Ya(b),zu(q))}}function ri(b,q){if($a(b)){var _e=b._controlledReadableStream;if(Ss(_e)&&Fe(_e)>0)Ie(_e,q,!1);else{var ze=void 0;try{ze=b._strategySizeAlgorithm(q)}catch(ht){throw Ki(b,ht),ht}try{De(b,q,ze)}catch(ht){throw Ki(b,ht),ht}}na(b)}}function Ki(b,q){var _e=b._controlledReadableStream;"readable"===_e._state&&(Je(b),Ya(b),Qa(_e,q))}function Za(b){var q=b._controlledReadableStream._state;return"errored"===q?null:"closed"===q?0:b._strategyHWM-b._queueTotalSize}function $a(b){return!b._closeRequested&&"readable"===b._controlledReadableStream._state}function Hu(b,q,_e,ze,ht,Dt,Nt){q._controlledReadableStream=b,q._queue=void 0,q._queueTotalSize=void 0,Je(q),q._started=!1,q._closeRequested=!1,q._pullAgain=!1,q._pulling=!1,q._strategySizeAlgorithm=Nt,q._strategyHWM=Dt,q._pullAlgorithm=ze,q._cancelAlgorithm=ht,b._readableStreamController=q,re(D(_e()),function(){q._started=!0,na(q)},function(vn){Ki(q,vn)})}function ur(b){return new TypeError("ReadableStreamDefaultController.prototype."+b+" can only be used on a ReadableStreamDefaultController")}function Jo(b,q,_e){return ye(b,_e),function(ze){return O(b,q,[ze])}}function Xi(b,q,_e){return ye(b,_e),function(ze){return O(b,q,[ze])}}function vw(b,q,_e){return ye(b,_e),function(ze){return R(b,q,[ze])}}function Op(b,q){if("bytes"!=(b=""+b))throw new TypeError(q+" '"+b+"' is not a valid enumeration value for ReadableStreamType");return b}function Wv(b,q){if("byob"!=(b=""+b))throw new TypeError(q+" '"+b+"' is not a valid enumeration value for ReadableStreamReaderMode");return b}function rc(b,q){ge(b,q);var _e=null==b?void 0:b.preventAbort,ze=null==b?void 0:b.preventCancel,ht=null==b?void 0:b.preventClose,Dt=null==b?void 0:b.signal;return void 0!==Dt&&function(b,q){if(!function(b){if("object"!=typeof b||null===b)return!1;try{return"boolean"==typeof b.aborted}catch(q){return!1}}(b))throw new TypeError(q+" is not an AbortSignal.")}(Dt,q+" has member 'signal' that"),{preventAbort:Boolean(_e),preventCancel:Boolean(ze),preventClose:Boolean(ht),signal:Dt}}Object.defineProperties(Et.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof a.toStringTag&&Object.defineProperty(Et.prototype,a.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});var ra=function(){function b(q,_e){void 0===q&&(q={}),void 0===_e&&(_e={}),void 0===q?q=null:Re(q,"First parameter");var ze=Qo(_e,"Second parameter"),ht=function(b,q){ge(b,q);var _e=b,ze=null==_e?void 0:_e.autoAllocateChunkSize,ht=null==_e?void 0:_e.cancel,Dt=null==_e?void 0:_e.pull,Nt=null==_e?void 0:_e.start,Qt=null==_e?void 0:_e.type;return{autoAllocateChunkSize:void 0===ze?void 0:et(ze,q+" has member 'autoAllocateChunkSize' that"),cancel:void 0===ht?void 0:Jo(ht,_e,q+" has member 'cancel' that"),pull:void 0===Dt?void 0:Xi(Dt,_e,q+" has member 'pull' that"),start:void 0===Nt?void 0:vw(Nt,_e,q+" has member 'start' that"),type:void 0===Qt?void 0:Op(Qt,q+" has member 'type' that")}}(q,"First parameter");if(ju(this),"bytes"===ht.type){if(void 0!==ze.size)throw new RangeError("The strategy for a byte stream cannot have a size function");_t(this,ht,Js(ze,0))}else{var Nt=$o(ze);!function(b,q,_e,ze){var ht=Object.create(Et.prototype),Dt=function(){},Nt=function(){return D(void 0)},Qt=function(){return D(void 0)};void 0!==q.start&&(Dt=function(){return q.start(ht)}),void 0!==q.pull&&(Nt=function(){return q.pull(ht)}),void 0!==q.cancel&&(Qt=function(vn){return q.cancel(vn)}),Hu(b,ht,Dt,Nt,Qt,_e,ze)}(this,ht,Js(ze,1),Nt)}}return Object.defineProperty(b.prototype,"locked",{get:function(){if(!Xo(this))throw ia("locked");return Ss(this)},enumerable:!1,configurable:!0}),b.prototype.cancel=function(q){return void 0===q&&(q=void 0),Xo(this)?Ss(this)?te(new TypeError("Cannot cancel a stream that already has a reader")):As(this,q):te(ia("cancel"))},b.prototype.getReader=function(q){if(void 0===q&&(q=void 0),!Xo(this))throw ia("getReader");return void 0===function(b,q){ge(b,q);var _e=null==b?void 0:b.mode;return{mode:void 0===_e?void 0:Wv(_e,q+" has member 'mode' that")}}(q,"First parameter").mode?He(this):function(b){return new Rn(b)}(this)},b.prototype.pipeThrough=function(q,_e){if(void 0===_e&&(_e={}),!Xo(this))throw ia("pipeThrough");xe(q,1,"pipeThrough");var ze=function(b,q){ge(b,q);var _e=null==b?void 0:b.readable;Le(_e,"readable","ReadableWritablePair"),Ne(_e,q+" has member 'readable' that");var ze=null==b?void 0:b.writable;return Le(ze,"writable","ReadableWritablePair"),Nu(ze,q+" has member 'writable' that"),{readable:_e,writable:ze}}(q,"First parameter"),ht=rc(_e,"Second parameter");if(Ss(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Ha(ze.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return B(Wa(this,ze.writable,ht.preventClose,ht.preventAbort,ht.preventCancel,ht.signal)),ze.readable},b.prototype.pipeTo=function(q,_e){if(void 0===_e&&(_e={}),!Xo(this))return te(ia("pipeTo"));if(void 0===q)return te("Parameter 1 is required in 'pipeTo'.");if(!Ua(q))return te(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));var ze;try{ze=rc(_e,"Second parameter")}catch(ht){return te(ht)}return Ss(this)?te(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Ha(q)?te(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Wa(this,q,ze.preventClose,ze.preventAbort,ze.preventCancel,ze.signal)},b.prototype.tee=function(){if(!Xo(this))throw ia("tee");return Qe(function(b,q){var Nt,Qt,vn,Wn,Xt,_e=He(b),ze=!1,ht=!1,Dt=!1,Lt=X(function(Sr){Xt=Sr});function Vt(){return ze||(ze=!0,lt(_e,{_chunkSteps:function(Zn){C(function(){ze=!1;var aa=Zn;ht||ri(vn._readableStreamController,Zn),Dt||ri(Wn._readableStreamController,aa),Xt(void 0)})},_closeSteps:function(){ze=!1,ht||Qi(vn._readableStreamController),Dt||Qi(Wn._readableStreamController)},_errorSteps:function(){ze=!1}})),D(void 0)}function To(){}return vn=ic(To,Vt,function(Sr){if(ht=!0,Nt=Sr,Dt){var Zn=Qe([Nt,Qt]),sa=As(b,Zn);Xt(sa)}return Lt}),Wn=ic(To,Vt,function(Sr){if(Dt=!0,Qt=Sr,ht){var Zn=Qe([Nt,Qt]),sa=As(b,Zn);Xt(sa)}return Lt}),z(_e._closedPromise,function(Sr){Ki(vn._readableStreamController,Sr),Ki(Wn._readableStreamController,Sr),Xt(void 0)}),[vn,Wn]}(this))},b.prototype.values=function(q){if(void 0===q&&(q=void 0),!Xo(this))throw ia("values");return function(b,q){var _e=He(b),ze=new qe(_e,q),ht=Object.create(ft);return ht._asyncIteratorImpl=ze,ht}(this,function(b,q){return ge(b,q),{preventCancel:Boolean(null==b?void 0:b.preventCancel)}}(q,"First parameter").preventCancel)},b}();function ic(b,q,_e,ze,ht){void 0===ze&&(ze=1),void 0===ht&&(ht=function(){return 1});var Dt=Object.create(ra.prototype);return ju(Dt),Hu(Dt,Object.create(Et.prototype),b,q,_e,ze,ht),Dt}function ju(b){b._state="readable",b._reader=void 0,b._storedError=void 0,b._disturbed=!1}function Xo(b){return!(!V(b)||!Object.prototype.hasOwnProperty.call(b,"_readableStreamController"))}function Ss(b){return void 0!==b._reader}function As(b,q){return b._disturbed=!0,"closed"===b._state?D(void 0):"errored"===b._state?te(b._storedError):(zu(b),E(b._readableStreamController[Z](q),H))}function zu(b){b._state="closed";var q=b._reader;void 0!==q&&(ct(q)&&(q._readRequests.forEach(function(_e){_e._closeSteps()}),q._readRequests=new ae),Y(q))}function Qa(b,q){b._state="errored",b._storedError=q;var _e=b._reader;void 0!==_e&&(ct(_e)?(_e._readRequests.forEach(function(ze){ze._errorSteps(q)}),_e._readRequests=new ae):(_e._readIntoRequests.forEach(function(ze){ze._errorSteps(q)}),_e._readIntoRequests=new ae),M(_e,q))}function ia(b){return new TypeError("ReadableStream.prototype."+b+" can only be used on a ReadableStream")}function Np(b,q){ge(b,q);var _e=null==b?void 0:b.highWaterMark;return Le(_e,"highWaterMark","QueuingStrategyInit"),{highWaterMark:Oe(_e)}}Object.defineProperties(ra.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof a.toStringTag&&Object.defineProperty(ra.prototype,a.toStringTag,{value:"ReadableStream",configurable:!0}),"symbol"==typeof a.asyncIterator&&Object.defineProperty(ra.prototype,a.asyncIterator,{value:ra.prototype.values,writable:!0,configurable:!0});var Ur=function(q){return q.byteLength},es=function(){function b(q){xe(q,1,"ByteLengthQueuingStrategy"),q=Np(q,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=q.highWaterMark}return Object.defineProperty(b.prototype,"highWaterMark",{get:function(){if(!Bp(this))throw rr("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"size",{get:function(){if(!Bp(this))throw rr("size");return Ur},enumerable:!1,configurable:!0}),b}();function rr(b){return new TypeError("ByteLengthQueuingStrategy.prototype."+b+" can only be used on a ByteLengthQueuingStrategy")}function Bp(b){return!(!V(b)||!Object.prototype.hasOwnProperty.call(b,"_byteLengthQueuingStrategyHighWaterMark"))}Object.defineProperties(es.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof a.toStringTag&&Object.defineProperty(es.prototype,a.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});var yw=function(){return 1},sh=function(){function b(q){xe(q,1,"CountQueuingStrategy"),q=Np(q,"First parameter"),this._countQueuingStrategyHighWaterMark=q.highWaterMark}return Object.defineProperty(b.prototype,"highWaterMark",{get:function(){if(!Up(this))throw Vp("highWaterMark");return this._countQueuingStrategyHighWaterMark},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"size",{get:function(){if(!Up(this))throw Vp("size");return yw},enumerable:!1,configurable:!0}),b}();function Vp(b){return new TypeError("CountQueuingStrategy.prototype."+b+" can only be used on a CountQueuingStrategy")}function Up(b){return!(!V(b)||!Object.prototype.hasOwnProperty.call(b,"_countQueuingStrategyHighWaterMark"))}function oc(b,q,_e){return ye(b,_e),function(ze){return O(b,q,[ze])}}function Ja(b,q,_e){return ye(b,_e),function(ze){return R(b,q,[ze])}}function sc(b,q,_e){return ye(b,_e),function(ze,ht){return O(b,q,[ze,ht])}}Object.defineProperties(sh.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof a.toStringTag&&Object.defineProperty(sh.prototype,a.toStringTag,{value:"CountQueuingStrategy",configurable:!0});var qu=function(){function b(q,_e,ze){void 0===q&&(q={}),void 0===_e&&(_e={}),void 0===ze&&(ze={}),void 0===q&&(q=null);var ht=Qo(_e,"Second parameter"),Dt=Qo(ze,"Third parameter"),Nt=function(b,q){ge(b,q);var _e=null==b?void 0:b.flush,ze=null==b?void 0:b.readableType,ht=null==b?void 0:b.start,Dt=null==b?void 0:b.transform,Nt=null==b?void 0:b.writableType;return{flush:void 0===_e?void 0:oc(_e,b,q+" has member 'flush' that"),readableType:ze,start:void 0===ht?void 0:Ja(ht,b,q+" has member 'start' that"),transform:void 0===Dt?void 0:sc(Dt,b,q+" has member 'transform' that"),writableType:Nt}}(q,"First parameter");if(void 0!==Nt.readableType)throw new RangeError("Invalid readableType specified");if(void 0!==Nt.writableType)throw new RangeError("Invalid writableType specified");var Lt,Qt=Js(Dt,0),vn=$o(Dt),Wn=Js(ht,1),Xt=$o(ht);(function(b,q,_e,ze,ht,Dt){function Nt(){return q}function Qt(Vt){return function(b,q){var _e=b._transformStreamController;return b._backpressure?E(b._backpressureChangePromise,function(){var ht=b._writable;if("erroring"===ht._state)throw ht._storedError;return uc(_e,q)}):uc(_e,q)}(b,Vt)}function vn(Vt){return function(b,q){return eo(b,q),D(void 0)}(b,Vt)}function Wn(){return function(b){var q=b._readable,_e=b._transformStreamController,ze=_e._flushAlgorithm();return Yv(_e),E(ze,function(){if("errored"===q._state)throw q._storedError;Qi(q._readableStreamController)},function(ht){throw eo(b,ht),q._storedError})}(b)}function Xt(){return function(b){return ah(b,!1),b._backpressureChangePromise}(b)}function Lt(Vt){return oa(b,Vt),D(void 0)}b._writable=function(b,q,_e,ze,ht,Dt){void 0===ht&&(ht=1),void 0===Dt&&(Dt=function(){return 1});var Nt=Object.create(Xs.prototype);return Lv(Nt),Uv(Nt,Object.create(Ga.prototype),b,q,_e,ze,ht,Dt),Nt}(Nt,Qt,Wn,vn,_e,ze),b._readable=ic(Nt,Xt,Lt,ht,Dt),b._backpressure=void 0,b._backpressureChangePromise=void 0,b._backpressureChangePromise_resolve=void 0,ah(b,!0),b._transformStreamController=void 0})(this,X(function(Xa){Lt=Xa}),Wn,Xt,Qt,vn),function(b,q){var _e=Object.create(ac.prototype),ze=function(Dt){try{return Zv(_e,Dt),D(void 0)}catch(Nt){return te(Nt)}},ht=function(){return D(void 0)};void 0!==q.transform&&(ze=function(Dt){return q.transform(Dt,_e)}),void 0!==q.flush&&(ht=function(){return q.flush(_e)}),function(b,q,_e,ze){q._controlledTransformStream=b,b._transformStreamController=q,q._transformAlgorithm=_e,q._flushAlgorithm=ze}(b,_e,ze,ht)}(this,Nt),Lt(void 0!==Nt.start?Nt.start(this._transformStreamController):void 0)}return Object.defineProperty(b.prototype,"readable",{get:function(){if(!Gp(this))throw $v("readable");return this._readable},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"writable",{get:function(){if(!Gp(this))throw $v("writable");return this._writable},enumerable:!1,configurable:!0}),b}();function Gp(b){return!(!V(b)||!Object.prototype.hasOwnProperty.call(b,"_transformStreamController"))}function eo(b,q){Ki(b._readable._readableStreamController,q),oa(b,q)}function oa(b,q){Yv(b._transformStreamController),Qn(b._writable._writableStreamController,q),b._backpressure&&ah(b,!1)}function ah(b,q){void 0!==b._backpressureChangePromise&&b._backpressureChangePromise_resolve(),b._backpressureChangePromise=X(function(_e){b._backpressureChangePromise_resolve=_e}),b._backpressure=q}Object.defineProperties(qu.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof a.toStringTag&&Object.defineProperty(qu.prototype,a.toStringTag,{value:"TransformStream",configurable:!0});var ac=function(){function b(){throw new TypeError("Illegal constructor")}return Object.defineProperty(b.prototype,"desiredSize",{get:function(){if(!Es(this))throw Eo("desiredSize");return Za(this._controlledTransformStream._readable._readableStreamController)},enumerable:!1,configurable:!0}),b.prototype.enqueue=function(q){if(void 0===q&&(q=void 0),!Es(this))throw Eo("enqueue");Zv(this,q)},b.prototype.error=function(q){if(void 0===q&&(q=void 0),!Es(this))throw Eo("error");!function(b,q){eo(b._controlledTransformStream,q)}(this,q)},b.prototype.terminate=function(){if(!Es(this))throw Eo("terminate");!function(b){var q=b._controlledTransformStream;Qi(q._readable._readableStreamController),oa(q,new TypeError("TransformStream terminated"))}(this)},b}();function Es(b){return!(!V(b)||!Object.prototype.hasOwnProperty.call(b,"_controlledTransformStream"))}function Yv(b){b._transformAlgorithm=void 0,b._flushAlgorithm=void 0}function Zv(b,q){var _e=b._controlledTransformStream,ze=_e._readable._readableStreamController;if(!$a(ze))throw new TypeError("Readable side is not in a state that permits enqueue");try{ri(ze,q)}catch(Dt){throw oa(_e,Dt),_e._readable._storedError}(function(b){return!Jn(b)})(ze)!==_e._backpressure&&ah(_e,!0)}function uc(b,q){return E(b._transformAlgorithm(q),void 0,function(ze){throw eo(b._controlledTransformStream,ze),ze})}function Eo(b){return new TypeError("TransformStreamDefaultController.prototype."+b+" can only be used on a TransformStreamDefaultController")}function $v(b){return new TypeError("TransformStream.prototype."+b+" can only be used on a TransformStream")}Object.defineProperties(ac.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof a.toStringTag&&Object.defineProperty(ac.prototype,a.toStringTag,{value:"TransformStreamDefaultController",configurable:!0}),y.ByteLengthQueuingStrategy=es,y.CountQueuingStrategy=sh,y.ReadableByteStreamController=mn,y.ReadableStream=ra,y.ReadableStreamBYOBReader=Rn,y.ReadableStreamBYOBRequest=rn,y.ReadableStreamDefaultController=Et,y.ReadableStreamDefaultReader=ot,y.TransformStream=qu,y.TransformStreamDefaultController=ac,y.WritableStream=Xs,y.WritableStreamDefaultController=Ga,y.WritableStreamDefaultWriter=Kd,Object.defineProperty(y,"__esModule",{value:!0})}(I)},(ve,I,y)=>{y(123);var a=y(127);ve.exports=a("String","padStart")},(ve,I,y)=>{"use strict";var a=y(9),H=y(124).start;a({target:"String",proto:!0,forced:y(126)},{padStart:function(V){return H(this,V,arguments.length>1?arguments[1]:void 0)}})},(ve,I,y)=>{var a=y(46),H=y(125),G=y(19),ie=Math.ceil,V=function(oe){return function(J,K,he){var ce,re,U=String(G(J)),X=U.length,D=void 0===he?" ":String(he),te=a(K);return te<=X||""==D?U:((re=H.call(D,ie((ce=te-X)/D.length))).length>ce&&(re=re.slice(0,ce)),oe?U+re:re+U)}};ve.exports={start:V(!1),end:V(!0)}},(ve,I,y)=>{"use strict";var a=y(47),H=y(19);ve.exports="".repeat||function(ie){var V=String(H(this)),oe="",J=a(ie);if(J<0||J==1/0)throw RangeError("Wrong number of repetitions");for(;J>0;(J>>>=1)&&(V+=V))1&J&&(oe+=V);return oe}},(ve,I,y)=>{var a=y(95);ve.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a)},(ve,I,y)=>{var a=y(10),H=y(75),G=Function.call;ve.exports=function(ie,V,oe){return H(G,a[ie].prototype[V],oe)}},(ve,I,y)=>{y(129);var a=y(127);ve.exports=a("String","padEnd")},(ve,I,y)=>{"use strict";var a=y(9),H=y(124).end;a({target:"String",proto:!0,forced:y(126)},{padEnd:function(V){return H(this,V,arguments.length>1?arguments[1]:void 0)}})},(ve,I,y)=>{y(131);var a=y(42);ve.exports=a.Object.values},(ve,I,y)=>{var a=y(9),H=y(132).values;a({target:"Object",stat:!0},{values:function(ie){return H(ie)}})},(ve,I,y)=>{var a=y(12),H=y(60),G=y(16),ie=y(14).f,V=function(oe){return function(J){for(var te,K=G(J),he=H(K),U=he.length,X=0,D=[];U>X;)te=he[X++],(!a||ie.call(K,te))&&D.push(oe?[te,K[te]]:K[te]);return D}};ve.exports={entries:V(!0),values:V(!1)}},(ve,I,y)=>{y(134);var a=y(42);ve.exports=a.Object.entries},(ve,I,y)=>{var a=y(9),H=y(132).entries;a({target:"Object",stat:!0},{entries:function(ie){return H(ie)}})},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultCMapReaderFactory=exports.DefaultCanvasFactory=exports.build=void 0;var _regenerator=_interopRequireDefault(__w_pdfjs_require__(2)),_util=__w_pdfjs_require__(4),_display_utils=__w_pdfjs_require__(1),_font_loader=__w_pdfjs_require__(136),_node_utils=__w_pdfjs_require__(137),_annotation_storage=__w_pdfjs_require__(138),_api_compatibility=__w_pdfjs_require__(139),_canvas=__w_pdfjs_require__(140),_worker_options=__w_pdfjs_require__(142),_is_node=__w_pdfjs_require__(6),_message_handler=__w_pdfjs_require__(143),_metadata=__w_pdfjs_require__(144),_optional_content_config=__w_pdfjs_require__(146),_transport_stream=__w_pdfjs_require__(147),_webgl=__w_pdfjs_require__(148);function _interopRequireDefault(ve){return ve&&ve.__esModule?ve:{default:ve}}function asyncGeneratorStep(ve,I,y,a,H,G,ie){try{var V=ve[G](ie),oe=V.value}catch(J){return void y(J)}V.done?I(oe):Promise.resolve(oe).then(a,H)}function _asyncToGenerator(ve){return function(){var I=this,y=arguments;return new Promise(function(a,H){var G=ve.apply(I,y);function ie(oe){asyncGeneratorStep(G,a,H,ie,V,"next",oe)}function V(oe){asyncGeneratorStep(G,a,H,ie,V,"throw",oe)}ie(void 0)})}}function _toConsumableArray(ve){return _arrayWithoutHoles(ve)||_iterableToArray(ve)||_unsupportedIterableToArray(ve)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(ve){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(ve))return Array.from(ve)}function _arrayWithoutHoles(ve){if(Array.isArray(ve))return _arrayLikeToArray(ve)}function _createForOfIteratorHelper(ve,I){var y;if("undefined"==typeof Symbol||null==ve[Symbol.iterator]){if(Array.isArray(ve)||(y=_unsupportedIterableToArray(ve))||I&&ve&&"number"==typeof ve.length){y&&(ve=y);var a=0,H=function(){};return{s:H,n:function(){return a>=ve.length?{done:!0}:{done:!1,value:ve[a++]}},e:function(J){throw J},f:H}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var V,G=!0,ie=!1;return{s:function(){y=ve[Symbol.iterator]()},n:function(){var J=y.next();return G=J.done,J},e:function(J){ie=!0,V=J},f:function(){try{!G&&null!=y.return&&y.return()}finally{if(ie)throw V}}}}function _classCallCheck(ve,I){if(!(ve instanceof I))throw new TypeError("Cannot call a class as a function")}function _defineProperties(ve,I){for(var y=0;y<I.length;y++){var a=I[y];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(ve,a.key,a)}}function _createClass(ve,I,y){return I&&_defineProperties(ve.prototype,I),y&&_defineProperties(ve,y),ve}function _slicedToArray(ve,I){return _arrayWithHoles(ve)||_iterableToArrayLimit(ve,I)||_unsupportedIterableToArray(ve,I)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(ve,I){if(ve){if("string"==typeof ve)return _arrayLikeToArray(ve,I);var y=Object.prototype.toString.call(ve).slice(8,-1);if("Object"===y&&ve.constructor&&(y=ve.constructor.name),"Map"===y||"Set"===y)return Array.from(ve);if("Arguments"===y||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y))return _arrayLikeToArray(ve,I)}}function _arrayLikeToArray(ve,I){(null==I||I>ve.length)&&(I=ve.length);for(var y=0,a=new Array(I);y<I;y++)a[y]=ve[y];return a}function _iterableToArrayLimit(ve,I){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(ve)){var y=[],a=!0,H=!1,G=void 0;try{for(var V,ie=ve[Symbol.iterator]();!(a=(V=ie.next()).done)&&(y.push(V.value),!I||y.length!==I);a=!0);}catch(oe){H=!0,G=oe}finally{try{!a&&null!=ie.return&&ie.return()}finally{if(H)throw G}}return y}}function _arrayWithHoles(ve){if(Array.isArray(ve))return ve}function _typeof(ve){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(ve)}var DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DefaultCanvasFactory=_is_node.isNodeJS?_node_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;var DefaultCMapReaderFactory=_is_node.isNodeJS?_node_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory,createPDFNetworkStream;function setPDFNetworkStreamFactory(ve){createPDFNetworkStream=ve}function getDocument(ve){var y,I=new PDFDocumentLoadingTask;if("string"==typeof ve)y={url:ve};else if((0,_util.isArrayBuffer)(ve))y={data:ve};else if(ve instanceof PDFDataRangeTransport)y={range:ve};else{if("object"!==_typeof(ve))throw new Error("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object");if(!ve.url&&!ve.data&&!ve.range)throw new Error("Invalid parameter object: need either .data, .range or .url");y=ve}var a=Object.create(null),H=null,G=null;for(var ie in y)if("url"!==ie||"undefined"==typeof window)if("range"!==ie)if("worker"!==ie)if("data"!==ie||y[ie]instanceof Uint8Array)a[ie]=y[ie];else{var V=y[ie];if("string"==typeof V)a[ie]=(0,_util.stringToBytes)(V);else if("object"!==_typeof(V)||null===V||isNaN(V.length)){if(!(0,_util.isArrayBuffer)(V))throw new Error("Invalid PDF binary data: either typed array, string or array-like object is expected in the data property.");a[ie]=new Uint8Array(V)}else a[ie]=new Uint8Array(V)}else G=y[ie];else H=y[ie];else a[ie]=new URL(y[ie],window.location).href;if(a.rangeChunkSize=a.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,a.CMapReaderFactory=a.CMapReaderFactory||DefaultCMapReaderFactory,a.ignoreErrors=!0!==a.stopAtErrors,a.fontExtraProperties=!0===a.fontExtraProperties,a.pdfBug=!0===a.pdfBug,Number.isInteger(a.maxImageSize)||(a.maxImageSize=-1),"boolean"!=typeof a.isEvalSupported&&(a.isEvalSupported=!0),"boolean"!=typeof a.disableFontFace&&(a.disableFontFace=_api_compatibility.apiCompatibilityParams.disableFontFace||!1),void 0===a.ownerDocument&&(a.ownerDocument=globalThis.document),"boolean"!=typeof a.disableRange&&(a.disableRange=!1),"boolean"!=typeof a.disableStream&&(a.disableStream=!1),"boolean"!=typeof a.disableAutoFetch&&(a.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(a.verbosity),!G){var oe={verbosity:a.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};G=oe.port?PDFWorker.fromPort(oe):new PDFWorker(oe),I._worker=G}var J=I.docId;return G.promise.then(function(){if(I.destroyed)throw new Error("Loading aborted");var K=_fetchDocument(G,a,H,J),he=new Promise(function(U){var X;H?X=new _transport_stream.PDFDataTransportStream({length:a.length,initialData:a.initialData,progressiveDone:a.progressiveDone,disableRange:a.disableRange,disableStream:a.disableStream},H):a.data||(X=createPDFNetworkStream({url:a.url,length:a.length,httpHeaders:a.httpHeaders,withCredentials:a.withCredentials,rangeChunkSize:a.rangeChunkSize,disableRange:a.disableRange,disableStream:a.disableStream})),U(X)});return Promise.all([K,he]).then(function(U){var X=_slicedToArray(U,2),D=X[0],te=X[1];if(I.destroyed)throw new Error("Loading aborted");var ce=new _message_handler.MessageHandler(J,D,G.port);ce.postMessageTransfers=G.postMessageTransfers;var re=new WorkerTransport(ce,I,te,a);I._transport=re,ce.send("Ready",null)})}).catch(I._capability.reject),I}function _fetchDocument(ve,I,y,a){return ve.destroyed?Promise.reject(new Error("Worker was destroyed")):(y&&(I.length=y.length,I.initialData=y.initialData,I.progressiveDone=y.progressiveDone),ve.messageHandler.sendWithPromise("GetDocRequest",{docId:a,apiVersion:"2.7.570",source:{data:I.data,url:I.url,password:I.password,disableAutoFetch:I.disableAutoFetch,rangeChunkSize:I.rangeChunkSize,length:I.length},maxImageSize:I.maxImageSize,disableFontFace:I.disableFontFace,postMessageTransfers:ve.postMessageTransfers,docBaseUrl:I.docBaseUrl,ignoreErrors:I.ignoreErrors,isEvalSupported:I.isEvalSupported,fontExtraProperties:I.fontExtraProperties}).then(function(H){if(ve.destroyed)throw new Error("Worker was destroyed");return H}))}exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;var PDFDocumentLoadingTask=(I=0,function(){function a(){_classCallCheck(this,a),this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+I++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}return _createClass(a,[{key:"destroy",value:function(){var G=this;return this.destroyed=!0,(this._transport?this._transport.destroy():Promise.resolve()).then(function(){G._transport=null,G._worker&&(G._worker.destroy(),G._worker=null)})}},{key:"promise",get:function(){return this._capability.promise}}]),a}()),PDFDataRangeTransport=function(){function ve(I,y){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,ve),this.length=I,this.initialData=y,this.progressiveDone=a,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}return _createClass(ve,[{key:"addRangeListener",value:function(y){this._rangeListeners.push(y)}},{key:"addProgressListener",value:function(y){this._progressListeners.push(y)}},{key:"addProgressiveReadListener",value:function(y){this._progressiveReadListeners.push(y)}},{key:"addProgressiveDoneListener",value:function(y){this._progressiveDoneListeners.push(y)}},{key:"onDataRange",value:function(y,a){var G,H=_createForOfIteratorHelper(this._rangeListeners);try{for(H.s();!(G=H.n()).done;)(0,G.value)(y,a)}catch(V){H.e(V)}finally{H.f()}}},{key:"onDataProgress",value:function(y,a){var H=this;this._readyCapability.promise.then(function(){var ie,G=_createForOfIteratorHelper(H._progressListeners);try{for(G.s();!(ie=G.n()).done;)(0,ie.value)(y,a)}catch(oe){G.e(oe)}finally{G.f()}})}},{key:"onDataProgressiveRead",value:function(y){var a=this;this._readyCapability.promise.then(function(){var G,H=_createForOfIteratorHelper(a._progressiveReadListeners);try{for(H.s();!(G=H.n()).done;)(0,G.value)(y)}catch(V){H.e(V)}finally{H.f()}})}},{key:"onDataProgressiveDone",value:function(){var y=this;this._readyCapability.promise.then(function(){var H,a=_createForOfIteratorHelper(y._progressiveDoneListeners);try{for(a.s();!(H=a.n()).done;)(0,H.value)()}catch(ie){a.e(ie)}finally{a.f()}})}},{key:"transportReady",value:function(){this._readyCapability.resolve()}},{key:"requestDataRange",value:function(y,a){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}},{key:"abort",value:function(){}}]),ve}(),I;exports.PDFDataRangeTransport=PDFDataRangeTransport;var PDFDocumentProxy=function(){function ve(I,y){_classCallCheck(this,ve),this._pdfInfo=I,this._transport=y}return _createClass(ve,[{key:"getPage",value:function(y){return this._transport.getPage(y)}},{key:"getPageIndex",value:function(y){return this._transport.getPageIndex(y)}},{key:"getDestinations",value:function(){return this._transport.getDestinations()}},{key:"getDestination",value:function(y){return this._transport.getDestination(y)}},{key:"getPageLabels",value:function(){return this._transport.getPageLabels()}},{key:"getPageLayout",value:function(){return this._transport.getPageLayout()}},{key:"getPageMode",value:function(){return this._transport.getPageMode()}},{key:"getViewerPreferences",value:function(){return this._transport.getViewerPreferences()}},{key:"getOpenAction",value:function(){return this._transport.getOpenAction()}},{key:"getAttachments",value:function(){return this._transport.getAttachments()}},{key:"getJavaScript",value:function(){return this._transport.getJavaScript()}},{key:"getJSActions",value:function(){return this._transport.getDocJSActions()}},{key:"getOutline",value:function(){return this._transport.getOutline()}},{key:"getOptionalContentConfig",value:function(){return this._transport.getOptionalContentConfig()}},{key:"getPermissions",value:function(){return this._transport.getPermissions()}},{key:"getMetadata",value:function(){return this._transport.getMetadata()}},{key:"getMarkInfo",value:function(){return this._transport.getMarkInfo()}},{key:"getData",value:function(){return this._transport.getData()}},{key:"getDownloadInfo",value:function(){return this._transport.downloadInfoCapability.promise}},{key:"getStats",value:function(){return this._transport.getStats()}},{key:"cleanup",value:function(){return this._transport.startCleanup()}},{key:"destroy",value:function(){return this.loadingTask.destroy()}},{key:"saveDocument",value:function(y){return this._transport.saveDocument(y)}},{key:"getFieldObjects",value:function(){return this._transport.getFieldObjects()}},{key:"hasJSActions",value:function(){return this._transport.hasJSActions()}},{key:"getCalculationOrderIds",value:function(){return this._transport.getCalculationOrderIds()}},{key:"annotationStorage",get:function(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}},{key:"numPages",get:function(){return this._pdfInfo.numPages}},{key:"fingerprint",get:function(){return this._pdfInfo.fingerprint}},{key:"loadingParams",get:function(){return this._transport.loadingParams}},{key:"loadingTask",get:function(){return this._transport.loadingTask}}]),ve}();exports.PDFDocumentProxy=PDFDocumentProxy;var PDFPageProxy=function(){function ve(I,y,a,H){var G=arguments.length>4&&void 0!==arguments[4]&&arguments[4];_classCallCheck(this,ve),this._pageIndex=I,this._pageInfo=y,this._ownerDocument=H,this._transport=a,this._stats=G?new _display_utils.StatTimer:null,this._pdfBug=G,this.commonObjs=a.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this.destroyed=!1}return _createClass(ve,[{key:"getViewport",value:function(){var y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=y.scale,H=y.rotation,G=void 0===H?this.rotate:H,ie=y.offsetX,V=void 0===ie?0:ie,oe=y.offsetY,J=void 0===oe?0:oe,K=y.dontFlip,he=void 0!==K&&K;return new _display_utils.PageViewport({viewBox:this.view,scale:a,rotation:G,offsetX:V,offsetY:J,dontFlip:he})}},{key:"getAnnotations",value:function(){var y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=y.intent,H=void 0===a?null:a;return(!this.annotationsPromise||this.annotationsIntent!==H)&&(this.annotationsPromise=this._transport.getAnnotations(this._pageIndex,H),this.annotationsIntent=H),this.annotationsPromise}},{key:"getJSActions",value:function(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}},{key:"render",value:function(y){var a=this,H=y.canvasContext,G=y.viewport,ie=y.intent,V=void 0===ie?"display":ie,oe=y.enableWebGL,J=void 0!==oe&&oe,K=y.renderInteractiveForms,he=void 0!==K&&K,U=y.transform,X=void 0===U?null:U,D=y.imageLayer,te=void 0===D?null:D,ce=y.canvasFactory,re=void 0===ce?null:ce,L=y.background,z=void 0===L?null:L,E=y.annotationStorage,B=void 0===E?null:E,C=y.optionalContentConfigPromise,R=void 0===C?null:C;this._stats&&this._stats.time("Overall");var O="print"===V?"print":"display";this.pendingCleanup=!1,R||(R=this._transport.getOptionalContentConfig());var se=this._intentStates.get(O);se||(se=Object.create(null),this._intentStates.set(O,se)),se.streamReaderCancelTimeout&&(clearTimeout(se.streamReaderCancelTimeout),se.streamReaderCancelTimeout=null);var ae=re||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),ue=new _webgl.WebGLContext({enable:J});se.displayReadyCapability||(se.displayReadyCapability=(0,_util.createPromiseCapability)(),se.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:O,renderInteractiveForms:!0===he,annotationStorage:(null==B?void 0:B.getAll())||null}));var N=function(F){var ee=se.renderTasks.indexOf(T);ee>=0&&se.renderTasks.splice(ee,1),(a.cleanupAfterRender||"print"===O)&&(a.pendingCleanup=!0),a._tryCleanup(),F?(T.capability.reject(F),a._abortOperatorList({intentState:se,reason:F})):T.capability.resolve(),a._stats&&(a._stats.timeEnd("Rendering"),a._stats.timeEnd("Overall"))},T=new InternalRenderTask({callback:N,params:{canvasContext:H,viewport:G,transform:X,imageLayer:te,background:z},objs:this.objs,commonObjs:this.commonObjs,operatorList:se.operatorList,pageIndex:this._pageIndex,canvasFactory:ae,webGLContext:ue,useRequestAnimationFrame:"print"!==O,pdfBug:this._pdfBug});se.renderTasks||(se.renderTasks=[]),se.renderTasks.push(T);var ne=T.task;return Promise.all([se.displayReadyCapability.promise,R]).then(function(x){var F=_slicedToArray(x,2),ee=F[0],M=F[1];a.pendingCleanup?N():(a._stats&&a._stats.time("Rendering"),T.initializeGraphics({transparency:ee,optionalContentConfig:M}),T.operatorListChanged())}).catch(N),ne}},{key:"getOperatorList",value:function(){var G,a="oplist",H=this._intentStates.get(a);return H||(H=Object.create(null),this._intentStates.set(a,H)),H.opListReadCapability||((G=Object.create(null)).operatorListChanged=function(){if(H.operatorList.lastChunk){H.opListReadCapability.resolve(H.operatorList);var ie=H.renderTasks.indexOf(G);ie>=0&&H.renderTasks.splice(ie,1)}},H.opListReadCapability=(0,_util.createPromiseCapability)(),H.renderTasks=[],H.renderTasks.push(G),H.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:a})),H.opListReadCapability.promise}},{key:"streamTextContent",value:function(){var y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=y.normalizeWhitespace,H=void 0!==a&&a,G=y.disableCombineTextItems,ie=void 0!==G&&G,V=100;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,normalizeWhitespace:!0===H,combineTextItems:!0!==ie},{highWaterMark:V,size:function(J){return J.items.length}})}},{key:"getTextContent",value:function(){var y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=this.streamTextContent(y);return new Promise(function(H,G){var V=a.getReader(),oe={items:[],styles:Object.create(null)};!function ie(){V.read().then(function(J){var K,he=J.value;J.done?H(oe):(Object.assign(oe.styles,he.styles),(K=oe.items).push.apply(K,_toConsumableArray(he.items)),ie())},G)}()})}},{key:"_destroy",value:function(){this.destroyed=!0,this._transport.pageCache[this._pageIndex]=null;var H,y=[],a=_createForOfIteratorHelper(this._intentStates);try{for(a.s();!(H=a.n()).done;){var G=_slicedToArray(H.value,2),ie=G[0],V=G[1];if(this._abortOperatorList({intentState:V,reason:new Error("Page was destroyed."),force:!0}),"oplist"!==ie){var J,oe=_createForOfIteratorHelper(V.renderTasks);try{for(oe.s();!(J=oe.n()).done;){var K=J.value;y.push(K.completed),K.cancel()}}catch(he){oe.e(he)}finally{oe.f()}}}}catch(he){a.e(he)}finally{a.f()}return this.objs.clear(),this.annotationsPromise=null,this._jsActionsPromise=null,this.pendingCleanup=!1,Promise.all(y)}},{key:"cleanup",value:function(){var y=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.pendingCleanup=!0,this._tryCleanup(y)}},{key:"_tryCleanup",value:function(){var y=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.pendingCleanup)return!1;var H,a=_createForOfIteratorHelper(this._intentStates.values());try{for(a.s();!(H=a.n()).done;){var G=H.value,ie=G.renderTasks,V=G.operatorList;if(0!==ie.length||!V.lastChunk)return!1}}catch(oe){a.e(oe)}finally{a.f()}return this._intentStates.clear(),this.objs.clear(),this.annotationsPromise=null,this._jsActionsPromise=null,y&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}},{key:"_startRenderPage",value:function(y,a){var H=this._intentStates.get(a);!H||(this._stats&&this._stats.timeEnd("Page Request"),H.displayReadyCapability&&H.displayReadyCapability.resolve(y))}},{key:"_renderPageChunk",value:function(y,a){for(var H=0,G=y.length;H<G;H++)a.operatorList.fnArray.push(y.fnArray[H]),a.operatorList.argsArray.push(y.argsArray[H]);a.operatorList.lastChunk=y.lastChunk;for(var ie=0;ie<a.renderTasks.length;ie++)a.renderTasks[ie].operatorListChanged();y.lastChunk&&this._tryCleanup()}},{key:"_pumpOperatorList",value:function(y){var a=this;(0,_util.assert)(y.intent,'PDFPageProxy._pumpOperatorList: Expected "intent" argument.');var G=this._transport.messageHandler.sendWithStream("GetOperatorList",y).getReader(),ie=this._intentStates.get(y.intent);ie.streamReader=G,function oe(){G.read().then(function(J){var K=J.value;J.done?ie.streamReader=null:a._transport.destroyed||(a._renderPageChunk(K,ie),oe())},function(J){if(ie.streamReader=null,!a._transport.destroyed){if(ie.operatorList){ie.operatorList.lastChunk=!0;for(var K=0;K<ie.renderTasks.length;K++)ie.renderTasks[K].operatorListChanged();a._tryCleanup()}if(ie.displayReadyCapability)ie.displayReadyCapability.reject(J);else{if(!ie.opListReadCapability)throw J;ie.opListReadCapability.reject(J)}}})}()}},{key:"_abortOperatorList",value:function(y){var a=this,H=y.intentState,G=y.reason,ie=y.force,V=void 0!==ie&&ie;if((0,_util.assert)(G instanceof Error||"object"===_typeof(G)&&null!==G,'PDFPageProxy._abortOperatorList: Expected "reason" argument.'),H.streamReader){if(!V){if(0!==H.renderTasks.length)return;if(G instanceof _display_utils.RenderingCancelledException)return void(H.streamReaderCancelTimeout=setTimeout(function(){a._abortOperatorList({intentState:H,reason:G,force:!0}),H.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(H.streamReader.cancel(new _util.AbortException(null==G?void 0:G.message)),H.streamReader=null,!this._transport.destroyed){var J,oe=_createForOfIteratorHelper(this._intentStates);try{for(oe.s();!(J=oe.n()).done;){var K=_slicedToArray(J.value,2);if(K[1]===H){this._intentStates.delete(K[0]);break}}}catch(X){oe.e(X)}finally{oe.f()}this.cleanup()}}}},{key:"pageNumber",get:function(){return this._pageIndex+1}},{key:"rotate",get:function(){return this._pageInfo.rotate}},{key:"ref",get:function(){return this._pageInfo.ref}},{key:"userUnit",get:function(){return this._pageInfo.userUnit}},{key:"view",get:function(){return this._pageInfo.view}},{key:"stats",get:function(){return this._stats}}]),ve}();exports.PDFPageProxy=PDFPageProxy;var LoopbackPort=function(){function ve(){var I=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];_classCallCheck(this,ve),this._listeners=[],this._defer=I,this._deferred=Promise.resolve(void 0)}return _createClass(ve,[{key:"postMessage",value:function(y,a){var H=this;if(this._defer){var ie=new WeakMap,V={data:function G(oe){if("object"!==_typeof(oe)||null===oe)return oe;if(ie.has(oe))return ie.get(oe);var J,K;if((J=oe.buffer)&&(0,_util.isArrayBuffer)(J))return K=null!=a&&a.includes(J)?new oe.constructor(J,oe.byteOffset,oe.byteLength):new oe.constructor(oe),ie.set(oe,K),K;for(var he in K=Array.isArray(oe)?[]:{},ie.set(oe,K),oe){for(var U=void 0,X=oe;!(U=Object.getOwnPropertyDescriptor(X,he));)X=Object.getPrototypeOf(X);if(void 0!==U.value){if("function"==typeof U.value){if(oe.hasOwnProperty&&oe.hasOwnProperty(he))throw new Error("LoopbackPort.postMessage - cannot clone: ".concat(oe[he]));continue}K[he]=G(U.value)}}return K}(y)};this._deferred.then(function(){H._listeners.forEach(function(oe){oe.call(H,V)})})}else this._listeners.forEach(function(oe){oe.call(H,{data:y})})}},{key:"addEventListener",value:function(y,a){this._listeners.push(a)}},{key:"removeEventListener",value:function(y,a){var H=this._listeners.indexOf(a);this._listeners.splice(H,1)}},{key:"terminate",value:function(){this._listeners.length=0}}]),ve}();exports.LoopbackPort=LoopbackPort;var PDFWorker=function(){var pdfWorkerPorts=new WeakMap,isWorkerDisabled=!1,fallbackWorkerSrc,nextFakeWorkerId=0,fakeWorkerCapability;if(_is_node.isNodeJS)isWorkerDisabled=!0,fallbackWorkerSrc="./pdf.worker.js";else if("object"===("undefined"==typeof document?"undefined":_typeof(document))&&"currentScript"in document){var _document$currentScri,pdfjsFilePath=null===(_document$currentScri=document.currentScript)||void 0===_document$currentScri?void 0:_document$currentScri.src;pdfjsFilePath&&(fallbackWorkerSrc=pdfjsFilePath.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}function _getWorkerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(void 0!==fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}function getMainThreadWorkerMessageHandler(){var ve;try{var I;ve=null===(I=globalThis.pdfjsWorker)||void 0===I?void 0:I.WorkerMessageHandler}catch(y){}return ve||null}function setupFakeWorkerGlobal(){if(fakeWorkerCapability)return fakeWorkerCapability.promise;fakeWorkerCapability=(0,_util.createPromiseCapability)();var loader=function(){var _ref12=_asyncToGenerator(_regenerator.default.mark(function _callee(){var mainWorkerMessageHandler,worker;return _regenerator.default.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:if(mainWorkerMessageHandler=getMainThreadWorkerMessageHandler(),!mainWorkerMessageHandler){_context.next=3;break}return _context.abrupt("return",mainWorkerMessageHandler);case 3:if(!_is_node.isNodeJS){_context.next=6;break}return worker=eval("require")(_getWorkerSrc()),_context.abrupt("return",worker.WorkerMessageHandler);case 6:return _context.next=8,(0,_display_utils.loadScript)(_getWorkerSrc());case 8:return _context.abrupt("return",window.pdfjsWorker.WorkerMessageHandler);case 9:case"end":return _context.stop()}},_callee)}));return function(){return _ref12.apply(this,arguments)}}();return loader().then(fakeWorkerCapability.resolve,fakeWorkerCapability.reject),fakeWorkerCapability.promise}function createCDNWrapper(ve){return URL.createObjectURL(new Blob(["importScripts('"+ve+"');"]))}var PDFWorker=function(){function ve(){var I=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},y=I.name,a=void 0===y?null:y,H=I.port,G=void 0===H?null:H,ie=I.verbosity,V=void 0===ie?(0,_util.getVerbosityLevel)():ie;if(_classCallCheck(this,ve),G&&pdfWorkerPorts.has(G))throw new Error("Cannot use more than one PDFWorker per port");if(this.name=a,this.destroyed=!1,this.postMessageTransfers=!0,this.verbosity=V,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,G)return pdfWorkerPorts.set(G,this),void this._initializeFromPort(G);this._initialize()}return _createClass(ve,[{key:"_initializeFromPort",value:function(y){this._port=y,this._messageHandler=new _message_handler.MessageHandler("main","worker",y),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}},{key:"_initialize",value:function(){var y=this;if("undefined"!=typeof Worker&&!isWorkerDisabled&&!getMainThreadWorkerMessageHandler()){var a=_getWorkerSrc();try{(0,_util.isSameOrigin)(window.location.href,a)||(a=createCDNWrapper(new URL(a,window.location).href));var H=new Worker(a),G=new _message_handler.MessageHandler("main","worker",H),ie=function(){H.removeEventListener("error",V),G.destroy(),H.terminate(),y.destroyed?y._readyCapability.reject(new Error("Worker was destroyed")):y._setupFakeWorker()},V=function(){y._webWorker||ie()};H.addEventListener("error",V),G.on("test",function(J){H.removeEventListener("error",V),y.destroyed?ie():J?(y._messageHandler=G,y._port=H,y._webWorker=H,J.supportTransfers||(y.postMessageTransfers=!1),y._readyCapability.resolve(),G.send("configure",{verbosity:y.verbosity})):(y._setupFakeWorker(),G.destroy(),H.terminate())}),G.on("ready",function(J){if(H.removeEventListener("error",V),y.destroyed)ie();else try{oe()}catch(K){y._setupFakeWorker()}});var oe=function(){var K=new Uint8Array([y.postMessageTransfers?255:0]);try{G.send("test",K,[K.buffer])}catch(he){(0,_util.warn)("Cannot use postMessage transfers."),K[0]=0,G.send("test",K)}};return void oe()}catch(J){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}},{key:"_setupFakeWorker",value:function(){var y=this;isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),isWorkerDisabled=!0),setupFakeWorkerGlobal().then(function(a){if(y.destroyed)y._readyCapability.reject(new Error("Worker was destroyed"));else{var H=new LoopbackPort;y._port=H;var G="fake"+nextFakeWorkerId++,ie=new _message_handler.MessageHandler(G+"_worker",G,H);a.setup(ie,H);var V=new _message_handler.MessageHandler(G,G+"_worker",H);y._messageHandler=V,y._readyCapability.resolve(),V.send("configure",{verbosity:y.verbosity})}}).catch(function(a){y._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(a.message,'".')))})}},{key:"destroy",value:function(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),pdfWorkerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}},{key:"promise",get:function(){return this._readyCapability.promise}},{key:"port",get:function(){return this._port}},{key:"messageHandler",get:function(){return this._messageHandler}}],[{key:"fromPort",value:function(y){if(!y||!y.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return pdfWorkerPorts.has(y.port)?pdfWorkerPorts.get(y.port):new ve(y)}},{key:"getWorkerSrc",value:function(){return _getWorkerSrc()}}]),ve}();return PDFWorker}();exports.PDFWorker=PDFWorker;var WorkerTransport=function(){function ve(I,y,a,H){_classCallCheck(this,ve),this.messageHandler=I,this.loadingTask=y,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:y.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:H.ownerDocument}),this._params=H,this.CMapReaderFactory=new H.CMapReaderFactory({baseUrl:H.cMapUrl,isCompressed:H.cMapPacked}),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=a,this._fullReader=null,this._lastProgress=null,this.pageCache=[],this.pagePromises=[],this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}return _createClass(ve,[{key:"destroy",value:function(){var y=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));var a=[];this.pageCache.forEach(function(ie){ie&&a.push(ie._destroy())}),this.pageCache.length=0,this.pagePromises.length=0;var H=this.messageHandler.sendWithPromise("Terminate",null);if(a.push(H),this.loadingTaskSettled){var G=this.loadingTask.promise.then(function(ie){ie.hasOwnProperty("annotationStorage")&&ie.annotationStorage.resetModified()}).catch(function(){});a.push(G)}return Promise.all(a).then(function(){y.commonObjs.clear(),y.fontLoader.clear(),y._hasJSActionsPromise=null,y._networkStream&&y._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),y.messageHandler&&(y.messageHandler.destroy(),y.messageHandler=null),y.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}},{key:"setupMessageHandler",value:function(){var y=this,a=this.messageHandler,H=this.loadingTask;a.on("GetReader",function(G,ie){(0,_util.assert)(y._networkStream,"GetReader - no `IPDFStream` instance available."),y._fullReader=y._networkStream.getFullReader(),y._fullReader.onProgress=function(V){y._lastProgress={loaded:V.loaded,total:V.total}},ie.onPull=function(){y._fullReader.read().then(function(V){var oe=V.value;V.done?ie.close():((0,_util.assert)((0,_util.isArrayBuffer)(oe),"GetReader - expected an ArrayBuffer."),ie.enqueue(new Uint8Array(oe),1,[oe]))}).catch(function(V){ie.error(V)})},ie.onCancel=function(V){y._fullReader.cancel(V),ie.ready.catch(function(oe){if(!y.destroyed)throw oe})}}),a.on("ReaderHeadersReady",function(G){var ie=(0,_util.createPromiseCapability)(),V=y._fullReader;return V.headersReady.then(function(){(!V.isStreamingSupported||!V.isRangeSupported)&&(y._lastProgress&&H.onProgress&&H.onProgress(y._lastProgress),V.onProgress=function(oe){H.onProgress&&H.onProgress({loaded:oe.loaded,total:oe.total})}),ie.resolve({isStreamingSupported:V.isStreamingSupported,isRangeSupported:V.isRangeSupported,contentLength:V.contentLength})},ie.reject),ie.promise}),a.on("GetRangeReader",function(G,ie){(0,_util.assert)(y._networkStream,"GetRangeReader - no `IPDFStream` instance available.");var V=y._networkStream.getRangeReader(G.begin,G.end);V?(ie.onPull=function(){V.read().then(function(oe){var J=oe.value;oe.done?ie.close():((0,_util.assert)((0,_util.isArrayBuffer)(J),"GetRangeReader - expected an ArrayBuffer."),ie.enqueue(new Uint8Array(J),1,[J]))}).catch(function(oe){ie.error(oe)})},ie.onCancel=function(oe){V.cancel(oe),ie.ready.catch(function(J){if(!y.destroyed)throw J})}):ie.close()}),a.on("GetDoc",function(G){var ie=G.pdfInfo;y._numPages=ie.numPages,H._capability.resolve(new PDFDocumentProxy(ie,y))}),a.on("DocException",function(G){var ie;switch(G.name){case"PasswordException":ie=new _util.PasswordException(G.message,G.code);break;case"InvalidPDFException":ie=new _util.InvalidPDFException(G.message);break;case"MissingPDFException":ie=new _util.MissingPDFException(G.message);break;case"UnexpectedResponseException":ie=new _util.UnexpectedResponseException(G.message,G.status);break;case"UnknownErrorException":ie=new _util.UnknownErrorException(G.message,G.details)}ie instanceof Error||(0,_util.warn)("DocException - expected a valid Error."),H._capability.reject(ie)}),a.on("PasswordRequest",function(G){if(y._passwordCapability=(0,_util.createPromiseCapability)(),H.onPassword)try{H.onPassword(function(oe){y._passwordCapability.resolve({password:oe})},G.code)}catch(V){y._passwordCapability.reject(V)}else y._passwordCapability.reject(new _util.PasswordException(G.message,G.code));return y._passwordCapability.promise}),a.on("DataLoaded",function(G){H.onProgress&&H.onProgress({loaded:G.length,total:G.length}),y.downloadInfoCapability.resolve(G)}),a.on("StartRenderPage",function(G){y.destroyed||y.pageCache[G.pageIndex]._startRenderPage(G.transparency,G.intent)}),a.on("commonobj",function(G){var ie;if(!y.destroyed){var V=_slicedToArray(G,3),oe=V[0],J=V[1],K=V[2];if(!y.commonObjs.has(oe))switch(J){case"Font":var he=y._params;if("error"in K){var U=K.error;(0,_util.warn)("Error during font loading: ".concat(U)),y.commonObjs.resolve(oe,U);break}var X=null;he.pdfBug&&null!==(ie=globalThis.FontInspector)&&void 0!==ie&&ie.enabled&&(X={registerFont:function(ce,re){globalThis.FontInspector.fontAdded(ce,re)}});var D=new _font_loader.FontFaceObject(K,{isEvalSupported:he.isEvalSupported,disableFontFace:he.disableFontFace,ignoreErrors:he.ignoreErrors,onUnsupportedFeature:y._onUnsupportedFeature.bind(y),fontRegistry:X});y.fontLoader.bind(D).catch(function(te){return a.sendWithPromise("FontFallback",{id:oe})}).finally(function(){!he.fontExtraProperties&&D.data&&(D.data=null),y.commonObjs.resolve(oe,D)});break;case"FontPath":case"Image":y.commonObjs.resolve(oe,K);break;default:throw new Error("Got unknown common object type ".concat(J))}}}),a.on("obj",function(G){var ie;if(!y.destroyed){var V=_slicedToArray(G,4),oe=V[0],K=V[2],he=V[3],U=y.pageCache[V[1]];if(!U.objs.has(oe))switch(K){case"Image":U.objs.resolve(oe,he),(null==he||null===(ie=he.data)||void 0===ie?void 0:ie.length)>8e6&&(U.cleanupAfterRender=!0);break;default:throw new Error("Got unknown object type ".concat(K))}}}),a.on("DocProgress",function(G){y.destroyed||H.onProgress&&H.onProgress({loaded:G.loaded,total:G.total})}),a.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),a.on("FetchBuiltInCMap",function(G,ie){if(y.destroyed)ie.error(new Error("Worker was destroyed"));else{var V=!1;ie.onPull=function(){V?ie.close():(V=!0,y.CMapReaderFactory.fetch(G).then(function(oe){ie.enqueue(oe,1,[oe.cMapData.buffer])}).catch(function(oe){ie.error(oe)}))}}})}},{key:"_onUnsupportedFeature",value:function(y){this.destroyed||this.loadingTask.onUnsupportedFeature&&this.loadingTask.onUnsupportedFeature(y.featureId)}},{key:"getData",value:function(){return this.messageHandler.sendWithPromise("GetData",null)}},{key:"getPage",value:function(y){var a=this;if(!Number.isInteger(y)||y<=0||y>this._numPages)return Promise.reject(new Error("Invalid page request"));var H=y-1;if(H in this.pagePromises)return this.pagePromises[H];var G=this.messageHandler.sendWithPromise("GetPage",{pageIndex:H}).then(function(ie){if(a.destroyed)throw new Error("Transport destroyed");var V=new PDFPageProxy(H,ie,a,a._params.ownerDocument,a._params.pdfBug);return a.pageCache[H]=V,V});return this.pagePromises[H]=G,G}},{key:"getPageIndex",value:function(y){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:y}).catch(function(a){return Promise.reject(new Error(a))})}},{key:"getAnnotations",value:function(y,a){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:y,intent:a})}},{key:"saveDocument",value:function(y){var a,H;return this.messageHandler.sendWithPromise("SaveDocument",{numPages:this._numPages,annotationStorage:(null==y?void 0:y.getAll())||null,filename:null!==(a=null===(H=this._fullReader)||void 0===H?void 0:H.filename)&&void 0!==a?a:null}).finally(function(){y&&y.resetModified()})}},{key:"getFieldObjects",value:function(){return this.messageHandler.sendWithPromise("GetFieldObjects",null)}},{key:"hasJSActions",value:function(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}},{key:"getCalculationOrderIds",value:function(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}},{key:"getDestinations",value:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)}},{key:"getDestination",value:function(y){return"string"!=typeof y?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:y})}},{key:"getPageLabels",value:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}},{key:"getPageLayout",value:function(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}},{key:"getPageMode",value:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)}},{key:"getViewerPreferences",value:function(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}},{key:"getOpenAction",value:function(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}},{key:"getAttachments",value:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)}},{key:"getJavaScript",value:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}},{key:"getDocJSActions",value:function(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}},{key:"getPageJSActions",value:function(y){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:y})}},{key:"getOutline",value:function(){return this.messageHandler.sendWithPromise("GetOutline",null)}},{key:"getOptionalContentConfig",value:function(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(function(y){return new _optional_content_config.OptionalContentConfig(y)})}},{key:"getPermissions",value:function(){return this.messageHandler.sendWithPromise("GetPermissions",null)}},{key:"getMetadata",value:function(){var y=this;return this.messageHandler.sendWithPromise("GetMetadata",null).then(function(a){var H,G,ie,V;return{info:a[0],metadata:a[1]?new _metadata.Metadata(a[1]):null,contentDispositionFilename:null!==(H=null===(G=y._fullReader)||void 0===G?void 0:G.filename)&&void 0!==H?H:null,contentLength:null!==(ie=null===(V=y._fullReader)||void 0===V?void 0:V.contentLength)&&void 0!==ie?ie:null}})}},{key:"getMarkInfo",value:function(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}},{key:"getStats",value:function(){return this.messageHandler.sendWithPromise("GetStats",null)}},{key:"startCleanup",value:function(){var y=this;return this.messageHandler.sendWithPromise("Cleanup",null).then(function(){for(var a=0,H=y.pageCache.length;a<H;a++){var G=y.pageCache[a];if(G&&!G.cleanup())throw new Error("startCleanup: Page ".concat(a+1," is currently rendering."))}y.commonObjs.clear(),y.fontLoader.clear(),y._hasJSActionsPromise=null})}},{key:"loadingTaskSettled",get:function(){return this.loadingTask._capability.settled}},{key:"loadingParams",get:function(){var y=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:y.disableAutoFetch,disableFontFace:y.disableFontFace})}}]),ve}(),PDFObjects=function(){function ve(){_classCallCheck(this,ve),this._objs=Object.create(null)}return _createClass(ve,[{key:"_ensureObj",value:function(y){return this._objs[y]?this._objs[y]:this._objs[y]={capability:(0,_util.createPromiseCapability)(),data:null,resolved:!1}}},{key:"get",value:function(y){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(a)return this._ensureObj(y).capability.promise.then(a),null;var H=this._objs[y];if(!H||!H.resolved)throw new Error("Requesting object that isn't resolved yet ".concat(y,"."));return H.data}},{key:"has",value:function(y){var a=this._objs[y];return(null==a?void 0:a.resolved)||!1}},{key:"resolve",value:function(y,a){var H=this._ensureObj(y);H.resolved=!0,H.data=a,H.capability.resolve(a)}},{key:"clear",value:function(){this._objs=Object.create(null)}}]),ve}(),RenderTask=function(){function ve(I){_classCallCheck(this,ve),this._internalRenderTask=I,this.onContinue=null}return _createClass(ve,[{key:"cancel",value:function(){this._internalRenderTask.cancel()}},{key:"promise",get:function(){return this._internalRenderTask.capability.promise}}]),ve}(),InternalRenderTask=function(){var I=new WeakSet;return function(){function a(H){var G=H.callback,ie=H.params,V=H.objs,oe=H.commonObjs,J=H.operatorList,K=H.pageIndex,he=H.canvasFactory,U=H.webGLContext,X=H.useRequestAnimationFrame,D=void 0!==X&&X,te=H.pdfBug,ce=void 0!==te&&te;_classCallCheck(this,a),this.callback=G,this.params=ie,this.objs=V,this.commonObjs=oe,this.operatorListIdx=null,this.operatorList=J,this._pageIndex=K,this.canvasFactory=he,this.webGLContext=U,this._pdfBug=ce,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===D&&"undefined"!=typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=ie.canvasContext.canvas}return _createClass(a,[{key:"initializeGraphics",value:function(G){var ie,V=G.transparency,oe=void 0!==V&&V,J=G.optionalContentConfig;if(!this.cancelled){if(this._canvas){if(I.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");I.add(this._canvas)}this._pdfBug&&null!==(ie=globalThis.StepperManager)&&void 0!==ie&&ie.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var K=this.params,U=K.viewport,X=K.transform,te=K.background;this.gfx=new _canvas.CanvasGraphics(K.canvasContext,this.commonObjs,this.objs,this.canvasFactory,this.webGLContext,K.imageLayer,J),this.gfx.beginDrawing({transform:X,viewport:U,transparency:oe,background:te}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}}},{key:"cancel",value:function(){var G=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&I.delete(this._canvas),this.callback(G||new _display_utils.RenderingCancelledException("Rendering cancelled, page ".concat(this._pageIndex+1),"canvas"))}},{key:"operatorListChanged",value:function(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}},{key:"_continue",value:function(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}},{key:"_scheduleNext",value:function(){var G=this;this._useRequestAnimationFrame?window.requestAnimationFrame(function(){G._nextBound().catch(G.cancel.bind(G))}):Promise.resolve().then(this._nextBound).catch(this.cancel.bind(this))}},{key:"_next",value:(H=_asyncToGenerator(_regenerator.default.mark(function ie(){return _regenerator.default.wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:if(!this.cancelled){oe.next=2;break}return oe.abrupt("return");case 2:this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&I.delete(this._canvas),this.callback()));case 4:case"end":return oe.stop()}},ie,this)})),function(){return H.apply(this,arguments)})},{key:"completed",get:function(){return this.capability.promise.catch(function(){})}}]),a;var H}()}(),version="2.7.570";exports.version=version;var build="f2c7338b0";exports.build=build},(ve,I,y)=>{"use strict";function a(C){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(O){return typeof O}:function(O){return O&&"function"==typeof Symbol&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(C)}Object.defineProperty(I,"__esModule",{value:!0}),I.FontLoader=I.FontFaceObject=void 0;var C,H=(C=y(2))&&C.__esModule?C:{default:C},G=y(4);function oe(C,R){return(oe=Object.setPrototypeOf||function(se,ae){return se.__proto__=ae,se})(C,R)}function K(C,R){return!R||"object"!==a(R)&&"function"!=typeof R?function(C){if(void 0===C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}(C):R}function X(C){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(O){return O.__proto__||Object.getPrototypeOf(O)})(C)}function D(C,R,O,se,ae,ue,N){try{var T=C[ue](N),ne=T.value}catch(x){return void O(x)}T.done?R(ne):Promise.resolve(ne).then(se,ae)}function ce(C,R){if(!(C instanceof R))throw new TypeError("Cannot call a class as a function")}function re(C,R){for(var O=0;O<R.length;O++){var se=R[O];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(C,se.key,se)}}function L(C,R,O){return R&&re(C.prototype,R),O&&re(C,O),C}var E,z=function(){function C(R){var O=R.docId,se=R.onUnsupportedFeature,ae=R.ownerDocument,ue=void 0===ae?globalThis.document:ae;ce(this,C),this.constructor===C&&(0,G.unreachable)("Cannot initialize BaseFontLoader."),this.docId=O,this._onUnsupportedFeature=se,this._document=ue,this.nativeFontFaces=[],this.styleElement=null}return L(C,[{key:"addNativeFontFace",value:function(O){this.nativeFontFaces.push(O),this._document.fonts.add(O)}},{key:"insertRule",value:function(O){var se=this.styleElement;se||((se=this.styleElement=this._document.createElement("style")).id="PDFJS_FONT_STYLE_TAG_".concat(this.docId),this._document.documentElement.getElementsByTagName("head")[0].appendChild(se));var ae=se.sheet;ae.insertRule(O,ae.cssRules.length)}},{key:"clear",value:function(){var O=this;this.nativeFontFaces.forEach(function(se){O._document.fonts.delete(se)}),this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}},{key:"bind",value:(R=function(C){return function(){var R=this,O=arguments;return new Promise(function(se,ae){var ue=C.apply(R,O);function N(ne){D(ue,se,ae,N,T,"next",ne)}function T(ne){D(ue,se,ae,N,T,"throw",ne)}N(void 0)})}}(H.default.mark(function se(ae){var N,T,ue=this;return H.default.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(!ae.attached&&!ae.missingFile){x.next=2;break}return x.abrupt("return");case 2:if(ae.attached=!0,!this.isFontLoadingAPISupported){x.next=19;break}if(!(N=ae.createNativeFontFace())){x.next=18;break}return this.addNativeFontFace(N),x.prev=7,x.next=10,N.loaded;case 10:x.next=18;break;case 12:throw x.prev=12,x.t0=x.catch(7),this._onUnsupportedFeature({featureId:G.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,G.warn)("Failed to load font '".concat(N.family,"': '").concat(x.t0,"'.")),ae.disableFontFace=!0,x.t0;case 18:return x.abrupt("return");case 19:if(!(T=ae.createFontFaceRule())){x.next=26;break}if(this.insertRule(T),!this.isSyncFontLoadingSupported){x.next=24;break}return x.abrupt("return");case 24:return x.next=26,new Promise(function(F){var ee=ue._queueLoadingCallback(F);ue._prepareFontLoadEvent([T],[ae],ee)});case 26:case"end":return x.stop()}},se,this,[[7,12]])})),function(se){return R.apply(this,arguments)})},{key:"_queueLoadingCallback",value:function(O){(0,G.unreachable)("Abstract method `_queueLoadingCallback`.")}},{key:"_prepareFontLoadEvent",value:function(O,se,ae){(0,G.unreachable)("Abstract method `_prepareFontLoadEvent`.")}},{key:"isFontLoadingAPISupported",get:function(){var O;return(0,G.shadow)(this,"isFontLoadingAPISupported",!(null===(O=this._document)||void 0===O||!O.fonts))}},{key:"isSyncFontLoadingSupported",get:function(){(0,G.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}},{key:"_loadTestFont",get:function(){(0,G.unreachable)("Abstract method `_loadTestFont`.")}}]),C;var R}();I.FontLoader=E,I.FontLoader=E=function(C){!function(C,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(R&&R.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),R&&oe(C,R)}(O,C);var R=function(C){var R=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(C){return!1}}();return function(){var ae,se=X(C);if(R){var ue=X(this).constructor;ae=Reflect.construct(se,arguments,ue)}else ae=se.apply(this,arguments);return K(this,ae)}}(O);function O(se){var ae;return ce(this,O),(ae=R.call(this,se)).loadingContext={requests:[],nextRequestId:0},ae.loadTestFontId=0,ae}return L(O,[{key:"_queueLoadingCallback",value:function(ae){var N=this.loadingContext,T={id:"pdfjs-font-loading-".concat(N.nextRequestId++),done:!1,complete:function(){for((0,G.assert)(!T.done,"completeRequest() cannot be called twice."),T.done=!0;N.requests.length>0&&N.requests[0].done;){var ne=N.requests.shift();setTimeout(ne.callback,0)}},callback:ae};return N.requests.push(T),T}},{key:"_prepareFontLoadEvent",value:function(ae,ue,N){var T=this;function ne(Le,Oe){return Le.charCodeAt(Oe)<<24|Le.charCodeAt(Oe+1)<<16|Le.charCodeAt(Oe+2)<<8|255&Le.charCodeAt(Oe+3)}function x(Le,Oe,Ze,Ke){return Le.substring(0,Oe)+Ke+Le.substring(Oe+Ze)}var F,ee,M=this._document.createElement("canvas");M.width=1,M.height=1;var P=M.getContext("2d"),Y=0,A="lt".concat(Date.now()).concat(this.loadTestFontId++),Z=this._loadTestFont,de=1482184792,fe=ne(Z=x(Z,976,A.length,A),16);for(F=0,ee=A.length-3;F<ee;F+=4)fe=fe-de+ne(A,F)|0;F<A.length&&(fe=fe-de+ne(A+"XXX",F)|0),Z=x(Z,16,4,(0,G.string32)(fe));var ge="url(data:font/opentype;base64,".concat(btoa(Z),");"),ye='@font-face {font-family:"'.concat(A,'";src:').concat(ge,"}");this.insertRule(ye);var Ce=[];for(F=0,ee=ue.length;F<ee;F++)Ce.push(ue[F].loadedName);Ce.push(A);var Re=this._document.createElement("div");for(Re.style.visibility="hidden",Re.style.width=Re.style.height="10px",Re.style.position="absolute",Re.style.top=Re.style.left="0px",F=0,ee=Ce.length;F<ee;++F){var xe=this._document.createElement("span");xe.textContent="Hi",xe.style.fontFamily=Ce[F],Re.appendChild(xe)}this._document.body.appendChild(Re),function j(Le,Oe){if(++Y>30)return(0,G.warn)("Load test font never loaded."),void Oe();P.font="30px "+Le,P.fillText(".",0,20),P.getImageData(0,0,1,1).data[3]>0?Oe():setTimeout(j.bind(null,Le,Oe))}(A,function(){T._document.body.removeChild(Re),N.complete()})}},{key:"isSyncFontLoadingSupported",get:function(){var ae=!1;if("undefined"==typeof navigator)ae=!0;else{var ue=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(null==ue?void 0:ue[1])>=14&&(ae=!0)}return(0,G.shadow)(this,"isSyncFontLoadingSupported",ae)}},{key:"_loadTestFont",get:function(){return(0,G.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}}]),O}(z),I.FontFaceObject=function(){function C(R,O){var se=O.isEvalSupported,ae=void 0===se||se,ue=O.disableFontFace,N=void 0!==ue&&ue,T=O.ignoreErrors,ne=void 0!==T&&T,x=O.onUnsupportedFeature,F=void 0===x?null:x,ee=O.fontRegistry,M=void 0===ee?null:ee;for(var P in ce(this,C),this.compiledGlyphs=Object.create(null),R)this[P]=R[P];this.isEvalSupported=!1!==ae,this.disableFontFace=!0===N,this.ignoreErrors=!0===ne,this._onUnsupportedFeature=F,this.fontRegistry=M}return L(C,[{key:"createNativeFontFace",value:function(){if(!this.data||this.disableFontFace)return null;var O=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),O}},{key:"createFontFaceRule",value:function(){if(!this.data||this.disableFontFace)return null;var O=(0,G.bytesToString)(new Uint8Array(this.data)),se="url(data:".concat(this.mimetype,";base64,").concat(btoa(O),");"),ae='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(se,"}");return this.fontRegistry&&this.fontRegistry.registerFont(this,se),ae}},{key:"getPathGenerator",value:function(O,se){if(void 0!==this.compiledGlyphs[se])return this.compiledGlyphs[se];var ae,ue;try{ae=O.get(this.loadedName+"_path_"+se)}catch(F){if(!this.ignoreErrors)throw F;return this._onUnsupportedFeature&&this._onUnsupportedFeature({featureId:G.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,G.warn)('getPathGenerator - ignoring character: "'.concat(F,'".')),this.compiledGlyphs[se]=function(ee,M){}}if(this.isEvalSupported&&G.IsEvalSupportedCached.value){for(var N,T="",ne=0,x=ae.length;ne<x;ne++)N=void 0!==(ue=ae[ne]).args?ue.args.join(","):"",T+="c."+ue.cmd+"("+N+");\n";return this.compiledGlyphs[se]=new Function("c","size",T)}return this.compiledGlyphs[se]=function(F,ee){for(var M=0,P=ae.length;M<P;M++)"scale"===(ue=ae[M]).cmd&&(ue.args=[ee,-ee]),F[ue.cmd].apply(F,ue.args)}}}]),C}()},(ve,I,y)=>{"use strict";function a(z){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(B){return typeof B}:function(B){return B&&"function"==typeof Symbol&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B})(z)}Object.defineProperty(I,"__esModule",{value:!0}),I.NodeCMapReaderFactory=I.NodeCanvasFactory=void 0;var H=y(1),G=y(6),ie=y(4);function V(z,E){for(var B=0;B<E.length;B++){var C=E[B];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(z,C.key,C)}}function oe(z,E,B){return E&&V(z.prototype,E),B&&V(z,B),z}function J(z,E){if("function"!=typeof E&&null!==E)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(E&&E.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),E&&K(z,E)}function K(z,E){return(K=Object.setPrototypeOf||function(C,R){return C.__proto__=R,C})(z,E)}function he(z){var E=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(z){return!1}}();return function(){var R,C=te(z);if(E){var O=te(this).constructor;R=Reflect.construct(C,arguments,O)}else R=C.apply(this,arguments);return U(this,R)}}function U(z,E){return!E||"object"!==a(E)&&"function"!=typeof E?function(z){if(void 0===z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}(z):E}function te(z){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(B){return B.__proto__||Object.getPrototypeOf(B)})(z)}function ce(z,E){if(!(z instanceof E))throw new TypeError("Cannot call a class as a function")}var re=function z(){ce(this,z),(0,ie.unreachable)("Not implemented: NodeCanvasFactory")};I.NodeCanvasFactory=re;var L=function z(){ce(this,z),(0,ie.unreachable)("Not implemented: NodeCMapReaderFactory")};I.NodeCMapReaderFactory=L,G.isNodeJS&&(I.NodeCanvasFactory=re=function(z){J(B,z);var E=he(B);function B(){return ce(this,B),E.apply(this,arguments)}return oe(B,[{key:"create",value:function(R,O){if(R<=0||O<=0)throw new Error("Invalid canvas size");var ae=__webpack_require__(2069).createCanvas(R,O);return{canvas:ae,context:ae.getContext("2d")}}}]),B}(H.BaseCanvasFactory),I.NodeCMapReaderFactory=L=function(z){J(B,z);var E=he(B);function B(){return ce(this,B),E.apply(this,arguments)}return oe(B,[{key:"_fetchData",value:function(R,O){return new Promise(function(se,ae){__webpack_require__(6599).readFile(R,function(N,T){!N&&T?se({cMapData:new Uint8Array(T),compressionType:O}):ae(new Error(N))})})}}]),B}(H.BaseCMapReaderFactory))},(ve,I,y)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.AnnotationStorage=void 0;var a=y(4);function H(D,te){return function(D){if(Array.isArray(D))return D}(D)||function(D,te){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(D)){var ce=[],re=!0,L=!1,z=void 0;try{for(var B,E=D[Symbol.iterator]();!(re=(B=E.next()).done)&&(ce.push(B.value),!te||ce.length!==te);re=!0);}catch(C){L=!0,z=C}finally{try{!re&&null!=E.return&&E.return()}finally{if(L)throw z}}return ce}}(D,te)||function(D,te){if(D){if("string"==typeof D)return V(D,te);var ce=Object.prototype.toString.call(D).slice(8,-1);if("Object"===ce&&D.constructor&&(ce=D.constructor.name),"Map"===ce||"Set"===ce)return Array.from(D);if("Arguments"===ce||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ce))return V(D,te)}}(D,te)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(D,te){(null==te||te>D.length)&&(te=D.length);for(var ce=0,re=new Array(te);ce<te;ce++)re[ce]=D[ce];return re}function he(D,te){for(var ce=0;ce<te.length;ce++){var re=te[ce];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty(D,re.key,re)}}I.AnnotationStorage=function(){function D(){(function(D,te){if(!(D instanceof te))throw new TypeError("Cannot call a class as a function")})(this,D),this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}return function(D,te,ce){te&&he(D.prototype,te)}(D,[{key:"getOrCreateValue",value:function(ce,re){return this._storage.has(ce)?this._storage.get(ce):(this._storage.set(ce,re),re)}},{key:"setValue",value:function(ce,re){var L=this._storage.get(ce),z=!1;if(void 0!==L)for(var E=0,B=Object.entries(re);E<B.length;E++){var C=H(B[E],2),R=C[0],O=C[1];L[R]!==O&&(z=!0,L[R]=O)}else this._storage.set(ce,re),z=!0;z&&this._setModified()}},{key:"getAll",value:function(){return 0===this._storage.size?null:(0,a.objectFromEntries)(this._storage)}},{key:"_setModified",value:function(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}},{key:"resetModified",value:function(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}},{key:"size",get:function(){return this._storage.size}}]),D}()},(ve,I,y)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.apiCompatibilityParams=void 0;var a=y(6),H=Object.create(null);a.isNodeJS&&(H.disableFontFace=!0);var G=Object.freeze(H);I.apiCompatibilityParams=G},(ve,I,y)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.CanvasGraphics=void 0;var a=y(4),H=y(141);function G(E){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(C){return typeof C}:function(C){return C&&"function"==typeof Symbol&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(E)}function ie(E,B){var C;if("undefined"==typeof Symbol||null==E[Symbol.iterator]){if(Array.isArray(E)||(C=function(E,B){if(E){if("string"==typeof E)return oe(E,B);var C=Object.prototype.toString.call(E).slice(8,-1);if("Object"===C&&E.constructor&&(C=E.constructor.name),"Map"===C||"Set"===C)return Array.from(E);if("Arguments"===C||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C))return oe(E,B)}}(E))||B&&E&&"number"==typeof E.length){C&&(E=C);var R=0,O=function(){};return{s:O,n:function(){return R>=E.length?{done:!0}:{done:!1,value:E[R++]}},e:function(T){throw T},f:O}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var ue,se=!0,ae=!1;return{s:function(){C=E[Symbol.iterator]()},n:function(){var T=C.next();return se=T.done,T},e:function(T){ae=!0,ue=T},f:function(){try{!se&&null!=C.return&&C.return()}finally{if(ae)throw ue}}}}function oe(E,B){(null==B||B>E.length)&&(B=E.length);for(var C=0,R=new Array(B);C<B;C++)R[C]=E[C];return R}var he=4096,D=16;function te(E){E.mozCurrentTransform||(E._originalSave=E.save,E._originalRestore=E.restore,E._originalRotate=E.rotate,E._originalScale=E.scale,E._originalTranslate=E.translate,E._originalTransform=E.transform,E._originalSetTransform=E.setTransform,E._transformMatrix=E._transformMatrix||[1,0,0,1,0,0],E._transformStack=[],Object.defineProperty(E,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(E,"mozCurrentTransformInverse",{get:function(){var C=this._transformMatrix,R=C[0],O=C[1],se=C[2],ae=C[3],ue=C[4],N=C[5],T=R*ae-O*se,ne=O*se-R*ae;return[ae/T,O/ne,se/ne,R/T,(ae*ue-se*N)/ne,(O*ue-R*N)/T]}}),E.save=function(){var C=this._transformMatrix;this._transformStack.push(C),this._transformMatrix=C.slice(0,6),this._originalSave()},E.restore=function(){var C=this._transformStack.pop();C&&(this._transformMatrix=C,this._originalRestore())},E.translate=function(C,R){var O=this._transformMatrix;O[4]=O[0]*C+O[2]*R+O[4],O[5]=O[1]*C+O[3]*R+O[5],this._originalTranslate(C,R)},E.scale=function(C,R){var O=this._transformMatrix;O[0]=O[0]*C,O[1]=O[1]*C,O[2]=O[2]*R,O[3]=O[3]*R,this._originalScale(C,R)},E.transform=function(C,R,O,se,ae,ue){var N=this._transformMatrix;this._transformMatrix=[N[0]*C+N[2]*R,N[1]*C+N[3]*R,N[0]*O+N[2]*se,N[1]*O+N[3]*se,N[0]*ae+N[2]*ue+N[4],N[1]*ae+N[3]*ue+N[5]],E._originalTransform(C,R,O,se,ae,ue)},E.setTransform=function(C,R,O,se,ae,ue){this._transformMatrix=[C,R,O,se,ae,ue],E._originalSetTransform(C,R,O,se,ae,ue)},E.rotate=function(C){var R=Math.cos(C),O=Math.sin(C),se=this._transformMatrix;this._transformMatrix=[se[0]*R+se[2]*O,se[1]*R+se[3]*O,se[0]*-O+se[2]*R,se[1]*-O+se[3]*R,se[4],se[5]],this._originalRotate(C)})}var ce=function(){function B(C){this.canvasFactory=C,this.cache=Object.create(null)}return B.prototype={getCanvas:function(R,O,se,ae){var ue;return void 0!==this.cache[R]?(this.canvasFactory.reset(ue=this.cache[R],O,se),ue.context.setTransform(1,0,0,1,0,0)):(ue=this.canvasFactory.create(O,se),this.cache[R]=ue),ae&&te(ue.context),ue},clear:function(){for(var R in this.cache)this.canvasFactory.destroy(this.cache[R]),delete this.cache[R]}},B}(),L=function(){function B(){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=a.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=a.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=a.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.resumeSMaskCtx=null,this.transferMaps=null}return B.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(R,O){this.x=R,this.y=O}},B}(),z=function(){function R(A,Z,$,Q,de,fe,ge){this.ctx=A,this.current=new L,this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=Z,this.objs=$,this.canvasFactory=Q,this.webGLContext=de,this.imageLayer=fe,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=ge,this.cachedCanvases=new ce(this.canvasFactory),A&&te(A),this._cachedGetSinglePixelWidth=null}function O(A,Z){var $=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("undefined"!=typeof ImageData&&Z instanceof ImageData)A.putImageData(Z,0,0);else{var xe,Ze,Ke,et,Ne,He,be,Ie,Fe,Q=Z.height,de=Z.width,fe=Q%D,ge=(Q-fe)/D,ye=0===fe?ge:ge+1,Ce=A.createImageData(de,D),Re=0,Le=Z.data,Oe=Ce.data;if($)switch($.length){case 1:He=$[0],be=$[0],Ie=$[0],Fe=$[0];break;case 4:He=$[0],be=$[1],Ie=$[2],Fe=$[3]}if(Z.kind===a.ImageKind.GRAYSCALE_1BPP){var at=Le.byteLength,ot=new Uint32Array(Oe.buffer,0,Oe.byteLength>>2),ct=ot.length,lt=de+7>>3,tt=4294967295,xt=a.IsLittleEndianCached.value?4278190080:255;if(Fe&&255===Fe[0]&&0===Fe[255]){var Mt=[xt,tt];tt=Mt[0],xt=Mt[1]}for(Ze=0;Ze<ye;Ze++){for(et=Ze<ge?D:fe,xe=0,Ke=0;Ke<et;Ke++){for(var qe=at-Re,ft=0,gt=qe>lt?de:8*qe-7,Tt=-8&gt,Ve=0,$e=0;ft<Tt;ft+=8)$e=Le[Re++],ot[xe++]=128&$e?tt:xt,ot[xe++]=64&$e?tt:xt,ot[xe++]=32&$e?tt:xt,ot[xe++]=16&$e?tt:xt,ot[xe++]=8&$e?tt:xt,ot[xe++]=4&$e?tt:xt,ot[xe++]=2&$e?tt:xt,ot[xe++]=1&$e?tt:xt;for(;ft<gt;ft++)0===Ve&&($e=Le[Re++],Ve=128),ot[xe++]=$e&Ve?tt:xt,Ve>>=1}for(;xe<ct;)ot[xe++]=0;A.putImageData(Ce,0,Ze*D)}}else if(Z.kind===a.ImageKind.RGBA_32BPP){var it=!!(He||be||Ie);for(Ke=0,Ne=de*D*4,Ze=0;Ze<ge;Ze++){if(Oe.set(Le.subarray(Re,Re+Ne)),Re+=Ne,it)for(var dt=0;dt<Ne;dt+=4)He&&(Oe[dt+0]=He[Oe[dt+0]]),be&&(Oe[dt+1]=be[Oe[dt+1]]),Ie&&(Oe[dt+2]=Ie[Oe[dt+2]]);A.putImageData(Ce,0,Ke),Ke+=D}if(Ze<ye){if(Oe.set(Le.subarray(Re,Re+(Ne=de*fe*4))),it)for(var Ae=0;Ae<Ne;Ae+=4)He&&(Oe[Ae+0]=He[Oe[Ae+0]]),be&&(Oe[Ae+1]=be[Oe[Ae+1]]),Ie&&(Oe[Ae+2]=Ie[Oe[Ae+2]]);A.putImageData(Ce,0,Ke)}}else{if(Z.kind!==a.ImageKind.RGB_24BPP)throw new Error("bad image kind: ".concat(Z.kind));var De=!!(He||be||Ie);for(Ne=de*(et=D),Ze=0;Ze<ye;Ze++){for(Ze>=ge&&(Ne=de*(et=fe)),xe=0,Ke=Ne;Ke--;)Oe[xe++]=Le[Re++],Oe[xe++]=Le[Re++],Oe[xe++]=Le[Re++],Oe[xe++]=255;if(De)for(var Be=0;Be<xe;Be+=4)He&&(Oe[Be+0]=He[Oe[Be+0]]),be&&(Oe[Be+1]=be[Oe[Be+1]]),Ie&&(Oe[Be+2]=Ie[Oe[Be+2]]);A.putImageData(Ce,0,Ze*D)}}}}function se(A,Z){for(var $=Z.height,Q=Z.width,de=$%D,fe=($-de)/D,ge=0===de?fe:fe+1,ye=A.createImageData(Q,D),Ce=0,Re=Z.data,xe=ye.data,Le=0;Le<ge;Le++){for(var Oe=Le<fe?D:de,Ze=3,Ke=0;Ke<Oe;Ke++)for(var et=void 0,Ne=0,He=0;He<Q;He++)Ne||(et=Re[Ce++],Ne=128),xe[Ze]=et&Ne?0:255,Ze+=4,Ne>>=1;A.putImageData(ye,0,Le*D)}}function ae(A,Z){for(var $=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],Q=0,de=$.length;Q<de;Q++){var fe=$[Q];void 0!==A[fe]&&(Z[fe]=A[fe])}void 0!==A.setLineDash&&(Z.setLineDash(A.getLineDash()),Z.lineDashOffset=A.lineDashOffset)}function ue(A){A.strokeStyle="#000000",A.fillStyle="#000000",A.fillRule="nonzero",A.globalAlpha=1,A.lineWidth=1,A.lineCap="butt",A.lineJoin="miter",A.miterLimit=10,A.globalCompositeOperation="source-over",A.font="10px sans-serif",void 0!==A.setLineDash&&(A.setLineDash([]),A.lineDashOffset=0)}function N(A,Z,$,Q){for(var de=A.length,fe=3;fe<de;fe+=4){var ge=A[fe];if(0===ge)A[fe-3]=Z,A[fe-2]=$,A[fe-1]=Q;else if(ge<255){var ye=255-ge;A[fe-3]=A[fe-3]*ge+Z*ye>>8,A[fe-2]=A[fe-2]*ge+$*ye>>8,A[fe-1]=A[fe-1]*ge+Q*ye>>8}}}function T(A,Z,$){for(var Q=A.length,fe=3;fe<Q;fe+=4)Z[fe]=Z[fe]*($?$[A[fe]]:A[fe])*.00392156862745098|0}function ne(A,Z,$){for(var Q=A.length,de=3;de<Q;de+=4){var fe=77*A[de-3]+152*A[de-2]+28*A[de-1];Z[de]=$?Z[de]*$[fe>>8]>>8:Z[de]*fe>>16}}function F(A,Z,$,Q){var de=Z.canvas,fe=Z.context;A.setTransform(Z.scaleX,0,0,Z.scaleY,Z.offsetX,Z.offsetY);var ge=Z.backdrop||null;if(!Z.transferMap&&Q.isEnabled){var ye=Q.composeSMask({layer:$.canvas,mask:de,properties:{subtype:Z.subtype,backdrop:ge}});return A.setTransform(1,0,0,1,0,0),void A.drawImage(ye,Z.offsetX,Z.offsetY)}(function(A,Z,$,Q,de,fe,ge){var Le,ye=!!fe,Ce=ye?fe[0]:0,Re=ye?fe[1]:0,xe=ye?fe[2]:0;Le="Luminosity"===de?ne:T;for(var Ze=Math.min(Q,Math.ceil(1048576/$)),Ke=0;Ke<Q;Ke+=Ze){var et=Math.min(Ze,Q-Ke),Ne=A.getImageData(0,Ke,$,et),He=Z.getImageData(0,Ke,$,et);ye&&N(Ne.data,Ce,Re,xe),Le(Ne.data,He.data,ge),A.putImageData(He,0,Ke)}})(fe,$,de.width,de.height,Z.subtype,ge,Z.transferMap),A.drawImage(de,0,0)}var ee=["butt","round","square"],M=["miter","round","bevel"],P={},Y={};for(var j in R.prototype={beginDrawing:function(Z){var $=Z.transform,Q=Z.viewport,de=Z.transparency,fe=void 0!==de&&de,ge=Z.background,ye=void 0===ge?null:ge,Ce=this.ctx.canvas.width,Re=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=ye||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,Ce,Re),this.ctx.restore(),fe){var xe=this.cachedCanvases.getCanvas("transparent",Ce,Re,!0);this.compositeCtx=this.ctx,this.transparentCanvas=xe.canvas,this.ctx=xe.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),ue(this.ctx),$&&this.ctx.transform.apply(this.ctx,$),this.ctx.transform.apply(this.ctx,Q.transform),this.baseTransform=this.ctx.mozCurrentTransform.slice(),this._combinedScaleFactor=Math.hypot(this.baseTransform[0],this.baseTransform[2]),this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function(Z,$,Q,de){var fe=Z.argsArray,ge=Z.fnArray,ye=$||0,Ce=fe.length;if(Ce===ye)return ye;for(var Ke,Re=Ce-ye>10&&"function"==typeof Q,xe=Re?Date.now()+15:0,Le=0,Oe=this.commonObjs,Ze=this.objs;;){if(void 0!==de&&ye===de.nextBreakPoint)return de.breakIt(ye,Q),ye;if((Ke=ge[ye])!==a.OPS.dependency)this[Ke].apply(this,fe[ye]);else{var Ne,et=ie(fe[ye]);try{for(et.s();!(Ne=et.n()).done;){var He=Ne.value,be=He.startsWith("g_")?Oe:Ze;if(!be.has(He))return be.get(He,Q),ye}}catch(Ie){et.e(Ie)}finally{et.f()}}if(++ye===Ce)return ye;if(Re&&++Le>10){if(Date.now()>xe)return Q(),ye;Le=0}}},endDrawing:function(){for(;this.stateStack.length||null!==this.current.activeSMask;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.webGLContext.clear(),this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function(Z){this.current.lineWidth=Z,this.ctx.lineWidth=Z},setLineCap:function(Z){this.ctx.lineCap=ee[Z]},setLineJoin:function(Z){this.ctx.lineJoin=M[Z]},setMiterLimit:function(Z){this.ctx.miterLimit=Z},setDash:function(Z,$){var Q=this.ctx;void 0!==Q.setLineDash&&(Q.setLineDash(Z),Q.lineDashOffset=$)},setRenderingIntent:function(Z){},setFlatness:function(Z){},setGState:function(Z){for(var $=0,Q=Z.length;$<Q;$++){var de=Z[$],ge=de[1];switch(de[0]){case"LW":this.setLineWidth(ge);break;case"LC":this.setLineCap(ge);break;case"LJ":this.setLineJoin(ge);break;case"ML":this.setMiterLimit(ge);break;case"D":this.setDash(ge[0],ge[1]);break;case"RI":this.setRenderingIntent(ge);break;case"FL":this.setFlatness(ge);break;case"Font":this.setFont(ge[0],ge[1]);break;case"CA":this.current.strokeAlpha=de[1];break;case"ca":this.current.fillAlpha=de[1],this.ctx.globalAlpha=de[1];break;case"BM":this.ctx.globalCompositeOperation=ge;break;case"SMask":this.current.activeSMask&&(this.stateStack.length>0&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup()),this.current.activeSMask=ge?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null;break;case"TR":this.current.transferMaps=ge}}},beginSMaskGroup:function(){var Z=this.current.activeSMask,fe=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,Z.canvas.width,Z.canvas.height,!0),ge=this.ctx,ye=ge.mozCurrentTransform;this.ctx.save();var Ce=fe.context;Ce.scale(1/Z.scaleX,1/Z.scaleY),Ce.translate(-Z.offsetX,-Z.offsetY),Ce.transform.apply(Ce,ye),Z.startTransformInverse=Ce.mozCurrentTransformInverse,ae(ge,Ce),this.ctx=Ce,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(ge),this.groupLevel++},suspendSMaskGroup:function(){var Z=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),F(this.ctx,this.current.activeSMask,Z,this.webGLContext),this.ctx.restore(),this.ctx.save(),ae(Z,this.ctx),this.current.resumeSMaskCtx=Z;var $=a.Util.transform(this.current.activeSMask.startTransformInverse,Z.mozCurrentTransform);this.ctx.transform.apply(this.ctx,$),Z.save(),Z.setTransform(1,0,0,1,0,0),Z.clearRect(0,0,Z.canvas.width,Z.canvas.height),Z.restore()},resumeSMaskGroup:function(){var $=this.ctx;this.ctx=this.current.resumeSMaskCtx,this.groupStack.push($),this.groupLevel++},endSMaskGroup:function(){var Z=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),F(this.ctx,this.current.activeSMask,Z,this.webGLContext),this.ctx.restore(),ae(Z,this.ctx);var $=a.Util.transform(this.current.activeSMask.startTransformInverse,Z.mozCurrentTransform);this.ctx.transform.apply(this.ctx,$)},save:function(){this.ctx.save();var Z=this.current;this.stateStack.push(Z),this.current=Z.clone(),this.current.resumeSMaskCtx=null},restore:function(){this.current.resumeSMaskCtx&&this.resumeSMaskGroup(),null!==this.current.activeSMask&&(0===this.stateStack.length||this.stateStack[this.stateStack.length-1].activeSMask!==this.current.activeSMask)&&this.endSMaskGroup(),0!==this.stateStack.length?(this.current=this.stateStack.pop(),this.ctx.restore(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null):this.current.activeSMask=null},transform:function(Z,$,Q,de,fe,ge){this.ctx.transform(Z,$,Q,de,fe,ge),this._cachedGetSinglePixelWidth=null},constructPath:function(Z,$){for(var Q=this.ctx,de=this.current,fe=de.x,ge=de.y,ye=0,Ce=0,Re=Z.length;ye<Re;ye++)switch(0|Z[ye]){case a.OPS.rectangle:fe=$[Ce++],ge=$[Ce++];var xe=$[Ce++],Le=$[Ce++],Oe=fe+xe,Ze=ge+Le;Q.moveTo(fe,ge),0===xe||0===Le?Q.lineTo(Oe,Ze):(Q.lineTo(Oe,ge),Q.lineTo(Oe,Ze),Q.lineTo(fe,Ze)),Q.closePath();break;case a.OPS.moveTo:fe=$[Ce++],ge=$[Ce++],Q.moveTo(fe,ge);break;case a.OPS.lineTo:fe=$[Ce++],ge=$[Ce++],Q.lineTo(fe,ge);break;case a.OPS.curveTo:Q.bezierCurveTo($[Ce],$[Ce+1],$[Ce+2],$[Ce+3],fe=$[Ce+4],ge=$[Ce+5]),Ce+=6;break;case a.OPS.curveTo2:Q.bezierCurveTo(fe,ge,$[Ce],$[Ce+1],$[Ce+2],$[Ce+3]),fe=$[Ce+2],ge=$[Ce+3],Ce+=4;break;case a.OPS.curveTo3:Q.bezierCurveTo($[Ce],$[Ce+1],fe=$[Ce+2],ge=$[Ce+3],fe,ge),Ce+=4;break;case a.OPS.closePath:Q.closePath()}de.setCurrentPoint(fe,ge)},closePath:function(){this.ctx.closePath()},stroke:function(Z){Z=void 0===Z||Z;var $=this.ctx,Q=this.current.strokeColor;if($.globalAlpha=this.current.strokeAlpha,this.contentVisible)if("object"===G(Q)&&null!=Q&&Q.getPattern){$.save();var fe=a.Util.singularValueDecompose2dScale($.mozCurrentTransform)[0];$.strokeStyle=Q.getPattern($,this);var ge=this.getSinglePixelWidth(),ye=this.current.lineWidth*fe;ge<0&&-ge>=ye?($.resetTransform(),$.lineWidth=Math.round(this._combinedScaleFactor)):$.lineWidth=Math.max(ge,ye),$.stroke(),$.restore()}else{var Ce=this.getSinglePixelWidth();Ce<0&&-Ce>=this.current.lineWidth?($.save(),$.resetTransform(),$.lineWidth=Math.round(this._combinedScaleFactor),$.stroke(),$.restore()):($.lineWidth=Math.max(Ce,this.current.lineWidth),$.stroke())}Z&&this.consumePath(),$.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath(),this.stroke()},fill:function(Z){Z=void 0===Z||Z;var $=this.ctx,Q=this.current.fillColor,fe=!1;this.current.patternFill&&($.save(),this.baseTransform&&$.setTransform.apply($,this.baseTransform),$.fillStyle=Q.getPattern($,this),fe=!0),this.contentVisible&&(this.pendingEOFill?($.fill("evenodd"),this.pendingEOFill=!1):$.fill()),fe&&$.restore(),Z&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0,this.fill()},fillStroke:function(){this.fill(!1),this.stroke(!1),this.consumePath()},eoFillStroke:function(){this.pendingEOFill=!0,this.fillStroke()},closeFillStroke:function(){this.closePath(),this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()},endPath:function(){this.consumePath()},clip:function(){this.pendingClip=P},eoClip:function(){this.pendingClip=Y},beginText:function(){this.current.textMatrix=a.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},endText:function(){var Z=this.pendingTextPaths,$=this.ctx;if(void 0!==Z){$.save(),$.beginPath();for(var Q=0;Q<Z.length;Q++){var de=Z[Q];$.setTransform.apply($,de.transform),$.translate(de.x,de.y),de.addToPath($,de.fontSize)}$.restore(),$.clip(),$.beginPath(),delete this.pendingTextPaths}else $.beginPath()},setCharSpacing:function(Z){this.current.charSpacing=Z},setWordSpacing:function(Z){this.current.wordSpacing=Z},setHScale:function(Z){this.current.textHScale=Z/100},setLeading:function(Z){this.current.leading=-Z},setFont:function(Z,$){var Q=this.commonObjs.get(Z),de=this.current;if(!Q)throw new Error("Can't find font for ".concat(Z));if(de.fontMatrix=Q.fontMatrix||a.FONT_IDENTITY_MATRIX,(0===de.fontMatrix[0]||0===de.fontMatrix[3])&&(0,a.warn)("Invalid font matrix for font "+Z),$<0?($=-$,de.fontDirection=-1):de.fontDirection=1,this.current.font=Q,this.current.fontSize=$,!Q.isType3Font){var ge="normal";Q.black?ge="900":Q.bold&&(ge="bold");var ye=Q.italic?"italic":"normal",Ce='"'.concat(Q.loadedName||"sans-serif",'", ').concat(Q.fallbackName),Re=$;$<16?Re=16:$>100&&(Re=100),this.current.fontSizeScale=$/Re,this.ctx.font="".concat(ye," ").concat(ge," ").concat(Re,"px ").concat(Ce)}},setTextRenderingMode:function(Z){this.current.textRenderingMode=Z},setTextRise:function(Z){this.current.textRise=Z},moveText:function(Z,$){this.current.x=this.current.lineX+=Z,this.current.y=this.current.lineY+=$},setLeadingMoveText:function(Z,$){this.setLeading(-$),this.moveText(Z,$)},setTextMatrix:function(Z,$,Q,de,fe,ge){this.current.textMatrix=[Z,$,Q,de,fe,ge],this.current.textMatrixScale=Math.sqrt(Z*Z+$*$),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},paintChar:function(Z,$,Q,de,fe){var Ke,ge=this.ctx,ye=this.current,Ce=ye.font,Re=ye.textRenderingMode,xe=ye.fontSize/ye.fontSizeScale,Le=Re&a.TextRenderingMode.FILL_STROKE_MASK,Oe=!!(Re&a.TextRenderingMode.ADD_TO_PATH_FLAG),Ze=ye.patternFill&&!Ce.missingFile;(Ce.disableFontFace||Oe||Ze)&&(Ke=Ce.getPathGenerator(this.commonObjs,Z)),Ce.disableFontFace||Ze?(ge.save(),ge.translate($,Q),ge.beginPath(),Ke(ge,xe),de&&ge.setTransform.apply(ge,de),(Le===a.TextRenderingMode.FILL||Le===a.TextRenderingMode.FILL_STROKE)&&ge.fill(),(Le===a.TextRenderingMode.STROKE||Le===a.TextRenderingMode.FILL_STROKE)&&(fe&&(ge.resetTransform(),ge.lineWidth=Math.round(this._combinedScaleFactor)),ge.stroke()),ge.restore()):((Le===a.TextRenderingMode.FILL||Le===a.TextRenderingMode.FILL_STROKE)&&ge.fillText(Z,$,Q),(Le===a.TextRenderingMode.STROKE||Le===a.TextRenderingMode.FILL_STROKE)&&(fe?(ge.save(),ge.moveTo($,Q),ge.resetTransform(),ge.lineWidth=Math.round(this._combinedScaleFactor),ge.strokeText(Z,0,0),ge.restore()):ge.strokeText(Z,$,Q))),Oe&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:ge.mozCurrentTransform,x:$,y:Q,fontSize:xe,addToPath:Ke})},get isFontSubpixelAAEnabled(){var Z=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10).context;Z.scale(1.5,1),Z.fillText("I",0,10);for(var $=Z.getImageData(0,0,10,10).data,Q=!1,de=3;de<$.length;de+=4)if($[de]>0&&$[de]<255){Q=!0;break}return(0,a.shadow)(this,"isFontSubpixelAAEnabled",Q)},showText:function(Z){var $=this.current,Q=$.font;if(Q.isType3Font)return this.showType3Text(Z);var de=$.fontSize;if(0!==de){var He,fe=this.ctx,ge=$.fontSizeScale,ye=$.charSpacing,Ce=$.wordSpacing,Re=$.fontDirection,xe=$.textHScale*Re,Le=Z.length,Oe=Q.vertical,Ze=Oe?1:-1,Ke=Q.defaultVMetrics,et=de*$.fontMatrix[0],Ne=$.textRenderingMode===a.TextRenderingMode.FILL&&!Q.disableFontFace&&!$.patternFill;if(fe.save(),$.patternFill){fe.save();var be=$.fillColor.getPattern(fe,this);He=fe.mozCurrentTransform,fe.restore(),fe.fillStyle=be}fe.transform.apply(fe,$.textMatrix),fe.translate($.x,$.y+$.textRise),fe.scale(xe,Re>0?-1:1);var Ie=$.lineWidth,Fe=!1,at=$.textMatrixScale;if(0===at||0===Ie){var ot=$.textRenderingMode&a.TextRenderingMode.FILL_STROKE_MASK;(ot===a.TextRenderingMode.STROKE||ot===a.TextRenderingMode.FILL_STROKE)&&(this._cachedGetSinglePixelWidth=null,Fe=(Ie=this.getSinglePixelWidth())<0)}else Ie/=at;1!==ge&&(fe.scale(ge,ge),Ie/=ge),fe.lineWidth=Ie;var lt,ct=0;for(lt=0;lt<Le;++lt){var tt=Z[lt];if((0,a.isNum)(tt))ct+=Ze*tt*de/1e3;else{var xt=!1,Mt=(tt.isSpace?Ce:0)+ye,qe=tt.fontChar,ft=tt.accent,gt=void 0,Tt=void 0,Ve=tt.width;if(Oe){var $e=tt.vmetric||Ke,it=-(tt.vmetric?$e[1]:.5*Ve)*et;Ve=$e?-$e[0]:Ve,gt=it/ge,Tt=(ct+$e[2]*et)/ge}else gt=ct/ge,Tt=0;if(Q.remeasure&&Ve>0){var Ae=1e3*fe.measureText(qe).width/de*ge;if(Ve<Ae&&this.isFontSubpixelAAEnabled){var De=Ve/Ae;xt=!0,fe.save(),fe.scale(De,1),gt/=De}else Ve!==Ae&&(gt+=(Ve-Ae)/2e3*de/ge)}this.contentVisible&&(tt.isInFont||Q.missingFile)&&(Ne&&!ft?fe.fillText(qe,gt,Tt):(this.paintChar(qe,gt,Tt,He,Fe),ft&&this.paintChar(ft.fontChar,gt+de*ft.offset.x/ge,Tt-de*ft.offset.y/ge,He,Fe))),ct+=Oe?Ve*et-Mt*Re:Ve*et+Mt*Re,xt&&fe.restore()}}Oe?$.y-=ct:$.x+=ct*xe,fe.restore()}},showType3Text:function(Z){var Ke,et,Ne,He,$=this.ctx,Q=this.current,de=Q.font,fe=Q.fontSize,ge=Q.fontDirection,ye=de.vertical?1:-1,Ce=Q.charSpacing,Re=Q.wordSpacing,xe=Q.textHScale*ge,Le=Q.fontMatrix||a.FONT_IDENTITY_MATRIX,Oe=Z.length;if(Q.textRenderingMode!==a.TextRenderingMode.INVISIBLE&&0!==fe){for(this._cachedGetSinglePixelWidth=null,$.save(),$.transform.apply($,Q.textMatrix),$.translate(Q.x,Q.y),$.scale(xe,ge),Ke=0;Ke<Oe;++Ke)if((0,a.isNum)(et=Z[Ke]))this.ctx.translate(He=ye*et*fe/1e3,0),Q.x+=He*xe;else{var be=(et.isSpace?Re:0)+Ce,Ie=de.charProcOperatorList[et.operatorListId];if(Ie){this.contentVisible&&(this.processingType3=et,this.save(),$.scale(fe,fe),$.transform.apply($,Le),this.executeOperatorList(Ie),this.restore());var Fe=a.Util.applyTransform([et.width,0],Le);$.translate(Ne=Fe[0]*fe+be,0),Q.x+=Ne*xe}else(0,a.warn)('Type3 character "'.concat(et.operatorListId,'" is not available.'))}$.restore(),this.processingType3=null}},setCharWidth:function(Z,$){},setCharWidthAndBounds:function(Z,$,Q,de,fe,ge){this.ctx.rect(Q,de,fe-Q,ge-de),this.clip(),this.endPath()},getColorN_Pattern:function(Z){var Q,$=this;if("TilingPattern"===Z[0]){var de=Z[1],fe=this.baseTransform||this.ctx.mozCurrentTransform.slice();Q=new H.TilingPattern(Z,de,this.ctx,{createCanvasGraphics:function(Ce){return new R(Ce,$.commonObjs,$.objs,$.canvasFactory,$.webGLContext)}},fe)}else Q=(0,H.getShadingPatternFromIR)(Z);return Q},setStrokeColorN:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0},setStrokeRGBColor:function(Z,$,Q){var de=a.Util.makeHexColor(Z,$,Q);this.ctx.strokeStyle=de,this.current.strokeColor=de},setFillRGBColor:function(Z,$,Q){var de=a.Util.makeHexColor(Z,$,Q);this.ctx.fillStyle=de,this.current.fillColor=de,this.current.patternFill=!1},shadingFill:function(Z){if(this.contentVisible){var $=this.ctx;this.save();var Q=(0,H.getShadingPatternFromIR)(Z);$.fillStyle=Q.getPattern($,this,!0);var de=$.mozCurrentTransformInverse;if(de){var fe=$.canvas,ge=fe.width,ye=fe.height,Ce=a.Util.applyTransform([0,0],de),Re=a.Util.applyTransform([0,ye],de),xe=a.Util.applyTransform([ge,0],de),Le=a.Util.applyTransform([ge,ye],de),Oe=Math.min(Ce[0],Re[0],xe[0],Le[0]),Ze=Math.min(Ce[1],Re[1],xe[1],Le[1]),Ke=Math.max(Ce[0],Re[0],xe[0],Le[0]),et=Math.max(Ce[1],Re[1],xe[1],Le[1]);this.ctx.fillRect(Oe,Ze,Ke-Oe,et-Ze)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.restore()}},beginInlineImage:function(){(0,a.unreachable)("Should not call beginInlineImage")},beginImageData:function(){(0,a.unreachable)("Should not call beginImageData")},paintFormXObjectBegin:function(Z,$){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(Z)&&6===Z.length&&this.transform.apply(this,Z),this.baseTransform=this.ctx.mozCurrentTransform,$)&&(this.ctx.rect($[0],$[1],$[2]-$[0],$[3]-$[1]),this.clip(),this.endPath())},paintFormXObjectEnd:function(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())},beginGroup:function(Z){if(this.contentVisible){this.save();var $=this.ctx;Z.isolated||(0,a.info)("TODO: Support non-isolated groups."),Z.knockout&&(0,a.warn)("Knockout groups not supported.");var Q=$.mozCurrentTransform;if(Z.matrix&&$.transform.apply($,Z.matrix),!Z.bbox)throw new Error("Bounding box is required.");var de=a.Util.getAxialAlignedBoundingBox(Z.bbox,$.mozCurrentTransform);de=a.Util.intersect(de,[0,0,$.canvas.width,$.canvas.height])||[0,0,0,0];var ge=Math.floor(de[0]),ye=Math.floor(de[1]),Ce=Math.max(Math.ceil(de[2])-ge,1),Re=Math.max(Math.ceil(de[3])-ye,1),xe=1,Le=1;Ce>he&&(xe=Ce/he,Ce=he),Re>he&&(Le=Re/he,Re=he);var Oe="groupAt"+this.groupLevel;Z.smask&&(Oe+="_smask_"+this.smaskCounter++%2);var Ze=this.cachedCanvases.getCanvas(Oe,Ce,Re,!0),Ke=Ze.context;Ke.scale(1/xe,1/Le),Ke.translate(-ge,-ye),Ke.transform.apply(Ke,Q),Z.smask?this.smaskStack.push({canvas:Ze.canvas,context:Ke,offsetX:ge,offsetY:ye,scaleX:xe,scaleY:Le,subtype:Z.smask.subtype,backdrop:Z.smask.backdrop,transferMap:Z.smask.transferMap||null,startTransformInverse:null}):($.setTransform(1,0,0,1,0,0),$.translate(ge,ye),$.scale(xe,Le)),ae($,Ke),this.ctx=Ke,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push($),this.groupLevel++,this.current.activeSMask=null}},endGroup:function(Z){if(this.contentVisible){this.groupLevel--;var $=this.ctx;this.ctx=this.groupStack.pop(),void 0!==this.ctx.imageSmoothingEnabled?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1,Z.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage($.canvas,0,0),this.restore()}},beginAnnotations:function(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)},endAnnotations:function(){this.restore()},beginAnnotation:function(Z,$,Q){this.save(),ue(this.ctx),this.current=new L,Array.isArray(Z)&&4===Z.length&&(this.ctx.rect(Z[0],Z[1],Z[2]-Z[0],Z[3]-Z[1]),this.clip(),this.endPath()),this.transform.apply(this,$),this.transform.apply(this,Q)},endAnnotation:function(){this.restore()},paintImageMaskXObject:function(Z){if(this.contentVisible){var $=this.ctx,Q=Z.width,de=Z.height,fe=this.current.fillColor,ge=this.current.patternFill,ye=this.processingType3;if(ye&&void 0===ye.compiled&&(ye.compiled=Q<=1e3&&de<=1e3?function(E){var se,ae,ue,N,C=E.width,R=E.height,O=C+1,T=new Uint8Array(O*(R+1)),ne=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),x=C+7&-8,F=E.data,ee=new Uint8Array(x*R),M=0;for(se=0,ae=F.length;se<ae;se++)for(var P=F[se],Y=128;Y>0;)ee[M++]=P&Y?0:255,Y>>=1;var j=0;for(0!==ee[M=0]&&(T[0]=1,++j),ue=1;ue<C;ue++)ee[M]!==ee[M+1]&&(T[ue]=ee[M]?2:1,++j),M++;for(0!==ee[M]&&(T[ue]=2,++j),se=1;se<R;se++){N=se*O,ee[(M=se*x)-x]!==ee[M]&&(T[N]=ee[M]?1:8,++j);var A=(ee[M]?4:0)+(ee[M-x]?8:0);for(ue=1;ue<C;ue++)ne[A=(A>>2)+(ee[M+1]?4:0)+(ee[M-x+1]?8:0)]&&(T[N+ue]=ne[A],++j),M++;if(ee[M-x]!==ee[M]&&(T[N+ue]=ee[M]?2:4,++j),j>1e3)return null}for(N=se*O,0!==ee[M=x*(R-1)]&&(T[N]=8,++j),ue=1;ue<C;ue++)ee[M]!==ee[M+1]&&(T[N+ue]=ee[M]?4:8,++j),M++;if(0!==ee[M]&&(T[N+ue]=4,++j),j>1e3)return null;var Z=new Int32Array([0,O,-1,0,-O,0,0,0,1]),$=[];for(se=0;j&&se<=R;se++){for(var Q=se*O,de=Q+C;Q<de&&!T[Q];)Q++;if(Q!==de){var fe=[Q%O,se],ge=Q,ye=T[Q];do{var Ce=Z[ye];do{Q+=Ce}while(!T[Q]);var Re=T[Q];5!==Re&&10!==Re?(ye=Re,T[Q]=0):T[Q]&=(ye=Re&51*ye>>4)>>2|ye<<2,fe.push(Q%O),fe.push(Q/O|0),T[Q]||--j}while(ge!==Q);$.push(fe),--se}}return function(Oe){Oe.save(),Oe.scale(1/C,-1/R),Oe.translate(0,-R),Oe.beginPath();for(var Ze=0,Ke=$.length;Ze<Ke;Ze++){var et=$[Ze];Oe.moveTo(et[0],et[1]);for(var Ne=2,He=et.length;Ne<He;Ne+=2)Oe.lineTo(et[Ne],et[Ne+1])}Oe.fill(),Oe.beginPath(),Oe.restore()}}({data:Z.data,width:Q,height:de}):null),null!=ye&&ye.compiled)return void ye.compiled($);var Ce=this.cachedCanvases.getCanvas("maskCanvas",Q,de),Re=Ce.context;Re.save(),se(Re,Z),Re.globalCompositeOperation="source-in",Re.fillStyle=ge?fe.getPattern(Re,this):fe,Re.fillRect(0,0,Q,de),Re.restore(),this.paintInlineImageXObject(Ce.canvas)}},paintImageMaskXObjectRepeat:function(Z,$){var Q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,de=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,fe=arguments.length>4?arguments[4]:void 0,ge=arguments.length>5?arguments[5]:void 0;if(this.contentVisible){var ye=Z.width,Ce=Z.height,Re=this.current.fillColor,xe=this.current.patternFill,Le=this.cachedCanvases.getCanvas("maskCanvas",ye,Ce),Oe=Le.context;Oe.save(),se(Oe,Z),Oe.globalCompositeOperation="source-in",Oe.fillStyle=xe?Re.getPattern(Oe,this):Re,Oe.fillRect(0,0,ye,Ce),Oe.restore();for(var Ze=this.ctx,Ke=0,et=ge.length;Ke<et;Ke+=2)Ze.save(),Ze.transform($,Q,de,fe,ge[Ke],ge[Ke+1]),Ze.scale(1,-1),Ze.drawImage(Le.canvas,0,0,ye,Ce,0,-1,1,1),Ze.restore()}},paintImageMaskXObjectGroup:function(Z){if(this.contentVisible)for(var $=this.ctx,Q=this.current.fillColor,de=this.current.patternFill,fe=0,ge=Z.length;fe<ge;fe++){var ye=Z[fe],Ce=ye.width,Re=ye.height,xe=this.cachedCanvases.getCanvas("maskCanvas",Ce,Re),Le=xe.context;Le.save(),se(Le,ye),Le.globalCompositeOperation="source-in",Le.fillStyle=de?Q.getPattern(Le,this):Q,Le.fillRect(0,0,Ce,Re),Le.restore(),$.save(),$.transform.apply($,ye.transform),$.scale(1,-1),$.drawImage(xe.canvas,0,0,Ce,Re,0,-1,1,1),$.restore()}},paintImageXObject:function(Z){if(this.contentVisible){var $=Z.startsWith("g_")?this.commonObjs.get(Z):this.objs.get(Z);if(!$)return void(0,a.warn)("Dependent image isn't ready yet");this.paintInlineImageXObject($)}},paintImageXObjectRepeat:function(Z,$,Q,de){if(this.contentVisible){var fe=Z.startsWith("g_")?this.commonObjs.get(Z):this.objs.get(Z);if(!fe)return void(0,a.warn)("Dependent image isn't ready yet");for(var ge=fe.width,ye=fe.height,Ce=[],Re=0,xe=de.length;Re<xe;Re+=2)Ce.push({transform:[$,0,0,Q,de[Re],de[Re+1]],x:0,y:0,w:ge,h:ye});this.paintInlineImageXObjectGroup(fe,Ce)}},paintInlineImageXObject:function(Z){if(this.contentVisible){var $=Z.width,Q=Z.height,de=this.ctx;this.save(),de.scale(1/$,-1/Q);var Oe,Ze,Ke,fe=de.mozCurrentTransformInverse,ge=fe[0],ye=fe[1],Ce=Math.max(Math.sqrt(ge*ge+ye*ye),1),Re=fe[2],xe=fe[3],Le=Math.max(Math.sqrt(Re*Re+xe*xe),1);"function"==typeof HTMLElement&&Z instanceof HTMLElement||!Z.data?Oe=Z:(O(Ke=(Ze=this.cachedCanvases.getCanvas("inlineImage",$,Q)).context,Z,this.current.transferMaps),Oe=Ze.canvas);for(var et=$,Ne=Q,He="prescale1";Ce>2&&et>1||Le>2&&Ne>1;){var be=et,Ie=Ne;Ce>2&&et>1&&(Ce/=et/(be=Math.ceil(et/2))),Le>2&&Ne>1&&(Le/=Ne/(Ie=Math.ceil(Ne/2))),(Ke=(Ze=this.cachedCanvases.getCanvas(He,be,Ie)).context).clearRect(0,0,be,Ie),Ke.drawImage(Oe,0,0,et,Ne,0,0,be,Ie),Oe=Ze.canvas,et=be,Ne=Ie,He="prescale1"===He?"prescale2":"prescale1"}if(de.drawImage(Oe,0,0,et,Ne,0,-Q,$,Q),this.imageLayer){var Fe=this.getCanvasPosition(0,-Q);this.imageLayer.appendImage({imgData:Z,left:Fe[0],top:Fe[1],width:$/fe[0],height:Q/fe[3]})}this.restore()}},paintInlineImageXObjectGroup:function(Z,$){if(this.contentVisible){var Q=this.ctx,de=Z.width,fe=Z.height,ge=this.cachedCanvases.getCanvas("inlineImage",de,fe);O(ge.context,Z,this.current.transferMaps);for(var Ce=0,Re=$.length;Ce<Re;Ce++){var xe=$[Ce];if(Q.save(),Q.transform.apply(Q,xe.transform),Q.scale(1,-1),Q.drawImage(ge.canvas,xe.x,xe.y,xe.w,xe.h,0,-1,1,1),this.imageLayer){var Le=this.getCanvasPosition(xe.x,xe.y);this.imageLayer.appendImage({imgData:Z,left:Le[0],top:Le[1],width:de,height:fe})}Q.restore()}}},paintSolidColorImageMask:function(){!this.contentVisible||this.ctx.fillRect(0,0,1,1)},markPoint:function(Z){},markPointProps:function(Z,$){},beginMarkedContent:function(Z){this.markedContentStack.push({visible:!0})},beginMarkedContentProps:function(Z,$){this.markedContentStack.push("OC"===Z?{visible:this.optionalContentConfig.isVisible($)}:{visible:!0}),this.contentVisible=this.isContentVisible()},endMarkedContent:function(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()},beginCompat:function(){},endCompat:function(){},consumePath:function(){var Z=this.ctx;this.pendingClip&&(this.pendingClip===Y?Z.clip("evenodd"):Z.clip(),this.pendingClip=null),Z.beginPath()},getSinglePixelWidth:function(){if(null===this._cachedGetSinglePixelWidth){var Z=this.ctx.mozCurrentTransform,$=Math.abs(Z[0]*Z[3]-Z[2]*Z[1]),Q=Math.pow(Z[0],2)+Math.pow(Z[2],2),de=Math.pow(Z[1],2)+Math.pow(Z[3],2),fe=Math.sqrt(Math.max(Q,de))/$;this._cachedGetSinglePixelWidth=Q!==de&&this._combinedScaleFactor*fe>1?-this._combinedScaleFactor*fe:$>Number.EPSILON?1.0000001*fe:1}return this._cachedGetSinglePixelWidth},getCanvasPosition:function(Z,$){var Q=this.ctx.mozCurrentTransform;return[Q[0]*Z+Q[2]*$+Q[4],Q[1]*Z+Q[3]*$+Q[5]]},isContentVisible:function(){for(var Z=this.markedContentStack.length-1;Z>=0;Z--)if(!this.markedContentStack[Z].visible)return!1;return!0}},a.OPS)R.prototype[a.OPS[j]]=R.prototype[j];return R}();I.CanvasGraphics=z},(ve,I,y)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.getShadingPatternFromIR=function(J){var K=H[J[0]];if(!K)throw new Error("Unknown IR type: ".concat(J[0]));return K.fromIR(J)},I.TilingPattern=void 0;var a=y(4),H={};function G(J,K){if(K&&"undefined"!=typeof Path2D){var he=K[2]-K[0],U=K[3]-K[1],X=new Path2D;X.rect(K[0],K[1],he,U),J.clip(X)}}H.RadialAxial={fromIR:function(K){var he=K[1],U=K[2],X=K[3],D=K[4],te=K[5],ce=K[6],re=K[7];return{getPattern:function(z){var E;G(z,U),"axial"===he?E=z.createLinearGradient(D[0],D[1],te[0],te[1]):"radial"===he&&(E=z.createRadialGradient(D[0],D[1],ce,te[0],te[1],re));for(var B=0,C=X.length;B<C;++B){var R=X[B];E.addColorStop(R[0],R[1])}return E}}}};var ie=function(){function K(X,D,te,ce,re,L,z,E){var se,B=D.coords,C=D.colors,R=X.data,O=4*X.width;B[te+1]>B[ce+1]&&(se=te,te=ce,ce=se,se=L,L=z,z=se),B[ce+1]>B[re+1]&&(se=ce,ce=re,re=se,se=z,z=E,E=se),B[te+1]>B[ce+1]&&(se=te,te=ce,ce=se,se=L,L=z,z=se);var ae=(B[te]+D.offsetX)*D.scaleX,ue=(B[te+1]+D.offsetY)*D.scaleY,N=(B[ce]+D.offsetX)*D.scaleX,T=(B[ce+1]+D.offsetY)*D.scaleY,ne=(B[re]+D.offsetX)*D.scaleX,x=(B[re+1]+D.offsetY)*D.scaleY;if(!(ue>=x))for(var fe,ge,ye,Ce,Re,xe,Le,Oe,F=C[L],ee=C[L+1],M=C[L+2],P=C[z],Y=C[z+1],j=C[z+2],A=C[E],Z=C[E+1],$=C[E+2],Q=Math.round(ue),de=Math.round(x),Ze=Q;Ze<=de;Ze++){if(Ze<T){var Ke;fe=ae-(ae-N)*(Ke=Ze<ue?0:ue===T?1:(ue-Ze)/(ue-T)),ge=F-(F-P)*Ke,ye=ee-(ee-Y)*Ke,Ce=M-(M-j)*Ke}else{var et;fe=N-(N-ne)*(et=Ze>x?1:T===x?0:(T-Ze)/(T-x)),ge=P-(P-A)*et,ye=Y-(Y-Z)*et,Ce=j-(j-$)*et}var Ne=void 0;Re=ae-(ae-ne)*(Ne=Ze<ue?0:Ze>x?1:(ue-Ze)/(ue-x)),xe=F-(F-A)*Ne,Le=ee-(ee-Z)*Ne,Oe=M-(M-$)*Ne;for(var He=Math.round(Math.min(fe,Re)),be=Math.round(Math.max(fe,Re)),Ie=O*Ze+4*He,Fe=He;Fe<=be;Fe++)(Ne=(fe-Fe)/(fe-Re))<0?Ne=0:Ne>1&&(Ne=1),R[Ie++]=ge-(ge-xe)*Ne|0,R[Ie++]=ye-(ye-Le)*Ne|0,R[Ie++]=Ce-(Ce-Oe)*Ne|0,R[Ie++]=255}}function he(X,D,te){var L,z,ce=D.coords,re=D.colors;switch(D.type){case"lattice":var E=D.verticesPerRow,B=Math.floor(ce.length/E)-1,C=E-1;for(L=0;L<B;L++)for(var R=L*E,O=0;O<C;O++,R++)K(X,te,ce[R],ce[R+1],ce[R+E],re[R],re[R+1],re[R+E]),K(X,te,ce[R+E+1],ce[R+1],ce[R+E],re[R+E+1],re[R+1],re[R+E]);break;case"triangles":for(L=0,z=ce.length;L<z;L+=3)K(X,te,ce[L],ce[L+1],ce[L+2],re[L],re[L+1],re[L+2]);break;default:throw new Error("illegal figure")}}return function(X,D,te,ce,re,L,z,E){var P,Y,j,A,O=Math.floor(X[0]),se=Math.floor(X[1]),ae=Math.ceil(X[2])-O,ue=Math.ceil(X[3])-se,N=Math.min(Math.ceil(Math.abs(ae*D[0]*1.1)),3e3),T=Math.min(Math.ceil(Math.abs(ue*D[1]*1.1)),3e3),ne=ae/N,x=ue/T,F={coords:te,colors:ce,offsetX:-O,offsetY:-se,scaleX:1/ne,scaleY:1/x},ee=N+4,M=T+4;if(E.isEnabled)P=E.drawFigures({width:N,height:T,backgroundColor:L,figures:re,context:F}),(Y=z.getCanvas("mesh",ee,M,!1)).context.drawImage(P,2,2),P=Y.canvas;else{var Z=(Y=z.getCanvas("mesh",ee,M,!1)).context,$=Z.createImageData(N,T);if(L){var Q=$.data;for(j=0,A=Q.length;j<A;j+=4)Q[j]=L[0],Q[j+1]=L[1],Q[j+2]=L[2],Q[j+3]=255}for(j=0;j<re.length;j++)he($,re[j],F);Z.putImageData($,2,2),P=Y.canvas}return{canvas:P,offsetX:O-2*ne,offsetY:se-2*x,scaleX:ne,scaleY:x}}}();H.Mesh={fromIR:function(K){var he=K[2],U=K[3],X=K[4],D=K[5],te=K[6],ce=K[7],re=K[8];return{getPattern:function(z,E,B){var C;if(G(z,ce),B)C=a.Util.singularValueDecompose2dScale(z.mozCurrentTransform);else if(C=a.Util.singularValueDecompose2dScale(E.baseTransform),te){var R=a.Util.singularValueDecompose2dScale(te);C=[C[0]*R[0],C[1]*R[1]]}var O=ie(D,C,he,U,X,B?null:re,E.cachedCanvases,E.webGLContext);return B||(z.setTransform.apply(z,E.baseTransform),te&&z.transform.apply(z,te)),z.translate(O.offsetX,O.offsetY),z.scale(O.scaleX,O.scaleY),z.createPattern(O.canvas,"no-repeat")}}}},H.Dummy={fromIR:function(){return{getPattern:function(){return"hotpink"}}}};var oe=function(){function U(X,D,te,ce,re){this.operatorList=X[2],this.matrix=X[3]||[1,0,0,1,0,0],this.bbox=X[4],this.xstep=X[5],this.ystep=X[6],this.paintType=X[7],this.tilingType=X[8],this.color=D,this.canvasGraphicsFactory=ce,this.baseTransform=re,this.ctx=te}return U.prototype={createPatternCanvas:function(D){var te=this.operatorList,ce=this.bbox,re=this.xstep,L=this.ystep,z=this.paintType,B=this.color,C=this.canvasGraphicsFactory;(0,a.info)("TilingType: "+this.tilingType);var R=ce[0],O=ce[1],se=ce[2],ae=ce[3],ue=a.Util.singularValueDecompose2dScale(this.matrix),N=a.Util.singularValueDecompose2dScale(this.baseTransform),T=[ue[0]*N[0],ue[1]*N[1]],ne=this.getSizeAndScale(re,this.ctx.canvas.width,T[0]),x=this.getSizeAndScale(L,this.ctx.canvas.height,T[1]),F=D.cachedCanvases.getCanvas("pattern",ne.size,x.size,!0),M=C.createCanvasGraphics(F.context);return M.groupLevel=D.groupLevel,this.setFillAndStrokeStyleToContext(M,z,B),M.transform(ne.scale,0,0,x.scale,0,0),M.transform(1,0,0,1,-R,-O),this.clipBbox(M,ce,R,O,se,ae),M.executeOperatorList(te),this.ctx.transform(1,0,0,1,R,O),this.ctx.scale(1/ne.scale,1/x.scale),F.canvas},getSizeAndScale:function(D,te,ce){D=Math.abs(D);var re=Math.max(3e3,te),L=Math.ceil(D*ce);return L>=re?L=re:ce=L/D,{scale:ce,size:L}},clipBbox:function(D,te,ce,re,L,z){Array.isArray(te)&&4===te.length&&(D.ctx.rect(ce,re,L-ce,z-re),D.clip(),D.endPath())},setFillAndStrokeStyleToContext:function(D,te,ce){var re=D.ctx,L=D.current;switch(te){case 1:var z=this.ctx;re.fillStyle=z.fillStyle,re.strokeStyle=z.strokeStyle,L.fillColor=z.fillStyle,L.strokeColor=z.strokeStyle;break;case 2:var E=a.Util.makeHexColor(ce[0],ce[1],ce[2]);re.fillStyle=E,re.strokeStyle=E,L.fillColor=E,L.strokeColor=E;break;default:throw new a.FormatError("Unsupported paint type: ".concat(te))}},getPattern:function(D,te){(D=this.ctx).setTransform.apply(D,this.baseTransform),D.transform.apply(D,this.matrix);var ce=this.createPatternCanvas(te);return D.createPattern(ce,"repeat")}},U}();I.TilingPattern=oe},(ve,I)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.GlobalWorkerOptions=void 0;var y=Object.create(null);I.GlobalWorkerOptions=y,y.workerPort=void 0===y.workerPort?null:y.workerPort,y.workerSrc=void 0===y.workerSrc?"":y.workerSrc},(ve,I,y)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.MessageHandler=void 0;var ce,a=(ce=y(2))&&ce.__esModule?ce:{default:ce},H=y(4);function ie(ce,re,L,z,E,B,C){try{var R=ce[B](C),O=R.value}catch(se){return void L(se)}R.done?re(O):Promise.resolve(O).then(z,E)}function J(ce,re){for(var L=0;L<re.length;L++){var z=re[L];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(ce,z.key,z)}}function he(ce){return(he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(L){return typeof L}:function(L){return L&&"function"==typeof Symbol&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L})(ce)}function D(ce){if("object"!==he(ce)||null===ce)return ce;switch(ce.name){case"AbortException":return new H.AbortException(ce.message);case"MissingPDFException":return new H.MissingPDFException(ce.message);case"UnexpectedResponseException":return new H.UnexpectedResponseException(ce.message,ce.status);case"UnknownErrorException":return new H.UnknownErrorException(ce.message,ce.details);default:return new H.UnknownErrorException(ce.message,ce.toString())}}I.MessageHandler=function(){function ce(re,L,z){var E=this;(function(ce,re){if(!(ce instanceof re))throw new TypeError("Cannot call a class as a function")})(this,ce),this.sourceName=re,this.targetName=L,this.comObj=z,this.callbackId=1,this.streamId=1,this.postMessageTransfers=!0,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=function(B){var C=B.data;if(C.targetName===E.sourceName){if(C.stream)return void E._processStreamMessage(C);if(C.callback){var R=C.callbackId,O=E.callbackCapabilities[R];if(!O)throw new Error("Cannot resolve callback ".concat(R));if(delete E.callbackCapabilities[R],1===C.callback)O.resolve(C.data);else{if(2!==C.callback)throw new Error("Unexpected callback case");O.reject(D(C.reason))}return}var se=E.actionHandler[C.action];if(!se)throw new Error("Unknown action from worker: ".concat(C.action));if(C.callbackId){var ae=E.sourceName,ue=C.sourceName;return void new Promise(function(N){N(se(C.data))}).then(function(N){z.postMessage({sourceName:ae,targetName:ue,callback:1,callbackId:C.callbackId,data:N})},function(N){z.postMessage({sourceName:ae,targetName:ue,callback:2,callbackId:C.callbackId,reason:D(N)})})}if(C.streamId)return void E._createStreamSink(C);se(C.data)}},z.addEventListener("message",this._onComObjOnMessage)}return function(ce,re,L){re&&J(ce.prototype,re)}(ce,[{key:"on",value:function(L,z){var E=this.actionHandler;if(E[L])throw new Error('There is already an actionName called "'.concat(L,'"'));E[L]=z}},{key:"send",value:function(L,z,E){this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:L,data:z},E)}},{key:"sendWithPromise",value:function(L,z,E){var B=this.callbackId++,C=(0,H.createPromiseCapability)();this.callbackCapabilities[B]=C;try{this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:L,callbackId:B,data:z},E)}catch(R){C.reject(R)}return C.promise}},{key:"sendWithStream",value:function(L,z,E,B){var C=this,R=this.streamId++,O=this.sourceName,se=this.targetName,ae=this.comObj;return new ReadableStream({start:function(N){var T=(0,H.createPromiseCapability)();return C.streamControllers[R]={controller:N,startCall:T,pullCall:null,cancelCall:null,isClosed:!1},C._postMessage({sourceName:O,targetName:se,action:L,streamId:R,data:z,desiredSize:N.desiredSize},B),T.promise},pull:function(N){var T=(0,H.createPromiseCapability)();return C.streamControllers[R].pullCall=T,ae.postMessage({sourceName:O,targetName:se,stream:6,streamId:R,desiredSize:N.desiredSize}),T.promise},cancel:function(N){(0,H.assert)(N instanceof Error,"cancel must have a valid reason");var T=(0,H.createPromiseCapability)();return C.streamControllers[R].cancelCall=T,C.streamControllers[R].isClosed=!0,ae.postMessage({sourceName:O,targetName:se,stream:1,streamId:R,reason:D(N)}),T.promise}},E)}},{key:"_createStreamSink",value:function(L){var z=this,E=this.actionHandler[L.action],B=L.streamId,C=this.sourceName,R=L.sourceName,O=this.comObj,se={enqueue:function(ue){var N=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,T=arguments.length>2?arguments[2]:void 0;if(!this.isCancelled){var ne=this.desiredSize;this.desiredSize-=N,ne>0&&this.desiredSize<=0&&(this.sinkCapability=(0,H.createPromiseCapability)(),this.ready=this.sinkCapability.promise),z._postMessage({sourceName:C,targetName:R,stream:4,streamId:B,chunk:ue},T)}},close:function(){this.isCancelled||(this.isCancelled=!0,O.postMessage({sourceName:C,targetName:R,stream:3,streamId:B}),delete z.streamSinks[B])},error:function(ue){(0,H.assert)(ue instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,O.postMessage({sourceName:C,targetName:R,stream:5,streamId:B,reason:D(ue)}))},sinkCapability:(0,H.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:L.desiredSize,ready:null};se.sinkCapability.resolve(),se.ready=se.sinkCapability.promise,this.streamSinks[B]=se,new Promise(function(ae){ae(E(L.data,se))}).then(function(){O.postMessage({sourceName:C,targetName:R,stream:8,streamId:B,success:!0})},function(ae){O.postMessage({sourceName:C,targetName:R,stream:8,streamId:B,reason:D(ae)})})}},{key:"_processStreamMessage",value:function(L){var z=L.streamId,E=this.sourceName,B=L.sourceName,C=this.comObj;switch(L.stream){case 8:L.success?this.streamControllers[z].startCall.resolve():this.streamControllers[z].startCall.reject(D(L.reason));break;case 7:L.success?this.streamControllers[z].pullCall.resolve():this.streamControllers[z].pullCall.reject(D(L.reason));break;case 6:if(!this.streamSinks[z]){C.postMessage({sourceName:E,targetName:B,stream:7,streamId:z,success:!0});break}this.streamSinks[z].desiredSize<=0&&L.desiredSize>0&&this.streamSinks[z].sinkCapability.resolve(),this.streamSinks[z].desiredSize=L.desiredSize;var R=this.streamSinks[L.streamId].onPull;new Promise(function(se){se(R&&R())}).then(function(){C.postMessage({sourceName:E,targetName:B,stream:7,streamId:z,success:!0})},function(se){C.postMessage({sourceName:E,targetName:B,stream:7,streamId:z,reason:D(se)})});break;case 4:if((0,H.assert)(this.streamControllers[z],"enqueue should have stream controller"),this.streamControllers[z].isClosed)break;this.streamControllers[z].controller.enqueue(L.chunk);break;case 3:if((0,H.assert)(this.streamControllers[z],"close should have stream controller"),this.streamControllers[z].isClosed)break;this.streamControllers[z].isClosed=!0,this.streamControllers[z].controller.close(),this._deleteStreamController(z);break;case 5:(0,H.assert)(this.streamControllers[z],"error should have stream controller"),this.streamControllers[z].controller.error(D(L.reason)),this._deleteStreamController(z);break;case 2:L.success?this.streamControllers[z].cancelCall.resolve():this.streamControllers[z].cancelCall.reject(D(L.reason)),this._deleteStreamController(z);break;case 1:if(!this.streamSinks[z])break;var O=this.streamSinks[L.streamId].onCancel;new Promise(function(se){se(O&&O(D(L.reason)))}).then(function(){C.postMessage({sourceName:E,targetName:B,stream:2,streamId:z,success:!0})},function(se){C.postMessage({sourceName:E,targetName:B,stream:2,streamId:z,reason:D(se)})}),this.streamSinks[z].sinkCapability.reject(D(L.reason)),this.streamSinks[z].isCancelled=!0,delete this.streamSinks[z];break;default:throw new Error("Unexpected stream case")}}},{key:"_deleteStreamController",value:(re=function(ce){return function(){var re=this,L=arguments;return new Promise(function(z,E){var B=ce.apply(re,L);function C(O){ie(B,z,E,C,R,"next",O)}function R(O){ie(B,z,E,C,R,"throw",O)}C(void 0)})}}(a.default.mark(function z(E){return a.default.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,Promise.allSettled([this.streamControllers[E].startCall,this.streamControllers[E].pullCall,this.streamControllers[E].cancelCall].map(function(R){return R&&R.promise}));case 2:delete this.streamControllers[E];case 3:case"end":return C.stop()}},z,this)})),function(z){return re.apply(this,arguments)})},{key:"_postMessage",value:function(L,z){z&&this.postMessageTransfers?this.comObj.postMessage(L,z):this.comObj.postMessage(L)}},{key:"destroy",value:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}]),ce;var re}()},(ve,I,y)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.Metadata=void 0;var a=y(4),H=y(145);function G(U,X){var D;if("undefined"==typeof Symbol||null==U[Symbol.iterator]){if(Array.isArray(U)||(D=function(U,X){if(U){if("string"==typeof U)return V(U,X);var D=Object.prototype.toString.call(U).slice(8,-1);if("Object"===D&&U.constructor&&(D=U.constructor.name),"Map"===D||"Set"===D)return Array.from(U);if("Arguments"===D||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D))return V(U,X)}}(U))||X&&U&&"number"==typeof U.length){D&&(U=D);var te=0,ce=function(){};return{s:ce,n:function(){return te>=U.length?{done:!0}:{done:!1,value:U[te++]}},e:function(B){throw B},f:ce}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var z,re=!0,L=!1;return{s:function(){D=U[Symbol.iterator]()},n:function(){var B=D.next();return re=B.done,B},e:function(B){L=!0,z=B},f:function(){try{!re&&null!=D.return&&D.return()}finally{if(L)throw z}}}}function V(U,X){(null==X||X>U.length)&&(X=U.length);for(var D=0,te=new Array(X);D<X;D++)te[D]=U[D];return te}function J(U,X){for(var D=0;D<X.length;D++){var te=X[D];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(U,te.key,te)}}I.Metadata=function(){function U(X){(function(U,X){if(!(U instanceof X))throw new TypeError("Cannot call a class as a function")})(this,U),(0,a.assert)("string"==typeof X,"Metadata: input is not a string"),X=this._repair(X);var te=new H.SimpleXMLParser({lowerCaseName:!0}).parseFromString(X);this._metadataMap=new Map,te&&this._parse(te),this._data=X}return function(U,X,D){X&&J(U.prototype,X)}(U,[{key:"_repair",value:function(D){return D.replace(/^[^<]+/,"").replace(/>\\376\\377([^<]+)/g,function(te,ce){for(var re=ce.replace(/\\([0-3])([0-7])([0-7])/g,function(C,R,O,se){return String.fromCharCode(64*R+8*O+1*se)}).replace(/&(amp|apos|gt|lt|quot);/g,function(C,R){switch(R){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error("_repair: ".concat(R," isn't defined."))}),L="",z=0,E=re.length;z<E;z+=2){var B=256*re.charCodeAt(z)+re.charCodeAt(z+1);L+=B>=32&&B<127&&60!==B&&62!==B&&38!==B?String.fromCharCode(B):"&#x"+(65536+B).toString(16).substring(1)+";"}return">"+L})}},{key:"_getSequence",value:function(D){var te=D.nodeName;return"rdf:bag"!==te&&"rdf:seq"!==te&&"rdf:alt"!==te?null:D.childNodes.filter(function(ce){return"rdf:li"===ce.nodeName})}},{key:"_getCreators",value:function(D){if("dc:creator"!==D.nodeName)return!1;if(!D.hasChildNodes())return!0;var ce=this._getSequence(D.childNodes[0])||[];return this._metadataMap.set(D.nodeName,ce.map(function(re){return re.textContent.trim()})),!0}},{key:"_parse",value:function(D){var te=D.documentElement;if("rdf:rdf"!==te.nodeName)for(te=te.firstChild;te&&"rdf:rdf"!==te.nodeName;)te=te.nextSibling;if(te&&"rdf:rdf"===te.nodeName&&te.hasChildNodes()){var re,ce=G(te.childNodes);try{for(ce.s();!(re=ce.n()).done;){var L=re.value;if("rdf:description"===L.nodeName){var E,z=G(L.childNodes);try{for(z.s();!(E=z.n()).done;){var B=E.value,C=B.nodeName;"#text"!==C&&(this._getCreators(B)||this._metadataMap.set(C,B.textContent.trim()))}}catch(R){z.e(R)}finally{z.f()}}}}catch(R){ce.e(R)}finally{ce.f()}}}},{key:"getRaw",value:function(){return this._data}},{key:"get",value:function(D){var te;return null!==(te=this._metadataMap.get(D))&&void 0!==te?te:null}},{key:"getAll",value:function(){return(0,a.objectFromEntries)(this._metadataMap)}},{key:"has",value:function(D){return this._metadataMap.has(D)}}]),U}()},(ve,I,y)=>{"use strict";function a(ne){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(F){return typeof F}:function(F){return F&&"function"==typeof Symbol&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F})(ne)}Object.defineProperty(I,"__esModule",{value:!0}),I.SimpleXMLParser=I.SimpleDOMNode=void 0;var H=y(4);function G(ne,x,F){return(G="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(M,P,Y){var j=function(ne,x){for(;!Object.prototype.hasOwnProperty.call(ne,x)&&null!==(ne=X(ne)););return ne}(M,P);if(j){var A=Object.getOwnPropertyDescriptor(j,P);return A.get?A.get.call(Y):A.value}})(ne,x,F||ne)}function oe(ne,x){return(oe=Object.setPrototypeOf||function(ee,M){return ee.__proto__=M,ee})(ne,x)}function K(ne,x){return!x||"object"!==a(x)&&"function"!=typeof x?function(ne){if(void 0===ne)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ne}(ne):x}function X(ne){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(F){return F.__proto__||Object.getPrototypeOf(F)})(ne)}function D(ne,x){var F;if("undefined"==typeof Symbol||null==ne[Symbol.iterator]){if(Array.isArray(ne)||(F=re(ne))||x&&ne&&"number"==typeof ne.length){F&&(ne=F);var ee=0,M=function(){};return{s:M,n:function(){return ee>=ne.length?{done:!0}:{done:!1,value:ne[ee++]}},e:function(Z){throw Z},f:M}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var j,P=!0,Y=!1;return{s:function(){F=ne[Symbol.iterator]()},n:function(){var Z=F.next();return P=Z.done,Z},e:function(Z){Y=!0,j=Z},f:function(){try{!P&&null!=F.return&&F.return()}finally{if(Y)throw j}}}}function te(ne,x){return function(ne){if(Array.isArray(ne))return ne}(ne)||function(ne,x){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(ne)){var F=[],ee=!0,M=!1,P=void 0;try{for(var j,Y=ne[Symbol.iterator]();!(ee=(j=Y.next()).done)&&(F.push(j.value),!x||F.length!==x);ee=!0);}catch(A){M=!0,P=A}finally{try{!ee&&null!=Y.return&&Y.return()}finally{if(M)throw P}}return F}}(ne,x)||re(ne,x)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(ne,x){if(ne){if("string"==typeof ne)return L(ne,x);var F=Object.prototype.toString.call(ne).slice(8,-1);if("Object"===F&&ne.constructor&&(F=ne.constructor.name),"Map"===F||"Set"===F)return Array.from(ne);if("Arguments"===F||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(F))return L(ne,x)}}function L(ne,x){(null==x||x>ne.length)&&(x=ne.length);for(var F=0,ee=new Array(x);F<x;F++)ee[F]=ne[F];return ee}function B(ne,x){if(!(ne instanceof x))throw new TypeError("Cannot call a class as a function")}function C(ne,x){for(var F=0;F<x.length;F++){var ee=x[F];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(ne,ee.key,ee)}}function R(ne,x,F){return x&&C(ne.prototype,x),F&&C(ne,F),ne}function se(ne,x){var F=ne[x];return" "===F||"\n"===F||"\r"===F||"\t"===F}var ue=function(){function ne(){B(this,ne)}return R(ne,[{key:"_resolveEntities",value:function(F){var ee=this;return F.replace(/&([^;]+);/g,function(M,P){if("#x"===P.substring(0,2))return String.fromCodePoint(parseInt(P.substring(2),16));if("#"===P.substring(0,1))return String.fromCodePoint(parseInt(P.substring(1),10));switch(P){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"'}return ee.onResolveEntity(P)})}},{key:"_parseContent",value:function(F,ee){var M=[],P=ee;function Y(){for(;P<F.length&&se(F,P);)++P}for(;P<F.length&&!se(F,P)&&">"!==F[P]&&"/"!==F[P];)++P;var j=F.substring(ee,P);for(Y();P<F.length&&">"!==F[P]&&"/"!==F[P]&&"?"!==F[P];){Y();for(var Z,A="";P<F.length&&!se(F,P)&&"="!==F[P];)A+=F[P],++P;if(Y(),"="!==F[P])return null;++P,Y();var $=F[P];if('"'!==$&&"'"!==$)return null;var Q=F.indexOf($,++P);if(Q<0)return null;Z=F.substring(P,Q),M.push({name:A,value:this._resolveEntities(Z)}),P=Q+1,Y()}return{name:j,attributes:M,parsed:P-ee}}},{key:"_parseProcessingInstruction",value:function(F,ee){for(var M=ee;M<F.length&&!se(F,M)&&">"!==F[M]&&"/"!==F[M];)++M;var Y=F.substring(ee,M);!function(){for(;M<F.length&&se(F,M);)++M}();for(var j=M;M<F.length&&("?"!==F[M]||">"!==F[M+1]);)++M;return{name:Y,value:F.substring(j,M),parsed:M-ee}}},{key:"parseXml",value:function(F){for(var ee=0;ee<F.length;){var P=ee;if("<"===F[ee]){var j=void 0;switch(F[++P]){case"/":if(++P,(j=F.indexOf(">",P))<0)return void this.onError(-9);this.onEndElement(F.substring(P,j)),P=j+1;break;case"?":++P;var A=this._parseProcessingInstruction(F,P);if("?>"!==F.substring(P+A.parsed,P+A.parsed+2))return void this.onError(-3);this.onPi(A.name,A.value),P+=A.parsed+2;break;case"!":if("--"===F.substring(P+1,P+3)){if((j=F.indexOf("--\x3e",P+3))<0)return void this.onError(-5);this.onComment(F.substring(P+3,j)),P=j+3}else if("[CDATA["===F.substring(P+1,P+8)){if((j=F.indexOf("]]>",P+8))<0)return void this.onError(-2);this.onCdata(F.substring(P+8,j)),P=j+3}else{if("DOCTYPE"!==F.substring(P+1,P+8))return void this.onError(-6);var Z=F.indexOf("[",P+8),$=!1;if((j=F.indexOf(">",P+8))<0)return void this.onError(-4);if(Z>0&&j>Z){if((j=F.indexOf("]>",P+8))<0)return void this.onError(-4);$=!0}var Q=F.substring(P+8,j+($?1:0));this.onDoctype(Q),P=j+($?2:1)}break;default:var de=this._parseContent(F,P);if(null===de)return void this.onError(-6);var fe=!1;if("/>"===F.substring(P+de.parsed,P+de.parsed+2))fe=!0;else if(">"!==F.substring(P+de.parsed,P+de.parsed+1))return void this.onError(-9);this.onBeginElement(de.name,de.attributes,fe),P+=de.parsed+(fe?2:1)}}else{for(;P<F.length&&"<"!==F[P];)P++;var ge=F.substring(ee,P);this.onText(this._resolveEntities(ge))}ee=P}}},{key:"onResolveEntity",value:function(F){return"&".concat(F,";")}},{key:"onPi",value:function(F,ee){}},{key:"onComment",value:function(F){}},{key:"onCdata",value:function(F){}},{key:"onDoctype",value:function(F){}},{key:"onText",value:function(F){}},{key:"onBeginElement",value:function(F,ee,M){}},{key:"onEndElement",value:function(F){}},{key:"onError",value:function(F){}}]),ne}(),N=function(){function ne(x,F){B(this,ne),this.nodeName=x,this.nodeValue=F,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}return R(ne,[{key:"hasChildNodes",value:function(){return this.childNodes&&this.childNodes.length>0}},{key:"searchNode",value:function(F,ee){if(ee>=F.length)return this;for(var M=F[ee],P=[],Y=this;;){if(M.name===Y.nodeName){if(0!==M.pos){if(0===P.length)return null;var fe,Q=0,de=D(te(P.pop(),1)[0].childNodes);try{for(de.s();!(fe=de.n()).done;){var ge=fe.value;if(M.name===ge.nodeName){if(Q===M.pos)return ge.searchNode(F,ee+1);Q++}}}catch(Oe){de.e(Oe)}finally{de.f()}return Y.searchNode(F,ee+1)}var j=Y.searchNode(F,ee+1);if(null!==j)return j}if(Y.childNodes&&0!==Y.childNodes.length)P.push([Y,0]),Y=Y.childNodes[0];else{if(0===P.length)return null;for(;0!==P.length;){var Ce=te(P.pop(),2),Re=Ce[0],Le=Ce[1]+1;if(Le<Re.childNodes.length){P.push([Re,Le]),Y=Re.childNodes[Le];break}}if(0===P.length)return null}}}},{key:"dump",value:function(F){if("#text"!==this.nodeName){if(F.push("<".concat(this.nodeName)),this.attributes){var M,ee=D(this.attributes);try{for(ee.s();!(M=ee.n()).done;){var P=M.value;F.push(" ".concat(P.name,'="').concat((0,H.encodeToXmlString)(P.value),'"'))}}catch(Z){ee.e(Z)}finally{ee.f()}}if(this.hasChildNodes()){F.push(">");var j,Y=D(this.childNodes);try{for(Y.s();!(j=Y.n()).done;)j.value.dump(F)}catch(Z){Y.e(Z)}finally{Y.f()}F.push("</".concat(this.nodeName,">"))}else F.push(this.nodeValue?">".concat((0,H.encodeToXmlString)(this.nodeValue),"</").concat(this.nodeName,">"):"/>")}else F.push((0,H.encodeToXmlString)(this.nodeValue))}},{key:"firstChild",get:function(){return this.childNodes&&this.childNodes[0]}},{key:"nextSibling",get:function(){var F=this.parentNode.childNodes;if(F){var ee=F.indexOf(this);if(-1!==ee)return F[ee+1]}}},{key:"textContent",get:function(){return this.childNodes?this.childNodes.map(function(F){return F.textContent}).join(""):this.nodeValue||""}}]),ne}();I.SimpleDOMNode=N,I.SimpleXMLParser=function(ne){!function(ne,x){if("function"!=typeof x&&null!==x)throw new TypeError("Super expression must either be null or a function");ne.prototype=Object.create(x&&x.prototype,{constructor:{value:ne,writable:!0,configurable:!0}}),x&&oe(ne,x)}(F,ne);var x=function(ne){var x=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(ne){return!1}}();return function(){var M,ee=X(ne);if(x){var P=X(this).constructor;M=Reflect.construct(ee,arguments,P)}else M=ee.apply(this,arguments);return K(this,M)}}(F);function F(ee){var M,P=ee.hasAttributes,Y=void 0!==P&&P,j=ee.lowerCaseName,A=void 0!==j&&j;return B(this,F),(M=x.call(this))._currentFragment=null,M._stack=null,M._errorCode=0,M._hasAttributes=Y,M._lowerCaseName=A,M}return R(F,[{key:"parseFromString",value:function(M){if(this._currentFragment=[],this._stack=[],this._errorCode=0,this.parseXml(M),0===this._errorCode){var Y=te(this._currentFragment,1)[0];if(Y)return{documentElement:Y}}}},{key:"onResolveEntity",value:function(M){switch(M){case"apos":return"'"}return G(X(F.prototype),"onResolveEntity",this).call(this,M)}},{key:"onText",value:function(M){if(!function(ne){for(var x=0,F=ne.length;x<F;x++)if(!se(ne,x))return!1;return!0}(M)){var P=new N("#text",M);this._currentFragment.push(P)}}},{key:"onCdata",value:function(M){var P=new N("#text",M);this._currentFragment.push(P)}},{key:"onBeginElement",value:function(M,P,Y){this._lowerCaseName&&(M=M.toLowerCase());var j=new N(M);j.childNodes=[],this._hasAttributes&&(j.attributes=P),this._currentFragment.push(j),!Y&&(this._stack.push(this._currentFragment),this._currentFragment=j.childNodes)}},{key:"onEndElement",value:function(M){this._currentFragment=this._stack.pop()||[];var P=this._currentFragment[this._currentFragment.length-1];if(P)for(var Y=0,j=P.childNodes.length;Y<j;Y++)P.childNodes[Y].parentNode=P}},{key:"onError",value:function(M){this._errorCode=M}}]),F}(ue)},(ve,I,y)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.OptionalContentConfig=void 0;var a=y(4);function H(U,X){var D;if("undefined"==typeof Symbol||null==U[Symbol.iterator]){if(Array.isArray(U)||(D=function(U,X){if(U){if("string"==typeof U)return ie(U,X);var D=Object.prototype.toString.call(U).slice(8,-1);if("Object"===D&&U.constructor&&(D=U.constructor.name),"Map"===D||"Set"===D)return Array.from(U);if("Arguments"===D||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D))return ie(U,X)}}(U))||X&&U&&"number"==typeof U.length){D&&(U=D);var te=0,ce=function(){};return{s:ce,n:function(){return te>=U.length?{done:!0}:{done:!1,value:U[te++]}},e:function(B){throw B},f:ce}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var z,re=!0,L=!1;return{s:function(){D=U[Symbol.iterator]()},n:function(){var B=D.next();return re=B.done,B},e:function(B){L=!0,z=B},f:function(){try{!re&&null!=D.return&&D.return()}finally{if(L)throw z}}}}function ie(U,X){(null==X||X>U.length)&&(X=U.length);for(var D=0,te=new Array(X);D<X;D++)te[D]=U[D];return te}function V(U,X){for(var D=0;D<X.length;D++){var te=X[D];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(U,te.key,te)}}function J(U,X){if(!(U instanceof X))throw new TypeError("Cannot call a class as a function")}var K=function U(X,D){J(this,U),this.visible=!0,this.name=X,this.intent=D};I.OptionalContentConfig=function(){function U(X){if(J(this,U),this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==X){this.name=X.name,this.creator=X.creator,this._order=X.order;var te,D=H(X.groups);try{for(D.s();!(te=D.n()).done;){var ce=te.value;this._groups.set(ce.id,new K(ce.name,ce.intent))}}catch(ae){D.e(ae)}finally{D.f()}if("OFF"===X.baseState){var L,re=H(this._groups);try{for(re.s();!(L=re.n()).done;)L.value.visible=!1}catch(ae){re.e(ae)}finally{re.f()}}var B,E=H(X.on);try{for(E.s();!(B=E.n()).done;)this._groups.get(B.value).visible=!0}catch(ae){E.e(ae)}finally{E.f()}var O,R=H(X.off);try{for(R.s();!(O=R.n()).done;)this._groups.get(O.value).visible=!1}catch(ae){R.e(ae)}finally{R.f()}}}return function(U,X,D){X&&V(U.prototype,X)}(U,[{key:"isVisible",value:function(D){if("OCG"===D.type)return this._groups.has(D.id)?this._groups.get(D.id).visible:((0,a.warn)("Optional content group not found: ".concat(D.id)),!0);if("OCMD"===D.type){if(D.expression&&(0,a.warn)("Visibility expression not supported yet."),!D.policy||"AnyOn"===D.policy){var ce,te=H(D.ids);try{for(te.s();!(ce=te.n()).done;){var re=ce.value;if(!this._groups.has(re))return(0,a.warn)("Optional content group not found: ".concat(re)),!0;if(this._groups.get(re).visible)return!0}}catch(ue){te.e(ue)}finally{te.f()}return!1}if("AllOn"===D.policy){var z,L=H(D.ids);try{for(L.s();!(z=L.n()).done;){var E=z.value;if(!this._groups.has(E))return(0,a.warn)("Optional content group not found: ".concat(E)),!0;if(!this._groups.get(E).visible)return!1}}catch(ue){L.e(ue)}finally{L.f()}return!0}if("AnyOff"===D.policy){var C,B=H(D.ids);try{for(B.s();!(C=B.n()).done;){var R=C.value;if(!this._groups.has(R))return(0,a.warn)("Optional content group not found: ".concat(R)),!0;if(!this._groups.get(R).visible)return!0}}catch(ue){B.e(ue)}finally{B.f()}return!1}if("AllOff"===D.policy){var se,O=H(D.ids);try{for(O.s();!(se=O.n()).done;){var ae=se.value;if(!this._groups.has(ae))return(0,a.warn)("Optional content group not found: ".concat(ae)),!0;if(this._groups.get(ae).visible)return!1}}catch(ue){O.e(ue)}finally{O.f()}return!0}return(0,a.warn)("Unknown optional content policy ".concat(D.policy,".")),!0}return(0,a.warn)("Unknown group type ".concat(D.type,".")),!0}},{key:"setVisibility",value:function(D){var te=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._groups.has(D)?this._groups.get(D).visible=!!te:(0,a.warn)("Optional content group not found: ".concat(D))}},{key:"getOrder",value:function(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}},{key:"getGroups",value:function(){return this._groups.size?(0,a.objectFromEntries)(this._groups):null}},{key:"getGroup",value:function(D){return this._groups.get(D)||null}}]),U}()},(ve,I,y)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.PDFDataTransportStream=void 0;var re,a=(re=y(2))&&re.__esModule?re:{default:re},H=y(4);function ie(re,L,z,E,B,C,R){try{var O=re[C](R),se=O.value}catch(ae){return void z(ae)}O.done?L(se):Promise.resolve(se).then(E,B)}function V(re){return function(){var L=this,z=arguments;return new Promise(function(E,B){var C=re.apply(L,z);function R(se){ie(C,E,B,R,O,"next",se)}function O(se){ie(C,E,B,R,O,"throw",se)}R(void 0)})}}function oe(re,L){var z;if("undefined"==typeof Symbol||null==re[Symbol.iterator]){if(Array.isArray(re)||(z=function(re,L){if(re){if("string"==typeof re)return K(re,L);var z=Object.prototype.toString.call(re).slice(8,-1);if("Object"===z&&re.constructor&&(z=re.constructor.name),"Map"===z||"Set"===z)return Array.from(re);if("Arguments"===z||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(z))return K(re,L)}}(re))||L&&re&&"number"==typeof re.length){z&&(re=z);var E=0,B=function(){};return{s:B,n:function(){return E>=re.length?{done:!0}:{done:!1,value:re[E++]}},e:function(ae){throw ae},f:B}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var O,C=!0,R=!1;return{s:function(){z=re[Symbol.iterator]()},n:function(){var ae=z.next();return C=ae.done,ae},e:function(ae){R=!0,O=ae},f:function(){try{!C&&null!=z.return&&z.return()}finally{if(R)throw O}}}}function K(re,L){(null==L||L>re.length)&&(L=re.length);for(var z=0,E=new Array(L);z<L;z++)E[z]=re[z];return E}function he(re,L){if(!(re instanceof L))throw new TypeError("Cannot call a class as a function")}function U(re,L){for(var z=0;z<L.length;z++){var E=L[z];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(re,E.key,E)}}function X(re,L,z){return L&&U(re.prototype,L),z&&U(re,z),re}I.PDFDataTransportStream=function(){function re(L,z){var E=this;he(this,re),(0,H.assert)(z,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=L.progressiveDone||!1;var B=L.initialData;if((null==B?void 0:B.length)>0){var C=new Uint8Array(B).buffer;this._queuedChunks.push(C)}this._pdfDataRangeTransport=z,this._isStreamingSupported=!L.disableStream,this._isRangeSupported=!L.disableRange,this._contentLength=L.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener(function(R,O){E._onReceiveData({begin:R,chunk:O})}),this._pdfDataRangeTransport.addProgressListener(function(R,O){E._onProgress({loaded:R,total:O})}),this._pdfDataRangeTransport.addProgressiveReadListener(function(R){E._onReceiveData({chunk:R})}),this._pdfDataRangeTransport.addProgressiveDoneListener(function(){E._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}return X(re,[{key:"_onReceiveData",value:function(z){var E=new Uint8Array(z.chunk).buffer;if(void 0===z.begin)this._fullRequestReader?this._fullRequestReader._enqueue(E):this._queuedChunks.push(E);else{var B=this._rangeReaders.some(function(C){return C._begin===z.begin&&(C._enqueue(E),!0)});(0,H.assert)(B,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}},{key:"_onProgress",value:function(z){if(void 0===z.total){var E=this._rangeReaders[0];null!=E&&E.onProgress&&E.onProgress({loaded:z.loaded})}else{var B=this._fullRequestReader;null!=B&&B.onProgress&&B.onProgress({loaded:z.loaded,total:z.total})}}},{key:"_onProgressiveDone",value:function(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}},{key:"_removeRangeReader",value:function(z){var E=this._rangeReaders.indexOf(z);E>=0&&this._rangeReaders.splice(E,1)}},{key:"getFullReader",value:function(){(0,H.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");var z=this._queuedChunks;return this._queuedChunks=null,new te(this,z,this._progressiveDone)}},{key:"getRangeReader",value:function(z,E){if(E<=this._progressiveDataLength)return null;var B=new ce(this,z,E);return this._pdfDataRangeTransport.requestDataRange(z,E),this._rangeReaders.push(B),B}},{key:"cancelAllRequests",value:function(z){this._fullRequestReader&&this._fullRequestReader.cancel(z),this._rangeReaders.slice(0).forEach(function(B){B.cancel(z)}),this._pdfDataRangeTransport.abort()}},{key:"_progressiveDataLength",get:function(){var z,E;return null!==(z=null===(E=this._fullRequestReader)||void 0===E?void 0:E._loaded)&&void 0!==z?z:0}}]),re}();var te=function(){function re(L,z){var E=arguments.length>2&&void 0!==arguments[2]&&arguments[2];he(this,re),this._stream=L,this._done=E||!1,this._filename=null,this._queuedChunks=z||[],this._loaded=0;var C,B=oe(this._queuedChunks);try{for(B.s();!(C=B.n()).done;){var R=C.value;this._loaded+=R.byteLength}}catch(O){B.e(O)}finally{B.f()}this._requests=[],this._headersReady=Promise.resolve(),L._fullRequestReader=this,this.onProgress=null}return X(re,[{key:"_enqueue",value:function(z){this._done||(this._requests.length>0?this._requests.shift().resolve({value:z,done:!1}):this._queuedChunks.push(z),this._loaded+=z.byteLength)}},{key:"read",value:(L=V(a.default.mark(function E(){var B,C;return a.default.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(!(this._queuedChunks.length>0)){O.next=3;break}return B=this._queuedChunks.shift(),O.abrupt("return",{value:B,done:!1});case 3:if(!this._done){O.next=5;break}return O.abrupt("return",{value:void 0,done:!0});case 5:return C=(0,H.createPromiseCapability)(),this._requests.push(C),O.abrupt("return",C.promise);case 8:case"end":return O.stop()}},E,this)})),function(){return L.apply(this,arguments)})},{key:"cancel",value:function(z){this._done=!0,this._requests.forEach(function(E){E.resolve({value:void 0,done:!0})}),this._requests=[]}},{key:"progressiveDone",value:function(){this._done||(this._done=!0)}},{key:"headersReady",get:function(){return this._headersReady}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._stream._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._stream._isStreamingSupported}},{key:"contentLength",get:function(){return this._stream._contentLength}}]),re;var L}(),ce=function(){function re(L,z,E){he(this,re),this._stream=L,this._begin=z,this._end=E,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}return X(re,[{key:"_enqueue",value:function(z){this._done||(0===this._requests.length?this._queuedChunk=z:(this._requests.shift().resolve({value:z,done:!1}),this._requests.forEach(function(B){B.resolve({value:void 0,done:!0})}),this._requests=[]),this._done=!0,this._stream._removeRangeReader(this))}},{key:"read",value:(L=V(a.default.mark(function E(){var B,C;return a.default.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(!this._queuedChunk){O.next=4;break}return B=this._queuedChunk,this._queuedChunk=null,O.abrupt("return",{value:B,done:!1});case 4:if(!this._done){O.next=6;break}return O.abrupt("return",{value:void 0,done:!0});case 6:return C=(0,H.createPromiseCapability)(),this._requests.push(C),O.abrupt("return",C.promise);case 9:case"end":return O.stop()}},E,this)})),function(){return L.apply(this,arguments)})},{key:"cancel",value:function(z){this._done=!0,this._requests.forEach(function(E){E.resolve({value:void 0,done:!0})}),this._requests=[],this._stream._removeRangeReader(this)}},{key:"isStreamingSupported",get:function(){return!1}}]),re;var L}()},(ve,I,y)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.WebGLContext=void 0;var a=y(4);function G(J,K){for(var he=0;he<K.length;he++){var U=K[he];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(J,U.key,U)}}I.WebGLContext=function(){function J(K){var he=K.enable,U=void 0!==he&&he;(function(J,K){if(!(J instanceof K))throw new TypeError("Cannot call a class as a function")})(this,J),this._enabled=!0===U}return function(J,K,he){K&&G(J.prototype,K)}(J,[{key:"composeSMask",value:function(he){return oe.composeSMask(he.layer,he.mask,he.properties)}},{key:"drawFigures",value:function(he){return oe.drawFigures(he.width,he.height,he.backgroundColor,he.figures,he.context)}},{key:"clear",value:function(){oe.cleanup()}},{key:"isEnabled",get:function(){var he=this._enabled;return he&&(he=oe.tryInitGL()),(0,a.shadow)(this,"isEnabled",he)}}]),J}();var oe=function(){function K(N,T,ne){var x=N.createShader(ne);if(N.shaderSource(x,T),N.compileShader(x),!N.getShaderParameter(x,N.COMPILE_STATUS)){var ee=N.getShaderInfoLog(x);throw new Error("Error during shader compilation: "+ee)}return x}function he(N,T){return K(N,T,N.VERTEX_SHADER)}function U(N,T){return K(N,T,N.FRAGMENT_SHADER)}function X(N,T){for(var ne=N.createProgram(),x=0,F=T.length;x<F;++x)N.attachShader(ne,T[x]);if(N.linkProgram(ne),!N.getProgramParameter(ne,N.LINK_STATUS)){var M=N.getProgramInfoLog(ne);throw new Error("Error during program linking: "+M)}return ne}function D(N,T,ne){N.activeTexture(ne);var x=N.createTexture();return N.bindTexture(N.TEXTURE_2D,x),N.texParameteri(N.TEXTURE_2D,N.TEXTURE_WRAP_S,N.CLAMP_TO_EDGE),N.texParameteri(N.TEXTURE_2D,N.TEXTURE_WRAP_T,N.CLAMP_TO_EDGE),N.texParameteri(N.TEXTURE_2D,N.TEXTURE_MIN_FILTER,N.NEAREST),N.texParameteri(N.TEXTURE_2D,N.TEXTURE_MAG_FILTER,N.NEAREST),N.texImage2D(N.TEXTURE_2D,0,N.RGBA,N.RGBA,N.UNSIGNED_BYTE,T),x}var te,ce;function re(){te||(ce=document.createElement("canvas"),te=ce.getContext("webgl",{premultipliedalpha:!1}))}var E=null,se=null;return{tryInitGL:function(){try{return re(),!!te}catch(T){}return!1},composeSMask:function(N,T,ne){var x=N.width,F=N.height;E||function(){re();var N=ce;ce=null;var T=te;te=null;var F=X(T,[he(T,"  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             "),U(T,"  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ")]);T.useProgram(F);var ee={};ee.gl=T,ee.canvas=N,ee.resolutionLocation=T.getUniformLocation(F,"u_resolution"),ee.positionLocation=T.getAttribLocation(F,"a_position"),ee.backdropLocation=T.getUniformLocation(F,"u_backdrop"),ee.subtypeLocation=T.getUniformLocation(F,"u_subtype");var M=T.getAttribLocation(F,"a_texCoord"),P=T.getUniformLocation(F,"u_image"),Y=T.getUniformLocation(F,"u_mask"),j=T.createBuffer();T.bindBuffer(T.ARRAY_BUFFER,j),T.bufferData(T.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),T.STATIC_DRAW),T.enableVertexAttribArray(M),T.vertexAttribPointer(M,2,T.FLOAT,!1,0,0),T.uniform1i(P,0),T.uniform1i(Y,1),E=ee}();var ee=E,M=ee.canvas,P=ee.gl;M.width=x,M.height=F,P.viewport(0,0,P.drawingBufferWidth,P.drawingBufferHeight),P.uniform2f(ee.resolutionLocation,x,F),ne.backdrop?P.uniform4f(ee.resolutionLocation,ne.backdrop[0],ne.backdrop[1],ne.backdrop[2],1):P.uniform4f(ee.resolutionLocation,0,0,0,0),P.uniform1i(ee.subtypeLocation,"Luminosity"===ne.subtype?1:0);var Y=D(P,N,P.TEXTURE0),j=D(P,T,P.TEXTURE1),A=P.createBuffer();return P.bindBuffer(P.ARRAY_BUFFER,A),P.bufferData(P.ARRAY_BUFFER,new Float32Array([0,0,x,0,0,F,0,F,x,0,x,F]),P.STATIC_DRAW),P.enableVertexAttribArray(ee.positionLocation),P.vertexAttribPointer(ee.positionLocation,2,P.FLOAT,!1,0,0),P.clearColor(0,0,0,0),P.enable(P.BLEND),P.blendFunc(P.ONE,P.ONE_MINUS_SRC_ALPHA),P.clear(P.COLOR_BUFFER_BIT),P.drawArrays(P.TRIANGLES,0,6),P.flush(),P.deleteTexture(Y),P.deleteTexture(j),P.deleteBuffer(A),M},drawFigures:function(N,T,ne,x,F){se||function(){re();var N=ce;ce=null;var T=te;te=null;var F=X(T,[he(T,"  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             "),U(T,"  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ")]);T.useProgram(F);var ee={};ee.gl=T,ee.canvas=N,ee.resolutionLocation=T.getUniformLocation(F,"u_resolution"),ee.scaleLocation=T.getUniformLocation(F,"u_scale"),ee.offsetLocation=T.getUniformLocation(F,"u_offset"),ee.positionLocation=T.getAttribLocation(F,"a_position"),ee.colorLocation=T.getAttribLocation(F,"a_color"),se=ee}();var ee=se,M=ee.canvas,P=ee.gl;M.width=N,M.height=T,P.viewport(0,0,P.drawingBufferWidth,P.drawingBufferHeight),P.uniform2f(ee.resolutionLocation,N,T);for(var Y=0,j=0,A=x.length;j<A;j++)switch(x[j].type){case"lattice":Y+=((x[j].coords.length/x[j].verticesPerRow|0)-1)*(x[j].verticesPerRow-1)*6;break;case"triangles":Y+=x[j].coords.length}for(var $=new Float32Array(2*Y),Q=new Uint8Array(3*Y),de=F.coords,fe=F.colors,ge=0,ye=0,Ce=0,Re=x.length;Ce<Re;Ce++){var xe=x[Ce],Le=xe.coords,Oe=xe.colors;switch(xe.type){case"lattice":for(var Ze=xe.verticesPerRow,Ke=Le.length/Ze|0,et=1;et<Ke;et++)for(var Ne=et*Ze+1,He=1;He<Ze;He++,Ne++)$[ge]=de[Le[Ne-Ze-1]],$[ge+1]=de[Le[Ne-Ze-1]+1],$[ge+2]=de[Le[Ne-Ze]],$[ge+3]=de[Le[Ne-Ze]+1],$[ge+4]=de[Le[Ne-1]],$[ge+5]=de[Le[Ne-1]+1],Q[ye]=fe[Oe[Ne-Ze-1]],Q[ye+1]=fe[Oe[Ne-Ze-1]+1],Q[ye+2]=fe[Oe[Ne-Ze-1]+2],Q[ye+3]=fe[Oe[Ne-Ze]],Q[ye+4]=fe[Oe[Ne-Ze]+1],Q[ye+5]=fe[Oe[Ne-Ze]+2],Q[ye+6]=fe[Oe[Ne-1]],Q[ye+7]=fe[Oe[Ne-1]+1],Q[ye+8]=fe[Oe[Ne-1]+2],$[ge+6]=$[ge+2],$[ge+7]=$[ge+3],$[ge+8]=$[ge+4],$[ge+9]=$[ge+5],$[ge+10]=de[Le[Ne]],$[ge+11]=de[Le[Ne]+1],Q[ye+9]=Q[ye+3],Q[ye+10]=Q[ye+4],Q[ye+11]=Q[ye+5],Q[ye+12]=Q[ye+6],Q[ye+13]=Q[ye+7],Q[ye+14]=Q[ye+8],Q[ye+15]=fe[Oe[Ne]],Q[ye+16]=fe[Oe[Ne]+1],Q[ye+17]=fe[Oe[Ne]+2],ge+=12,ye+=18;break;case"triangles":for(var be=0,Ie=Le.length;be<Ie;be++)$[ge]=de[Le[be]],$[ge+1]=de[Le[be]+1],Q[ye]=fe[Oe[be]],Q[ye+1]=fe[Oe[be]+1],Q[ye+2]=fe[Oe[be]+2],ge+=2,ye+=3}}ne?P.clearColor(ne[0]/255,ne[1]/255,ne[2]/255,1):P.clearColor(0,0,0,0),P.clear(P.COLOR_BUFFER_BIT);var Fe=P.createBuffer();P.bindBuffer(P.ARRAY_BUFFER,Fe),P.bufferData(P.ARRAY_BUFFER,$,P.STATIC_DRAW),P.enableVertexAttribArray(ee.positionLocation),P.vertexAttribPointer(ee.positionLocation,2,P.FLOAT,!1,0,0);var at=P.createBuffer();return P.bindBuffer(P.ARRAY_BUFFER,at),P.bufferData(P.ARRAY_BUFFER,Q,P.STATIC_DRAW),P.enableVertexAttribArray(ee.colorLocation),P.vertexAttribPointer(ee.colorLocation,3,P.UNSIGNED_BYTE,!1,0,0),P.uniform2f(ee.scaleLocation,F.scaleX,F.scaleY),P.uniform2f(ee.offsetLocation,F.offsetX,F.offsetY),P.drawArrays(P.TRIANGLES,0,Y),P.flush(),P.deleteBuffer(Fe),P.deleteBuffer(at),M},cleanup:function(){var T,ne;null!==(T=E)&&void 0!==T&&T.canvas&&(E.canvas.width=0,E.canvas.height=0),null!==(ne=se)&&void 0!==ne&&ne.canvas&&(se.canvas.width=0,se.canvas.height=0),E=null,se=null}}}()},(ve,I,y)=>{"use strict";function a(Ne){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(be){return typeof be}:function(be){return be&&"function"==typeof Symbol&&be.constructor===Symbol&&be!==Symbol.prototype?"symbol":typeof be})(Ne)}Object.defineProperty(I,"__esModule",{value:!0}),I.AnnotationLayer=void 0;var H=y(1),G=y(4),ie=y(138),V=y(150);function oe(Ne,He,be){return(oe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(Fe,at,ot){var ct=function(Ne,He){for(;!Object.prototype.hasOwnProperty.call(Ne,He)&&null!==(Ne=E(Ne)););return Ne}(Fe,at);if(ct){var lt=Object.getOwnPropertyDescriptor(ct,at);return lt.get?lt.get.call(ot):lt.value}})(Ne,He,be||Ne)}function K(Ne,He){return function(Ne){if(Array.isArray(Ne))return Ne}(Ne)||function(Ne,He){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(Ne)){var be=[],Ie=!0,Fe=!1,at=void 0;try{for(var ct,ot=Ne[Symbol.iterator]();!(Ie=(ct=ot.next()).done)&&(be.push(ct.value),!He||be.length!==He);Ie=!0);}catch(lt){Fe=!0,at=lt}finally{try{!Ie&&null!=ot.return&&ot.return()}finally{if(Fe)throw at}}return be}}(Ne,He)||C(Ne,He)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(Ne,He){if("function"!=typeof He&&null!==He)throw new TypeError("Super expression must either be null or a function");Ne.prototype=Object.create(He&&He.prototype,{constructor:{value:Ne,writable:!0,configurable:!0}}),He&&te(Ne,He)}function te(Ne,He){return(te=Object.setPrototypeOf||function(Ie,Fe){return Ie.__proto__=Fe,Ie})(Ne,He)}function ce(Ne){var He=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(Ne){return!1}}();return function(){var Fe,Ie=E(Ne);if(He){var at=E(this).constructor;Fe=Reflect.construct(Ie,arguments,at)}else Fe=Ie.apply(this,arguments);return re(this,Fe)}}function re(Ne,He){return!He||"object"!==a(He)&&"function"!=typeof He?L(Ne):He}function L(Ne){if(void 0===Ne)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ne}function E(Ne){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(be){return be.__proto__||Object.getPrototypeOf(be)})(Ne)}function B(Ne,He){var be;if("undefined"==typeof Symbol||null==Ne[Symbol.iterator]){if(Array.isArray(Ne)||(be=C(Ne))||He&&Ne&&"number"==typeof Ne.length){be&&(Ne=be);var Ie=0,Fe=function(){};return{s:Fe,n:function(){return Ie>=Ne.length?{done:!0}:{done:!1,value:Ne[Ie++]}},e:function(tt){throw tt},f:Fe}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var ct,at=!0,ot=!1;return{s:function(){be=Ne[Symbol.iterator]()},n:function(){var tt=be.next();return at=tt.done,tt},e:function(tt){ot=!0,ct=tt},f:function(){try{!at&&null!=be.return&&be.return()}finally{if(ot)throw ct}}}}function C(Ne,He){if(Ne){if("string"==typeof Ne)return R(Ne,He);var be=Object.prototype.toString.call(Ne).slice(8,-1);if("Object"===be&&Ne.constructor&&(be=Ne.constructor.name),"Map"===be||"Set"===be)return Array.from(Ne);if("Arguments"===be||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(be))return R(Ne,He)}}function R(Ne,He){(null==He||He>Ne.length)&&(He=Ne.length);for(var be=0,Ie=new Array(He);be<He;be++)Ie[be]=Ne[be];return Ie}function O(Ne,He){if(!(Ne instanceof He))throw new TypeError("Cannot call a class as a function")}function se(Ne,He){for(var be=0;be<He.length;be++){var Ie=He[be];Ie.enumerable=Ie.enumerable||!1,Ie.configurable=!0,"value"in Ie&&(Ie.writable=!0),Object.defineProperty(Ne,Ie.key,Ie)}}function ae(Ne,He,be){return He&&se(Ne.prototype,He),be&&se(Ne,be),Ne}var ue=function(){function Ne(){O(this,Ne)}return ae(Ne,null,[{key:"create",value:function(be){switch(be.data.annotationType){case G.AnnotationType.LINK:return new T(be);case G.AnnotationType.TEXT:return new ne(be);case G.AnnotationType.WIDGET:switch(be.data.fieldType){case"Tx":return new F(be);case"Btn":return be.data.radioButton?new M(be):be.data.checkBox?new ee(be):new P(be);case"Ch":return new Y(be)}return new x(be);case G.AnnotationType.POPUP:return new j(be);case G.AnnotationType.FREETEXT:return new Z(be);case G.AnnotationType.LINE:return new $(be);case G.AnnotationType.SQUARE:return new Q(be);case G.AnnotationType.CIRCLE:return new de(be);case G.AnnotationType.POLYLINE:return new fe(be);case G.AnnotationType.CARET:return new ye(be);case G.AnnotationType.INK:return new Ce(be);case G.AnnotationType.POLYGON:return new ge(be);case G.AnnotationType.HIGHLIGHT:return new Re(be);case G.AnnotationType.UNDERLINE:return new xe(be);case G.AnnotationType.SQUIGGLY:return new Le(be);case G.AnnotationType.STRIKEOUT:return new Oe(be);case G.AnnotationType.STAMP:return new Ze(be);case G.AnnotationType.FILEATTACHMENT:return new Ke(be);default:return new N(be)}}}]),Ne}(),N=function(){function Ne(He){var be=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Ie=be.isRenderable,Fe=void 0!==Ie&&Ie,at=be.ignoreBorder,ot=void 0!==at&&at,ct=be.createQuadrilaterals,lt=void 0!==ct&&ct;O(this,Ne),this.isRenderable=Fe,this.data=He.data,this.layer=He.layer,this.page=He.page,this.viewport=He.viewport,this.linkService=He.linkService,this.downloadManager=He.downloadManager,this.imageResourcesPath=He.imageResourcesPath,this.renderInteractiveForms=He.renderInteractiveForms,this.svgFactory=He.svgFactory,this.annotationStorage=He.annotationStorage,this.enableScripting=He.enableScripting,this.hasJSActions=He.hasJSActions,this._mouseState=He.mouseState,Fe&&(this.container=this._createContainer(ot)),lt&&(this.quadrilaterals=this._createQuadrilaterals(ot))}return ae(Ne,[{key:"_createContainer",value:function(){var be=arguments.length>0&&void 0!==arguments[0]&&arguments[0],Ie=this.data,Fe=this.page,at=this.viewport,ot=document.createElement("section"),ct=Ie.rect[2]-Ie.rect[0],lt=Ie.rect[3]-Ie.rect[1];ot.setAttribute("data-annotation-id",Ie.id);var tt=G.Util.normalizeRect([Ie.rect[0],Fe.view[3]-Ie.rect[1]+Fe.view[1],Ie.rect[2],Fe.view[3]-Ie.rect[3]+Fe.view[1]]);if(ot.style.transform="matrix(".concat(at.transform.join(","),")"),ot.style.transformOrigin="".concat(-tt[0],"px ").concat(-tt[1],"px"),!be&&Ie.borderStyle.width>0){ot.style.borderWidth="".concat(Ie.borderStyle.width,"px"),Ie.borderStyle.style!==G.AnnotationBorderStyleType.UNDERLINE&&(ct-=2*Ie.borderStyle.width,lt-=2*Ie.borderStyle.width);var xt=Ie.borderStyle.horizontalCornerRadius,Mt=Ie.borderStyle.verticalCornerRadius;if(xt>0||Mt>0){var qe="".concat(xt,"px / ").concat(Mt,"px");ot.style.borderRadius=qe}switch(Ie.borderStyle.style){case G.AnnotationBorderStyleType.SOLID:ot.style.borderStyle="solid";break;case G.AnnotationBorderStyleType.DASHED:ot.style.borderStyle="dashed";break;case G.AnnotationBorderStyleType.BEVELED:(0,G.warn)("Unimplemented border style: beveled");break;case G.AnnotationBorderStyleType.INSET:(0,G.warn)("Unimplemented border style: inset");break;case G.AnnotationBorderStyleType.UNDERLINE:ot.style.borderBottomStyle="solid"}Ie.color?ot.style.borderColor=G.Util.makeHexColor(0|Ie.color[0],0|Ie.color[1],0|Ie.color[2]):ot.style.borderWidth=0}return ot.style.left="".concat(tt[0],"px"),ot.style.top="".concat(tt[1],"px"),ot.style.width="".concat(ct,"px"),ot.style.height="".concat(lt,"px"),ot}},{key:"_createQuadrilaterals",value:function(){var be=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.data.quadPoints)return null;var ot,Ie=[],Fe=this.data.rect,at=B(this.data.quadPoints);try{for(at.s();!(ot=at.n()).done;){var ct=ot.value;this.data.rect=[ct[2].x,ct[2].y,ct[1].x,ct[1].y],Ie.push(this._createContainer(be))}}catch(lt){at.e(lt)}finally{at.f()}return this.data.rect=Fe,Ie}},{key:"_createPopup",value:function(be,Ie){var Fe=this.container;this.quadrilaterals&&(be=be||this.quadrilaterals,Fe=this.quadrilaterals[0]),be||((be=document.createElement("div")).style.height=Fe.style.height,be.style.width=Fe.style.width,Fe.appendChild(be));var ot=new A({container:Fe,trigger:be,color:Ie.color,title:Ie.title,modificationDate:Ie.modificationDate,contents:Ie.contents,hideWrapper:!0}).render();ot.style.left=Fe.style.width,Fe.appendChild(ot)}},{key:"_renderQuadrilaterals",value:function(be){return this.quadrilaterals.forEach(function(Ie){Ie.className=be}),this.quadrilaterals}},{key:"render",value:function(){(0,G.unreachable)("Abstract method `AnnotationElement.render` called")}}]),Ne}(),T=function(Ne){D(be,Ne);var He=ce(be);function be(Ie){return O(this,be),He.call(this,Ie,{isRenderable:!!(Ie.data.url||Ie.data.dest||Ie.data.action||Ie.data.isTooltipOnly||Ie.data.actions&&(Ie.data.actions.Action||Ie.data.actions["Mouse Up"]||Ie.data.actions["Mouse Down"])),createQuadrilaterals:!0})}return ae(be,[{key:"render",value:function(){var Fe=this.data,at=this.linkService,ot=document.createElement("a");return Fe.url?(0,H.addLinkAttributes)(ot,{url:Fe.url,target:Fe.newWindow?H.LinkTarget.BLANK:at.externalLinkTarget,rel:at.externalLinkRel,enabled:at.externalLinkEnabled}):Fe.action?this._bindNamedAction(ot,Fe.action):Fe.dest?this._bindLink(ot,Fe.dest):Fe.actions&&(Fe.actions.Action||Fe.actions["Mouse Up"]||Fe.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions?this._bindJSAction(ot,Fe):this._bindLink(ot,""),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map(function(ct,lt){var tt=0===lt?ot:ot.cloneNode();return ct.appendChild(tt),ct}):(this.container.className="linkAnnotation",this.container.appendChild(ot),this.container)}},{key:"_bindLink",value:function(Fe,at){var ot=this;Fe.href=this.linkService.getDestinationHash(at),Fe.onclick=function(){return at&&ot.linkService.goToDestination(at),!1},(at||""===at)&&(Fe.className="internalLink")}},{key:"_bindNamedAction",value:function(Fe,at){var ot=this;Fe.href=this.linkService.getAnchorUrl(""),Fe.onclick=function(){return ot.linkService.executeNamedAction(at),!1},Fe.className="internalLink"}},{key:"_bindJSAction",value:function(Fe,at){var ot=this;Fe.href=this.linkService.getAnchorUrl("");for(var ct=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]),lt=function(){var ft=xt[tt],gt=ct.get(ft);if(!gt)return"continue";Fe[gt]=function(){var Tt;return null===(Tt=ot.linkService.eventBus)||void 0===Tt||Tt.dispatch("dispatcheventinsandbox",{source:ot,detail:{id:at.id,name:ft}}),!1}},tt=0,xt=Object.keys(at.actions);tt<xt.length;tt++)lt();Fe.className="internalLink"}}]),be}(N),ne=function(Ne){D(be,Ne);var He=ce(be);function be(Ie){return O(this,be),He.call(this,Ie,{isRenderable:!!(Ie.data.hasPopup||Ie.data.title||Ie.data.contents)})}return ae(be,[{key:"render",value:function(){this.container.className="textAnnotation";var Fe=document.createElement("img");return Fe.style.height=this.container.style.height,Fe.style.width=this.container.style.width,Fe.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Fe.alt="[{{type}} Annotation]",Fe.dataset.l10nId="text_annotation_type",Fe.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(Fe,this.data),this.container.appendChild(Fe),this.container}}]),be}(N),x=function(Ne){D(be,Ne);var He=ce(be);function be(){return O(this,be),He.apply(this,arguments)}return ae(be,[{key:"render",value:function(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}},{key:"_getKeyModifier",value:function(Fe){return navigator.platform.includes("Win")&&Fe.ctrlKey||navigator.platform.includes("Mac")&&Fe.metaKey}},{key:"_setEventListener",value:function(Fe,at,ot,ct){var lt=this;at.includes("mouse")?Fe.addEventListener(at,function(tt){var xt;null===(xt=lt.linkService.eventBus)||void 0===xt||xt.dispatch("dispatcheventinsandbox",{source:lt,detail:{id:lt.data.id,name:ot,value:ct(tt),shift:tt.shiftKey,modifier:lt._getKeyModifier(tt)}})}):Fe.addEventListener(at,function(tt){var xt;null===(xt=lt.linkService.eventBus)||void 0===xt||xt.dispatch("dispatcheventinsandbox",{source:lt,detail:{id:lt.data.id,name:ot,value:tt.target.checked}})})}},{key:"_setEventListeners",value:function(Fe,at,ot){var lt,ct=B(at);try{for(ct.s();!(lt=ct.n()).done;){var tt,xt=K(lt.value,2),qe=xt[1];("Action"===qe||null!==(tt=this.data.actions)&&void 0!==tt&&tt[qe])&&this._setEventListener(Fe,xt[0],qe,ot)}}catch(ft){ct.e(ft)}finally{ct.f()}}}]),be}(N),F=function(Ne){D(be,Ne);var He=ce(be);function be(Ie){return O(this,be),He.call(this,Ie,{isRenderable:Ie.renderInteractiveForms||!Ie.data.hasAppearance&&!!Ie.data.fieldValue})}return ae(be,[{key:"render",value:function(){var Fe=this,at=this.annotationStorage,ot=this.data.id;this.container.className="textWidgetAnnotation";var ct=null;if(this.renderInteractiveForms){var lt=at.getOrCreateValue(ot,{value:this.data.fieldValue}).value,tt={userValue:null,formattedValue:null,beforeInputSelectionRange:null,beforeInputValue:null};this.data.multiLine?(ct=document.createElement("textarea")).textContent=lt:((ct=document.createElement("input")).type="text",ct.setAttribute("value",lt)),tt.userValue=lt,ct.setAttribute("id",ot),ct.addEventListener("input",function(gt){at.setValue(ot,{value:gt.target.value})});var xt=function(Tt){tt.formattedValue&&(Tt.target.value=tt.formattedValue),Tt.target.setSelectionRange(0,0),tt.beforeInputSelectionRange=null};if(this.enableScripting&&this.hasJSActions&&(ct.addEventListener("focus",function(gt){tt.userValue&&(gt.target.value=tt.userValue)}),ct.addEventListener("updatefromsandbox",function(gt){var Tt=gt.detail,Ve={value:function(){tt.userValue=Tt.value||"",at.setValue(ot,{value:tt.userValue.toString()}),tt.formattedValue||(gt.target.value=tt.userValue)},valueAsString:function(){tt.formattedValue=Tt.valueAsString||"",gt.target!==document.activeElement&&(gt.target.value=tt.formattedValue),at.setValue(ot,{formattedValue:tt.formattedValue})},focus:function(){setTimeout(function(){return gt.target.focus({preventScroll:!1})},0)},userName:function(){gt.target.title=Tt.userName},hidden:function(){gt.target.style.visibility=Tt.hidden?"hidden":"visible",at.setValue(ot,{hidden:Tt.hidden})},editable:function(){gt.target.disabled=!Tt.editable},selRange:function(){var it=K(Tt.selRange,2),dt=it[0],Ae=it[1];dt>=0&&Ae<gt.target.value.length&&gt.target.setSelectionRange(dt,Ae)},strokeColor:function(){var it=Tt.strokeColor;gt.target.style.color=V.ColorConverters["".concat(it[0],"_HTML")](it.slice(1))}};Object.keys(Tt).filter(function($e){return $e in Ve}).forEach(function($e){return Ve[$e]()})}),this.data.actions)){ct.addEventListener("keydown",function(gt){var Tt;tt.beforeInputValue=gt.target.value;var Ve=-1;"Escape"===gt.key?Ve=0:"Enter"===gt.key?Ve=2:"Tab"===gt.key&&(Ve=3),-1!==Ve&&(tt.userValue=gt.target.value,null===(Tt=Fe.linkService.eventBus)||void 0===Tt||Tt.dispatch("dispatcheventinsandbox",{source:Fe,detail:{id:ot,name:"Keystroke",value:gt.target.value,willCommit:!0,commitKey:Ve,selStart:gt.target.selectionStart,selEnd:gt.target.selectionEnd}}))});var Mt=xt;xt=null,ct.addEventListener("blur",function(gt){var Tt;Fe._mouseState.isDown&&(tt.userValue=gt.target.value,null===(Tt=Fe.linkService.eventBus)||void 0===Tt||Tt.dispatch("dispatcheventinsandbox",{source:Fe,detail:{id:ot,name:"Keystroke",value:gt.target.value,willCommit:!0,commitKey:1,selStart:gt.target.selectionStart,selEnd:gt.target.selectionEnd}})),Mt(gt)}),ct.addEventListener("mousedown",function(gt){tt.beforeInputValue=gt.target.value,tt.beforeInputSelectionRange=null}),ct.addEventListener("keyup",function(gt){gt.target.selectionStart===gt.target.selectionEnd&&(tt.beforeInputSelectionRange=null)}),ct.addEventListener("select",function(gt){tt.beforeInputSelectionRange=[gt.target.selectionStart,gt.target.selectionEnd]}),"Keystroke"in this.data.actions&&ct.addEventListener("input",function(gt){var Tt,Ve=-1,$e=-1;if(tt.beforeInputSelectionRange){var it=K(tt.beforeInputSelectionRange,2);Ve=it[0],$e=it[1]}null===(Tt=Fe.linkService.eventBus)||void 0===Tt||Tt.dispatch("dispatcheventinsandbox",{source:Fe,detail:{id:ot,name:"Keystroke",value:tt.beforeInputValue,change:gt.data,willCommit:!1,selStart:Ve,selEnd:$e}})}),this._setEventListeners(ct,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(gt){return gt.target.value})}if(xt&&ct.addEventListener("blur",xt),ct.disabled=this.data.readOnly,ct.name=this.data.fieldName,null!==this.data.maxLen&&(ct.maxLength=this.data.maxLen),this.data.comb){var ft=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;ct.classList.add("comb"),ct.style.letterSpacing="calc(".concat(ft,"px - 1ch)")}}else(ct=document.createElement("div")).textContent=this.data.fieldValue,ct.style.verticalAlign="middle",ct.style.display="table-cell";return this._setTextStyle(ct),this.container.appendChild(ct),this.container}},{key:"_setTextStyle",value:function(Fe){var ot=this.data.defaultAppearanceData,ct=ot.fontSize,lt=ot.fontColor,tt=Fe.style;ct&&(tt.fontSize="".concat(ct,"px")),tt.color=G.Util.makeHexColor(lt[0],lt[1],lt[2]),null!==this.data.textAlignment&&(tt.textAlign=["left","center","right"][this.data.textAlignment])}}]),be}(x),ee=function(Ne){D(be,Ne);var He=ce(be);function be(Ie){return O(this,be),He.call(this,Ie,{isRenderable:Ie.renderInteractiveForms})}return ae(be,[{key:"render",value:function(){var Fe=this.annotationStorage,at=this.data,ot=at.id,ct=Fe.getOrCreateValue(ot,{value:at.fieldValue&&"Off"!==at.fieldValue}).value;this.container.className="buttonWidgetAnnotation checkBox";var lt=document.createElement("input");return lt.disabled=at.readOnly,lt.type="checkbox",lt.name=this.data.fieldName,ct&&lt.setAttribute("checked",!0),lt.setAttribute("id",ot),lt.addEventListener("change",function(tt){var qe,Mt=B(document.getElementsByName(tt.target.name));try{for(Mt.s();!(qe=Mt.n()).done;){var ft=qe.value;ft!==tt.target&&(ft.checked=!1,Fe.setValue(ft.parentNode.getAttribute("data-annotation-id"),{value:!1}))}}catch(gt){Mt.e(gt)}finally{Mt.f()}Fe.setValue(ot,{value:tt.target.checked})}),this.enableScripting&&this.hasJSActions&&(lt.addEventListener("updatefromsandbox",function(tt){var xt=tt.detail,Mt={value:function(){tt.target.checked="Off"!==xt.value,Fe.setValue(ot,{value:tt.target.checked})},focus:function(){setTimeout(function(){return tt.target.focus({preventScroll:!1})},0)},hidden:function(){tt.target.style.visibility=xt.hidden?"hidden":"visible",Fe.setValue(ot,{hidden:xt.hidden})},editable:function(){tt.target.disabled=!xt.editable}};Object.keys(xt).filter(function(qe){return qe in Mt}).forEach(function(qe){return Mt[qe]()})}),this._setEventListeners(lt,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(tt){return tt.target.checked})),this.container.appendChild(lt),this.container}}]),be}(x),M=function(Ne){D(be,Ne);var He=ce(be);function be(Ie){return O(this,be),He.call(this,Ie,{isRenderable:Ie.renderInteractiveForms})}return ae(be,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation radioButton";var Fe=this.annotationStorage,at=this.data,ot=at.id,ct=Fe.getOrCreateValue(ot,{value:at.fieldValue===at.buttonValue}).value,lt=document.createElement("input");return lt.disabled=at.readOnly,lt.type="radio",lt.name=at.fieldName,ct&&lt.setAttribute("checked",!0),lt.setAttribute("pdfButtonValue",at.buttonValue),lt.setAttribute("id",ot),lt.addEventListener("change",function(tt){var qe,xt=tt.target,Mt=B(document.getElementsByName(xt.name));try{for(Mt.s();!(qe=Mt.n()).done;){var ft=qe.value;ft!==xt&&Fe.setValue(ft.getAttribute("id"),{value:!1})}}catch(gt){Mt.e(gt)}finally{Mt.f()}Fe.setValue(ot,{value:xt.checked})}),this.enableScripting&&this.hasJSActions&&(lt.addEventListener("updatefromsandbox",function(tt){var xt=tt.detail,Mt={value:function(){var Tt,ft=xt.value,gt=B(document.getElementsByName(tt.target.name));try{for(gt.s();!(Tt=gt.n()).done;){var Ve=Tt.value,$e=Ve.getAttribute("id");ft===Ve.getAttribute("pdfButtonValue")?(Ve.setAttribute("checked",!0),Fe.setValue($e,{value:!0})):Fe.setValue($e,{value:!1})}}catch(it){gt.e(it)}finally{gt.f()}},focus:function(){setTimeout(function(){return tt.target.focus({preventScroll:!1})},0)},hidden:function(){tt.target.style.visibility=xt.hidden?"hidden":"visible",Fe.setValue(ot,{hidden:xt.hidden})},editable:function(){tt.target.disabled=!xt.editable}};Object.keys(xt).filter(function(qe){return qe in Mt}).forEach(function(qe){return Mt[qe]()})}),this._setEventListeners(lt,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(tt){return tt.target.checked})),this.container.appendChild(lt),this.container}}]),be}(x),P=function(Ne){D(be,Ne);var He=ce(be);function be(){return O(this,be),He.apply(this,arguments)}return ae(be,[{key:"render",value:function(){var Fe=oe(E(be.prototype),"render",this).call(this);return Fe.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(Fe.title=this.data.alternativeText),Fe}}]),be}(T),Y=function(Ne){D(be,Ne);var He=ce(be);function be(Ie){return O(this,be),He.call(this,Ie,{isRenderable:Ie.renderInteractiveForms})}return ae(be,[{key:"render",value:function(){var Fe=this;this.container.className="choiceWidgetAnnotation";var at=this.annotationStorage,ot=this.data.id;at.getOrCreateValue(ot,{value:this.data.fieldValue.length>0?this.data.fieldValue[0]:void 0});var ct=document.createElement("select");ct.disabled=this.data.readOnly,ct.name=this.data.fieldName,ct.setAttribute("id",ot),this.data.combo||(ct.size=this.data.options.length,this.data.multiSelect&&(ct.multiple=!0));var tt,lt=B(this.data.options);try{for(lt.s();!(tt=lt.n()).done;){var xt=tt.value,Mt=document.createElement("option");Mt.textContent=xt.displayValue,Mt.value=xt.exportValue,this.data.fieldValue.includes(xt.exportValue)&&Mt.setAttribute("selected",!0),ct.appendChild(Mt)}}catch(ft){lt.e(ft)}finally{lt.f()}function qe(ft){var gt=ft.target.options;return gt[gt.selectedIndex].value}return this.enableScripting&&this.hasJSActions?(ct.addEventListener("updatefromsandbox",function(ft){var gt=ft.detail,Tt={value:function(){var $e=ft.target.options,it=gt.value,dt=$e.indexOf(it);-1!==dt&&($e.selectedIndex=dt,at.setValue(ot,{value:it}))},focus:function(){setTimeout(function(){return ft.target.focus({preventScroll:!1})},0)},hidden:function(){ft.target.style.visibility=gt.hidden?"hidden":"visible",at.setValue(ot,{hidden:gt.hidden})},editable:function(){ft.target.disabled=!gt.editable}};Object.keys(gt).filter(function(Ve){return Ve in Tt}).forEach(function(Ve){return Tt[Ve]()})}),ct.addEventListener("input",function(ft){var gt,Tt=qe(ft);at.setValue(ot,{value:Tt}),null===(gt=Fe.linkService.eventBus)||void 0===gt||gt.dispatch("dispatcheventinsandbox",{source:Fe,detail:{id:ot,name:"Keystroke",changeEx:Tt,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(ct,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(ft){return ft.target.checked})):ct.addEventListener("input",function(ft){at.setValue(ot,{value:qe(ft)})}),this.container.appendChild(ct),this.container}}]),be}(x),j=function(Ne){D(be,Ne);var He=ce(be);function be(Ie){return O(this,be),He.call(this,Ie,{isRenderable:!(!Ie.data.title&&!Ie.data.contents)})}return ae(be,[{key:"render",value:function(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;var at='[data-annotation-id="'.concat(this.data.parentId,'"]'),ot=this.layer.querySelectorAll(at);if(0===ot.length)return this.container;var ct=new A({container:this.container,trigger:Array.from(ot),color:this.data.color,title:this.data.title,modificationDate:this.data.modificationDate,contents:this.data.contents}),lt=this.page,tt=G.Util.normalizeRect([this.data.parentRect[0],lt.view[3]-this.data.parentRect[1]+lt.view[1],this.data.parentRect[2],lt.view[3]-this.data.parentRect[3]+lt.view[1]]),xt=tt[0]+this.data.parentRect[2]-this.data.parentRect[0],Mt=tt[1];return this.container.style.transformOrigin="".concat(-xt,"px ").concat(-Mt,"px"),this.container.style.left="".concat(xt,"px"),this.container.style.top="".concat(Mt,"px"),this.container.appendChild(ct.render()),this.container}}]),be}(N),A=function(){function Ne(He){O(this,Ne),this.container=He.container,this.trigger=He.trigger,this.color=He.color,this.title=He.title,this.modificationDate=He.modificationDate,this.contents=He.contents,this.hideWrapper=He.hideWrapper||!1,this.pinned=!1}return ae(Ne,[{key:"render",value:function(){var be=this,Fe=document.createElement("div");Fe.className="popupWrapper",this.hideElement=this.hideWrapper?Fe:this.container,this.hideElement.setAttribute("hidden",!0);var at=document.createElement("div");at.className="popup";var ot=this.color;ot&&(at.style.backgroundColor=G.Util.makeHexColor(0|.7*(255-ot[0])+ot[0],0|.7*(255-ot[1])+ot[1],0|.7*(255-ot[2])+ot[2]));var xt=document.createElement("h1");xt.textContent=this.title,at.appendChild(xt);var Mt=H.PDFDateString.toDateObject(this.modificationDate);if(Mt){var qe=document.createElement("span");qe.textContent="{{date}}, {{time}}",qe.dataset.l10nId="annotation_date_string",qe.dataset.l10nArgs=JSON.stringify({date:Mt.toLocaleDateString(),time:Mt.toLocaleTimeString()}),at.appendChild(qe)}var ft=this._formatContents(this.contents);return at.appendChild(ft),Array.isArray(this.trigger)||(this.trigger=[this.trigger]),this.trigger.forEach(function(gt){gt.addEventListener("click",be._toggle.bind(be)),gt.addEventListener("mouseover",be._show.bind(be,!1)),gt.addEventListener("mouseout",be._hide.bind(be,!1))}),at.addEventListener("click",this._hide.bind(this,!0)),Fe.appendChild(at),Fe}},{key:"_formatContents",value:function(be){for(var Ie=document.createElement("p"),Fe=be.split(/(?:\r\n?|\n)/),at=0,ot=Fe.length;at<ot;++at)Ie.appendChild(document.createTextNode(Fe[at])),at<ot-1&&Ie.appendChild(document.createElement("br"));return Ie}},{key:"_toggle",value:function(){this.pinned?this._hide(!0):this._show(!0)}},{key:"_show",value:function(){var be=arguments.length>0&&void 0!==arguments[0]&&arguments[0];be&&(this.pinned=!0),this.hideElement.hasAttribute("hidden")&&(this.hideElement.removeAttribute("hidden"),this.container.style.zIndex+=1)}},{key:"_hide",value:function(){var be=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];be&&(this.pinned=!1),!this.hideElement.hasAttribute("hidden")&&!this.pinned&&(this.hideElement.setAttribute("hidden",!0),this.container.style.zIndex-=1)}}]),Ne}(),Z=function(Ne){D(be,Ne);var He=ce(be);function be(Ie){return O(this,be),He.call(this,Ie,{isRenderable:!!(Ie.data.hasPopup||Ie.data.title||Ie.data.contents),ignoreBorder:!0})}return ae(be,[{key:"render",value:function(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),be}(N),$=function(Ne){D(be,Ne);var He=ce(be);function be(Ie){return O(this,be),He.call(this,Ie,{isRenderable:!!(Ie.data.hasPopup||Ie.data.title||Ie.data.contents),ignoreBorder:!0})}return ae(be,[{key:"render",value:function(){this.container.className="lineAnnotation";var Fe=this.data,ct=this.svgFactory.create(Fe.rect[2]-Fe.rect[0],Fe.rect[3]-Fe.rect[1]),lt=this.svgFactory.createElement("svg:line");return lt.setAttribute("x1",Fe.rect[2]-Fe.lineCoordinates[0]),lt.setAttribute("y1",Fe.rect[3]-Fe.lineCoordinates[1]),lt.setAttribute("x2",Fe.rect[2]-Fe.lineCoordinates[2]),lt.setAttribute("y2",Fe.rect[3]-Fe.lineCoordinates[3]),lt.setAttribute("stroke-width",Fe.borderStyle.width||1),lt.setAttribute("stroke","transparent"),ct.appendChild(lt),this.container.append(ct),this._createPopup(lt,Fe),this.container}}]),be}(N),Q=function(Ne){D(be,Ne);var He=ce(be);function be(Ie){return O(this,be),He.call(this,Ie,{isRenderable:!!(Ie.data.hasPopup||Ie.data.title||Ie.data.contents),ignoreBorder:!0})}return ae(be,[{key:"render",value:function(){this.container.className="squareAnnotation";var Fe=this.data,at=Fe.rect[2]-Fe.rect[0],ot=Fe.rect[3]-Fe.rect[1],ct=this.svgFactory.create(at,ot),lt=Fe.borderStyle.width,tt=this.svgFactory.createElement("svg:rect");return tt.setAttribute("x",lt/2),tt.setAttribute("y",lt/2),tt.setAttribute("width",at-lt),tt.setAttribute("height",ot-lt),tt.setAttribute("stroke-width",lt||1),tt.setAttribute("stroke","transparent"),tt.setAttribute("fill","none"),ct.appendChild(tt),this.container.append(ct),this._createPopup(tt,Fe),this.container}}]),be}(N),de=function(Ne){D(be,Ne);var He=ce(be);function be(Ie){return O(this,be),He.call(this,Ie,{isRenderable:!!(Ie.data.hasPopup||Ie.data.title||Ie.data.contents),ignoreBorder:!0})}return ae(be,[{key:"render",value:function(){this.container.className="circleAnnotation";var Fe=this.data,at=Fe.rect[2]-Fe.rect[0],ot=Fe.rect[3]-Fe.rect[1],ct=this.svgFactory.create(at,ot),lt=Fe.borderStyle.width,tt=this.svgFactory.createElement("svg:ellipse");return tt.setAttribute("cx",at/2),tt.setAttribute("cy",ot/2),tt.setAttribute("rx",at/2-lt/2),tt.setAttribute("ry",ot/2-lt/2),tt.setAttribute("stroke-width",lt||1),tt.setAttribute("stroke","transparent"),tt.setAttribute("fill","none"),ct.appendChild(tt),this.container.append(ct),this._createPopup(tt,Fe),this.container}}]),be}(N),fe=function(Ne){D(be,Ne);var He=ce(be);function be(Ie){var Fe;return O(this,be),(Fe=He.call(this,Ie,{isRenderable:!!(Ie.data.hasPopup||Ie.data.title||Ie.data.contents),ignoreBorder:!0})).containerClassName="polylineAnnotation",Fe.svgElementName="svg:polyline",Fe}return ae(be,[{key:"render",value:function(){this.container.className=this.containerClassName;var xt,Fe=this.data,ct=this.svgFactory.create(Fe.rect[2]-Fe.rect[0],Fe.rect[3]-Fe.rect[1]),lt=[],tt=B(Fe.vertices);try{for(tt.s();!(xt=tt.n()).done;){var Mt=xt.value;lt.push(Mt.x-Fe.rect[0]+","+(Fe.rect[3]-Mt.y))}}catch(Tt){tt.e(Tt)}finally{tt.f()}lt=lt.join(" ");var gt=this.svgFactory.createElement(this.svgElementName);return gt.setAttribute("points",lt),gt.setAttribute("stroke-width",Fe.borderStyle.width||1),gt.setAttribute("stroke","transparent"),gt.setAttribute("fill","none"),ct.appendChild(gt),this.container.append(ct),this._createPopup(gt,Fe),this.container}}]),be}(N),ge=function(Ne){D(be,Ne);var He=ce(be);function be(Ie){var Fe;return O(this,be),(Fe=He.call(this,Ie)).containerClassName="polygonAnnotation",Fe.svgElementName="svg:polygon",Fe}return be}(fe),ye=function(Ne){D(be,Ne);var He=ce(be);function be(Ie){return O(this,be),He.call(this,Ie,{isRenderable:!!(Ie.data.hasPopup||Ie.data.title||Ie.data.contents),ignoreBorder:!0})}return ae(be,[{key:"render",value:function(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),be}(N),Ce=function(Ne){D(be,Ne);var He=ce(be);function be(Ie){var Fe;return O(this,be),(Fe=He.call(this,Ie,{isRenderable:!!(Ie.data.hasPopup||Ie.data.title||Ie.data.contents),ignoreBorder:!0})).containerClassName="inkAnnotation",Fe.svgElementName="svg:polyline",Fe}return ae(be,[{key:"render",value:function(){this.container.className=this.containerClassName;var tt,Fe=this.data,ct=this.svgFactory.create(Fe.rect[2]-Fe.rect[0],Fe.rect[3]-Fe.rect[1]),lt=B(Fe.inkLists);try{for(lt.s();!(tt=lt.n()).done;){var ft,Mt=[],qe=B(tt.value);try{for(qe.s();!(ft=qe.n()).done;){var gt=ft.value,Ve=Fe.rect[3]-gt.y;Mt.push("".concat(gt.x-Fe.rect[0],",").concat(Ve))}}catch(it){qe.e(it)}finally{qe.f()}Mt=Mt.join(" ");var $e=this.svgFactory.createElement(this.svgElementName);$e.setAttribute("points",Mt),$e.setAttribute("stroke-width",Fe.borderStyle.width||1),$e.setAttribute("stroke","transparent"),$e.setAttribute("fill","none"),this._createPopup($e,Fe),ct.appendChild($e)}}catch(it){lt.e(it)}finally{lt.f()}return this.container.append(ct),this.container}}]),be}(N),Re=function(Ne){D(be,Ne);var He=ce(be);function be(Ie){return O(this,be),He.call(this,Ie,{isRenderable:!!(Ie.data.hasPopup||Ie.data.title||Ie.data.contents),ignoreBorder:!0,createQuadrilaterals:!0})}return ae(be,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}]),be}(N),xe=function(Ne){D(be,Ne);var He=ce(be);function be(Ie){return O(this,be),He.call(this,Ie,{isRenderable:!!(Ie.data.hasPopup||Ie.data.title||Ie.data.contents),ignoreBorder:!0,createQuadrilaterals:!0})}return ae(be,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}]),be}(N),Le=function(Ne){D(be,Ne);var He=ce(be);function be(Ie){return O(this,be),He.call(this,Ie,{isRenderable:!!(Ie.data.hasPopup||Ie.data.title||Ie.data.contents),ignoreBorder:!0,createQuadrilaterals:!0})}return ae(be,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}]),be}(N),Oe=function(Ne){D(be,Ne);var He=ce(be);function be(Ie){return O(this,be),He.call(this,Ie,{isRenderable:!!(Ie.data.hasPopup||Ie.data.title||Ie.data.contents),ignoreBorder:!0,createQuadrilaterals:!0})}return ae(be,[{key:"render",value:function(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}]),be}(N),Ze=function(Ne){D(be,Ne);var He=ce(be);function be(Ie){return O(this,be),He.call(this,Ie,{isRenderable:!!(Ie.data.hasPopup||Ie.data.title||Ie.data.contents),ignoreBorder:!0})}return ae(be,[{key:"render",value:function(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}]),be}(N),Ke=function(Ne){D(be,Ne);var He=ce(be);function be(Ie){var Fe,at;O(this,be);var ot=(at=He.call(this,Ie,{isRenderable:!0})).data.file,ct=ot.filename,lt=ot.content;return at.filename=(0,H.getFilenameFromUrl)(ct),at.content=lt,null===(Fe=at.linkService.eventBus)||void 0===Fe||Fe.dispatch("fileattachmentannotation",{source:L(at),id:(0,G.stringToPDFString)(ct),filename:ct,content:lt}),at}return ae(be,[{key:"render",value:function(){this.container.className="fileAttachmentAnnotation";var Fe=document.createElement("div");return Fe.style.height=this.container.style.height,Fe.style.width=this.container.style.width,Fe.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.title||this.data.contents)&&this._createPopup(Fe,this.data),this.container.appendChild(Fe),this.container}},{key:"_download",value:function(){this.downloadManager?this.downloadManager.downloadData(this.content,this.filename,""):(0,G.warn)("Download cannot be started due to unavailable download manager")}}]),be}(N);I.AnnotationLayer=function(){function Ne(){O(this,Ne)}return ae(Ne,null,[{key:"render",value:function(be){var ot,Ie=[],Fe=[],at=B(be.annotations);try{for(at.s();!(ot=at.n()).done;){var ct=ot.value;if(ct){if(ct.annotationType===G.AnnotationType.POPUP){Fe.push(ct);continue}Ie.push(ct)}}}catch(Ve){at.e(Ve)}finally{at.f()}Fe.length&&Ie.push.apply(Ie,Fe);for(var lt=0,tt=Ie;lt<tt.length;lt++){var xt=tt[lt],Mt=ue.create({data:xt,layer:be.div,page:be.page,viewport:be.viewport,linkService:be.linkService,downloadManager:be.downloadManager,imageResourcesPath:be.imageResourcesPath||"",renderInteractiveForms:"boolean"!=typeof be.renderInteractiveForms||be.renderInteractiveForms,svgFactory:new H.DOMSVGFactory,annotationStorage:be.annotationStorage||new ie.AnnotationStorage,enableScripting:be.enableScripting,hasJSActions:be.hasJSActions,mouseState:be.mouseState||{isDown:!1}});if(Mt.isRenderable){var qe=Mt.render();if(xt.hidden&&(qe.style.visibility="hidden"),Array.isArray(qe)){var gt,ft=B(qe);try{for(ft.s();!(gt=ft.n()).done;)be.div.appendChild(gt.value)}catch(Ve){ft.e(Ve)}finally{ft.f()}}else Mt instanceof j?be.div.prepend(qe):be.div.appendChild(qe)}}}},{key:"update",value:function(be){var at,Ie="matrix(".concat(be.viewport.transform.join(","),")"),Fe=B(be.annotations);try{for(Fe.s();!(at=Fe.n()).done;){var ct=be.div.querySelectorAll('[data-annotation-id="'.concat(at.value.id,'"]'));ct&&ct.forEach(function(lt){lt.style.transform=Ie})}}catch(lt){Fe.e(lt)}finally{Fe.f()}be.div.removeAttribute("hidden")}}]),Ne}()},(ve,I)=>{"use strict";function y(X,D){return function(X){if(Array.isArray(X))return X}(X)||function(X,D){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(X)){var te=[],ce=!0,re=!1,L=void 0;try{for(var E,z=X[Symbol.iterator]();!(ce=(E=z.next()).done)&&(te.push(E.value),!D||te.length!==D);ce=!0);}catch(B){re=!0,L=B}finally{try{!ce&&null!=z.return&&z.return()}finally{if(re)throw L}}return te}}(X,D)||function(X,D){if(X){if("string"==typeof X)return G(X,D);var te=Object.prototype.toString.call(X).slice(8,-1);if("Object"===te&&X.constructor&&(te=X.constructor.name),"Map"===te||"Set"===te)return Array.from(X);if("Arguments"===te||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(te))return G(X,D)}}(X,D)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(X,D){(null==D||D>X.length)&&(D=X.length);for(var te=0,ce=new Array(D);te<D;te++)ce[te]=X[te];return ce}function J(X,D){for(var te=0;te<D.length;te++){var ce=D[te];ce.enumerable=ce.enumerable||!1,ce.configurable=!0,"value"in ce&&(ce.writable=!0),Object.defineProperty(X,ce.key,ce)}}function he(X){return Math.floor(255*Math.max(0,Math.min(1,X))).toString(16).padStart(2,"0")}Object.defineProperty(I,"__esModule",{value:!0}),I.ColorConverters=void 0,I.ColorConverters=function(){function X(){!function(X,D){if(!(X instanceof D))throw new TypeError("Cannot call a class as a function")}(this,X)}return function(X,D,te){te&&J(X,te)}(X,0,[{key:"CMYK_G",value:function(te){var ce=y(te,4);return["G",1-Math.min(1,.3*ce[0]+.59*ce[2]+.11*ce[1]+ce[3])]}},{key:"G_CMYK",value:function(te){return["CMYK",0,0,0,1-y(te,1)[0]]}},{key:"G_RGB",value:function(te){var re=y(te,1)[0];return["RGB",re,re,re]}},{key:"G_HTML",value:function(te){var L=he(y(te,1)[0]);return"#".concat(L).concat(L).concat(L)}},{key:"RGB_G",value:function(te){var ce=y(te,3);return["G",.3*ce[0]+.59*ce[1]+.11*ce[2]]}},{key:"RGB_HTML",value:function(te){var ce=y(te,3),L=ce[1],z=ce[2],E=he(ce[0]),B=he(L),C=he(z);return"#".concat(E).concat(B).concat(C)}},{key:"T_HTML",value:function(){return"#00000000"}},{key:"CMYK_RGB",value:function(te){var ce=y(te,4),L=ce[1],z=ce[2],E=ce[3];return["RGB",1-Math.min(1,ce[0]+E),1-Math.min(1,z+E),1-Math.min(1,L+E)]}},{key:"CMYK_HTML",value:function(te){return this.RGB_HTML(this.CMYK_RGB(te))}},{key:"RGB_CMYK",value:function(te){var ce=y(te,3),E=1-ce[0],B=1-ce[1],C=1-ce[2];return["CMYK",E,B,C,Math.min(E,B,C)]}}]),X}()},(ve,I,y)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.renderTextLayer=void 0;var a=y(4),H=function(){var V=/\S/;function J(re,L,z){var E=document.createElement("span"),B={angle:0,canvasWidth:0,isWhitespace:!1,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1};if(re._textDivs.push(E),function(re){return!V.test(re)}(L.str))return B.isWhitespace=!0,void re._textDivProperties.set(E,B);var C=a.Util.transform(re._viewport.transform,L.transform),R=Math.atan2(C[1],C[0]),O=z[L.fontName];O.vertical&&(R+=Math.PI/2);var ue,N,se=Math.sqrt(C[2]*C[2]+C[3]*C[3]),ae=se;O.ascent?ae*=O.ascent:O.descent&&(ae*=1+O.descent),0===R?(ue=C[4],N=C[5]-ae):(ue=C[4]+ae*Math.sin(R),N=C[5]-ae*Math.cos(R)),E.style.left="".concat(ue,"px"),E.style.top="".concat(N,"px"),E.style.fontSize="".concat(se,"px"),E.style.fontFamily=O.fontFamily,E.textContent=L.str,re._fontInspectorEnabled&&(E.dataset.fontName=L.fontName),0!==R&&(B.angle=R*(180/Math.PI));var T=!1;if(L.str.length>1)T=!0;else if(L.transform[0]!==L.transform[3]){var ne=Math.abs(L.transform[0]),x=Math.abs(L.transform[3]);ne!==x&&Math.max(ne,x)/Math.min(ne,x)>1.5&&(T=!0)}if(T&&(B.canvasWidth=O.vertical?L.height*re._viewport.scale:L.width*re._viewport.scale),re._textDivProperties.set(E,B),re._textContentStream&&re._layoutText(E),re._enhanceTextSelection){var F=1,ee=0;0!==R&&(F=Math.cos(R),ee=Math.sin(R));var Y,j,M=(O.vertical?L.height:L.width)*re._viewport.scale,P=se;j=0!==R?a.Util.getAxialAlignedBoundingBox([0,0,M,P],Y=[F,ee,-ee,F,ue,N]):[ue,N,ue+M,N+P],re._bounds.push({left:j[0],top:j[1],right:j[2],bottom:j[3],div:E,size:[M,P],m:Y})}}function K(re){if(!re._canceled){var L=re._textDivs,z=re._capability,E=L.length;if(E>1e5)return re._renderingDone=!0,void z.resolve();if(!re._textContentStream)for(var B=0;B<E;B++)re._layoutText(L[B]);re._renderingDone=!0,z.resolve()}}function he(re,L,z){for(var E=0,B=0;B<z;B++){var C=re[L++];C>0&&(E=E?Math.min(C,E):C)}return E}function D(re,L){L.sort(function(B,C){return B.x1-C.x1||B.index-C.index});var E=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];L.forEach(function(B){for(var C=0;C<E.length&&E[C].end<=B.y1;)C++;for(var R=E.length-1;R>=0&&E[R].start>=B.y2;)R--;var O,se,ae,ue,N=-1/0;for(ae=C;ae<=R;ae++){var T;(T=(se=(O=E[ae]).boundary).x2>B.x1?se.index>B.index?se.x1New:B.x1:void 0===se.x2New?(se.x2+B.x1)/2:se.x2New)>N&&(N=T)}for(B.x1New=N,ae=C;ae<=R;ae++)void 0===(se=(O=E[ae]).boundary).x2New?se.x2>B.x1?se.index>B.index&&(se.x2New=se.x2):se.x2New=N:se.x2New>N&&(se.x2New=Math.max(N,se.x2));var ne=[],x=null;for(ae=C;ae<=R;ae++){var F=(se=(O=E[ae]).boundary).x2>B.x2?se:B;x===F?ne[ne.length-1].end=O.end:(ne.push({start:O.start,end:O.end,boundary:F}),x=F)}for(E[C].start<B.y1&&(ne[0].start=B.y1,ne.unshift({start:E[C].start,end:B.y1,boundary:E[C].boundary})),B.y2<E[R].end&&(ne[ne.length-1].end=B.y2,ne.push({start:B.y2,end:E[R].end,boundary:E[R].boundary})),ae=C;ae<=R;ae++)if(void 0===(se=(O=E[ae]).boundary).x2New){var ee=!1;for(ue=C-1;!ee&&ue>=0&&E[ue].start>=se.y1;ue--)ee=E[ue].boundary===se;for(ue=R+1;!ee&&ue<E.length&&E[ue].end<=se.y2;ue++)ee=E[ue].boundary===se;for(ue=0;!ee&&ue<ne.length;ue++)ee=ne[ue].boundary===se;ee||(se.x2New=N)}Array.prototype.splice.apply(E,[C,R-C+1].concat(ne))}),E.forEach(function(B){var C=B.boundary;void 0===C.x2New&&(C.x2New=Math.max(re,C.x2))})}function te(re){var L,z=this,B=re.textContentStream,C=re.container,R=re.viewport,O=re.textDivs,se=re.textContentItemsStr,ae=re.enhanceTextSelection;this._textContent=re.textContent,this._textContentStream=B,this._container=C,this._document=C.ownerDocument,this._viewport=R,this._textDivs=O||[],this._textContentItemsStr=se||[],this._enhanceTextSelection=!!ae,this._fontInspectorEnabled=!(null===(L=globalThis.FontInspector)||void 0===L||!L.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,a.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(function(){z._layoutTextCtx&&(z._layoutTextCtx.canvas.width=0,z._layoutTextCtx.canvas.height=0,z._layoutTextCtx=null)}).catch(function(){})}return te.prototype={get promise(){return this._capability.promise},cancel:function(){this._canceled=!0,this._reader&&(this._reader.cancel(new a.AbortException("TextLayer task cancelled.")),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))},_processItems:function(L,z){for(var E=0,B=L.length;E<B;E++)this._textContentItemsStr.push(L[E].str),J(this,L[E],z)},_layoutText:function(L){var z=this._textDivProperties.get(L);if(!z.isWhitespace){var E="";if(0!==z.canvasWidth){var B=L.style,C=B.fontSize,R=B.fontFamily;(C!==this._layoutTextLastFontSize||R!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font="".concat(C," ").concat(R),this._layoutTextLastFontSize=C,this._layoutTextLastFontFamily=R);var se=this._layoutTextCtx.measureText(L.textContent).width;se>0&&(z.scale=z.canvasWidth/se,E="scaleX(".concat(z.scale,")"))}0!==z.angle&&(E="rotate(".concat(z.angle,"deg) ").concat(E)),E.length>0&&(this._enhanceTextSelection&&(z.originalTransform=E),L.style.transform=E),this._textDivProperties.set(L,z),this._container.appendChild(L)}},_render:function(L){var z=this,E=(0,a.createPromiseCapability)(),B=Object.create(null),C=this._document.createElement("canvas");if(C.mozOpaque=!0,this._layoutTextCtx=C.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),E.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');this._reader=this._textContentStream.getReader(),function ae(){z._reader.read().then(function(ue){var N=ue.value;ue.done?E.resolve():(Object.assign(B,N.styles),z._processItems(N.items,B),ae())},E.reject)}()}E.promise.then(function(){B=null,L?z._renderTimer=setTimeout(function(){K(z),z._renderTimer=null},L):K(z)},this._capability.reject)},expandTextDivs:function(L){if(this._enhanceTextSelection&&this._renderingDone){null!==this._bounds&&(function(re){for(var L=re._bounds,z=re._viewport,E=function(re,L,z){var E=z.map(function(C,R){return{x1:C.left,y1:C.top,x2:C.right,y2:C.bottom,index:R,x1New:void 0,x2New:void 0}});D(re,E);var B=new Array(z.length);return E.forEach(function(C){B[C.index]={left:C.x1New,top:0,right:C.x2New,bottom:0}}),z.map(function(C,R){var O=B[R],se=E[R];se.x1=C.top,se.y1=re-O.right,se.x2=C.bottom,se.y2=re-O.left,se.index=R,se.x1New=void 0,se.x2New=void 0}),D(L,E),E.forEach(function(C){var R=C.index;B[R].top=C.x1New,B[R].bottom=C.x2New}),B}(z.width,z.height,L),B=function(se){var ae=L[se].div,ue=re._textDivProperties.get(ae);if(0===ue.angle)return ue.paddingLeft=L[se].left-E[se].left,ue.paddingTop=L[se].top-E[se].top,ue.paddingRight=E[se].right-L[se].right,ue.paddingBottom=E[se].bottom-L[se].bottom,re._textDivProperties.set(ae,ue),"continue";var N=E[se],T=L[se],ne=T.m,x=ne[0],F=ne[1],ee=[[0,0],[0,T.size[1]],[T.size[0],0],T.size],M=new Float64Array(64);ee.forEach(function(Y,j){var A=a.Util.applyTransform(Y,ne);M[j+0]=x&&(N.left-A[0])/x,M[j+4]=F&&(N.top-A[1])/F,M[j+8]=x&&(N.right-A[0])/x,M[j+12]=F&&(N.bottom-A[1])/F,M[j+16]=F&&(N.left-A[0])/-F,M[j+20]=x&&(N.top-A[1])/x,M[j+24]=F&&(N.right-A[0])/-F,M[j+28]=x&&(N.bottom-A[1])/x,M[j+32]=x&&(N.left-A[0])/-x,M[j+36]=F&&(N.top-A[1])/-F,M[j+40]=x&&(N.right-A[0])/-x,M[j+44]=F&&(N.bottom-A[1])/-F,M[j+48]=F&&(N.left-A[0])/F,M[j+52]=x&&(N.top-A[1])/-x,M[j+56]=F&&(N.right-A[0])/F,M[j+60]=x&&(N.bottom-A[1])/-x});var P=1+Math.min(Math.abs(x),Math.abs(F));ue.paddingLeft=he(M,32,16)/P,ue.paddingTop=he(M,48,16)/P,ue.paddingRight=he(M,0,16)/P,ue.paddingBottom=he(M,16,16)/P,re._textDivProperties.set(ae,ue)},C=0;C<E.length;C++)B(C)}(this),this._bounds=null);for(var z=[],E=[],B=0,C=this._textDivs.length;B<C;B++){var R=this._textDivs[B],O=this._textDivProperties.get(R);O.isWhitespace||(L?(z.length=0,E.length=0,O.originalTransform&&z.push(O.originalTransform),O.paddingTop>0?(E.push("".concat(O.paddingTop,"px")),z.push("translateY(".concat(-O.paddingTop,"px)"))):E.push(0),E.push(O.paddingRight>0?"".concat(O.paddingRight/O.scale,"px"):0),E.push(O.paddingBottom>0?"".concat(O.paddingBottom,"px"):0),O.paddingLeft>0?(E.push("".concat(O.paddingLeft/O.scale,"px")),z.push("translateX(".concat(-O.paddingLeft/O.scale,"px)"))):E.push(0),R.style.padding=E.join(" "),z.length&&(R.style.transform=z.join(" "))):(R.style.padding=null,R.style.transform=O.originalTransform))}}}},function(re){var L=new te({textContent:re.textContent,textContentStream:re.textContentStream,container:re.container,viewport:re.viewport,textDivs:re.textDivs,textContentItemsStr:re.textContentItemsStr,enhanceTextSelection:re.enhanceTextSelection});return L._render(re.timeout),L}}();I.renderTextLayer=H},(ve,I,y)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.SVGGraphics=void 0;var a=y(4),H=y(1),G=y(6);function K(M,P){return function(M){if(Array.isArray(M))return M}(M)||function(M,P){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(M)){var Y=[],j=!0,A=!1,Z=void 0;try{for(var Q,$=M[Symbol.iterator]();!(j=(Q=$.next()).done)&&(Y.push(Q.value),!P||Y.length!==P);j=!0);}catch(de){A=!0,Z=de}finally{try{!j&&null!=$.return&&$.return()}finally{if(A)throw Z}}return Y}}(M,P)||te(M,P)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(M,P){var Y;if("undefined"==typeof Symbol||null==M[Symbol.iterator]){if(Array.isArray(M)||(Y=te(M))||P&&M&&"number"==typeof M.length){Y&&(M=Y);var j=0,A=function(){};return{s:A,n:function(){return j>=M.length?{done:!0}:{done:!1,value:M[j++]}},e:function(fe){throw fe},f:A}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Q,Z=!0,$=!1;return{s:function(){Y=M[Symbol.iterator]()},n:function(){var fe=Y.next();return Z=fe.done,fe},e:function(fe){$=!0,Q=fe},f:function(){try{!Z&&null!=Y.return&&Y.return()}finally{if($)throw Q}}}}function te(M,P){if(M){if("string"==typeof M)return ce(M,P);var Y=Object.prototype.toString.call(M).slice(8,-1);if("Object"===Y&&M.constructor&&(Y=M.constructor.name),"Map"===Y||"Set"===Y)return Array.from(M);if("Arguments"===Y||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Y))return ce(M,P)}}function ce(M,P){(null==P||P>M.length)&&(P=M.length);for(var Y=0,j=new Array(P);Y<P;Y++)j[Y]=M[Y];return j}function re(M,P){if(!(M instanceof P))throw new TypeError("Cannot call a class as a function")}function L(M,P){for(var Y=0;Y<P.length;Y++){var j=P[Y];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(M,j.key,j)}}function z(M,P,Y){return P&&L(M.prototype,P),Y&&L(M,Y),M}var E=function(){throw new Error("Not implemented: SVGGraphics")};I.SVGGraphics=E;var C=function(P){if(Number.isInteger(P))return P.toString();var Y=P.toFixed(10),j=Y.length-1;if("0"!==Y[j])return Y;do{j--}while("0"===Y[j]);return Y.substring(0,"."===Y[j]?j:j+1)},R=function(P){if(0===P[4]&&0===P[5]){if(0===P[1]&&0===P[2])return 1===P[0]&&1===P[3]?"":"scale(".concat(C(P[0])," ").concat(C(P[3]),")");if(P[0]===P[3]&&P[1]===-P[2]){var Y=180*Math.acos(P[0])/Math.PI;return"rotate(".concat(C(Y),")")}}else if(1===P[0]&&0===P[1]&&0===P[2]&&1===P[3])return"translate(".concat(C(P[4])," ").concat(C(P[5]),")");return"matrix(".concat(C(P[0])," ").concat(C(P[1])," ").concat(C(P[2])," ").concat(C(P[3])," ").concat(C(P[4])," ")+"".concat(C(P[5]),")")},O_fontStyle="normal",O_fontWeight="normal",O_fillColor="#000000",ue=["butt","round","square"],N=["miter","round","bevel"],T=function(){for(var M=new Uint8Array([137,80,78,71,13,10,26,10]),Y=new Int32Array(256),j=0;j<256;j++){for(var A=j,Z=0;Z<8;Z++)A=1&A?3988292384^A>>1&2147483647:A>>1&2147483647;Y[j]=A}function Q(Ce,Re,xe,Le){var Oe=Le,Ze=Re.length;xe[Oe]=Ze>>24&255,xe[Oe+1]=Ze>>16&255,xe[Oe+2]=Ze>>8&255,xe[Oe+3]=255&Ze,xe[Oe+=4]=255&Ce.charCodeAt(0),xe[Oe+1]=255&Ce.charCodeAt(1),xe[Oe+2]=255&Ce.charCodeAt(2),xe[Oe+3]=255&Ce.charCodeAt(3),xe.set(Re,Oe+=4);var Ke=function(Ce,Re,xe){for(var Le=-1,Oe=Re;Oe<xe;Oe++)Le=Le>>>8^Y[255&(Le^Ce[Oe])];return-1^Le}(xe,Le+4,Oe+=Re.length);xe[Oe]=Ke>>24&255,xe[Oe+1]=Ke>>16&255,xe[Oe+2]=Ke>>8&255,xe[Oe+3]=255&Ke}function ge(Ce){var Re=Ce.length,xe=65535,Le=Math.ceil(Re/xe),Oe=new Uint8Array(2+Re+5*Le+4),Ze=0;Oe[Ze++]=120,Oe[Ze++]=156;for(var Ke=0;Re>xe;)Oe[Ze++]=0,Oe[Ze++]=255,Oe[Ze++]=255,Oe[Ze++]=0,Oe[Ze++]=0,Oe.set(Ce.subarray(Ke,Ke+xe),Ze),Ze+=xe,Ke+=xe,Re-=xe;Oe[Ze++]=1,Oe[Ze++]=255&Re,Oe[Ze++]=Re>>8&255,Oe[Ze++]=255&~Re,Oe[Ze++]=(65535&~Re)>>8&255,Oe.set(Ce.subarray(Ke),Ze),Ze+=Ce.length-Ke;var et=function(Ce,Re,xe){for(var Le=1,Oe=0,Ze=0;Ze<xe;++Ze)Oe=(Oe+(Le=(Le+(255&Ce[Ze]))%65521))%65521;return Oe<<16|Le}(Ce,0,Ce.length);return Oe[Ze++]=et>>24&255,Oe[Ze++]=et>>16&255,Oe[Ze++]=et>>8&255,Oe[Ze++]=255&et,Oe}return function(Re,xe,Le){return function(Ce,Re,xe,Le){var Ke,et,Ne,Oe=Ce.width,Ze=Ce.height,He=Ce.data;switch(Re){case a.ImageKind.GRAYSCALE_1BPP:et=0,Ke=1,Ne=Oe+7>>3;break;case a.ImageKind.RGB_24BPP:et=2,Ke=8,Ne=3*Oe;break;case a.ImageKind.RGBA_32BPP:et=6,Ke=8,Ne=4*Oe;break;default:throw new Error("invalid format")}for(var be=new Uint8Array((1+Ne)*Ze),Ie=0,Fe=0,at=0;at<Ze;++at)be[Ie++]=0,be.set(He.subarray(Fe,Fe+Ne),Ie),Fe+=Ne,Ie+=Ne;if(Re===a.ImageKind.GRAYSCALE_1BPP&&Le){Ie=0;for(var ot=0;ot<Ze;ot++){Ie++;for(var ct=0;ct<Ne;ct++)be[Ie++]^=255}}var lt=new Uint8Array([Oe>>24&255,Oe>>16&255,Oe>>8&255,255&Oe,Ze>>24&255,Ze>>16&255,Ze>>8&255,255&Ze,Ke,et,0,0,0]),tt=function(Ce){if(!G.isNodeJS)return ge(Ce);try{var Re;Re=parseInt(process.versions.node)>=8?Ce:Buffer.from(Ce);var xe=__webpack_require__(3074).deflateSync(Re,{level:9});return xe instanceof Uint8Array?xe:new Uint8Array(xe)}catch(Le){(0,a.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Le)}return ge(Ce)}(be),Mt=new Uint8Array(M.length+36+lt.length+tt.length),qe=0;return Mt.set(M,qe),Q("IHDR",lt,Mt,qe+=M.length),Q("IDATA",tt,Mt,qe+=12+lt.length),qe+=12+tt.length,Q("IEND",new Uint8Array(0),Mt,qe),(0,a.createObjectURL)(Mt,"image/png",xe)}(Re,void 0===Re.kind?a.ImageKind.GRAYSCALE_1BPP:Re.kind,xe,Le)}}(),ne=function(){function M(){re(this,M),this.fontSizeScale=1,this.fontWeight=O_fontWeight,this.fontSize=0,this.textMatrix=a.IDENTITY_MATRIX,this.fontMatrix=a.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=a.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=O_fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}return z(M,[{key:"clone",value:function(){return Object.create(this)}},{key:"setCurrentPoint",value:function(Y,j){this.x=Y,this.y=j}}]),M}(),x=0,F=0,ee=0;I.SVGGraphics=E=function(){function M(P,Y){var j=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var A in re(this,M),this.svgFactory=new H.DOMSVGFactory,this.current=new ne,this.transformMatrix=a.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=P,this.objs=Y,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!j,this._operatorIdMapping=[],a.OPS)this._operatorIdMapping[a.OPS[A]]=A}return z(M,[{key:"save",value:function(){this.transformStack.push(this.transformMatrix);var Y=this.current;this.extraStack.push(Y),this.current=Y.clone()}},{key:"restore",value:function(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}},{key:"group",value:function(Y){this.save(),this.executeOpTree(Y),this.restore()}},{key:"loadDependencies",value:function(Y){for(var j=this,A=Y.fnArray,Z=Y.argsArray,$=0,Q=A.length;$<Q;$++)if(A[$]===a.OPS.dependency){var fe,de=D(Z[$]);try{var ge=function(){var Ce=fe.value,Re=Ce.startsWith("g_")?j.commonObjs:j.objs,xe=new Promise(function(Le){Re.get(Ce,Le)});j.current.dependencies.push(xe)};for(de.s();!(fe=de.n()).done;)ge()}catch(ye){de.e(ye)}finally{de.f()}}return Promise.all(this.current.dependencies)}},{key:"transform",value:function(Y,j,A,Z,$,Q){this.transformMatrix=a.Util.transform(this.transformMatrix,[Y,j,A,Z,$,Q]),this.tgrp=null}},{key:"getSVG",value:function(Y,j){var A=this;this.viewport=j;var Z=this._initialize(j);return this.loadDependencies(Y).then(function(){return A.transformMatrix=a.IDENTITY_MATRIX,A.executeOpTree(A.convertOpList(Y)),Z})}},{key:"convertOpList",value:function(Y){for(var j=this._operatorIdMapping,A=Y.argsArray,Z=Y.fnArray,$=[],Q=0,de=Z.length;Q<de;Q++){var fe=Z[Q];$.push({fnId:fe,fn:j[fe],args:A[Q]})}return function(P){var Z,Y=[],j=[],A=D(P);try{for(A.s();!(Z=A.n()).done;){var $=Z.value;"save"!==$.fn?"restore"===$.fn?Y=j.pop():Y.push($):(Y.push({fnId:92,fn:"group",items:[]}),j.push(Y),Y=Y[Y.length-1].items)}}catch(Q){A.e(Q)}finally{A.f()}return Y}($)}},{key:"executeOpTree",value:function(Y){var A,j=D(Y);try{for(j.s();!(A=j.n()).done;){var Z=A.value,$=Z.fn,de=Z.args;switch(0|Z.fnId){case a.OPS.beginText:this.beginText();break;case a.OPS.dependency:break;case a.OPS.setLeading:this.setLeading(de);break;case a.OPS.setLeadingMoveText:this.setLeadingMoveText(de[0],de[1]);break;case a.OPS.setFont:this.setFont(de);break;case a.OPS.showText:case a.OPS.showSpacedText:this.showText(de[0]);break;case a.OPS.endText:this.endText();break;case a.OPS.moveText:this.moveText(de[0],de[1]);break;case a.OPS.setCharSpacing:this.setCharSpacing(de[0]);break;case a.OPS.setWordSpacing:this.setWordSpacing(de[0]);break;case a.OPS.setHScale:this.setHScale(de[0]);break;case a.OPS.setTextMatrix:this.setTextMatrix(de[0],de[1],de[2],de[3],de[4],de[5]);break;case a.OPS.setTextRise:this.setTextRise(de[0]);break;case a.OPS.setTextRenderingMode:this.setTextRenderingMode(de[0]);break;case a.OPS.setLineWidth:this.setLineWidth(de[0]);break;case a.OPS.setLineJoin:this.setLineJoin(de[0]);break;case a.OPS.setLineCap:this.setLineCap(de[0]);break;case a.OPS.setMiterLimit:this.setMiterLimit(de[0]);break;case a.OPS.setFillRGBColor:this.setFillRGBColor(de[0],de[1],de[2]);break;case a.OPS.setStrokeRGBColor:this.setStrokeRGBColor(de[0],de[1],de[2]);break;case a.OPS.setStrokeColorN:this.setStrokeColorN(de);break;case a.OPS.setFillColorN:this.setFillColorN(de);break;case a.OPS.shadingFill:this.shadingFill(de[0]);break;case a.OPS.setDash:this.setDash(de[0],de[1]);break;case a.OPS.setRenderingIntent:this.setRenderingIntent(de[0]);break;case a.OPS.setFlatness:this.setFlatness(de[0]);break;case a.OPS.setGState:this.setGState(de[0]);break;case a.OPS.fill:this.fill();break;case a.OPS.eoFill:this.eoFill();break;case a.OPS.stroke:this.stroke();break;case a.OPS.fillStroke:this.fillStroke();break;case a.OPS.eoFillStroke:this.eoFillStroke();break;case a.OPS.clip:this.clip("nonzero");break;case a.OPS.eoClip:this.clip("evenodd");break;case a.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case a.OPS.paintImageXObject:this.paintImageXObject(de[0]);break;case a.OPS.paintInlineImageXObject:this.paintInlineImageXObject(de[0]);break;case a.OPS.paintImageMaskXObject:this.paintImageMaskXObject(de[0]);break;case a.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(de[0],de[1]);break;case a.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case a.OPS.closePath:this.closePath();break;case a.OPS.closeStroke:this.closeStroke();break;case a.OPS.closeFillStroke:this.closeFillStroke();break;case a.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case a.OPS.nextLine:this.nextLine();break;case a.OPS.transform:this.transform(de[0],de[1],de[2],de[3],de[4],de[5]);break;case a.OPS.constructPath:this.constructPath(de[0],de[1]);break;case a.OPS.endPath:this.endPath();break;case 92:this.group(Z.items);break;default:(0,a.warn)("Unimplemented operator ".concat($))}}}catch(fe){j.e(fe)}finally{j.f()}}},{key:"setWordSpacing",value:function(Y){this.current.wordSpacing=Y}},{key:"setCharSpacing",value:function(Y){this.current.charSpacing=Y}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"setTextMatrix",value:function(Y,j,A,Z,$,Q){var de=this.current;de.textMatrix=de.lineMatrix=[Y,j,A,Z,$,Q],de.textMatrixScale=Math.sqrt(Y*Y+j*j),de.x=de.lineX=0,de.y=de.lineY=0,de.xcoords=[],de.ycoords=[],de.tspan=this.svgFactory.createElement("svg:tspan"),de.tspan.setAttributeNS(null,"font-family",de.fontFamily),de.tspan.setAttributeNS(null,"font-size","".concat(C(de.fontSize),"px")),de.tspan.setAttributeNS(null,"y",C(-de.y)),de.txtElement=this.svgFactory.createElement("svg:text"),de.txtElement.appendChild(de.tspan)}},{key:"beginText",value:function(){var Y=this.current;Y.x=Y.lineX=0,Y.y=Y.lineY=0,Y.textMatrix=a.IDENTITY_MATRIX,Y.lineMatrix=a.IDENTITY_MATRIX,Y.textMatrixScale=1,Y.tspan=this.svgFactory.createElement("svg:tspan"),Y.txtElement=this.svgFactory.createElement("svg:text"),Y.txtgrp=this.svgFactory.createElement("svg:g"),Y.xcoords=[],Y.ycoords=[]}},{key:"moveText",value:function(Y,j){var A=this.current;A.x=A.lineX+=Y,A.y=A.lineY+=j,A.xcoords=[],A.ycoords=[],A.tspan=this.svgFactory.createElement("svg:tspan"),A.tspan.setAttributeNS(null,"font-family",A.fontFamily),A.tspan.setAttributeNS(null,"font-size","".concat(C(A.fontSize),"px")),A.tspan.setAttributeNS(null,"y",C(-A.y))}},{key:"showText",value:function(Y){var j=this.current,A=j.font,Z=j.fontSize;if(0!==Z){var Ze,$=j.fontSizeScale,Q=j.charSpacing,de=j.wordSpacing,fe=j.fontDirection,ge=j.textHScale*fe,ye=A.vertical,Ce=ye?1:-1,Re=A.defaultVMetrics,xe=Z*j.fontMatrix[0],Le=0,Oe=D(Y);try{for(Oe.s();!(Ze=Oe.n()).done;){var Ke=Ze.value;if(null!==Ke)if((0,a.isNum)(Ke))Le+=Ce*Ke*Z/1e3;else{var et=(Ke.isSpace?de:0)+Q,Ne=Ke.fontChar,He=void 0,be=void 0,Ie=Ke.width;if(ye){var Fe=void 0,at=Ke.vmetric||Re;Fe=Ke.vmetric?at[1]:.5*Ie,Ie=at?-at[0]:Ie,He=(Fe=-Fe*xe)/$,be=(Le+at[2]*xe)/$}else He=Le/$,be=0;(Ke.isInFont||A.missingFile)&&(j.xcoords.push(j.x+He),ye&&j.ycoords.push(-j.y+be),j.tspan.textContent+=Ne),Le+=ye?Ie*xe-et*fe:Ie*xe+et*fe}else Le+=fe*de}}catch(Mt){Oe.e(Mt)}finally{Oe.f()}j.tspan.setAttributeNS(null,"x",j.xcoords.map(C).join(" ")),j.tspan.setAttributeNS(null,"y",ye?j.ycoords.map(C).join(" "):C(-j.y)),ye?j.y-=Le:j.x+=Le*ge,j.tspan.setAttributeNS(null,"font-family",j.fontFamily),j.tspan.setAttributeNS(null,"font-size","".concat(C(j.fontSize),"px")),j.fontStyle!==O_fontStyle&&j.tspan.setAttributeNS(null,"font-style",j.fontStyle),j.fontWeight!==O_fontWeight&&j.tspan.setAttributeNS(null,"font-weight",j.fontWeight);var lt=j.textRenderingMode&a.TextRenderingMode.FILL_STROKE_MASK;lt===a.TextRenderingMode.FILL||lt===a.TextRenderingMode.FILL_STROKE?(j.fillColor!==O_fillColor&&j.tspan.setAttributeNS(null,"fill",j.fillColor),j.fillAlpha<1&&j.tspan.setAttributeNS(null,"fill-opacity",j.fillAlpha)):j.tspan.setAttributeNS(null,"fill",j.textRenderingMode===a.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(lt===a.TextRenderingMode.STROKE||lt===a.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(j.tspan,1/(j.textMatrixScale||1));var xt=j.textMatrix;0!==j.textRise&&((xt=xt.slice())[5]+=j.textRise),j.txtElement.setAttributeNS(null,"transform","".concat(R(xt)," scale(").concat(C(ge),", -1)")),j.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),j.txtElement.appendChild(j.tspan),j.txtgrp.appendChild(j.txtElement),this._ensureTransformGroup().appendChild(j.txtElement)}}},{key:"setLeadingMoveText",value:function(Y,j){this.setLeading(-j),this.moveText(Y,j)}},{key:"addFontStyle",value:function(Y){if(!Y.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var j=(0,a.createObjectURL)(Y.data,Y.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'.concat(Y.loadedName,'";')+" src: url(".concat(j,"); }\n")}},{key:"setFont",value:function(Y){var j=this.current,A=this.commonObjs.get(Y[0]),Z=Y[1];j.font=A,this.embedFonts&&!A.missingFile&&!this.embeddedFonts[A.loadedName]&&(this.addFontStyle(A),this.embeddedFonts[A.loadedName]=A),j.fontMatrix=A.fontMatrix||a.FONT_IDENTITY_MATRIX;var $="normal";A.black?$="900":A.bold&&($="bold");var Q=A.italic?"italic":"normal";Z<0?(Z=-Z,j.fontDirection=-1):j.fontDirection=1,j.fontSize=Z,j.fontFamily=A.loadedName,j.fontWeight=$,j.fontStyle=Q,j.tspan=this.svgFactory.createElement("svg:tspan"),j.tspan.setAttributeNS(null,"y",C(-j.y)),j.xcoords=[],j.ycoords=[]}},{key:"endText",value:function(){var Y,j=this.current;j.textRenderingMode&a.TextRenderingMode.ADD_TO_PATH_FLAG&&null!==(Y=j.txtElement)&&void 0!==Y&&Y.hasChildNodes()&&(j.element=j.txtElement,this.clip("nonzero"),this.endPath())}},{key:"setLineWidth",value:function(Y){Y>0&&(this.current.lineWidth=Y)}},{key:"setLineCap",value:function(Y){this.current.lineCap=ue[Y]}},{key:"setLineJoin",value:function(Y){this.current.lineJoin=N[Y]}},{key:"setMiterLimit",value:function(Y){this.current.miterLimit=Y}},{key:"setStrokeAlpha",value:function(Y){this.current.strokeAlpha=Y}},{key:"setStrokeRGBColor",value:function(Y,j,A){this.current.strokeColor=a.Util.makeHexColor(Y,j,A)}},{key:"setFillAlpha",value:function(Y){this.current.fillAlpha=Y}},{key:"setFillRGBColor",value:function(Y,j,A){this.current.fillColor=a.Util.makeHexColor(Y,j,A),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}},{key:"setStrokeColorN",value:function(Y){this.current.strokeColor=this._makeColorN_Pattern(Y)}},{key:"setFillColorN",value:function(Y){this.current.fillColor=this._makeColorN_Pattern(Y)}},{key:"shadingFill",value:function(Y){var j=this.viewport.width,A=this.viewport.height,Z=a.Util.inverseTransform(this.transformMatrix),$=a.Util.applyTransform([0,0],Z),Q=a.Util.applyTransform([0,A],Z),de=a.Util.applyTransform([j,0],Z),fe=a.Util.applyTransform([j,A],Z),ge=Math.min($[0],Q[0],de[0],fe[0]),ye=Math.min($[1],Q[1],de[1],fe[1]),Ce=Math.max($[0],Q[0],de[0],fe[0]),Re=Math.max($[1],Q[1],de[1],fe[1]),xe=this.svgFactory.createElement("svg:rect");xe.setAttributeNS(null,"x",ge),xe.setAttributeNS(null,"y",ye),xe.setAttributeNS(null,"width",Ce-ge),xe.setAttributeNS(null,"height",Re-ye),xe.setAttributeNS(null,"fill",this._makeShadingPattern(Y)),this.current.fillAlpha<1&&xe.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(xe)}},{key:"_makeColorN_Pattern",value:function(Y){return"TilingPattern"===Y[0]?this._makeTilingPattern(Y):this._makeShadingPattern(Y)}},{key:"_makeTilingPattern",value:function(Y){var j=Y[1],A=Y[2],Z=Y[3]||a.IDENTITY_MATRIX,$=K(Y[4],4),Q=$[0],de=$[1],fe=$[2],ge=$[3],ye=Y[5],Ce=Y[6],Re=Y[7],xe="shading".concat(ee++),Oe=K(a.Util.applyTransform([Q,de],Z),2),Ze=Oe[0],Ke=Oe[1],Ne=K(a.Util.applyTransform([fe,ge],Z),2),He=Ne[0],be=Ne[1],Fe=K(a.Util.singularValueDecompose2dScale(Z),2),ct=ye*Fe[0],lt=Ce*Fe[1],tt=this.svgFactory.createElement("svg:pattern");tt.setAttributeNS(null,"id",xe),tt.setAttributeNS(null,"patternUnits","userSpaceOnUse"),tt.setAttributeNS(null,"width",ct),tt.setAttributeNS(null,"height",lt),tt.setAttributeNS(null,"x","".concat(Ze)),tt.setAttributeNS(null,"y","".concat(Ke));var xt=this.svg,Mt=this.transformMatrix,qe=this.current.fillColor,ft=this.current.strokeColor,gt=this.svgFactory.create(He-Ze,be-Ke);if(this.svg=gt,this.transformMatrix=Z,2===Re){var Tt=a.Util.makeHexColor.apply(a.Util,function(M){return function(M){if(Array.isArray(M))return ce(M)}(M)||function(M){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(M))return Array.from(M)}(M)||te(M)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(j));this.current.fillColor=Tt,this.current.strokeColor=Tt}return this.executeOpTree(this.convertOpList(A)),this.svg=xt,this.transformMatrix=Mt,this.current.fillColor=qe,this.current.strokeColor=ft,tt.appendChild(gt.childNodes[0]),this.defs.appendChild(tt),"url(#".concat(xe,")")}},{key:"_makeShadingPattern",value:function(Y){switch(Y[0]){case"RadialAxial":var Z,j="shading".concat(ee++),A=Y[3];switch(Y[1]){case"axial":var $=Y[4],Q=Y[5];(Z=this.svgFactory.createElement("svg:linearGradient")).setAttributeNS(null,"id",j),Z.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Z.setAttributeNS(null,"x1",$[0]),Z.setAttributeNS(null,"y1",$[1]),Z.setAttributeNS(null,"x2",Q[0]),Z.setAttributeNS(null,"y2",Q[1]);break;case"radial":var de=Y[4],fe=Y[5],ge=Y[6],ye=Y[7];(Z=this.svgFactory.createElement("svg:radialGradient")).setAttributeNS(null,"id",j),Z.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Z.setAttributeNS(null,"cx",fe[0]),Z.setAttributeNS(null,"cy",fe[1]),Z.setAttributeNS(null,"r",ye),Z.setAttributeNS(null,"fx",de[0]),Z.setAttributeNS(null,"fy",de[1]),Z.setAttributeNS(null,"fr",ge);break;default:throw new Error("Unknown RadialAxial type: ".concat(Y[1]))}var Re,Ce=D(A);try{for(Ce.s();!(Re=Ce.n()).done;){var xe=Re.value,Le=this.svgFactory.createElement("svg:stop");Le.setAttributeNS(null,"offset",xe[0]),Le.setAttributeNS(null,"stop-color",xe[1]),Z.appendChild(Le)}}catch(Oe){Ce.e(Oe)}finally{Ce.f()}return this.defs.appendChild(Z),"url(#".concat(j,")");case"Mesh":return(0,a.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error("Unknown IR type: ".concat(Y[0]))}}},{key:"setDash",value:function(Y,j){this.current.dashArray=Y,this.current.dashPhase=j}},{key:"constructPath",value:function(Y,j){var ge,A=this.current,Z=A.x,$=A.y,Q=[],de=0,fe=D(Y);try{for(fe.s();!(ge=fe.n()).done;)switch(0|ge.value){case a.OPS.rectangle:Z=j[de++],$=j[de++];var xe=Z+j[de++],Le=$+j[de++];Q.push("M",C(Z),C($),"L",C(xe),C($),"L",C(xe),C(Le),"L",C(Z),C(Le),"Z");break;case a.OPS.moveTo:Z=j[de++],$=j[de++],Q.push("M",C(Z),C($));break;case a.OPS.lineTo:Z=j[de++],$=j[de++],Q.push("L",C(Z),C($));break;case a.OPS.curveTo:Z=j[de+4],$=j[de+5],Q.push("C",C(j[de]),C(j[de+1]),C(j[de+2]),C(j[de+3]),C(Z),C($)),de+=6;break;case a.OPS.curveTo2:Q.push("C",C(Z),C($),C(j[de]),C(j[de+1]),C(j[de+2]),C(j[de+3])),Z=j[de+2],$=j[de+3],de+=4;break;case a.OPS.curveTo3:Z=j[de+2],$=j[de+3],Q.push("C",C(j[de]),C(j[de+1]),C(Z),C($),C(Z),C($)),de+=4;break;case a.OPS.closePath:Q.push("Z")}}catch(Oe){fe.e(Oe)}finally{fe.f()}Q=Q.join(" "),A.path&&Y.length>0&&Y[0]!==a.OPS.rectangle&&Y[0]!==a.OPS.moveTo?Q=A.path.getAttributeNS(null,"d")+Q:(A.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(A.path)),A.path.setAttributeNS(null,"d",Q),A.path.setAttributeNS(null,"fill","none"),A.element=A.path,A.setCurrentPoint(Z,$)}},{key:"endPath",value:function(){var Y=this.current;if(Y.path=null,this.pendingClip){if(!Y.element)return void(this.pendingClip=null);var j="clippath".concat(x++),A=this.svgFactory.createElement("svg:clipPath");A.setAttributeNS(null,"id",j),A.setAttributeNS(null,"transform",R(this.transformMatrix));var Z=Y.element.cloneNode(!0);Z.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,A.appendChild(Z),this.defs.appendChild(A),Y.activeClipUrl&&(Y.clipGroup=null,this.extraStack.forEach(function($){$.clipGroup=null}),A.setAttributeNS(null,"clip-path",Y.activeClipUrl)),Y.activeClipUrl="url(#".concat(j,")"),this.tgrp=null}}},{key:"clip",value:function(Y){this.pendingClip=Y}},{key:"closePath",value:function(){var Y=this.current;if(Y.path){var j="".concat(Y.path.getAttributeNS(null,"d"),"Z");Y.path.setAttributeNS(null,"d",j)}}},{key:"setLeading",value:function(Y){this.current.leading=-Y}},{key:"setTextRise",value:function(Y){this.current.textRise=Y}},{key:"setTextRenderingMode",value:function(Y){this.current.textRenderingMode=Y}},{key:"setHScale",value:function(Y){this.current.textHScale=Y/100}},{key:"setRenderingIntent",value:function(Y){}},{key:"setFlatness",value:function(Y){}},{key:"setGState",value:function(Y){var A,j=D(Y);try{for(j.s();!(A=j.n()).done;){var Z=K(A.value,2),$=Z[0],Q=Z[1];switch($){case"LW":this.setLineWidth(Q);break;case"LC":this.setLineCap(Q);break;case"LJ":this.setLineJoin(Q);break;case"ML":this.setMiterLimit(Q);break;case"D":this.setDash(Q[0],Q[1]);break;case"RI":this.setRenderingIntent(Q);break;case"FL":this.setFlatness(Q);break;case"Font":this.setFont(Q);break;case"CA":this.setStrokeAlpha(Q);break;case"ca":this.setFillAlpha(Q);break;default:(0,a.warn)("Unimplemented graphic state operator ".concat($))}}}catch(de){j.e(de)}finally{j.f()}}},{key:"fill",value:function(){var Y=this.current;Y.element&&(Y.element.setAttributeNS(null,"fill",Y.fillColor),Y.element.setAttributeNS(null,"fill-opacity",Y.fillAlpha),this.endPath())}},{key:"stroke",value:function(){var Y=this.current;Y.element&&(this._setStrokeAttributes(Y.element),Y.element.setAttributeNS(null,"fill","none"),this.endPath())}},{key:"_setStrokeAttributes",value:function(Y){var j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,A=this.current,Z=A.dashArray;1!==j&&Z.length>0&&(Z=Z.map(function($){return j*$})),Y.setAttributeNS(null,"stroke",A.strokeColor),Y.setAttributeNS(null,"stroke-opacity",A.strokeAlpha),Y.setAttributeNS(null,"stroke-miterlimit",C(A.miterLimit)),Y.setAttributeNS(null,"stroke-linecap",A.lineCap),Y.setAttributeNS(null,"stroke-linejoin",A.lineJoin),Y.setAttributeNS(null,"stroke-width",C(j*A.lineWidth)+"px"),Y.setAttributeNS(null,"stroke-dasharray",Z.map(C).join(" ")),Y.setAttributeNS(null,"stroke-dashoffset",C(j*A.dashPhase)+"px")}},{key:"eoFill",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}},{key:"fillStroke",value:function(){this.stroke(),this.fill()}},{key:"eoFillStroke",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.closePath(),this.eoFillStroke()}},{key:"paintSolidColorImageMask",value:function(){var Y=this.svgFactory.createElement("svg:rect");Y.setAttributeNS(null,"x","0"),Y.setAttributeNS(null,"y","0"),Y.setAttributeNS(null,"width","1px"),Y.setAttributeNS(null,"height","1px"),Y.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(Y)}},{key:"paintImageXObject",value:function(Y){var j=Y.startsWith("g_")?this.commonObjs.get(Y):this.objs.get(Y);j?this.paintInlineImageXObject(j):(0,a.warn)("Dependent image with object ID ".concat(Y," is not ready yet"))}},{key:"paintInlineImageXObject",value:function(Y,j){var A=Y.width,Z=Y.height,$=T(Y,this.forceDataSchema,!!j),Q=this.svgFactory.createElement("svg:rect");Q.setAttributeNS(null,"x","0"),Q.setAttributeNS(null,"y","0"),Q.setAttributeNS(null,"width",C(A)),Q.setAttributeNS(null,"height",C(Z)),this.current.element=Q,this.clip("nonzero");var de=this.svgFactory.createElement("svg:image");de.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",$),de.setAttributeNS(null,"x","0"),de.setAttributeNS(null,"y",C(-Z)),de.setAttributeNS(null,"width",C(A)+"px"),de.setAttributeNS(null,"height",C(Z)+"px"),de.setAttributeNS(null,"transform","scale(".concat(C(1/A)," ").concat(C(-1/Z),")")),j?j.appendChild(de):this._ensureTransformGroup().appendChild(de)}},{key:"paintImageMaskXObject",value:function(Y){var j=this.current,A=Y.width,Z=Y.height,$=j.fillColor;j.maskId="mask".concat(F++);var Q=this.svgFactory.createElement("svg:mask");Q.setAttributeNS(null,"id",j.maskId);var de=this.svgFactory.createElement("svg:rect");de.setAttributeNS(null,"x","0"),de.setAttributeNS(null,"y","0"),de.setAttributeNS(null,"width",C(A)),de.setAttributeNS(null,"height",C(Z)),de.setAttributeNS(null,"fill",$),de.setAttributeNS(null,"mask","url(#".concat(j.maskId,")")),this.defs.appendChild(Q),this._ensureTransformGroup().appendChild(de),this.paintInlineImageXObject(Y,Q)}},{key:"paintFormXObjectBegin",value:function(Y,j){if(Array.isArray(Y)&&6===Y.length&&this.transform(Y[0],Y[1],Y[2],Y[3],Y[4],Y[5]),j){var A=j[2]-j[0],Z=j[3]-j[1],$=this.svgFactory.createElement("svg:rect");$.setAttributeNS(null,"x",j[0]),$.setAttributeNS(null,"y",j[1]),$.setAttributeNS(null,"width",C(A)),$.setAttributeNS(null,"height",C(Z)),this.current.element=$,this.clip("nonzero"),this.endPath()}}},{key:"paintFormXObjectEnd",value:function(){}},{key:"_initialize",value:function(Y){var j=this.svgFactory.create(Y.width,Y.height),A=this.svgFactory.createElement("svg:defs");j.appendChild(A),this.defs=A;var Z=this.svgFactory.createElement("svg:g");return Z.setAttributeNS(null,"transform",R(Y.transform)),j.appendChild(Z),this.svg=Z,j}},{key:"_ensureClipGroup",value:function(){if(!this.current.clipGroup){var Y=this.svgFactory.createElement("svg:g");Y.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(Y),this.current.clipGroup=Y}return this.current.clipGroup}},{key:"_ensureTransformGroup",value:function(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",R(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}]),M}()},(ve,I,y)=>{"use strict";function a(M){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Y){return typeof Y}:function(Y){return Y&&"function"==typeof Symbol&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y})(M)}Object.defineProperty(I,"__esModule",{value:!0}),I.PDFNodeStream=void 0;var M,H=(M=y(2))&&M.__esModule?M:{default:M},G=y(4),ie=y(154);function oe(M,P){if("function"!=typeof P&&null!==P)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(P&&P.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),P&&J(M,P)}function J(M,P){return(J=Object.setPrototypeOf||function(j,A){return j.__proto__=A,j})(M,P)}function K(M){var P=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(M){return!1}}();return function(){var A,j=D(M);if(P){var Z=D(this).constructor;A=Reflect.construct(j,arguments,Z)}else A=j.apply(this,arguments);return he(this,A)}}function he(M,P){return!P||"object"!==a(P)&&"function"!=typeof P?function(M){if(void 0===M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}(M):P}function D(M){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(Y){return Y.__proto__||Object.getPrototypeOf(Y)})(M)}function te(M,P,Y,j,A,Z,$){try{var Q=M[Z]($),de=Q.value}catch(fe){return void Y(fe)}Q.done?P(de):Promise.resolve(de).then(j,A)}function ce(M){return function(){var P=this,Y=arguments;return new Promise(function(j,A){var Z=M.apply(P,Y);function $(de){te(Z,j,A,$,Q,"next",de)}function Q(de){te(Z,j,A,$,Q,"throw",de)}$(void 0)})}}function re(M,P){if(!(M instanceof P))throw new TypeError("Cannot call a class as a function")}function L(M,P){for(var Y=0;Y<P.length;Y++){var j=P[Y];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(M,j.key,j)}}function z(M,P,Y){return P&&L(M.prototype,P),Y&&L(M,Y),M}var E=__webpack_require__(6599),B=__webpack_require__(5358),C=__webpack_require__(1822),R=__webpack_require__(1127),O=/^file:\/\/\/[a-zA-Z]:\//;I.PDFNodeStream=function(){function M(P){re(this,M),this.source=P,this.url=function(M){var P=R.parse(M);return"file:"===P.protocol||P.host?P:/^[a-z]:[/\\]/i.test(M)?R.parse("file:///".concat(M)):(P.host||(P.protocol="file:"),P)}(P.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&P.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return z(M,[{key:"getFullReader",value:function(){return(0,G.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new F(this):new ne(this),this._fullRequestReader}},{key:"getRangeReader",value:function(Y,j){if(j<=this._progressiveDataLength)return null;var A=this.isFsUrl?new ee(this,Y,j):new x(this,Y,j);return this._rangeRequestReaders.push(A),A}},{key:"cancelAllRequests",value:function(Y){this._fullRequestReader&&this._fullRequestReader.cancel(Y),this._rangeRequestReaders.slice(0).forEach(function(A){A.cancel(Y)})}},{key:"_progressiveDataLength",get:function(){var Y,j;return null!==(Y=null===(j=this._fullRequestReader)||void 0===j?void 0:j._loaded)&&void 0!==Y?Y:0}}]),M}();var ue=function(){function M(P){re(this,M),this._url=P.url,this._done=!1,this._storedError=null,this.onProgress=null;var Y=P.source;this._contentLength=Y.length,this._loaded=0,this._filename=null,this._disableRange=Y.disableRange||!1,this._rangeChunkSize=Y.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!Y.disableStream,this._isRangeSupported=!Y.disableRange,this._readableStream=null,this._readCapability=(0,G.createPromiseCapability)(),this._headersCapability=(0,G.createPromiseCapability)()}return z(M,[{key:"read",value:(P=ce(H.default.mark(function j(){var A,Z;return H.default.wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Q.next=2,this._readCapability.promise;case 2:if(!this._done){Q.next=4;break}return Q.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){Q.next=6;break}throw this._storedError;case 6:if(null!==(A=this._readableStream.read())){Q.next=10;break}return this._readCapability=(0,G.createPromiseCapability)(),Q.abrupt("return",this.read());case 10:return this._loaded+=A.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),Z=new Uint8Array(A).buffer,Q.abrupt("return",{value:Z,done:!1});case 14:case"end":return Q.stop()}},j,this)})),function(){return P.apply(this,arguments)})},{key:"cancel",value:function(Y){this._readableStream?this._readableStream.destroy(Y):this._error(Y)}},{key:"_error",value:function(Y){this._storedError=Y,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(Y){var j=this;this._readableStream=Y,Y.on("readable",function(){j._readCapability.resolve()}),Y.on("end",function(){Y.destroy(),j._done=!0,j._readCapability.resolve()}),Y.on("error",function(A){j._error(A)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new G.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),M;var P}(),N=function(){function M(P){re(this,M),this._url=P.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,G.createPromiseCapability)(),this._isStreamingSupported=!P.source.disableStream}return z(M,[{key:"read",value:(P=ce(H.default.mark(function j(){var A,Z;return H.default.wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Q.next=2,this._readCapability.promise;case 2:if(!this._done){Q.next=4;break}return Q.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){Q.next=6;break}throw this._storedError;case 6:if(null!==(A=this._readableStream.read())){Q.next=10;break}return this._readCapability=(0,G.createPromiseCapability)(),Q.abrupt("return",this.read());case 10:return this._loaded+=A.length,this.onProgress&&this.onProgress({loaded:this._loaded}),Z=new Uint8Array(A).buffer,Q.abrupt("return",{value:Z,done:!1});case 14:case"end":return Q.stop()}},j,this)})),function(){return P.apply(this,arguments)})},{key:"cancel",value:function(Y){this._readableStream?this._readableStream.destroy(Y):this._error(Y)}},{key:"_error",value:function(Y){this._storedError=Y,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(Y){var j=this;this._readableStream=Y,Y.on("readable",function(){j._readCapability.resolve()}),Y.on("end",function(){Y.destroy(),j._done=!0,j._readCapability.resolve()}),Y.on("error",function(A){j._error(A)}),this._storedError&&this._readableStream.destroy(this._storedError)}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),M;var P}();function T(M,P){return{protocol:M.protocol,auth:M.auth,host:M.hostname,port:M.port,path:M.path,method:"GET",headers:P}}var ne=function(M){oe(Y,M);var P=K(Y);function Y(j){var A;re(this,Y);var Z=function(Q){if(404===Q.statusCode){var de=new G.MissingPDFException('Missing PDF "'.concat(A._url,'".'));return A._storedError=de,void A._headersCapability.reject(de)}A._headersCapability.resolve(),A._setReadableStream(Q);var fe=function(xe){return A._readableStream.headers[xe.toLowerCase()]},ge=(0,ie.validateRangeRequestCapabilities)({getResponseHeader:fe,isHttp:j.isHttp,rangeChunkSize:A._rangeChunkSize,disableRange:A._disableRange}),Ce=ge.suggestedLength;A._isRangeSupported=ge.allowRangeRequests,A._contentLength=Ce||A._contentLength,A._filename=(0,ie.extractFilenameFromHeader)(fe)};return(A=P.call(this,j))._request=null,A._request="http:"===A._url.protocol?B.request(T(A._url,j.httpHeaders),Z):C.request(T(A._url,j.httpHeaders),Z),A._request.on("error",function($){A._storedError=$,A._headersCapability.reject($)}),A._request.end(),A}return Y}(ue),x=function(M){oe(Y,M);var P=K(Y);function Y(j,A,Z){var $;for(var Q in re(this,Y),($=P.call(this,j))._httpHeaders={},j.httpHeaders){var de=j.httpHeaders[Q];void 0!==de&&($._httpHeaders[Q]=de)}$._httpHeaders.Range="bytes=".concat(A,"-").concat(Z-1);var fe=function(ye){if(404!==ye.statusCode)$._setReadableStream(ye);else{var Ce=new G.MissingPDFException('Missing PDF "'.concat($._url,'".'));$._storedError=Ce}};return $._request=null,$._request="http:"===$._url.protocol?B.request(T($._url,$._httpHeaders),fe):C.request(T($._url,$._httpHeaders),fe),$._request.on("error",function(ge){$._storedError=ge}),$._request.end(),$}return Y}(N),F=function(M){oe(Y,M);var P=K(Y);function Y(j){var A;re(this,Y),A=P.call(this,j);var Z=decodeURIComponent(A._url.path);return O.test(A._url.href)&&(Z=Z.replace(/^\//,"")),E.lstat(Z,function($,Q){if($)return"ENOENT"===$.code&&($=new G.MissingPDFException('Missing PDF "'.concat(Z,'".'))),A._storedError=$,void A._headersCapability.reject($);A._contentLength=Q.size,A._setReadableStream(E.createReadStream(Z)),A._headersCapability.resolve()}),A}return Y}(ue),ee=function(M){oe(Y,M);var P=K(Y);function Y(j,A,Z){var $;re(this,Y),$=P.call(this,j);var Q=decodeURIComponent($._url.path);return O.test($._url.href)&&(Q=Q.replace(/^\//,"")),$._setReadableStream(E.createReadStream(Q,{start:A,end:Z-1})),$}return Y}(N)},(ve,I,y)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.createResponseStatusError=function(J,K){return 404===J||0===J&&K.startsWith("file:")?new a.MissingPDFException('Missing PDF "'+K+'".'):new a.UnexpectedResponseException("Unexpected server response ("+J+') while retrieving PDF "'+K+'".',J)},I.extractFilenameFromHeader=function(J){var K=J("Content-Disposition");if(K){var he=(0,H.getFilenameFromContentDispositionHeader)(K);if(he.includes("%"))try{he=decodeURIComponent(he)}catch(U){}if(/\.pdf$/i.test(he))return he}return null},I.validateRangeRequestCapabilities=function(J){var K=J.getResponseHeader,he=J.isHttp,U=J.rangeChunkSize,X=J.disableRange;(0,a.assert)(U>0,"Range chunk size must be larger than zero");var D={allowRangeRequests:!1,suggestedLength:void 0},te=parseInt(K("Content-Length"),10);return!Number.isInteger(te)||(D.suggestedLength=te,te<=2*U)||X||!he||"bytes"!==K("Accept-Ranges")||"identity"!==(K("Content-Encoding")||"identity")||(D.allowRangeRequests=!0),D},I.validateResponseStatus=function(J){return 200===J||206===J};var a=y(4),H=y(155)},(ve,I)=>{"use strict";function y(J,K){return function(J){if(Array.isArray(J))return J}(J)||function(J,K){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(J)){var he=[],U=!0,X=!1,D=void 0;try{for(var ce,te=J[Symbol.iterator]();!(U=(ce=te.next()).done)&&(he.push(ce.value),!K||he.length!==K);U=!0);}catch(re){X=!0,D=re}finally{try{!U&&null!=te.return&&te.return()}finally{if(X)throw D}}return he}}(J,K)||function(J,K){if(J){if("string"==typeof J)return G(J,K);var he=Object.prototype.toString.call(J).slice(8,-1);if("Object"===he&&J.constructor&&(he=J.constructor.name),"Map"===he||"Set"===he)return Array.from(J);if("Arguments"===he||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(he))return G(J,K)}}(J,K)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(J,K){(null==K||K>J.length)&&(K=J.length);for(var he=0,U=new Array(K);he<K;he++)U[he]=J[he];return U}Object.defineProperty(I,"__esModule",{value:!0}),I.getFilenameFromContentDispositionHeader=function(J){var K=!0,he=te("filename\\*","i").exec(J);if(he){var U=z(he=he[1]);return re(U=B(U=E(U=unescape(U))))}if(he=function(C){for(var O,R=[],se=te("filename\\*((?!0\\d)\\d+)(\\*?)","ig");null!==(O=se.exec(C));){var ue=y(O,4),N=ue[1],T=ue[2],ne=ue[3];if((N=parseInt(N,10))in R){if(0===N)break}else R[N]=[T,ne]}for(var x=[],F=0;F<R.length&&F in R;++F){var ee=y(R[F],2),M=ee[0],P=ee[1];P=z(P),M&&(P=unescape(P),0===F&&(P=E(P))),x.push(P)}return x.join("")}(J))return re(B(he));if(he=te("filename","i").exec(J)){var D=z(he=he[1]);return re(D=B(D))}function te(C,R){return new RegExp("(?:^|;)\\s*"+C+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',R)}function ce(C,R){if(C){if(!/^[\x00-\xFF]+$/.test(R))return R;try{var O=new TextDecoder(C,{fatal:!0}),se=Array.from(R,function(ae){return 255&ae.charCodeAt(0)});R=O.decode(new Uint8Array(se)),K=!1}catch(ae){if(/^utf-?8$/i.test(C))try{R=decodeURIComponent(escape(R)),K=!1}catch(ue){}}}return R}function re(C){return K&&/[\x80-\xff]/.test(C)&&(C=ce("utf-8",C),K&&(C=ce("iso-8859-1",C))),C}function z(C){if(C.startsWith('"')){for(var R=C.slice(1).split('\\"'),O=0;O<R.length;++O){var se=R[O].indexOf('"');-1!==se&&(R[O]=R[O].slice(0,se),R.length=O+1),R[O]=R[O].replace(/\\(.)/g,"$1")}C=R.join('"')}return C}function E(C){var R=C.indexOf("'");return-1===R?C:ce(C.slice(0,R),C.slice(R+1).replace(/^[^']*'/,""))}function B(C){return!C.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(C)?C:C.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(R,O,se,ae){if("q"===se||"Q"===se)return ce(O,ae=(ae=ae.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(ue,N){return String.fromCharCode(parseInt(N,16))}));try{ae=atob(ae)}catch(ue){}return ce(O,ae)})}return""}},(ve,I,y)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.PDFNetworkStream=void 0;var z,a=(z=y(2))&&z.__esModule?z:{default:z},H=y(4),G=y(154);function V(z,E,B,C,R,O,se){try{var ae=z[O](se),ue=ae.value}catch(N){return void B(N)}ae.done?E(ue):Promise.resolve(ue).then(C,R)}function oe(z){return function(){var E=this,B=arguments;return new Promise(function(C,R){var O=z.apply(E,B);function se(ue){V(O,C,R,se,ae,"next",ue)}function ae(ue){V(O,C,R,se,ae,"throw",ue)}se(void 0)})}}function J(z,E){if(!(z instanceof E))throw new TypeError("Cannot call a class as a function")}function K(z,E){for(var B=0;B<E.length;B++){var C=E[B];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(z,C.key,C)}}function he(z,E,B){return E&&K(z.prototype,E),B&&K(z,B),z}var te=function(){function z(E,B){J(this,z),this.url=E,B=B||{},this.isHttp=/^https?:/i.test(E),this.httpHeaders=this.isHttp&&B.httpHeaders||{},this.withCredentials=B.withCredentials||!1,this.getXhr=B.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}return he(z,[{key:"requestRange",value:function(B,C,R){var O={begin:B,end:C};for(var se in R)O[se]=R[se];return this.request(O)}},{key:"requestFull",value:function(B){return this.request(B)}},{key:"request",value:function(B){var C=this.getXhr(),R=this.currXhrId++,O=this.pendingRequests[R]={xhr:C};for(var se in C.open("GET",this.url),C.withCredentials=this.withCredentials,this.httpHeaders){var ae=this.httpHeaders[se];void 0!==ae&&C.setRequestHeader(se,ae)}return this.isHttp&&"begin"in B&&"end"in B?(C.setRequestHeader("Range","bytes=".concat(B.begin,"-").concat(B.end-1)),O.expectedStatus=206):O.expectedStatus=200,C.responseType="arraybuffer",B.onError&&(C.onerror=function(ue){B.onError(C.status)}),C.onreadystatechange=this.onStateChange.bind(this,R),C.onprogress=this.onProgress.bind(this,R),O.onHeadersReceived=B.onHeadersReceived,O.onDone=B.onDone,O.onError=B.onError,O.onProgress=B.onProgress,C.send(null),R}},{key:"onProgress",value:function(B,C){var R=this.pendingRequests[B];!R||R.onProgress&&R.onProgress(C)}},{key:"onStateChange",value:function(B,C){var R=this.pendingRequests[B];if(R){var O=R.xhr;if(O.readyState>=2&&R.onHeadersReceived&&(R.onHeadersReceived(),delete R.onHeadersReceived),4===O.readyState&&B in this.pendingRequests){if(delete this.pendingRequests[B],0===O.status&&this.isHttp)return void(R.onError&&R.onError(O.status));var se=O.status||200;if((200!==se||206!==R.expectedStatus)&&se!==R.expectedStatus)return void(R.onError&&R.onError(O.status));var ue=function(z){var E=z.response;return"string"!=typeof E?E:(0,H.stringToBytes)(E).buffer}(O);if(206===se){var N=O.getResponseHeader("Content-Range"),T=/bytes (\d+)-(\d+)\/(\d+)/.exec(N);R.onDone({begin:parseInt(T[1],10),chunk:ue})}else ue?R.onDone({begin:0,chunk:ue}):R.onError&&R.onError(O.status)}}}},{key:"getRequestXhr",value:function(B){return this.pendingRequests[B].xhr}},{key:"isPendingRequest",value:function(B){return B in this.pendingRequests}},{key:"abortRequest",value:function(B){var C=this.pendingRequests[B].xhr;delete this.pendingRequests[B],C.abort()}}]),z}();I.PDFNetworkStream=function(){function z(E){J(this,z),this._source=E,this._manager=new te(E.url,{httpHeaders:E.httpHeaders,withCredentials:E.withCredentials}),this._rangeChunkSize=E.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}return he(z,[{key:"_onRangeRequestReaderClosed",value:function(B){var C=this._rangeRequestReaders.indexOf(B);C>=0&&this._rangeRequestReaders.splice(C,1)}},{key:"getFullReader",value:function(){return(0,H.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new re(this._manager,this._source),this._fullRequestReader}},{key:"getRangeReader",value:function(B,C){var R=new L(this._manager,B,C);return R.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(R),R}},{key:"cancelAllRequests",value:function(B){this._fullRequestReader&&this._fullRequestReader.cancel(B),this._rangeRequestReaders.slice(0).forEach(function(R){R.cancel(B)})}}]),z}();var re=function(){function z(E,B){J(this,z),this._manager=E;var C={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=B.url,this._fullRequestId=E.requestFull(C),this._headersReceivedCapability=(0,H.createPromiseCapability)(),this._disableRange=B.disableRange||!1,this._contentLength=B.length,this._rangeChunkSize=B.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}return he(z,[{key:"_onHeadersReceived",value:function(){var B=this._fullRequestId,C=this._manager.getRequestXhr(B),R=function(N){return C.getResponseHeader(N)},O=(0,G.validateRangeRequestCapabilities)({getResponseHeader:R,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),ae=O.suggestedLength;O.allowRangeRequests&&(this._isRangeSupported=!0),this._contentLength=ae||this._contentLength,this._filename=(0,G.extractFilenameFromHeader)(R),this._isRangeSupported&&this._manager.abortRequest(B),this._headersReceivedCapability.resolve()}},{key:"_onDone",value:function(B){B&&(this._requests.length>0?this._requests.shift().resolve({value:B.chunk,done:!1}):this._cachedChunks.push(B.chunk)),this._done=!0,!(this._cachedChunks.length>0)&&(this._requests.forEach(function(R){R.resolve({value:void 0,done:!0})}),this._requests=[])}},{key:"_onError",value:function(B){var R=(0,G.createResponseStatusError)(B,this._url);this._storedError=R,this._headersReceivedCapability.reject(R),this._requests.forEach(function(O){O.reject(R)}),this._requests=[],this._cachedChunks=[]}},{key:"_onProgress",value:function(B){this.onProgress&&this.onProgress({loaded:B.loaded,total:B.lengthComputable?B.total:this._contentLength})}},{key:"read",value:(E=oe(a.default.mark(function C(){var R,O;return a.default.wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:if(!this._storedError){ae.next=2;break}throw this._storedError;case 2:if(!(this._cachedChunks.length>0)){ae.next=5;break}return R=this._cachedChunks.shift(),ae.abrupt("return",{value:R,done:!1});case 5:if(!this._done){ae.next=7;break}return ae.abrupt("return",{value:void 0,done:!0});case 7:return O=(0,H.createPromiseCapability)(),this._requests.push(O),ae.abrupt("return",O.promise);case 10:case"end":return ae.stop()}},C,this)})),function(){return E.apply(this,arguments)})},{key:"cancel",value:function(B){this._done=!0,this._headersReceivedCapability.reject(B),this._requests.forEach(function(C){C.resolve({value:void 0,done:!0})}),this._requests=[],this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"contentLength",get:function(){return this._contentLength}},{key:"headersReady",get:function(){return this._headersReceivedCapability.promise}}]),z;var E}(),L=function(){function z(E,B,C){J(this,z),this._manager=E;var R={onDone:this._onDone.bind(this),onProgress:this._onProgress.bind(this)};this._requestId=E.requestRange(B,C,R),this._requests=[],this._queuedChunk=null,this._done=!1,this.onProgress=null,this.onClosed=null}return he(z,[{key:"_close",value:function(){this.onClosed&&this.onClosed(this)}},{key:"_onDone",value:function(B){var C=B.chunk;this._requests.length>0?this._requests.shift().resolve({value:C,done:!1}):this._queuedChunk=C,this._done=!0,this._requests.forEach(function(O){O.resolve({value:void 0,done:!0})}),this._requests=[],this._close()}},{key:"_onProgress",value:function(B){!this.isStreamingSupported&&this.onProgress&&this.onProgress({loaded:B.loaded})}},{key:"read",value:(E=oe(a.default.mark(function C(){var R,O;return a.default.wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:if(null===this._queuedChunk){ae.next=4;break}return R=this._queuedChunk,this._queuedChunk=null,ae.abrupt("return",{value:R,done:!1});case 4:if(!this._done){ae.next=6;break}return ae.abrupt("return",{value:void 0,done:!0});case 6:return O=(0,H.createPromiseCapability)(),this._requests.push(O),ae.abrupt("return",O.promise);case 9:case"end":return ae.stop()}},C,this)})),function(){return E.apply(this,arguments)})},{key:"cancel",value:function(B){this._done=!0,this._requests.forEach(function(C){C.resolve({value:void 0,done:!0})}),this._requests=[],this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}},{key:"isStreamingSupported",get:function(){return!1}}]),z;var E}()},(ve,I,y)=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),I.PDFFetchStream=void 0;var re,a=(re=y(2))&&re.__esModule?re:{default:re},H=y(4),G=y(154);function V(re,L,z,E,B,C,R){try{var O=re[C](R),se=O.value}catch(ae){return void z(ae)}O.done?L(se):Promise.resolve(se).then(E,B)}function oe(re){return function(){var L=this,z=arguments;return new Promise(function(E,B){var C=re.apply(L,z);function R(se){V(C,E,B,R,O,"next",se)}function O(se){V(C,E,B,R,O,"throw",se)}R(void 0)})}}function J(re,L){if(!(re instanceof L))throw new TypeError("Cannot call a class as a function")}function K(re,L){for(var z=0;z<L.length;z++){var E=L[z];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(re,E.key,E)}}function he(re,L,z){return L&&K(re.prototype,L),z&&K(re,z),re}function U(re,L,z){return{method:"GET",headers:re,signal:null==z?void 0:z.signal,mode:"cors",credentials:L?"include":"same-origin",redirect:"follow"}}function X(re){var L=new Headers;for(var z in re){var E=re[z];void 0!==E&&L.append(z,E)}return L}I.PDFFetchStream=function(){function re(L){J(this,re),this.source=L,this.isHttp=/^https?:/i.test(L.url),this.httpHeaders=this.isHttp&&L.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return he(re,[{key:"getFullReader",value:function(){return(0,H.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new te(this),this._fullRequestReader}},{key:"getRangeReader",value:function(z,E){if(E<=this._progressiveDataLength)return null;var B=new ce(this,z,E);return this._rangeRequestReaders.push(B),B}},{key:"cancelAllRequests",value:function(z){this._fullRequestReader&&this._fullRequestReader.cancel(z),this._rangeRequestReaders.slice(0).forEach(function(B){B.cancel(z)})}},{key:"_progressiveDataLength",get:function(){var z,E;return null!==(z=null===(E=this._fullRequestReader)||void 0===E?void 0:E._loaded)&&void 0!==z?z:0}}]),re}();var te=function(){function re(L){var z=this;J(this,re),this._stream=L,this._reader=null,this._loaded=0,this._filename=null;var E=L.source;this._withCredentials=E.withCredentials||!1,this._contentLength=E.length,this._headersCapability=(0,H.createPromiseCapability)(),this._disableRange=E.disableRange||!1,this._rangeChunkSize=E.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._isStreamingSupported=!E.disableStream,this._isRangeSupported=!E.disableRange,this._headers=X(this._stream.httpHeaders);var B=E.url;fetch(B,U(this._headers,this._withCredentials,this._abortController)).then(function(C){if(!(0,G.validateResponseStatus)(C.status))throw(0,G.createResponseStatusError)(C.status,B);z._reader=C.body.getReader(),z._headersCapability.resolve();var R=function(N){return C.headers.get(N)},O=(0,G.validateRangeRequestCapabilities)({getResponseHeader:R,isHttp:z._stream.isHttp,rangeChunkSize:z._rangeChunkSize,disableRange:z._disableRange}),ae=O.suggestedLength;z._isRangeSupported=O.allowRangeRequests,z._contentLength=ae||z._contentLength,z._filename=(0,G.extractFilenameFromHeader)(R),!z._isStreamingSupported&&z._isRangeSupported&&z.cancel(new H.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}return he(re,[{key:"read",value:(L=oe(a.default.mark(function E(){var B,C,R,O;return a.default.wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return ae.next=2,this._headersCapability.promise;case 2:return ae.next=4,this._reader.read();case 4:if(C=(B=ae.sent).value,!(R=B.done)){ae.next=9;break}return ae.abrupt("return",{value:C,done:R});case 9:return this._loaded+=C.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),O=new Uint8Array(C).buffer,ae.abrupt("return",{value:O,done:!1});case 13:case"end":return ae.stop()}},E,this)})),function(){return L.apply(this,arguments)})},{key:"cancel",value:function(z){this._reader&&this._reader.cancel(z),this._abortController&&this._abortController.abort()}},{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),re;var L}(),ce=function(){function re(L,z,E){var B=this;J(this,re),this._stream=L,this._reader=null,this._loaded=0;var C=L.source;this._withCredentials=C.withCredentials||!1,this._readCapability=(0,H.createPromiseCapability)(),this._isStreamingSupported=!C.disableStream,"undefined"!=typeof AbortController&&(this._abortController=new AbortController),this._headers=X(this._stream.httpHeaders),this._headers.append("Range","bytes=".concat(z,"-").concat(E-1));var R=C.url;fetch(R,U(this._headers,this._withCredentials,this._abortController)).then(function(O){if(!(0,G.validateResponseStatus)(O.status))throw(0,G.createResponseStatusError)(O.status,R);B._readCapability.resolve(),B._reader=O.body.getReader()}).catch(function(O){if("AbortError"!==(null==O?void 0:O.name))throw O}),this.onProgress=null}return he(re,[{key:"read",value:(L=oe(a.default.mark(function E(){var B,C,R,O;return a.default.wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return ae.next=2,this._readCapability.promise;case 2:return ae.next=4,this._reader.read();case 4:if(C=(B=ae.sent).value,!(R=B.done)){ae.next=9;break}return ae.abrupt("return",{value:C,done:R});case 9:return this._loaded+=C.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),O=new Uint8Array(C).buffer,ae.abrupt("return",{value:O,done:!1});case 13:case"end":return ae.stop()}},E,this)})),function(){return L.apply(this,arguments)})},{key:"cancel",value:function(z){this._reader&&this._reader.cancel(z),this._abortController&&this._abortController.abort()}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}}]),re;var L}()}],__webpack_module_cache__={};function __w_pdfjs_require__(ve){if(__webpack_module_cache__[ve])return __webpack_module_cache__[ve].exports;var I=__webpack_module_cache__[ve]={id:ve,loaded:!1,exports:{}};return __webpack_modules__[ve].call(I.exports,I,I.exports,__w_pdfjs_require__),I.loaded=!0,I.exports}return __w_pdfjs_require__.nmd=ve=>(ve.paths=[],ve.children||(ve.children=[]),ve),__w_pdfjs_require__(0)})()},module.exports=y()},8265:function(ve,I,y){ve.exports=(()=>{"use strict";var a=[(ie,V,oe)=>{Object.defineProperty(V,"__esModule",{value:!0}),Object.defineProperty(V,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return J.AnnotationLayerBuilder}}),Object.defineProperty(V,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return J.DefaultAnnotationLayerFactory}}),Object.defineProperty(V,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return K.DefaultTextLayerFactory}}),Object.defineProperty(V,"TextLayerBuilder",{enumerable:!0,get:function(){return K.TextLayerBuilder}}),Object.defineProperty(V,"EventBus",{enumerable:!0,get:function(){return he.EventBus}}),Object.defineProperty(V,"NullL10n",{enumerable:!0,get:function(){return he.NullL10n}}),Object.defineProperty(V,"ProgressBar",{enumerable:!0,get:function(){return he.ProgressBar}}),Object.defineProperty(V,"PDFLinkService",{enumerable:!0,get:function(){return U.PDFLinkService}}),Object.defineProperty(V,"SimpleLinkService",{enumerable:!0,get:function(){return U.SimpleLinkService}}),Object.defineProperty(V,"DownloadManager",{enumerable:!0,get:function(){return X.DownloadManager}}),Object.defineProperty(V,"GenericL10n",{enumerable:!0,get:function(){return D.GenericL10n}}),Object.defineProperty(V,"PDFFindController",{enumerable:!0,get:function(){return te.PDFFindController}}),Object.defineProperty(V,"PDFHistory",{enumerable:!0,get:function(){return ce.PDFHistory}}),Object.defineProperty(V,"PDFPageView",{enumerable:!0,get:function(){return re.PDFPageView}}),Object.defineProperty(V,"PDFSinglePageViewer",{enumerable:!0,get:function(){return L.PDFSinglePageViewer}}),Object.defineProperty(V,"PDFViewer",{enumerable:!0,get:function(){return z.PDFViewer}});var J=oe(1),K=oe(7),he=oe(3),U=oe(6),X=oe(8),D=oe(10),te=oe(12),ce=oe(14),re=oe(15),L=oe(17),z=oe(19)},(ie,V,oe)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.DefaultAnnotationLayerFactory=V.AnnotationLayerBuilder=void 0;var J=oe(2),K=oe(3),he=oe(6);function U(R,O){return function(R){if(Array.isArray(R))return R}(R)||function(R,O){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(R)){var se=[],ae=!0,ue=!1,N=void 0;try{for(var ne,T=R[Symbol.iterator]();!(ae=(ne=T.next()).done)&&(se.push(ne.value),!O||se.length!==O);ae=!0);}catch(x){ue=!0,N=x}finally{try{!ae&&null!=T.return&&T.return()}finally{if(ue)throw N}}return se}}(R,O)||function(R,O){if(R){if("string"==typeof R)return te(R,O);var se=Object.prototype.toString.call(R).slice(8,-1);if("Object"===se&&R.constructor&&(se=R.constructor.name),"Map"===se||"Set"===se)return Array.from(R);if("Arguments"===se||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(se))return te(R,O)}}(R,O)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(R,O){(null==O||O>R.length)&&(O=R.length);for(var se=0,ae=new Array(O);se<O;se++)ae[se]=R[se];return ae}function L(R,O){if(!(R instanceof O))throw new TypeError("Cannot call a class as a function")}function z(R,O){for(var se=0;se<O.length;se++){var ae=O[se];ae.enumerable=ae.enumerable||!1,ae.configurable=!0,"value"in ae&&(ae.writable=!0),Object.defineProperty(R,ae.key,ae)}}function E(R,O,se){return O&&z(R.prototype,O),se&&z(R,se),R}var B=function(){function R(O){var se=O.pageDiv,ae=O.pdfPage,ue=O.linkService,N=O.downloadManager,T=O.annotationStorage,ne=void 0===T?null:T,x=O.imageResourcesPath,F=void 0===x?"":x,ee=O.renderInteractiveForms,M=void 0===ee||ee,P=O.l10n,Y=void 0===P?K.NullL10n:P,j=O.enableScripting,A=void 0!==j&&j,Z=O.hasJSActionsPromise,$=void 0===Z?null:Z,Q=O.mouseState,de=void 0===Q?null:Q;L(this,R),this.pageDiv=se,this.pdfPage=ae,this.linkService=ue,this.downloadManager=N,this.imageResourcesPath=F,this.renderInteractiveForms=M,this.l10n=Y,this.annotationStorage=ne,this.enableScripting=A,this._hasJSActionsPromise=$,this._mouseState=de,this.div=null,this._cancelled=!1}return E(R,[{key:"render",value:function(se){var ae=this;return Promise.all([this.pdfPage.getAnnotations({intent:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"display"}),this._hasJSActionsPromise]).then(function(N){var T=U(N,2),ne=T[0],x=T[1],F=void 0!==x&&x;if(!ae._cancelled&&0!==ne.length){var ee={viewport:se.clone({dontFlip:!0}),div:ae.div,annotations:ne,page:ae.pdfPage,imageResourcesPath:ae.imageResourcesPath,renderInteractiveForms:ae.renderInteractiveForms,linkService:ae.linkService,downloadManager:ae.downloadManager,annotationStorage:ae.annotationStorage,enableScripting:ae.enableScripting,hasJSActions:F,mouseState:ae._mouseState};ae.div?J.AnnotationLayer.update(ee):(ae.div=document.createElement("div"),ae.div.className="annotationLayer",ae.pageDiv.appendChild(ae.div),ee.div=ae.div,J.AnnotationLayer.render(ee),ae.l10n.translate(ae.div))}})}},{key:"cancel",value:function(){this._cancelled=!0}},{key:"hide",value:function(){!this.div||this.div.setAttribute("hidden","true")}}]),R}();V.AnnotationLayerBuilder=B,V.DefaultAnnotationLayerFactory=function(){function R(){L(this,R)}return E(R,[{key:"createAnnotationLayerBuilder",value:function(se,ae){var ue=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,ne=arguments.length>5&&void 0!==arguments[5]?arguments[5]:K.NullL10n,x=arguments.length>6&&void 0!==arguments[6]&&arguments[6],F=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,ee=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null;return new B({pageDiv:se,pdfPage:ae,imageResourcesPath:arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",renderInteractiveForms:!(arguments.length>4&&void 0!==arguments[4])||arguments[4],linkService:new he.SimpleLinkService,l10n:ne,annotationStorage:ue,enableScripting:x,hasJSActionsPromise:F,mouseState:ee})}}]),R}()},ie=>{var V;V="undefined"!=typeof window&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:y(6890),ie.exports=V},(ie,V,oe)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.approximateFraction=function(Ve){if(Math.floor(Ve)===Ve)return[Ve,1];var $e=1/Ve;if($e>8)return[1,8];if(Math.floor($e)===$e)return[1,$e];for(var dt=Ve>1?$e:Ve,Ae=0,De=1,Be=1,Je=1;;){var Qe=Ae+Be,St=De+Je;if(St>8)break;dt<=Qe/St?(Be=Qe,Je=St):(Ae=Qe,De=St)}return dt-Ae/De<Be/Je-dt?dt===Ve?[Ae,De]:[De,Ae]:dt===Ve?[Be,Je]:[Je,Be]},V.backtrackBeforeAllVisibleElements=Oe,V.binarySearchFirstItem=Ce,V.getActiveOrFocusedElement=function(){for(var Ve=document,$e=Ve.activeElement||Ve.querySelector(":focus");$e&&$e.shadowRoot;)$e=(Ve=$e.shadowRoot).activeElement||Ve.querySelector(":focus");return $e},V.getOutputScale=function(Ve){var dt=(window.devicePixelRatio||1)/(Ve.webkitBackingStorePixelRatio||Ve.mozBackingStorePixelRatio||Ve.backingStorePixelRatio||1);return{sx:dt,sy:dt,scaled:1!==dt}},V.getPageSizeInches=function(Ve){var it=Ve.userUnit,dt=Ve.rotate,Ae=function(Ve,$e){return function(Ve){if(Array.isArray(Ve))return Ve}(Ve)||function(Ve,$e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(Ve)){var it=[],dt=!0,Ae=!1,De=void 0;try{for(var Je,Be=Ve[Symbol.iterator]();!(dt=(Je=Be.next()).done)&&(it.push(Je.value),!$e||it.length!==$e);dt=!0);}catch(Qe){Ae=!0,De=Qe}finally{try{!dt&&null!=Be.return&&Be.return()}finally{if(Ae)throw De}}return it}}(Ve,$e)||function(Ve,$e){if(Ve){if("string"==typeof Ve)return L(Ve,$e);var it=Object.prototype.toString.call(Ve).slice(8,-1);if("Object"===it&&Ve.constructor&&(it=Ve.constructor.name),"Map"===it||"Set"===it)return Array.from(Ve);if("Arguments"===it||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(it))return L(Ve,$e)}}(Ve,$e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(Ve.view,4),St=dt%180!=0,Ft=(Ae[2]-Ae[0])/72*it,zt=(Ae[3]-Ae[1])/72*it;return{width:St?zt:Ft,height:St?Ft:zt}},V.getPDFFileNameFromURL=function(Ve){var $e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!=typeof Ve)return $e;if(et(Ve))return console.warn('getPDFFileNameFromURL: ignoring "data:" URL for performance reasons.'),$e;var dt=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Ae=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(Ve),De=dt.exec(Ae[1])||dt.exec(Ae[2])||dt.exec(Ae[3]);if(De&&(De=De[0]).includes("%"))try{De=dt.exec(decodeURIComponent(De))[0]}catch(Be){}return De||$e},V.getVisibleElements=function(Ve){var $e=Ve.scrollEl,it=Ve.views,dt=Ve.sortByVisibility,Ae=void 0!==dt&&dt,De=Ve.horizontal,Be=void 0!==De&&De,Je=Ve.rtl,Qe=void 0!==Je&&Je,St=$e.scrollTop,Ft=St+$e.clientHeight,zt=$e.scrollLeft,rn=zt+$e.clientWidth;var Ln=[],Gn=it.length,pr=Ce(it,Be?function(Pt){var tn=Pt.div,Jt=tn.offsetLeft+tn.clientLeft;return Qe?Jt<rn:Jt+tn.clientWidth>zt}:function(Pt){var tn=Pt.div;return tn.offsetTop+tn.clientTop+tn.clientHeight>St});pr>0&&pr<Gn&&!Be&&(pr=Oe(pr,it,St));for(var Xr=Be?rn:-1,Si=pr;Si<Gn;Si++){var fi=it[Si],ei=fi.div,ti=ei.offsetLeft+ei.clientLeft,pi=ei.offsetTop+ei.clientTop,Ye=ei.clientWidth,bt=ei.clientHeight,je=ti+Ye,st=pi+bt;if(-1===Xr)st>=Ft&&(Xr=st);else if((Be?ti:pi)>Xr)break;if(!(st<=St||pi>=Ft||je<=zt||ti>=rn)){var qt=Math.max(0,St-pi)+Math.max(0,st-Ft),nt=(Ye-(Math.max(0,zt-ti)+Math.max(0,je-rn)))/Ye;Ln.push({id:fi.id,x:ti,y:pi,view:fi,percent:(bt-qt)/bt*nt*100|0,widthPercent:100*nt|0})}}var Ct=Ln[0],$t=Ln[Ln.length-1];return Ae&&Ln.sort(function(Pt,tn){var Jt=Pt.percent-tn.percent;return Math.abs(Jt)>.001?-Jt:Pt.id-tn.id}),{first:Ct,last:$t,views:Ln}},V.isPortraitOrientation=function(Ve){return Ve.width<=Ve.height},V.isValidRotation=function(Ve){return Number.isInteger(Ve)&&Ve%90==0},V.isValidScrollMode=function(Ve){return Number.isInteger(Ve)&&Object.values(j).includes(Ve)&&Ve!==j.UNKNOWN},V.isValidSpreadMode=function(Ve){return Number.isInteger(Ve)&&Object.values(A).includes(Ve)&&Ve!==A.UNKNOWN},V.moveToEndOfArray=function(Ve,$e){for(var it=[],dt=Ve.length,Ae=0,De=0;De<dt;++De)$e(Ve[De])?it.push(Ve[De]):(Ve[Ae]=Ve[De],++Ae);for(var Be=0;Ae<dt;++Be,++Ae)Ve[Ae]=it[Be]},V.noContextMenuHandler=function(Ve){Ve.preventDefault()},V.normalizeWheelEventDelta=function(Ve){var $e=He(Ve);return 0===Ve.deltaMode?$e/=900:1===Ve.deltaMode&&($e/=30),$e},V.normalizeWheelEventDirection=He,V.parseQueryString=function(Ve){for(var $e=Ve.split("&"),it=Object.create(null),dt=0,Ae=$e.length;dt<Ae;++dt){var De=$e[dt].split("="),Be=De[0].toLowerCase(),Je=De.length>1?De[1]:null;it[decodeURIComponent(Be)]=decodeURIComponent(Je)}return it},V.roundToDivide=function(Ve,$e){var it=Ve%$e;return 0===it?Ve:Math.round(Ve-it+$e)},V.scrollIntoView=function(Ve,$e){var it=arguments.length>2&&void 0!==arguments[2]&&arguments[2],dt=Ve.offsetParent;if(dt){for(var Ae=Ve.offsetTop+Ve.clientTop,De=Ve.offsetLeft+Ve.clientLeft;dt.clientHeight===dt.scrollHeight&&dt.clientWidth===dt.scrollWidth||it&&"hidden"===getComputedStyle(dt).overflow;)if(dt.dataset._scaleY&&(Ae/=dt.dataset._scaleY,De/=dt.dataset._scaleX),Ae+=dt.offsetTop,De+=dt.offsetLeft,!(dt=dt.offsetParent))return;$e&&(void 0!==$e.top&&(Ae+=$e.top),void 0!==$e.left&&(dt.scrollLeft=De+=$e.left)),dt.scrollTop=Ae}else console.error("offsetParent is not set -- cannot scroll")},V.waitOnEventOrTimeout=function(Ve){var $e=Ve.target,it=Ve.name,dt=Ve.delay,Ae=void 0===dt?0:dt;return new Promise(function(De,Be){if("object"!==D($e)||!it||"string"!=typeof it||!(Number.isInteger(Ae)&&Ae>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function Je(zt){$e instanceof Mt?$e._off(it,Qe):$e.removeEventListener(it,Qe),Ft&&clearTimeout(Ft),De(zt)}var Qe=Je.bind(null,ct.EVENT);$e instanceof Mt?$e._on(it,Qe):$e.addEventListener(it,Qe);var St=Je.bind(null,ct.TIMEOUT),Ft=setTimeout(St,Ae)})},V.watchScroll=function(Ve,$e){var it=function(Be){Ae||(Ae=window.requestAnimationFrame(function(){Ae=null;var Qe=Ve.scrollLeft,St=dt.lastX;Qe!==St&&(dt.right=Qe>St),dt.lastX=Qe;var Ft=Ve.scrollTop,zt=dt.lastY;Ft!==zt&&(dt.down=Ft>zt),dt.lastY=Ft,$e(dt)}))},dt={right:!0,down:!0,lastX:Ve.scrollLeft,lastY:Ve.scrollTop,_eventHandler:it},Ae=null;return Ve.addEventListener("scroll",it,!0),dt},V.WaitOnType=V.VERTICAL_PADDING=V.UNKNOWN_SCALE=V.TextLayerMode=V.SpreadMode=V.SidebarView=V.ScrollMode=V.SCROLLBAR_PADDING=V.RendererType=V.ProgressBar=V.PresentationModeState=V.NullL10n=V.MIN_SCALE=V.MAX_SCALE=V.MAX_AUTO_SCALE=V.EventBus=V.DEFAULT_SCALE_VALUE=V.DEFAULT_SCALE=V.CSS_UNITS=V.AutoPrintRegExp=V.animationStarted=void 0;var Ve,J=(Ve=oe(4))&&Ve.__esModule?Ve:{default:Ve};function he(Ve,$e){if(!(Ve instanceof $e))throw new TypeError("Cannot call a class as a function")}function U(Ve,$e){for(var it=0;it<$e.length;it++){var dt=$e[it];dt.enumerable=dt.enumerable||!1,dt.configurable=!0,"value"in dt&&(dt.writable=!0),Object.defineProperty(Ve,dt.key,dt)}}function X(Ve,$e,it){return $e&&U(Ve.prototype,$e),it&&U(Ve,it),Ve}function D(Ve){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(it){return typeof it}:function(it){return it&&"function"==typeof Symbol&&it.constructor===Symbol&&it!==Symbol.prototype?"symbol":typeof it})(Ve)}function L(Ve,$e){(null==$e||$e>Ve.length)&&($e=Ve.length);for(var it=0,dt=new Array($e);it<$e;it++)dt[it]=Ve[it];return dt}function B(Ve,$e,it,dt,Ae,De,Be){try{var Je=Ve[De](Be),Qe=Je.value}catch(St){return void it(St)}Je.done?$e(Qe):Promise.resolve(Qe).then(dt,Ae)}function C(Ve){return function(){var $e=this,it=arguments;return new Promise(function(dt,Ae){var De=Ve.apply($e,it);function Be(Qe){B(De,dt,Ae,Be,Je,"next",Qe)}function Je(Qe){B(De,dt,Ae,Be,Je,"throw",Qe)}Be(void 0)})}}V.CSS_UNITS=96/72,V.DEFAULT_SCALE_VALUE="auto",V.DEFAULT_SCALE=1,V.MIN_SCALE=.1,V.MAX_SCALE=10,V.UNKNOWN_SCALE=0,V.MAX_AUTO_SCALE=1.25,V.SCROLLBAR_PADDING=40,V.VERTICAL_PADDING=5;V.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3},V.SidebarView={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4},V.RendererType={CANVAS:"canvas",SVG:"svg"},V.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};var j={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2};V.ScrollMode=j;var A={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};function $(Ve,$e){return $e?Ve.replace(/\{\{\s*(\w+)\s*\}\}/g,function(it,dt){return dt in $e?$e[dt]:"{{"+dt+"}}"}):Ve}function Ce(Ve,$e){var it=0,dt=Ve.length-1;if(dt<0||!$e(Ve[dt]))return Ve.length;if($e(Ve[it]))return it;for(;it<dt;){var Ae=it+dt>>1;$e(Ve[Ae])?dt=Ae:it=Ae+1}return it}function Oe(Ve,$e,it){if(Ve<2)return Ve;var dt=$e[Ve].div,Ae=dt.offsetTop+dt.clientTop;Ae>=it&&(Ae=(dt=$e[Ve-1].div).offsetTop+dt.clientTop);for(var De=Ve-2;De>=0&&!((dt=$e[De].div).offsetTop+dt.clientTop+dt.clientHeight<=Ae);--De)Ve=De;return Ve}function et(Ve){for(var $e=0,it=Ve.length;$e<it&&""===Ve[$e].trim();)$e++;return"data:"===Ve.substring($e,$e+5).toLowerCase()}function He(Ve){var $e=Math.sqrt(Ve.deltaX*Ve.deltaX+Ve.deltaY*Ve.deltaY),it=Math.atan2(Ve.deltaY,Ve.deltaX);return-.25*Math.PI<it&&it<.75*Math.PI&&($e=-$e),$e}V.SpreadMode=A,V.AutoPrintRegExp=/\bprint\s*\(/,V.NullL10n={getLanguage:function(){return C(J.default.mark(function $e(){return J.default.wrap(function(dt){for(;;)switch(dt.prev=dt.next){case 0:return dt.abrupt("return","en-us");case 1:case"end":return dt.stop()}},$e)}))()},getDirection:function(){return C(J.default.mark(function $e(){return J.default.wrap(function(dt){for(;;)switch(dt.prev=dt.next){case 0:return dt.abrupt("return","ltr");case 1:case"end":return dt.stop()}},$e)}))()},get:function($e,it,dt){return C(J.default.mark(function Ae(){return J.default.wrap(function(Be){for(;;)switch(Be.prev=Be.next){case 0:return Be.abrupt("return",$(dt,it));case 1:case"end":return Be.stop()}},Ae)}))()},translate:function($e){return C(J.default.mark(function it(){return J.default.wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:case"end":return Ae.stop()}},it)}))()}};var ct={EVENT:"event",TIMEOUT:"timeout"};V.WaitOnType=ct;var tt=new Promise(function(Ve){window.requestAnimationFrame(Ve)});V.animationStarted=tt;var Mt=function(){function Ve($e){he(this,Ve),this._listeners=Object.create(null)}return X(Ve,[{key:"on",value:function(it,dt){var Ae=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._on(it,dt,{external:!0,once:null==Ae?void 0:Ae.once})}},{key:"off",value:function(it,dt){var Ae=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._off(it,dt,{external:!0,once:null==Ae?void 0:Ae.once})}},{key:"dispatch",value:function(it){var dt=this,Ae=this._listeners[it];if(Ae&&0!==Ae.length){var Be,De=Array.prototype.slice.call(arguments,1);Ae.slice(0).forEach(function(Je){var Qe=Je.listener,St=Je.external;Je.once&&dt._off(it,Qe),St?(Be||(Be=[])).push(Qe):Qe.apply(null,De)}),Be&&(Be.forEach(function(Je){Je.apply(null,De)}),Be=null)}}},{key:"_on",value:function(it,dt){var Ae,De=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;((Ae=this._listeners)[it]||(Ae[it]=[])).push({listener:dt,external:!0===(null==De?void 0:De.external),once:!0===(null==De?void 0:De.once)})}},{key:"_off",value:function(it,dt){var De=this._listeners[it];if(De)for(var Be=0,Je=De.length;Be<Je;Be++)if(De[Be].listener===dt)return void De.splice(Be,1)}}]),Ve}();V.EventBus=Mt,V.ProgressBar=function(){function Ve($e){var it=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},dt=it.height,Ae=it.width,De=it.units;he(this,Ve),this.visible=!0,this.div=document.querySelector($e+" .progress"),this.bar=this.div.parentNode,this.height=dt||100,this.width=Ae||100,this.units=De||"%",this.div.style.height=this.height+this.units,this.percent=0}return X(Ve,[{key:"_updateBar",value:function(){if(this._indeterminate)return this.div.classList.add("indeterminate"),void(this.div.style.width=this.width+this.units);this.div.classList.remove("indeterminate"),this.div.style.width=this.width*this._percent/100+this.units}},{key:"setWidth",value:function(it){if(it){var Ae=it.parentNode.offsetWidth-it.offsetWidth;Ae>0&&document.documentElement.style.setProperty("--loadingBar-end-offset","".concat(Ae,"px"))}}},{key:"hide",value:function(){!this.visible||(this.visible=!1,this.bar.classList.add("hidden"))}},{key:"show",value:function(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}},{key:"percent",get:function(){return this._percent},set:function(it){this._indeterminate=isNaN(it),this._percent=function(Ve,$e,it){return Math.min(Math.max(Ve,$e),it)}(it,0,100),this._updateBar()}}]),Ve}()},(ie,V,oe)=>{ie.exports=oe(5)},(ie,V,oe)=>{function J(he){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(X){return typeof X}:function(X){return X&&"function"==typeof Symbol&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X})(he)}var K=function(he){var D,U=Object.prototype,X=U.hasOwnProperty,te="function"==typeof Symbol?Symbol:{},ce=te.iterator||"@@iterator",re=te.asyncIterator||"@@asyncIterator",L=te.toStringTag||"@@toStringTag";function z(fe,ge,ye){return Object.defineProperty(fe,ge,{value:ye,enumerable:!0,configurable:!0,writable:!0}),fe[ge]}try{z({},"")}catch(fe){z=function(ye,Ce,Re){return ye[Ce]=Re}}function E(fe,ge,ye,Ce){var xe=Object.create((ge&&ge.prototype instanceof ue?ge:ue).prototype),Le=new $(Ce||[]);return xe._invoke=function(fe,ge,ye){var Ce=C;return function(xe,Le){if(Ce===O)throw new Error("Generator is already running");if(Ce===se){if("throw"===xe)throw Le;return de()}for(ye.method=xe,ye.arg=Le;;){var Oe=ye.delegate;if(Oe){var Ze=j(Oe,ye);if(Ze){if(Ze===ae)continue;return Ze}}if("next"===ye.method)ye.sent=ye._sent=ye.arg;else if("throw"===ye.method){if(Ce===C)throw Ce=se,ye.arg;ye.dispatchException(ye.arg)}else"return"===ye.method&&ye.abrupt("return",ye.arg);Ce=O;var Ke=B(fe,ge,ye);if("normal"===Ke.type){if(Ce=ye.done?se:R,Ke.arg===ae)continue;return{value:Ke.arg,done:ye.done}}"throw"===Ke.type&&(Ce=se,ye.method="throw",ye.arg=Ke.arg)}}}(fe,ye,Le),xe}function B(fe,ge,ye){try{return{type:"normal",arg:fe.call(ge,ye)}}catch(Ce){return{type:"throw",arg:Ce}}}he.wrap=E;var C="suspendedStart",R="suspendedYield",O="executing",se="completed",ae={};function ue(){}function N(){}function T(){}var ne={};ne[ce]=function(){return this};var x=Object.getPrototypeOf,F=x&&x(x(Q([])));F&&F!==U&&X.call(F,ce)&&(ne=F);var ee=T.prototype=ue.prototype=Object.create(ne);function M(fe){["next","throw","return"].forEach(function(ge){z(fe,ge,function(ye){return this._invoke(ge,ye)})})}function P(fe,ge){function ye(xe,Le,Oe,Ze){var Ke=B(fe[xe],fe,Le);if("throw"!==Ke.type){var et=Ke.arg,Ne=et.value;return Ne&&"object"===J(Ne)&&X.call(Ne,"__await")?ge.resolve(Ne.__await).then(function(He){ye("next",He,Oe,Ze)},function(He){ye("throw",He,Oe,Ze)}):ge.resolve(Ne).then(function(He){et.value=He,Oe(et)},function(He){return ye("throw",He,Oe,Ze)})}Ze(Ke.arg)}var Ce;this._invoke=function(xe,Le){function Oe(){return new ge(function(Ze,Ke){ye(xe,Le,Ze,Ke)})}return Ce=Ce?Ce.then(Oe,Oe):Oe()}}function j(fe,ge){var ye=fe.iterator[ge.method];if(ye===D){if(ge.delegate=null,"throw"===ge.method){if(fe.iterator.return&&(ge.method="return",ge.arg=D,j(fe,ge),"throw"===ge.method))return ae;ge.method="throw",ge.arg=new TypeError("The iterator does not provide a 'throw' method")}return ae}var Ce=B(ye,fe.iterator,ge.arg);if("throw"===Ce.type)return ge.method="throw",ge.arg=Ce.arg,ge.delegate=null,ae;var Re=Ce.arg;return Re?Re.done?(ge[fe.resultName]=Re.value,ge.next=fe.nextLoc,"return"!==ge.method&&(ge.method="next",ge.arg=D),ge.delegate=null,ae):Re:(ge.method="throw",ge.arg=new TypeError("iterator result is not an object"),ge.delegate=null,ae)}function A(fe){var ge={tryLoc:fe[0]};1 in fe&&(ge.catchLoc=fe[1]),2 in fe&&(ge.finallyLoc=fe[2],ge.afterLoc=fe[3]),this.tryEntries.push(ge)}function Z(fe){var ge=fe.completion||{};ge.type="normal",delete ge.arg,fe.completion=ge}function $(fe){this.tryEntries=[{tryLoc:"root"}],fe.forEach(A,this),this.reset(!0)}function Q(fe){if(fe){var ge=fe[ce];if(ge)return ge.call(fe);if("function"==typeof fe.next)return fe;if(!isNaN(fe.length)){var ye=-1,Ce=function Re(){for(;++ye<fe.length;)if(X.call(fe,ye))return Re.value=fe[ye],Re.done=!1,Re;return Re.value=D,Re.done=!0,Re};return Ce.next=Ce}}return{next:de}}function de(){return{value:D,done:!0}}return N.prototype=ee.constructor=T,T.constructor=N,N.displayName=z(T,L,"GeneratorFunction"),he.isGeneratorFunction=function(fe){var ge="function"==typeof fe&&fe.constructor;return!!ge&&(ge===N||"GeneratorFunction"===(ge.displayName||ge.name))},he.mark=function(fe){return Object.setPrototypeOf?Object.setPrototypeOf(fe,T):(fe.__proto__=T,z(fe,L,"GeneratorFunction")),fe.prototype=Object.create(ee),fe},he.awrap=function(fe){return{__await:fe}},M(P.prototype),P.prototype[re]=function(){return this},he.AsyncIterator=P,he.async=function(fe,ge,ye,Ce,Re){void 0===Re&&(Re=Promise);var xe=new P(E(fe,ge,ye,Ce),Re);return he.isGeneratorFunction(ge)?xe:xe.next().then(function(Le){return Le.done?Le.value:xe.next()})},M(ee),z(ee,L,"Generator"),ee[ce]=function(){return this},ee.toString=function(){return"[object Generator]"},he.keys=function(fe){var ge=[];for(var ye in fe)ge.push(ye);return ge.reverse(),function Ce(){for(;ge.length;){var Re=ge.pop();if(Re in fe)return Ce.value=Re,Ce.done=!1,Ce}return Ce.done=!0,Ce}},he.values=Q,$.prototype={constructor:$,reset:function(ge){if(this.prev=0,this.next=0,this.sent=this._sent=D,this.done=!1,this.delegate=null,this.method="next",this.arg=D,this.tryEntries.forEach(Z),!ge)for(var ye in this)"t"===ye.charAt(0)&&X.call(this,ye)&&!isNaN(+ye.slice(1))&&(this[ye]=D)},stop:function(){this.done=!0;var ye=this.tryEntries[0].completion;if("throw"===ye.type)throw ye.arg;return this.rval},dispatchException:function(ge){if(this.done)throw ge;var ye=this;function Ce(Ke,et){return Le.type="throw",Le.arg=ge,ye.next=Ke,et&&(ye.method="next",ye.arg=D),!!et}for(var Re=this.tryEntries.length-1;Re>=0;--Re){var xe=this.tryEntries[Re],Le=xe.completion;if("root"===xe.tryLoc)return Ce("end");if(xe.tryLoc<=this.prev){var Oe=X.call(xe,"catchLoc"),Ze=X.call(xe,"finallyLoc");if(Oe&&Ze){if(this.prev<xe.catchLoc)return Ce(xe.catchLoc,!0);if(this.prev<xe.finallyLoc)return Ce(xe.finallyLoc)}else if(Oe){if(this.prev<xe.catchLoc)return Ce(xe.catchLoc,!0)}else{if(!Ze)throw new Error("try statement without catch or finally");if(this.prev<xe.finallyLoc)return Ce(xe.finallyLoc)}}}},abrupt:function(ge,ye){for(var Ce=this.tryEntries.length-1;Ce>=0;--Ce){var Re=this.tryEntries[Ce];if(Re.tryLoc<=this.prev&&X.call(Re,"finallyLoc")&&this.prev<Re.finallyLoc){var xe=Re;break}}xe&&("break"===ge||"continue"===ge)&&xe.tryLoc<=ye&&ye<=xe.finallyLoc&&(xe=null);var Le=xe?xe.completion:{};return Le.type=ge,Le.arg=ye,xe?(this.method="next",this.next=xe.finallyLoc,ae):this.complete(Le)},complete:function(ge,ye){if("throw"===ge.type)throw ge.arg;return"break"===ge.type||"continue"===ge.type?this.next=ge.arg:"return"===ge.type?(this.rval=this.arg=ge.arg,this.method="return",this.next="end"):"normal"===ge.type&&ye&&(this.next=ye),ae},finish:function(ge){for(var ye=this.tryEntries.length-1;ye>=0;--ye){var Ce=this.tryEntries[ye];if(Ce.finallyLoc===ge)return this.complete(Ce.completion,Ce.afterLoc),Z(Ce),ae}},catch:function(ge){for(var ye=this.tryEntries.length-1;ye>=0;--ye){var Ce=this.tryEntries[ye];if(Ce.tryLoc===ge){var Re=Ce.completion;if("throw"===Re.type){var xe=Re.arg;Z(Ce)}return xe}}throw new Error("illegal catch attempt")},delegateYield:function(ge,ye,Ce){return this.delegate={iterator:Q(ge),resultName:ye,nextLoc:Ce},"next"===this.method&&(this.arg=D),ae}},he}("object"===J(ie=oe.nmd(ie))?ie.exports:{});try{regeneratorRuntime=K}catch(he){Function("r","regeneratorRuntime = r")(K)}},(ie,V,oe)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.SimpleLinkService=V.PDFLinkService=void 0;var B,J=(B=oe(4))&&B.__esModule?B:{default:B},K=oe(3);function U(B){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(R){return typeof R}:function(R){return R&&"function"==typeof Symbol&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(B)}function X(B,C,R,O,se,ae,ue){try{var N=B[ae](ue),T=N.value}catch(ne){return void R(ne)}N.done?C(T):Promise.resolve(T).then(O,se)}function D(B){return function(){var C=this,R=arguments;return new Promise(function(O,se){var ae=B.apply(C,R);function ue(T){X(ae,O,se,ue,N,"next",T)}function N(T){X(ae,O,se,ue,N,"throw",T)}ue(void 0)})}}function te(B,C){if(!(B instanceof C))throw new TypeError("Cannot call a class as a function")}function ce(B,C){for(var R=0;R<C.length;R++){var O=C[R];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(B,O.key,O)}}function re(B,C,R){return C&&ce(B.prototype,C),R&&ce(B,R),B}V.PDFLinkService=function(){function B(){var C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},R=C.eventBus,O=C.externalLinkTarget,se=void 0===O?null:O,ae=C.externalLinkRel,ue=void 0===ae?null:ae,N=C.externalLinkEnabled,T=void 0===N||N,ne=C.ignoreDestinationZoom,x=void 0!==ne&&ne;te(this,B),this.eventBus=R,this.externalLinkTarget=se,this.externalLinkRel=ue,this.externalLinkEnabled=T,this._ignoreDestinationZoom=x,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null,this._pagesRefCache=null}return re(B,[{key:"setDocument",value:function(R){this.baseUrl=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,this.pdfDocument=R,this._pagesRefCache=Object.create(null)}},{key:"setViewer",value:function(R){this.pdfViewer=R}},{key:"setHistory",value:function(R){this.pdfHistory=R}},{key:"navigateTo",value:function(R){console.error("Deprecated method: `navigateTo`, use `goToDestination` instead."),this.goToDestination(R)}},{key:"_goToDestinationHelper",value:function(R){var N,O=this,se=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,ae=arguments.length>2?arguments[2]:void 0,ue=ae[0];if(ue instanceof Object){if(null===(N=this._cachedPageNumber(ue)))return void this.pdfDocument.getPageIndex(ue).then(function(T){O.cachePageRef(T+1,ue),O._goToDestinationHelper(R,se,ae)}).catch(function(){console.error('PDFLinkService._goToDestinationHelper: "'.concat(ue,'" is not ')+'a valid page reference, for dest="'.concat(R,'".'))})}else{if(!Number.isInteger(ue))return void console.error('PDFLinkService._goToDestinationHelper: "'.concat(ue,'" is not ')+'a valid destination reference, for dest="'.concat(R,'".'));N=ue+1}!N||N<1||N>this.pagesCount?console.error('PDFLinkService._goToDestinationHelper: "'.concat(N,'" is not ')+'a valid page number, for dest="'.concat(R,'".')):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:se,explicitDest:ae,pageNumber:N})),this.pdfViewer.scrollPageIntoView({pageNumber:N,destArray:ae,ignoreDestinationZoom:this._ignoreDestinationZoom}))}},{key:"goToDestination",value:(C=D(J.default.mark(function O(se){var ae,ue;return J.default.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(this.pdfDocument){T.next=2;break}return T.abrupt("return");case 2:if("string"!=typeof se){T.next=9;break}return ae=se,T.next=6,this.pdfDocument.getDestination(se);case 6:ue=T.sent,T.next=13;break;case 9:return ae=null,T.next=12,se;case 12:ue=T.sent;case 13:if(Array.isArray(ue)){T.next=16;break}return console.error('PDFLinkService.goToDestination: "'.concat(ue,'" is not ')+'a valid destination array, for dest="'.concat(se,'".')),T.abrupt("return");case 16:this._goToDestinationHelper(se,ae,ue);case 17:case"end":return T.stop()}},O,this)})),function(O){return C.apply(this,arguments)})},{key:"goToPage",value:function(R){if(this.pdfDocument){var O="string"==typeof R&&this.pdfViewer.pageLabelToPageNumber(R)||0|R;if(!(Number.isInteger(O)&&O>0&&O<=this.pagesCount))return void console.error('PDFLinkService.goToPage: "'.concat(R,'" is not a valid page.'));this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(O)),this.pdfViewer.scrollPageIntoView({pageNumber:O})}}},{key:"getDestinationHash",value:function(R){if("string"==typeof R){if(R.length>0)return this.getAnchorUrl("#"+escape(R))}else if(Array.isArray(R)){var O=JSON.stringify(R);if(O.length>0)return this.getAnchorUrl("#"+escape(O))}return this.getAnchorUrl("")}},{key:"getAnchorUrl",value:function(R){return(this.baseUrl||"")+R}},{key:"setHash",value:function(R){var O,se;if(this.pdfDocument)if(R.includes("=")){var ae=(0,K.parseQueryString)(R);if("search"in ae&&this.eventBus.dispatch("findfromurlhash",{source:this,query:ae.search.replace(/"/g,""),phraseSearch:"true"===ae.phrase}),"page"in ae&&(O=0|ae.page||1),"zoom"in ae){var ue=ae.zoom.split(","),N=ue[0],T=parseFloat(N);N.includes("Fit")?"Fit"===N||"FitB"===N?se=[null,{name:N}]:"FitH"===N||"FitBH"===N||"FitV"===N||"FitBV"===N?se=[null,{name:N},ue.length>1?0|ue[1]:null]:"FitR"===N?5!==ue.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):se=[null,{name:N},0|ue[1],0|ue[2],0|ue[3],0|ue[4]]:console.error('PDFLinkService.setHash: "'.concat(N,'" is not ')+"a valid zoom value."):se=[null,{name:"XYZ"},ue.length>1?0|ue[1]:null,ue.length>2?0|ue[2]:null,T?T/100:N]}se?this.pdfViewer.scrollPageIntoView({pageNumber:O||this.page,destArray:se,allowNegativeOffset:!0}):O&&(this.page=O),"pagemode"in ae&&this.eventBus.dispatch("pagemode",{source:this,mode:ae.pagemode}),"nameddest"in ae&&this.goToDestination(ae.nameddest)}else{se=unescape(R);try{se=JSON.parse(se),Array.isArray(se)||(se=se.toString())}catch(ne){}if("string"==typeof se||function(B){if(!Array.isArray(B))return!1;var C=B.length;if(C<2)return!1;var R=B[0];if(!("object"===U(R)&&Number.isInteger(R.num)&&Number.isInteger(R.gen)||Number.isInteger(R)&&R>=0))return!1;var O=B[1];if("object"!==U(O)||"string"!=typeof O.name)return!1;var se=!0;switch(O.name){case"XYZ":if(5!==C)return!1;break;case"Fit":case"FitB":return 2===C;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==C)return!1;break;case"FitR":if(6!==C)return!1;se=!1;break;default:return!1}for(var ae=2;ae<C;ae++){var ue=B[ae];if(!("number"==typeof ue||se&&null===ue))return!1}return!0}(se))return void this.goToDestination(se);console.error('PDFLinkService.setHash: "'.concat(unescape(R),'" is not ')+"a valid destination.")}}},{key:"executeNamedAction",value:function(R){switch(R){case"GoBack":this.pdfHistory&&this.pdfHistory.back();break;case"GoForward":this.pdfHistory&&this.pdfHistory.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:R})}},{key:"cachePageRef",value:function(R,O){if(O){var se=0===O.gen?"".concat(O.num,"R"):"".concat(O.num,"R").concat(O.gen);this._pagesRefCache[se]=R}}},{key:"_cachedPageNumber",value:function(R){var O=0===R.gen?"".concat(R.num,"R"):"".concat(R.num,"R").concat(R.gen);return this._pagesRefCache&&this._pagesRefCache[O]||null}},{key:"isPageVisible",value:function(R){return this.pdfViewer.isPageVisible(R)}},{key:"isPageCached",value:function(R){return this.pdfViewer.isPageCached(R)}},{key:"pagesCount",get:function(){return this.pdfDocument?this.pdfDocument.numPages:0}},{key:"page",get:function(){return this.pdfViewer.currentPageNumber},set:function(R){this.pdfViewer.currentPageNumber=R}},{key:"rotation",get:function(){return this.pdfViewer.pagesRotation},set:function(R){this.pdfViewer.pagesRotation=R}}]),B;var C}(),V.SimpleLinkService=function(){function B(){te(this,B),this.externalLinkTarget=null,this.externalLinkRel=null,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=!1}return re(B,[{key:"goToDestination",value:(C=D(J.default.mark(function O(se){return J.default.wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:case"end":return ue.stop()}},O)})),function(O){return C.apply(this,arguments)})},{key:"goToPage",value:function(R){}},{key:"getDestinationHash",value:function(R){return"#"}},{key:"getAnchorUrl",value:function(R){return"#"}},{key:"setHash",value:function(R){}},{key:"executeNamedAction",value:function(R){}},{key:"cachePageRef",value:function(R,O){}},{key:"isPageVisible",value:function(R){return!0}},{key:"isPageCached",value:function(R){return!0}},{key:"pagesCount",get:function(){return 0}},{key:"page",get:function(){return 0},set:function(R){}},{key:"rotation",get:function(){return 0},set:function(R){}}]),B;var C}()},(ie,V,oe)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.TextLayerBuilder=V.DefaultTextLayerFactory=void 0;var J=oe(2);function K(ce,re){if(!(ce instanceof re))throw new TypeError("Cannot call a class as a function")}function he(ce,re){for(var L=0;L<re.length;L++){var z=re[L];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(ce,z.key,z)}}function U(ce,re,L){return re&&he(ce.prototype,re),L&&he(ce,L),ce}var D=function(){function ce(re){var L=re.textLayerDiv,z=re.eventBus,E=re.pageIndex,B=re.viewport,C=re.findController,R=void 0===C?null:C,O=re.enhanceTextSelection,se=void 0!==O&&O;K(this,ce),this.textLayerDiv=L,this.eventBus=z,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageIdx=E,this.pageNumber=this.pageIdx+1,this.matches=[],this.viewport=B,this.textDivs=[],this.findController=R,this.textLayerRenderTask=null,this.enhanceTextSelection=se,this._onUpdateTextLayerMatches=null,this._bindMouse()}return U(ce,[{key:"_finishRendering",value:function(){if(this.renderingDone=!0,!this.enhanceTextSelection){var L=document.createElement("div");L.className="endOfContent",this.textLayerDiv.appendChild(L)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}},{key:"render",value:function(){var L=this,z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if((this.textContent||this.textContentStream)&&!this.renderingDone){this.cancel(),this.textDivs=[];var E=document.createDocumentFragment();this.textLayerRenderTask=(0,J.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:E,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:z,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(function(){L.textLayerDiv.appendChild(E),L._finishRendering(),L._updateMatches()},function(B){}),this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=function(B){(B.pageIndex===L.pageIdx||-1===B.pageIndex)&&L._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches))}}},{key:"cancel",value:function(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null)}},{key:"setTextContentStream",value:function(L){this.cancel(),this.textContentStream=L}},{key:"setTextContent",value:function(L){this.cancel(),this.textContent=L}},{key:"_convertMatches",value:function(L,z){if(!L)return[];for(var E=this.textContentItemsStr,B=0,C=0,R=E.length-1,O=[],se=0,ae=L.length;se<ae;se++){for(var ue=L[se];B!==R&&ue>=C+E[B].length;)C+=E[B].length,B++;B===E.length&&console.error("Could not find a matching mapping");var N={begin:{divIdx:B,offset:ue-C}};for(ue+=z[se];B!==R&&ue>C+E[B].length;)C+=E[B].length,B++;N.end={divIdx:B,offset:ue-C},O.push(N)}return O}},{key:"_renderMatches",value:function(L){if(0!==L.length){var z=this.findController,E=this.pageIdx,B=this.textContentItemsStr,C=this.textDivs,R=E===z.selected.pageIdx,O=z.selected.matchIdx,ae=null,ue={divIdx:-1,offset:void 0},ne=O,x=ne+1;if(z.state.highlightAll)ne=0,x=L.length;else if(!R)return;for(var F=ne;F<x;F++){var ee=L[F],M=ee.begin,P=ee.end,Y=R&&F===O,j=Y?" selected":"";if(Y&&z.scrollMatchIntoView({element:C[M.divIdx],pageIndex:E,matchIndex:O}),ae&&M.divIdx===ae.divIdx?T(ae.divIdx,ae.offset,M.offset):(null!==ae&&T(ae.divIdx,ae.offset,ue.offset),N(M)),M.divIdx===P.divIdx)T(M.divIdx,M.offset,P.offset,"highlight"+j);else{T(M.divIdx,M.offset,ue.offset,"highlight begin"+j);for(var A=M.divIdx+1,Z=P.divIdx;A<Z;A++)C[A].className="highlight middle"+j;N(P,"highlight end"+j)}ae=P}ae&&T(ae.divIdx,ae.offset,ue.offset)}function N($,Q){var de=$.divIdx;C[de].textContent="",T(de,0,$.offset,Q)}function T($,Q,de,fe){var ge=C[$],ye=B[$].substring(Q,de),Ce=document.createTextNode(ye);if(fe){var Re=document.createElement("span");return Re.className=fe,Re.appendChild(Ce),void ge.appendChild(Re)}ge.appendChild(Ce)}}},{key:"_updateMatches",value:function(){if(this.renderingDone){for(var L=this.findController,z=this.matches,E=this.pageIdx,B=this.textContentItemsStr,C=this.textDivs,R=-1,O=0,se=z.length;O<se;O++){for(var ae=z[O],N=Math.max(R,ae.begin.divIdx),T=ae.end.divIdx;N<=T;N++){var ne=C[N];ne.textContent=B[N],ne.className=""}R=ae.end.divIdx+1}L&&L.highlightMatches&&(this.matches=this._convertMatches(L.pageMatches[E]||null,L.pageMatchesLength[E]||null),this._renderMatches(this.matches))}}},{key:"_bindMouse",value:function(){var L=this,z=this.textLayerDiv,E=null;z.addEventListener("mousedown",function(B){if(L.enhanceTextSelection&&L.textLayerRenderTask)return L.textLayerRenderTask.expandTextDivs(!0),void(E&&(clearTimeout(E),E=null));var C=z.querySelector(".endOfContent");if(C){var R=B.target!==z;if(R=R&&"none"!==window.getComputedStyle(C).getPropertyValue("-moz-user-select")){var O=z.getBoundingClientRect(),se=Math.max(0,(B.pageY-O.top)/O.height);C.style.top=(100*se).toFixed(2)+"%"}C.classList.add("active")}}),z.addEventListener("mouseup",function(){if(L.enhanceTextSelection&&L.textLayerRenderTask)E=setTimeout(function(){L.textLayerRenderTask&&L.textLayerRenderTask.expandTextDivs(!1),E=null},300);else{var B=z.querySelector(".endOfContent");!B||(B.style.top="",B.classList.remove("active"))}})}}]),ce}();V.TextLayerBuilder=D,V.DefaultTextLayerFactory=function(){function ce(){K(this,ce)}return U(ce,[{key:"createTextLayerBuilder",value:function(L,z,E){return new D({textLayerDiv:L,pageIndex:z,viewport:E,enhanceTextSelection:arguments.length>3&&void 0!==arguments[3]&&arguments[3],eventBus:arguments.length>4?arguments[4]:void 0})}}]),ce}()},(ie,V,oe)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.DownloadManager=void 0;var J=oe(2),K=oe(9);function U(ce,re){for(var L=0;L<re.length;L++){var z=re[L];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(ce,z.key,z)}}function D(ce,re){var L=document.createElement("a");if(!L.click)throw new Error('DownloadManager: "a.click()" is not supported.');L.href=ce,L.target="_parent","download"in L&&(L.download=re),(document.body||document.documentElement).appendChild(L),L.click(),L.remove()}V.DownloadManager=function(){function ce(){!function(ce,re){if(!(ce instanceof re))throw new TypeError("Cannot call a class as a function")}(this,ce)}return function(ce,re,L){re&&U(ce.prototype,re),L&&U(ce,L)}(ce,[{key:"downloadUrl",value:function(L,z){!(0,J.createValidAbsoluteUrl)(L,"http://example.com")||D(L+"#pdfjs.action=download",z)}},{key:"downloadData",value:function(L,z,E){D((0,J.createObjectURL)(L,E,K.viewerCompatibilityParams.disableCreateObjectURL),z)}},{key:"download",value:function(L,z,E){K.viewerCompatibilityParams.disableCreateObjectURL?this.downloadUrl(z,E):D(URL.createObjectURL(L),E)}}]),ce}()},(ie,V)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.viewerCompatibilityParams=void 0;var oe=Object.create(null),J="undefined"!=typeof navigator&&navigator.userAgent||"",K="undefined"!=typeof navigator&&navigator.platform||"",he="undefined"!=typeof navigator&&navigator.maxTouchPoints||1,U=/Android/.test(J),X=/\b(iPad|iPhone|iPod)(?=;)/.test(J)||"MacIntel"===K&&he>1;/CriOS/.test(J)&&(oe.disableCreateObjectURL=!0),(X||U)&&(oe.maxCanvasPixels=5242880);var te=Object.freeze(oe);V.viewerCompatibilityParams=te},(ie,V,oe)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.GenericL10n=void 0;var L,J=(L=oe(4))&&L.__esModule?L:{default:L};function he(L,z,E,B,C,R,O){try{var se=L[R](O),ae=se.value}catch(ue){return void E(ue)}se.done?z(ae):Promise.resolve(ae).then(B,C)}function U(L){return function(){var z=this,E=arguments;return new Promise(function(B,C){var R=L.apply(z,E);function O(ae){he(R,B,C,O,se,"next",ae)}function se(ae){he(R,B,C,O,se,"throw",ae)}O(void 0)})}}function D(L,z){for(var E=0;E<z.length;E++){var B=z[E];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(L,B.key,B)}}oe(11);var ce=document.webL10n;V.GenericL10n=function(){function L(z){(function(L,z){if(!(L instanceof z))throw new TypeError("Cannot call a class as a function")})(this,L),this._lang=z,this._ready=new Promise(function(E,B){ce.setLanguage(z,function(){E(ce)})})}return function(L,z,E){z&&D(L.prototype,z),E&&D(L,E)}(L,[{key:"getLanguage",value:(z=U(J.default.mark(function B(){return J.default.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,this._ready;case 2:return O.abrupt("return",O.sent.getLanguage());case 4:case"end":return O.stop()}},B,this)})),function(){return z.apply(this,arguments)})},{key:"getDirection",value:function(){var z=U(J.default.mark(function B(){return J.default.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,this._ready;case 2:return O.abrupt("return",O.sent.getDirection());case 4:case"end":return O.stop()}},B,this)}));return function(){return z.apply(this,arguments)}}()},{key:"get",value:function(){var z=U(J.default.mark(function B(C,R,O){return J.default.wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return ue.next=2,this._ready;case 2:return ue.abrupt("return",ue.sent.get(C,R,O));case 4:case"end":return ue.stop()}},B,this)}));return function(B,C,R){return z.apply(this,arguments)}}()},{key:"translate",value:function(){var z=U(J.default.mark(function B(C){return J.default.wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return se.next=2,this._ready;case 2:return se.abrupt("return",se.sent.translate(C));case 4:case"end":return se.stop()}},B,this)}));return function(B){return z.apply(this,arguments)}}()}]),L;var z}()},()=>{document.webL10n=function(ie,V,oe){var J={},K="",he="textContent",U="",X={},D="loading";function E(x,F,ee){F=F||function(Y){},ee=ee||function(){};var M=new XMLHttpRequest;M.open("GET",x,true),M.overrideMimeType&&M.overrideMimeType("text/plain; charset=utf-8"),M.onreadystatechange=function(){4==M.readyState&&(200==M.status||0===M.status?F(M.responseText):ee())},M.onerror=ee,M.ontimeout=ee;try{M.send(null)}catch(P){ee()}}function B(x,F,ee,M){var P=x.replace(/[^\/]*$/,"")||"./";function Y(A){return A.lastIndexOf("\\")<0?A:A.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}E(x,function(A){K+=A,function(A,Z){var $={},Q=/^\s*|\s*$/,de=/^\s*#|^\s*$/,fe=/^\s*\[(.*)\]\s*$/,ge=/^\s*@import\s+url\((.*)\)\s*$/i,ye=/^([^=\s]*)\s*=\s*(.+)$/;function Ce(xe,Le,Oe){var Ze=xe.replace(Q,"").split(/[\r\n]+/),Ke="*",et=F.split("-",1)[0],Ne=!1,He="";!function be(){for(;;){if(!Ze.length)return void Oe();var Ie=Ze.shift();if(!de.test(Ie)){if(Le){if(He=fe.exec(Ie)){Ke=He[1].toLowerCase(),Ne="*"!==Ke&&Ke!==F&&Ke!==et;continue}if(Ne)continue;if(He=ge.exec(Ie))return void Re(P+He[1],be)}var Fe=Ie.match(ye);Fe&&3==Fe.length&&($[Fe[1]]=Y(Fe[2]))}}}()}function Re(xe,Le){E(xe,function(Oe){Ce(Oe,!1,Le)},function(){console.warn(xe+" not found."),Le()})}Ce(A,!0,function(){Z($)})}(A,function(Z){for(var $ in Z){var Q,de,fe=$.lastIndexOf(".");fe>0?(Q=$.substring(0,fe),de=$.substring(fe+1)):(Q=$,de=he),J[Q]||(J[Q]={}),J[Q][de]=Z[$]}ee&&ee()})},M)}function C(x,F){x&&(x=x.toLowerCase()),F=F||function(){},J={},K="",U="",U=x;var ee=V.querySelectorAll('link[type="application/l10n"]'),M=ee.length;if(0!==M){var A,Z=0;A=function(){++Z>=M&&(F(),D="complete")};for(var Q=0;Q<M;Q++)new $(ee[Q]).load(x,A)}else{var P=function(){var x=V.querySelector('script[type="application/l10n"]');return x?JSON.parse(x.innerHTML):null}();if(P&&P.locales&&P.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(J=P.locales[x])){var Y=P.default_locale.toLowerCase();for(var j in P.locales){if((j=j.toLowerCase())===x){J=P.locales[x];break}j===Y&&(J=P.locales[Y])}}F()}else console.log("no resource to load, early way out");D="complete"}function $(fe){var ge=fe.href;this.load=function(ye,Ce){B(ge,ye,Ce,function(){console.warn(ge+" not found."),console.warn('"'+ye+'" resource not found'),U="",Ce()})}}}function se(x,F,ee){var M=J[x];if(!M){if(console.warn("#"+x+" is undefined."),!ee)return null;M=ee}var P={};for(var Y in M){var j=M[Y];j=ue(j=ae(j,F,x,Y),F,x),P[Y]=j}return P}function ae(x,F,ee,M){var Y=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(x);if(!Y||!Y.length)return x;var Z,j=Y[1],A=Y[2];return F&&A in F?Z=F[A]:A in J&&(Z=J[A]),j in X&&(x=(0,X[j])(x,Z,ee,M)),x}function ue(x,F,ee){return x.replace(/\{\{\s*(.+?)\s*\}\}/g,function(P,Y){return F&&Y in F?F[Y]:Y in J?J[Y]:(console.log("argument {{"+Y+"}} for #"+ee+" is undefined."),P)})}function N(x){var F=function(x){if(!x)return{};var F=x.getAttribute("data-l10n-id"),ee=x.getAttribute("data-l10n-args"),M={};if(ee)try{M=JSON.parse(ee)}catch(P){console.warn("could not parse arguments for #"+F)}return{id:F,args:M}}(x);if(F.id){var ee=se(F.id,F.args);if(!ee)return void console.warn("#"+F.id+" is undefined.");if(ee[he]){if(0===function(x){if(x.children)return x.children.length;if(void 0!==x.childElementCount)return x.childElementCount;for(var F=0,ee=0;ee<x.childNodes.length;ee++)F+=1===x.nodeType?1:0;return F}(x))x[he]=ee[he];else{for(var M=x.childNodes,P=!1,Y=0,j=M.length;Y<j;Y++)3===M[Y].nodeType&&/\S/.test(M[Y].nodeValue)&&(P?M[Y].nodeValue="":(M[Y].nodeValue=ee[he],P=!0));if(!P){var A=V.createTextNode(ee[he]);x.insertBefore(A,x.firstChild)}}delete ee[he]}for(var Z in ee)x[Z]=ee[Z]}}return X.plural=function(x,F,ee,M){var P=parseFloat(F);if(isNaN(P)||M!=he)return x;X._pluralRules||(X._pluralRules=function(x){function ee(j,A){return-1!==A.indexOf(j)}function M(j,A,Z){return A<=j&&j<=Z}var P={0:function(A){return"other"},1:function(A){return M(A%100,3,10)?"few":0===A?"zero":M(A%100,11,99)?"many":2==A?"two":1==A?"one":"other"},2:function(A){return 0!==A&&A%10==0?"many":2==A?"two":1==A?"one":"other"},3:function(A){return 1==A?"one":"other"},4:function(A){return M(A,0,1)?"one":"other"},5:function(A){return M(A,0,2)&&2!=A?"one":"other"},6:function(A){return 0===A?"zero":A%10==1&&A%100!=11?"one":"other"},7:function(A){return 2==A?"two":1==A?"one":"other"},8:function(A){return M(A,3,6)?"few":M(A,7,10)?"many":2==A?"two":1==A?"one":"other"},9:function(A){return 0===A||1!=A&&M(A%100,1,19)?"few":1==A?"one":"other"},10:function(A){return M(A%10,2,9)&&!M(A%100,11,19)?"few":A%10!=1||M(A%100,11,19)?"other":"one"},11:function(A){return M(A%10,2,4)&&!M(A%100,12,14)?"few":A%10==0||M(A%10,5,9)||M(A%100,11,14)?"many":A%10==1&&A%100!=11?"one":"other"},12:function(A){return M(A,2,4)?"few":1==A?"one":"other"},13:function(A){return M(A%10,2,4)&&!M(A%100,12,14)?"few":1!=A&&M(A%10,0,1)||M(A%10,5,9)||M(A%100,12,14)?"many":1==A?"one":"other"},14:function(A){return M(A%100,3,4)?"few":A%100==2?"two":A%100==1?"one":"other"},15:function(A){return 0===A||M(A%100,2,10)?"few":M(A%100,11,19)?"many":1==A?"one":"other"},16:function(A){return A%10==1&&11!=A?"one":"other"},17:function(A){return 3==A?"few":0===A?"zero":6==A?"many":2==A?"two":1==A?"one":"other"},18:function(A){return 0===A?"zero":M(A,0,2)&&0!==A&&2!=A?"one":"other"},19:function(A){return M(A,2,10)?"few":M(A,0,1)?"one":"other"},20:function(A){return!M(A%10,3,4)&&A%10!=9||M(A%100,10,19)||M(A%100,70,79)||M(A%100,90,99)?A%1e6==0&&0!==A?"many":A%10!=2||ee(A%100,[12,72,92])?A%10!=1||ee(A%100,[11,71,91])?"other":"one":"two":"few"},21:function(A){return 0===A?"zero":1==A?"one":"other"},22:function(A){return M(A,0,1)||M(A,11,99)?"one":"other"},23:function(A){return M(A%10,1,2)||A%20==0?"one":"other"},24:function(A){return M(A,3,10)||M(A,13,19)?"few":ee(A,[2,12])?"two":ee(A,[1,11])?"one":"other"}},Y={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[x.replace(/-.*$/,"")];return Y in P?P[Y]:(console.warn("plural form unknown for ["+x+"]"),function(){return"other"})}(U));var Y="["+X._pluralRules(P)+"]";return 0===P&&ee+"[zero]"in J?x=J[ee+"[zero]"][M]:1==P&&ee+"[one]"in J?x=J[ee+"[one]"][M]:2==P&&ee+"[two]"in J?x=J[ee+"[two]"][M]:ee+Y in J?x=J[ee+Y][M]:ee+"[other]"in J&&(x=J[ee+"[other]"][M]),x},{get:function(F,ee,M){var j,P=F.lastIndexOf("."),Y=he;P>0&&(Y=F.substring(P+1),F=F.substring(0,P)),M&&((j={})[Y]=M);var A=se(F,ee,j);return A&&Y in A?A[Y]:"{{"+F+"}}"},getData:function(){return J},getText:function(){return K},getLanguage:function(){return U},setLanguage:function(F,ee){C(F,function(){ee&&ee()})},getDirection:function(){var ee=U.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(ee)>=0?"rtl":"ltr"},translate:function(x){for(var F=function(x){return x?x.querySelectorAll("*[data-l10n-id]"):[]}(x=x||V.documentElement),ee=F.length,M=0;M<ee;M++)N(F[M]);N(x)},getReadyState:function(){return D},ready:function(F){F&&("complete"==D||"interactive"==D?ie.setTimeout(function(){F()}):V.addEventListener&&V.addEventListener("localized",function ee(){V.removeEventListener("localized",ee),F()}))}}}(window,document)},(ie,V,oe)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.PDFFindController=V.FindState=void 0;var J=oe(2),K=oe(13),he=oe(3);function X(x,F){for(var ee=0;ee<F.length;ee++){var M=F[ee];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(x,M.key,M)}}function te(x,F){return function(x){if(Array.isArray(x))return x}(x)||function(x,F){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(x)){var ee=[],M=!0,P=!1,Y=void 0;try{for(var A,j=x[Symbol.iterator]();!(M=(A=j.next()).done)&&(ee.push(A.value),!F||ee.length!==F);M=!0);}catch(Z){P=!0,Y=Z}finally{try{!M&&null!=j.return&&j.return()}finally{if(P)throw Y}}return ee}}(x,F)||E(x,F)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(x,F){var ee;if("undefined"==typeof Symbol||null==x[Symbol.iterator]){if(Array.isArray(x)||(ee=E(x))||F&&x&&"number"==typeof x.length){ee&&(x=ee);var M=0,P=function(){};return{s:P,n:function(){return M>=x.length?{done:!0}:{done:!1,value:x[M++]}},e:function($){throw $},f:P}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var A,Y=!0,j=!1;return{s:function(){ee=x[Symbol.iterator]()},n:function(){var $=ee.next();return Y=$.done,$},e:function($){j=!0,A=$},f:function(){try{!Y&&null!=ee.return&&ee.return()}finally{if(j)throw A}}}}function E(x,F){if(x){if("string"==typeof x)return B(x,F);var ee=Object.prototype.toString.call(x).slice(8,-1);if("Object"===ee&&x.constructor&&(ee=x.constructor.name),"Map"===ee||"Set"===ee)return Array.from(x);if("Arguments"===ee||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ee))return B(x,F)}}function B(x,F){(null==F||F>x.length)&&(F=x.length);for(var ee=0,M=new Array(F);ee<F;ee++)M[ee]=x[ee];return M}var C={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};V.FindState=C;var ae={"\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},ue=null;function N(x){if(!ue){var F=Object.keys(ae).join("");ue=new RegExp("[".concat(F,"]"),"g")}var ee=null;return[x.replace(ue,function(P,Y){var j=ae[P],A=j.length-P.length;return 0!==A&&(ee||(ee=[])).push([Y,A]),j}),ee]}function T(x){var F=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!F)return x;var P,ee=0,M=z(F);try{for(M.s();!(P=M.n()).done;){var Y=te(P.value,2),A=Y[1],Z=Y[0]+ee;if(Z>=x)break;if(Z+A>x){ee+=x-Z;break}ee+=A}}catch($){M.e($)}finally{M.f()}return x-ee}V.PDFFindController=function(){function x(F){var ee=F.linkService,M=F.eventBus;(function(x,F){if(!(x instanceof F))throw new TypeError("Cannot call a class as a function")})(this,x),this._linkService=ee,this._eventBus=M,this._reset(),M._on("findbarclose",this._onFindBarClose.bind(this))}return function(x,F,ee){F&&X(x.prototype,F),ee&&X(x,ee)}(x,[{key:"setDocument",value:function(ee){this._pdfDocument&&this._reset(),ee&&(this._pdfDocument=ee,this._firstPageCapability.resolve())}},{key:"executeCommand",value:function(ee,M){var P=this;if(M){var Y=this._pdfDocument;(null===this._state||this._shouldDirtyMatch(ee,M))&&(this._dirtyMatch=!0),this._state=M,"findhighlightallchange"!==ee&&this._updateUIState(C.PENDING),this._firstPageCapability.promise.then(function(){if(P._pdfDocument&&(!Y||P._pdfDocument===Y)){P._extractText();var j=!P._highlightMatches,A=!!P._findTimeout;P._findTimeout&&(clearTimeout(P._findTimeout),P._findTimeout=null),"find"===ee?P._findTimeout=setTimeout(function(){P._nextMatch(),P._findTimeout=null},250):P._dirtyMatch?P._nextMatch():"findagain"===ee?(P._nextMatch(),j&&P._state.highlightAll&&P._updateAllPages()):"findhighlightallchange"===ee?(A?P._nextMatch():P._highlightMatches=!0,P._updateAllPages()):P._nextMatch()}})}}},{key:"scrollMatchIntoView",value:function(ee){var M=ee.element,P=void 0===M?null:M,Y=ee.pageIndex,j=void 0===Y?-1:Y,A=ee.matchIndex,Z=void 0===A?-1:A;if(this._scrollMatches&&P){if(-1===Z||Z!==this._selected.matchIdx)return;if(-1===j||j!==this._selected.pageIdx)return;this._scrollMatches=!1,(0,he.scrollIntoView)(P,{top:-50,left:-400},!0)}}},{key:"_reset",value:function(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=Object.create(null),this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,J.createPromiseCapability)()}},{key:"_shouldDirtyMatch",value:function(ee,M){if(M.query!==this._state.query)return!0;switch(ee){case"findagain":var P=this._selected.pageIdx+1,Y=this._linkService;return P>=1&&P<=Y.pagesCount&&P!==Y.page&&!Y.isPageVisible(P);case"findhighlightallchange":return!1}return!0}},{key:"_prepareMatches",value:function(ee,M,P){function Y(Z){var $=ee[Z];if(Z<ee.length-1&&$.match===ee[Z+1].match)return $.skipped=!0,!0;for(var de=Z-1;de>=0;de--){var fe=ee[de];if(!fe.skipped){if(fe.match+fe.matchLength<$.match)break;if(fe.match+fe.matchLength>=$.match+$.matchLength)return $.skipped=!0,!0}}return!1}ee.sort(function(Z,$){return Z.match===$.match?Z.matchLength-$.matchLength:Z.match-$.match});for(var j=0,A=ee.length;j<A;j++)Y(j)||(M.push(ee[j].match),P.push(ee[j].matchLength))}},{key:"_isEntireWord",value:function(ee,M,P){if(M>0){var Y=ee.charCodeAt(M),j=ee.charCodeAt(M-1);if((0,K.getCharacterType)(Y)===(0,K.getCharacterType)(j))return!1}var A=M+P-1;if(A<ee.length-1){var Z=ee.charCodeAt(A),$=ee.charCodeAt(A+1);if((0,K.getCharacterType)(Z)===(0,K.getCharacterType)($))return!1}return!0}},{key:"_calculatePhraseMatch",value:function(ee,M,P,Y,j){for(var A=[],Z=[],$=ee.length,Q=-$;-1!==(Q=P.indexOf(ee,Q+$));)if(!j||this._isEntireWord(P,Q,$)){var de=T(Q,Y),ge=T(Q+$-1,Y)-de+1;A.push(de),Z.push(ge)}this._pageMatches[M]=A,this._pageMatchesLength[M]=Z}},{key:"_calculateWordMatch",value:function(ee,M,P,Y,j){for(var A=[],Z=ee.match(/\S+/g),$=0,Q=Z.length;$<Q;$++)for(var de=Z[$],fe=de.length,ge=-fe;-1!==(ge=P.indexOf(de,ge+fe));)if(!j||this._isEntireWord(P,ge,fe)){var ye=T(ge,Y),Re=T(ge+fe-1,Y)-ye+1;A.push({match:ye,matchLength:Re,skipped:!1})}this._pageMatchesLength[M]=[],this._pageMatches[M]=[],this._prepareMatches(A,this._pageMatches[M],this._pageMatchesLength[M])}},{key:"_calculateMatch",value:function(ee){var M=this._pageContents[ee],P=this._pageDiffs[ee],Y=this._query,j=this._state,Z=j.entireWord,$=j.phraseSearch;if(0!==Y.length){j.caseSensitive||(M=M.toLowerCase(),Y=Y.toLowerCase()),$?this._calculatePhraseMatch(Y,ee,M,P,Z):this._calculateWordMatch(Y,ee,M,P,Z),this._state.highlightAll&&this._updatePage(ee),this._resumePageIdx===ee&&(this._resumePageIdx=null,this._nextPageMatch());var Q=this._pageMatches[ee].length;Q>0&&(this._matchesCountTotal+=Q,this._updateUIResultsCount())}}},{key:"_extractText",value:function(){var ee=this;if(!(this._extractTextPromises.length>0))for(var M=Promise.resolve(),P=function(Z,$){var Q=(0,J.createPromiseCapability)();ee._extractTextPromises[Z]=Q.promise,M=M.then(function(){return ee._pdfDocument.getPage(Z+1).then(function(de){return de.getTextContent({normalizeWhitespace:!0})}).then(function(de){for(var fe=de.items,ge=[],ye=0,Ce=fe.length;ye<Ce;ye++)ge.push(fe[ye].str);var xe=te(N(ge.join("")),2);ee._pageContents[Z]=xe[0],ee._pageDiffs[Z]=xe[1],Q.resolve(Z)},function(de){console.error("Unable to get text content for page ".concat(Z+1),de),ee._pageContents[Z]="",ee._pageDiffs[Z]=null,Q.resolve(Z)})})},Y=0,j=this._linkService.pagesCount;Y<j;Y++)P(Y)}},{key:"_updatePage",value:function(ee){this._scrollMatches&&this._selected.pageIdx===ee&&(this._linkService.page=ee+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:ee})}},{key:"_updateAllPages",value:function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}},{key:"_nextMatch",value:function(){var ee=this,M=this._state.findPrevious,P=this._linkService.page-1,Y=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=P,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,this._updateAllPages();for(var j=0;j<Y;j++)!0!==this._pendingFindMatches[j]&&(this._pendingFindMatches[j]=!0,this._extractTextPromises[j].then(function($){delete ee._pendingFindMatches[$],ee._calculateMatch($)}))}if(""!==this._query){if(!this._resumePageIdx){var A=this._offset;if(this._pagesToSearch=Y,null!==A.matchIdx){if(!M&&A.matchIdx+1<this._pageMatches[A.pageIdx].length||M&&A.matchIdx>0)return A.matchIdx=M?A.matchIdx-1:A.matchIdx+1,void this._updateMatch(!0);this._advanceOffsetPage(M)}this._nextPageMatch()}}else this._updateUIState(C.FOUND)}},{key:"_matchesReady",value:function(ee){var M=this._offset,P=ee.length,Y=this._state.findPrevious;return P?(M.matchIdx=Y?P-1:0,this._updateMatch(!0),!0):(this._advanceOffsetPage(Y),!!(M.wrapped&&(M.matchIdx=null,this._pagesToSearch<0))&&(this._updateMatch(!1),!0))}},{key:"_nextPageMatch",value:function(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");var ee=null;do{var M=this._offset.pageIdx;if(!(ee=this._pageMatches[M])){this._resumePageIdx=M;break}}while(!this._matchesReady(ee))}},{key:"_advanceOffsetPage",value:function(ee){var M=this._offset,P=this._linkService.pagesCount;M.pageIdx=ee?M.pageIdx-1:M.pageIdx+1,M.matchIdx=null,this._pagesToSearch--,(M.pageIdx>=P||M.pageIdx<0)&&(M.pageIdx=ee?P-1:0,M.wrapped=!0)}},{key:"_updateMatch",value:function(){var ee=arguments.length>0&&void 0!==arguments[0]&&arguments[0],M=C.NOT_FOUND,P=this._offset.wrapped;if(this._offset.wrapped=!1,ee){var Y=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,M=P?C.WRAPPED:C.FOUND,-1!==Y&&Y!==this._selected.pageIdx&&this._updatePage(Y)}this._updateUIState(M,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,this._updatePage(this._selected.pageIdx))}},{key:"_onFindBarClose",value:function(ee){var M=this,P=this._pdfDocument;this._firstPageCapability.promise.then(function(){!M._pdfDocument||P&&M._pdfDocument!==P||(M._findTimeout&&(clearTimeout(M._findTimeout),M._findTimeout=null),M._resumePageIdx&&(M._resumePageIdx=null,M._dirtyMatch=!0),M._updateUIState(C.FOUND),M._highlightMatches=!1,M._updateAllPages())})}},{key:"_requestMatchesCount",value:function(){var ee=this._selected,M=ee.pageIdx,P=ee.matchIdx,Y=0,j=this._matchesCountTotal;if(-1!==P){for(var A=0;A<M;A++)Y+=this._pageMatches[A]&&this._pageMatches[A].length||0;Y+=P+1}return(Y<1||Y>j)&&(Y=j=0),{current:Y,total:j}}},{key:"_updateUIResultsCount",value:function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this._requestMatchesCount()})}},{key:"_updateUIState",value:function(ee,M){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:ee,previous:M,matchesCount:this._requestMatchesCount(),rawQuery:this._state?this._state.query:null})}},{key:"highlightMatches",get:function(){return this._highlightMatches}},{key:"pageMatches",get:function(){return this._pageMatches}},{key:"pageMatchesLength",get:function(){return this._pageMatchesLength}},{key:"selected",get:function(){return this._selected}},{key:"state",get:function(){return this._state}},{key:"_query",get:function(){if(this._state.query!==this._rawQuery){this._rawQuery=this._state.query;var M=te(N(this._state.query),1);this._normalizedQuery=M[0]}return this._normalizedQuery}}]),x}()},(ie,V)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.getCharacterType=function(E){return function(E){return E<11904}(E)?function(E){return 0==(65408&E)}(E)?function(E){return 32===E||9===E||13===E||10===E}(E)?oe.SPACE:function(E){return E>=97&&E<=122||E>=65&&E<=90}(E)||function(E){return E>=48&&E<=57}(E)||95===E?oe.ALPHA_LETTER:oe.PUNCT:function(E){return 3584==(65408&E)}(E)?oe.THAI_LETTER:160===E?oe.SPACE:oe.ALPHA_LETTER:function(E){return E>=13312&&E<=40959||E>=63744&&E<=64255}(E)?oe.HAN_LETTER:function(E){return E>=12448&&E<=12543}(E)?oe.KATAKANA_LETTER:function(E){return E>=12352&&E<=12447}(E)?oe.HIRAGANA_LETTER:function(E){return E>=65376&&E<=65439}(E)?oe.HALFWIDTH_KATAKANA_LETTER:oe.ALPHA_LETTER},V.CharacterType=void 0;var oe={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};V.CharacterType=oe},(ie,V,oe)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.isDestArraysEqual=ae,V.isDestHashesEqual=se,V.PDFHistory=void 0;var J=oe(3);function K(ue){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(T){return typeof T}:function(T){return T&&"function"==typeof Symbol&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T})(ue)}function he(ue,N){return function(ue){if(Array.isArray(ue))return ue}(ue)||function(ue,N){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(ue)){var T=[],ne=!0,x=!1,F=void 0;try{for(var M,ee=ue[Symbol.iterator]();!(ne=(M=ee.next()).done)&&(T.push(M.value),!N||T.length!==N);ne=!0);}catch(P){x=!0,F=P}finally{try{!ne&&null!=ee.return&&ee.return()}finally{if(x)throw F}}return T}}(ue,N)||function(ue,N){if(ue){if("string"==typeof ue)return D(ue,N);var T=Object.prototype.toString.call(ue).slice(8,-1);if("Object"===T&&ue.constructor&&(T=ue.constructor.name),"Map"===T||"Set"===T)return Array.from(ue);if("Arguments"===T||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return D(ue,N)}}(ue,N)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(ue,N){(null==N||N>ue.length)&&(N=ue.length);for(var T=0,ne=new Array(N);T<N;T++)ne[T]=ue[T];return ne}function L(ue,N){for(var T=0;T<N.length;T++){var ne=N[T];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(ue,ne.key,ne)}}function R(){return document.location.hash}function se(ue,N){return"string"==typeof ue&&"string"==typeof N&&(ue===N||(0,J.parseQueryString)(ue).nameddest===N)}function ae(ue,N){function T(F,ee){if(K(F)!==K(ee)||Array.isArray(F)||Array.isArray(ee))return!1;if(null!==F&&"object"===K(F)&&null!==ee){if(Object.keys(F).length!==Object.keys(ee).length)return!1;for(var M in F)if(!T(F[M],ee[M]))return!1;return!0}return F===ee||Number.isNaN(F)&&Number.isNaN(ee)}if(!Array.isArray(ue)||!Array.isArray(N)||ue.length!==N.length)return!1;for(var ne=0,x=ue.length;ne<x;ne++)if(!T(ue[ne],N[ne]))return!1;return!0}V.PDFHistory=function(){function ue(N){var T=this,ne=N.linkService,x=N.eventBus;(function(ue,N){if(!(ue instanceof N))throw new TypeError("Cannot call a class as a function")})(this,ue),this.linkService=ne,this.eventBus=x,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this._isViewerInPresentationMode=!1,this.eventBus._on("presentationmodechanged",function(F){T._isViewerInPresentationMode=F.state!==J.PresentationModeState.NORMAL}),this.eventBus._on("pagesinit",function(){T._isPagesLoaded=!1,T.eventBus._on("pagesloaded",function(F){T._isPagesLoaded=!!F.pagesCount},{once:!0})})}return function(ue,N,T){N&&L(ue.prototype,N),T&&L(ue,T)}(ue,[{key:"initialize",value:function(T){var ne=T.fingerprint,x=T.resetHistory,F=void 0!==x&&x,ee=T.updateUrl,M=void 0!==ee&&ee;if(ne&&"string"==typeof ne){this._initialized&&this.reset();var P=""!==this._fingerprint&&this._fingerprint!==ne;this._fingerprint=ne,this._updateUrl=!0===M,this._initialized=!0,this._bindEvents();var Y=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=R(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(Y,!0)||F){var j=this._parseCurrentHash(!0),A=j.hash,Z=j.page,$=j.rotation;return!A||P||F?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:A,page:Z,rotation:$},!0)}var Q=Y.destination;this._updateInternalState(Q,Y.uid,!0),void 0!==Q.rotation&&(this._initialRotation=Q.rotation),Q.dest?(this._initialBookmark=JSON.stringify(Q.dest),this._destination.page=null):Q.hash?this._initialBookmark=Q.hash:Q.page&&(this._initialBookmark="page=".concat(Q.page))}else console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.')}},{key:"reset",value:function(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}},{key:"push",value:function(T){var ne=this,x=T.namedDest,F=void 0===x?null:x,ee=T.explicitDest,M=T.pageNumber;if(this._initialized){if(F&&"string"!=typeof F)return void console.error("PDFHistory.push: "+'"'.concat(F,'" is not a valid namedDest parameter.'));if(!Array.isArray(ee))return void console.error("PDFHistory.push: "+'"'.concat(ee,'" is not a valid explicitDest parameter.'));if(!(Number.isInteger(M)&&M>0&&M<=this.linkService.pagesCount)&&(null!==M||this._destination))return void console.error("PDFHistory.push: "+'"'.concat(M,'" is not a valid pageNumber parameter.'));var P=F||JSON.stringify(ee);if(P){var Y=!1;if(this._destination&&(se(this._destination.hash,P)||ae(this._destination.dest,ee))){if(this._destination.page)return;Y=!0}this._popStateInProgress&&!Y||(this._pushOrReplaceState({dest:ee,hash:P,page:M,rotation:this.linkService.rotation},Y),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(function(){ne._popStateInProgress=!1})))}}}},{key:"pushPage",value:function(T){var ne,x=this;if(this._initialized){if(!(Number.isInteger(T)&&T>0&&T<=this.linkService.pagesCount))return void console.error('PDFHistory.pushPage: "'.concat(T,'" is not a valid page number.'));(null===(ne=this._destination)||void 0===ne?void 0:ne.page)!==T&&(this._popStateInProgress||(this._pushOrReplaceState({hash:"page=".concat(T),page:T,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(function(){x._popStateInProgress=!1}))))}}},{key:"pushCurrentPosition",value:function(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}},{key:"back",value:function(){if(this._initialized&&!this._popStateInProgress){var T=window.history.state;this._isValidState(T)&&T.uid>0&&window.history.back()}}},{key:"forward",value:function(){if(this._initialized&&!this._popStateInProgress){var T=window.history.state;this._isValidState(T)&&T.uid<this._maxUid&&window.history.forward()}}},{key:"_pushOrReplaceState",value:function(T){var ee,x=arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this._destination,F={fingerprint:this._fingerprint,uid:x?this._uid:this._uid+1,destination:T};if(this._updateInternalState(T,F.uid),this._updateUrl&&null!=T&&T.hash){var M=document.location.href.split("#")[0];M.startsWith("file://")||(ee="".concat(M,"#").concat(T.hash))}x?window.history.replaceState(F,"",ee):window.history.pushState(F,"",ee)}},{key:"_tryPushCurrentPosition",value:function(){if(this._position){var ne=this._position;if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&((ne=Object.assign(Object.create(null),this._position)).temporary=!0),!this._destination)return void this._pushOrReplaceState(ne);if(this._destination.temporary)return void this._pushOrReplaceState(ne,!0);if(this._destination.hash!==ne.hash&&(this._destination.page||!(this._numPositionUpdates<=50))){var x=!1;if(this._destination.page>=ne.first&&this._destination.page<=ne.page){if(this._destination.dest||!this._destination.first)return;x=!0}this._pushOrReplaceState(ne,x)}}}},{key:"_isValidState",value:function(T){if(!T)return!1;if(T.fingerprint!==this._fingerprint){if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1]))return!1;if("string"!=typeof T.fingerprint||T.fingerprint.length!==this._fingerprint.length)return!1;var ee=he(performance.getEntriesByType("navigation"),1)[0];if("reload"!==(null==ee?void 0:ee.type))return!1}return!(!Number.isInteger(T.uid)||T.uid<0||null===T.destination||"object"!==K(T.destination))}},{key:"_updateInternalState",value:function(T,ne){var x=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),x&&null!=T&&T.temporary&&delete T.temporary,this._destination=T,this._uid=ne,this._maxUid=Math.max(this._maxUid,ne),this._numPositionUpdates=0}},{key:"_parseCurrentHash",value:function(){var T=arguments.length>0&&void 0!==arguments[0]&&arguments[0],ne=unescape(R()).substring(1),x=(0,J.parseQueryString)(ne),F=x.nameddest||"",ee=0|x.page;return(!(Number.isInteger(ee)&&ee>0&&ee<=this.linkService.pagesCount)||T&&F.length>0)&&(ee=null),{hash:ne,page:ee,rotation:this.linkService.rotation}}},{key:"_updateViewarea",value:function(T){var ne=this,x=T.location;this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:this._isViewerInPresentationMode?"page=".concat(x.pageNumber):x.pdfOpenParams.substring(1),page:this.linkService.page,first:x.pageNumber,rotation:x.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(function(){ne._popStateInProgress||ne._tryPushCurrentPosition(!0),ne._updateViewareaTimeout=null},1e3))}},{key:"_popState",value:function(T){var ne=this,x=T.state,F=R(),ee=this._currentHash!==F;if(this._currentHash=F,x){if(this._isValidState(x)){this._popStateInProgress=!0,ee&&(this._blockHashChange++,(0,J.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(function(){ne._blockHashChange--}));var A=x.destination;this._updateInternalState(A,x.uid,!0),(0,J.isValidRotation)(A.rotation)&&(this.linkService.rotation=A.rotation),A.dest?this.linkService.goToDestination(A.dest):A.hash?this.linkService.setHash(A.hash):A.page&&(this.linkService.page=A.page),Promise.resolve().then(function(){ne._popStateInProgress=!1})}}else{this._uid++;var M=this._parseCurrentHash();this._pushOrReplaceState({hash:M.hash,page:M.page,rotation:M.rotation},!0)}}},{key:"_pageHide",value:function(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}},{key:"_bindEvents",value:function(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}},{key:"_unbindEvents",value:function(){!this._boundEvents||(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}},{key:"popStateInProgress",get:function(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}},{key:"initialBookmark",get:function(){return this._initialized?this._initialBookmark:null}},{key:"initialRotation",get:function(){return this._initialized?this._initialRotation:null}}]),ue}()},(ie,V,oe)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.PDFPageView=void 0;var C,J=(C=oe(4))&&C.__esModule?C:{default:C},K=oe(3),he=oe(2),U=oe(16);function te(C,R,O,se,ae,ue,N){try{var T=C[ue](N),ne=T.value}catch(x){return void O(x)}T.done?R(ne):Promise.resolve(ne).then(se,ae)}function ce(C){return function(){var R=this,O=arguments;return new Promise(function(se,ae){var ue=C.apply(R,O);function N(ne){te(ue,se,ae,N,T,"next",ne)}function T(ne){te(ue,se,ae,N,T,"throw",ne)}N(void 0)})}}function L(C,R){for(var O=0;O<R.length;O++){var se=R[O];se.enumerable=se.enumerable||!1,se.configurable=!0,"value"in se&&(se.writable=!0),Object.defineProperty(C,se.key,se)}}var E=oe(9).viewerCompatibilityParams.maxCanvasPixels||16777216;V.PDFPageView=function(){function C(R){!function(C,R){if(!(C instanceof R))throw new TypeError("Cannot call a class as a function")}(this,C);var O=R.container,se=R.defaultViewport;this.id=R.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=R.scale||K.DEFAULT_SCALE,this.viewport=se,this.pdfPageRotate=se.rotation,this._optionalContentConfigPromise=R.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=Number.isInteger(R.textLayerMode)?R.textLayerMode:K.TextLayerMode.ENABLE,this.imageResourcesPath=R.imageResourcesPath||"",this.renderInteractiveForms="boolean"!=typeof R.renderInteractiveForms||R.renderInteractiveForms,this.useOnlyCssZoom=R.useOnlyCssZoom||!1,this.maxCanvasPixels=R.maxCanvasPixels||E,this.eventBus=R.eventBus,this.renderingQueue=R.renderingQueue,this.textLayerFactory=R.textLayerFactory,this.annotationLayerFactory=R.annotationLayerFactory,this.renderer=R.renderer||K.RendererType.CANVAS,this.enableWebGL=R.enableWebGL||!1,this.l10n=R.l10n||K.NullL10n,this.enableScripting=R.enableScripting||!1,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=U.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null;var ae=document.createElement("div");ae.className="page",ae.style.width=Math.floor(this.viewport.width)+"px",ae.style.height=Math.floor(this.viewport.height)+"px",ae.setAttribute("data-page-number",this.id),this.div=ae,O.appendChild(ae)}return function(C,R,O){R&&L(C.prototype,R),O&&L(C,O)}(C,[{key:"setPdfPage",value:function(O){this.pdfPage=O,this.pdfPageRotate=O.rotate,this.viewport=O.getViewport({scale:this.scale*K.CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}},{key:"destroy",value:function(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}},{key:"_renderAnnotationLayer",value:(R=ce(J.default.mark(function se(){var ae;return J.default.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return ae=null,N.prev=1,N.next=4,this.annotationLayer.render(this.viewport,"display");case 4:N.next=9;break;case 6:N.prev=6,N.t0=N.catch(1),ae=N.t0;case 9:return N.prev=9,this.eventBus.dispatch("annotationlayerrendered",{source:this,pageNumber:this.id,error:ae}),N.finish(9);case 12:case"end":return N.stop()}},se,this,[[1,6,9,12]])})),function(){return R.apply(this,arguments)})},{key:"_resetZoomLayer",value:function(){var O=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.zoomLayer){var se=this.zoomLayer.firstChild;this.paintedViewportMap.delete(se),se.width=0,se.height=0,O&&this.zoomLayer.remove(),this.zoomLayer=null}}},{key:"reset",value:function(){var O=arguments.length>0&&void 0!==arguments[0]&&arguments[0],se=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.cancelRendering(se),this.renderingState=U.RenderingStates.INITIAL;var ae=this.div;ae.style.width=Math.floor(this.viewport.width)+"px",ae.style.height=Math.floor(this.viewport.height)+"px";for(var ue=ae.childNodes,N=O&&this.zoomLayer||null,T=se&&this.annotationLayer&&this.annotationLayer.div||null,ne=ue.length-1;ne>=0;ne--){var x=ue[ne];N===x||T===x||ae.removeChild(x)}ae.removeAttribute("data-loaded"),T?this.annotationLayer.hide():this.annotationLayer&&(this.annotationLayer.cancel(),this.annotationLayer=null),N||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon",ae.appendChild(this.loadingIconDiv)}},{key:"update",value:function(O,se){var ae=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(this.scale=O||this.scale,void 0!==se&&(this.rotation=se),ae instanceof Promise&&(this._optionalContentConfigPromise=ae),this.viewport=this.viewport.clone({scale:this.scale*K.CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.svg)return this.cssTransform(this.svg,!0),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});var N=!1;if(this.canvas&&this.maxCanvasPixels>0){var T=this.outputScale;(Math.floor(this.viewport.width)*T.sx|0)*(Math.floor(this.viewport.height)*T.sy|0)>this.maxCanvasPixels&&(N=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&N)return this.cssTransform(this.canvas,!0),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hasAttribute("hidden")&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform(this.zoomLayer.firstChild),this.reset(!0,!0)}},{key:"cancelRendering",value:function(){var O=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),!O&&this.annotationLayer&&(this.annotationLayer.cancel(),this.annotationLayer=null)}},{key:"cssTransform",value:function(O){var se=arguments.length>1&&void 0!==arguments[1]&&arguments[1],ae=this.viewport.width,ue=this.viewport.height,N=this.div;O.style.width=O.parentNode.style.width=N.style.width=Math.floor(ae)+"px",O.style.height=O.parentNode.style.height=N.style.height=Math.floor(ue)+"px";var T=this.viewport.rotation-this.paintedViewportMap.get(O).rotation,ne=Math.abs(T),x=1,F=1;if((90===ne||270===ne)&&(x=ue/ae,F=ae/ue),O.style.transform="rotate(".concat(T,"deg) scale(").concat(x,", ").concat(F,")"),this.textLayer){var ee=this.textLayer.viewport,P=Math.abs(this.viewport.rotation-ee.rotation),Y=ae/ee.width;(90===P||270===P)&&(Y=ae/ee.height);var A,Z,j=this.textLayer.textLayerDiv;switch(P){case 0:A=Z=0;break;case 90:A=0,Z="-"+j.style.height;break;case 180:A="-"+j.style.width,Z="-"+j.style.height;break;case 270:A="-"+j.style.width,Z=0;break;default:console.error("Bad rotation value.")}j.style.transform="rotate(".concat(P,"deg) ")+"scale(".concat(Y,") ")+"translate(".concat(A,", ").concat(Z,")"),j.style.transformOrigin="0% 0%"}se&&this.annotationLayer&&this._renderAnnotationLayer()}},{key:"getPagePoint",value:function(O,se){return this.viewport.convertToPdfPoint(O,se)}},{key:"draw",value:function(){var O=this;this.renderingState!==U.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());var se=this.div,ae=this.pdfPage;if(!ae)return this.renderingState=U.RenderingStates.FINISHED,this.loadingIconDiv&&(se.removeChild(this.loadingIconDiv),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=U.RenderingStates.RUNNING;var ue=document.createElement("div");ue.style.width=se.style.width,ue.style.height=se.style.height,ue.classList.add("canvasWrapper"),this.annotationLayer&&this.annotationLayer.div?se.insertBefore(ue,this.annotationLayer.div):se.appendChild(ue);var N=null;if(this.textLayerMode!==K.TextLayerMode.DISABLE&&this.textLayerFactory){var T=document.createElement("div");T.className="textLayer",T.style.width=ue.style.width,T.style.height=ue.style.height,this.annotationLayer&&this.annotationLayer.div?se.insertBefore(T,this.annotationLayer.div):se.appendChild(T),N=this.textLayerFactory.createTextLayerBuilder(T,this.id-1,this.viewport,this.textLayerMode===K.TextLayerMode.ENABLE_ENHANCE,this.eventBus)}this.textLayer=N;var ne=null;this.renderingQueue&&(ne=function(P){if(!O.renderingQueue.isHighestPriority(O))return O.renderingState=U.RenderingStates.PAUSED,void(O.resume=function(){O.renderingState=U.RenderingStates.RUNNING,P()});P()});var x=function(){var M=ce(J.default.mark(function P(){var Y,j=arguments;return J.default.wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(Y=j.length>0&&void 0!==j[0]?j[0]:null,F===O.paintTask&&(O.paintTask=null),!(Y instanceof he.RenderingCancelledException)){Z.next=5;break}return O._renderError=null,Z.abrupt("return");case 5:if(O._renderError=Y,O.renderingState=U.RenderingStates.FINISHED,O.loadingIconDiv&&(se.removeChild(O.loadingIconDiv),delete O.loadingIconDiv),O._resetZoomLayer(!0),O.eventBus.dispatch("pagerendered",{source:O,pageNumber:O.id,cssTransform:!1,timestamp:performance.now(),error:O._renderError}),!Y){Z.next=12;break}throw Y;case 12:case"end":return Z.stop()}},P)}));return function(){return M.apply(this,arguments)}}(),F=this.renderer===K.RendererType.SVG?this.paintOnSvg(ue):this.paintOnCanvas(ue);F.onRenderContinue=ne,this.paintTask=F;var ee=F.promise.then(function(){return x(null).then(function(){if(N){var M=ae.streamTextContent({normalizeWhitespace:!0});N.setTextContentStream(M),N.render()}})},function(M){return x(M)});return this.annotationLayerFactory&&(this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(se,ae,null,this.imageResourcesPath,this.renderInteractiveForms,this.l10n,this.enableScripting,null,null)),this._renderAnnotationLayer()),se.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),ee}},{key:"paintOnCanvas",value:function(O){var se=(0,he.createPromiseCapability)(),ae={promise:se.promise,onRenderContinue:function(de){de()},cancel:function(){$.cancel()}},ue=this.viewport,N=document.createElement("canvas");this.l10n.get("page_canvas",{page:this.id},"Page {{page}}").then(function(Q){N.setAttribute("aria-label",Q)}),N.setAttribute("hidden","hidden");var T=!0,ne=function(){T&&(N.removeAttribute("hidden"),T=!1)};O.appendChild(N),this.canvas=N,N.mozOpaque=!0;var x=N.getContext("2d",{alpha:!1}),F=(0,K.getOutputScale)(x);if(this.outputScale=F,this.useOnlyCssZoom){var ee=ue.clone({scale:K.CSS_UNITS});F.sx*=ee.width/ue.width,F.sy*=ee.height/ue.height,F.scaled=!0}if(this.maxCanvasPixels>0){var P=Math.sqrt(this.maxCanvasPixels/(ue.width*ue.height));F.sx>P||F.sy>P?(F.sx=P,F.sy=P,F.scaled=!0,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}var Y=(0,K.approximateFraction)(F.sx),j=(0,K.approximateFraction)(F.sy);N.width=(0,K.roundToDivide)(ue.width*F.sx,Y[0]),N.height=(0,K.roundToDivide)(ue.height*F.sy,j[0]),N.style.width=(0,K.roundToDivide)(ue.width,Y[1])+"px",N.style.height=(0,K.roundToDivide)(ue.height,j[1])+"px",this.paintedViewportMap.set(N,ue);var $=this.pdfPage.render({canvasContext:x,transform:F.scaled?[F.sx,0,0,F.sy,0,0]:null,viewport:this.viewport,enableWebGL:this.enableWebGL,renderInteractiveForms:this.renderInteractiveForms,optionalContentConfigPromise:this._optionalContentConfigPromise});return $.onContinue=function(Q){ne(),ae.onRenderContinue?ae.onRenderContinue(Q):Q()},$.promise.then(function(){ne(),se.resolve(void 0)},function(Q){ne(),se.reject(Q)}),ae}},{key:"paintOnSvg",value:function(O){var se=this,ae=!1,ue=function(){if(ae)throw new he.RenderingCancelledException("Rendering cancelled, page ".concat(se.id),"svg")},N=this.pdfPage,T=this.viewport.clone({scale:K.CSS_UNITS});return{promise:N.getOperatorList().then(function(x){return ue(),new he.SVGGraphics(N.commonObjs,N.objs).getSVG(x,T).then(function(ee){ue(),se.svg=ee,se.paintedViewportMap.set(ee,T),ee.style.width=O.style.width,ee.style.height=O.style.height,se.renderingState=U.RenderingStates.FINISHED,O.appendChild(ee)})}),onRenderContinue:function(F){F()},cancel:function(){ae=!0}}}},{key:"setPageLabel",value:function(O){this.pageLabel="string"==typeof O?O:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}},{key:"width",get:function(){return this.viewport.width}},{key:"height",get:function(){return this.viewport.height}}]),C;var R}()},(ie,V,oe)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.RenderingStates=V.PDFRenderingQueue=void 0;var J=oe(2);function he(ce,re){for(var L=0;L<re.length;L++){var z=re[L];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(ce,z.key,z)}}var D={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};V.RenderingStates=D,V.PDFRenderingQueue=function(){function ce(){(function(ce,re){if(!(ce instanceof re))throw new TypeError("Cannot call a class as a function")})(this,ce),this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}return function(ce,re,L){re&&he(ce.prototype,re),L&&he(ce,L)}(ce,[{key:"setViewer",value:function(L){this.pdfViewer=L}},{key:"setThumbnailViewer",value:function(L){this.pdfThumbnailViewer=L}},{key:"isHighestPriority",value:function(L){return this.highestPriorityPage===L.renderingId}},{key:"renderHighestPriority",value:function(L){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(L)&&(this.pdfThumbnailViewer&&this.isThumbnailViewEnabled&&this.pdfThumbnailViewer.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}},{key:"getHighestPriority",value:function(L,z,E){var B=L.views,C=B.length;if(0===C)return null;for(var R=0;R<C;++R){var O=B[R].view;if(!this.isViewFinished(O))return O}if(E){var se=L.last.id;if(z[se]&&!this.isViewFinished(z[se]))return z[se]}else{var ae=L.first.id-2;if(z[ae]&&!this.isViewFinished(z[ae]))return z[ae]}return null}},{key:"isViewFinished",value:function(L){return L.renderingState===D.FINISHED}},{key:"renderView",value:function(L){var z=this;switch(L.renderingState){case D.FINISHED:return!1;case D.PAUSED:this.highestPriorityPage=L.renderingId,L.resume();break;case D.RUNNING:this.highestPriorityPage=L.renderingId;break;case D.INITIAL:this.highestPriorityPage=L.renderingId,L.draw().finally(function(){z.renderHighestPriority()}).catch(function(E){E instanceof J.RenderingCancelledException||console.error('renderView: "'.concat(E,'"'))})}return!0}}]),ce}()},(ie,V,oe)=>{function J(se){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ue){return typeof ue}:function(ue){return ue&&"function"==typeof Symbol&&ue.constructor===Symbol&&ue!==Symbol.prototype?"symbol":typeof ue})(se)}Object.defineProperty(V,"__esModule",{value:!0}),V.PDFSinglePageViewer=void 0;var K=oe(18),he=oe(2);function X(se,ae){for(var ue=0;ue<ae.length;ue++){var N=ae[ue];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(se,N.key,N)}}function te(se,ae,ue){return(te="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(T,ne,x){var F=function(se,ae){for(;!Object.prototype.hasOwnProperty.call(se,ae)&&null!==(se=R(se)););return se}(T,ne);if(F){var ee=Object.getOwnPropertyDescriptor(F,ne);return ee.get?ee.get.call(x):ee.value}})(se,ae,ue||se)}function re(se,ae){if("function"!=typeof ae&&null!==ae)throw new TypeError("Super expression must either be null or a function");se.prototype=Object.create(ae&&ae.prototype,{constructor:{value:se,writable:!0,configurable:!0}}),ae&&L(se,ae)}function L(se,ae){return(L=Object.setPrototypeOf||function(N,T){return N.__proto__=T,N})(se,ae)}function z(se){var ae=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(se){return!1}}();return function(){var T,N=R(se);if(ae){var ne=R(this).constructor;T=Reflect.construct(N,arguments,ne)}else T=N.apply(this,arguments);return E(this,T)}}function E(se,ae){return!ae||"object"!==J(ae)&&"function"!=typeof ae?function(se){if(void 0===se)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return se}(se):ae}function R(se){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(ue){return ue.__proto__||Object.getPrototypeOf(ue)})(se)}V.PDFSinglePageViewer=function(se){re(ue,se);var ae=z(ue);function ue(N){var T;return function(se,ae){if(!(se instanceof ae))throw new TypeError("Cannot call a class as a function")}(this,ue),(T=ae.call(this,N)).eventBus._on("pagesinit",function(ne){T._ensurePageViewVisible()}),T}return function(se,ae,ue){ae&&X(se.prototype,ae),ue&&X(se,ue)}(ue,[{key:"_resetView",value:function(){te(R(ue.prototype),"_resetView",this).call(this),this._previousPageNumber=1,this._shadowViewer=document.createDocumentFragment(),this._updateScrollDown=null}},{key:"_ensurePageViewVisible",value:function(){var T=this._pages[this._currentPageNumber-1],ne=this._pages[this._previousPageNumber-1],x=this.viewer.childNodes;switch(x.length){case 0:this.viewer.appendChild(T.div);break;case 1:if(x[0]!==ne.div)throw new Error("_ensurePageViewVisible: Unexpected previously visible page.");if(T===ne)break;this._shadowViewer.appendChild(ne.div),this.viewer.appendChild(T.div),this.container.scrollTop=0;break;default:throw new Error("_ensurePageViewVisible: Only one page should be visible at a time.")}this._previousPageNumber=this._currentPageNumber}},{key:"_scrollUpdate",value:function(){this._updateScrollDown&&this._updateScrollDown(),te(R(ue.prototype),"_scrollUpdate",this).call(this)}},{key:"_scrollIntoView",value:function(T){var ne=this,x=T.pageDiv,F=T.pageSpot,ee=void 0===F?null:F,M=T.pageNumber,P=void 0===M?null:M;P&&this._setCurrentPageNumber(P);var Y=this._currentPageNumber>=this._previousPageNumber;this._ensurePageViewVisible(),this.update(),te(R(ue.prototype),"_scrollIntoView",this).call(this,{pageDiv:x,pageSpot:ee,pageNumber:P}),this._updateScrollDown=function(){ne.scroll.down=Y,ne._updateScrollDown=null}}},{key:"_getVisiblePages",value:function(){return this._getCurrentVisiblePage()}},{key:"_updateHelper",value:function(T){}},{key:"_updateScrollMode",value:function(){}},{key:"_updateSpreadMode",value:function(){}},{key:"_getPageAdvance",value:function(){return 1}},{key:"_viewerElement",get:function(){return(0,he.shadow)(this,"_viewerElement",this._shadowViewer)}},{key:"_pageWidthScaleFactor",get:function(){return 1}},{key:"_isScrollModeHorizontal",get:function(){return(0,he.shadow)(this,"_isScrollModeHorizontal",!1)}}]),ue}(K.BaseViewer)},(ie,V,oe)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.BaseViewer=void 0;var J=oe(2),K=oe(3),he=oe(16),U=oe(1),X=oe(15),D=oe(6),te=oe(7);function ce(ae,ue){var N;if("undefined"==typeof Symbol||null==ae[Symbol.iterator]){if(Array.isArray(ae)||(N=function(ae,ue){if(ae){if("string"==typeof ae)return L(ae,ue);var N=Object.prototype.toString.call(ae).slice(8,-1);if("Object"===N&&ae.constructor&&(N=ae.constructor.name),"Map"===N||"Set"===N)return Array.from(ae);if("Arguments"===N||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N))return L(ae,ue)}}(ae))||ue&&ae&&"number"==typeof ae.length){N&&(ae=N);var T=0,ne=function(){};return{s:ne,n:function(){return T>=ae.length?{done:!0}:{done:!1,value:ae[T++]}},e:function(P){throw P},f:ne}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var ee,x=!0,F=!1;return{s:function(){N=ae[Symbol.iterator]()},n:function(){var P=N.next();return x=P.done,P},e:function(P){F=!0,ee=P},f:function(){try{!x&&null!=N.return&&N.return()}finally{if(F)throw ee}}}}function L(ae,ue){(null==ue||ue>ae.length)&&(ue=ae.length);for(var N=0,T=new Array(ue);N<ue;N++)T[N]=ae[N];return T}function E(ae,ue){for(var N=0;N<ue.length;N++){var T=ue[N];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(ae,T.key,T)}}function R(ae){var ue=[];this.push=function(N){var T=ue.indexOf(N);T>=0&&ue.splice(T,1),ue.push(N),ue.length>ae&&ue.shift().destroy()},this.resize=function(N,T){if(ae=N,T){for(var ne=new Set,x=0,F=T.length;x<F;++x)ne.add(T[x].id);(0,K.moveToEndOfArray)(ue,function(ee){return ne.has(ee.id)})}for(;ue.length>ae;)ue.shift().destroy()},this.has=function(N){return ue.includes(N)}}function O(ae,ue){return ue===ae||Math.abs(ue-ae)<1e-15}V.BaseViewer=function(){function ae(ue){var N,T,ne=this;if(function(ae,ue){if(!(ae instanceof ue))throw new TypeError("Cannot call a class as a function")}(this,ae),this.constructor===ae)throw new Error("Cannot initialize BaseViewer.");var x="2.7.570";if(J.version!==x)throw new Error('The API version "'.concat(J.version,'" does not match the Viewer version "').concat(x,'".'));if(this._name=this.constructor.name,this.container=ue.container,this.viewer=ue.viewer||ue.container.firstElementChild,"DIV"!==(null===(N=this.container)||void 0===N?void 0:N.tagName.toUpperCase())||"DIV"!==(null===(T=this.viewer)||void 0===T?void 0:T.tagName.toUpperCase()))throw new Error("Invalid `container` and/or `viewer` option.");if("absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=ue.eventBus,this.linkService=ue.linkService||new D.SimpleLinkService,this.downloadManager=ue.downloadManager||null,this.findController=ue.findController||null,this.removePageBorders=ue.removePageBorders||!1,this.textLayerMode=Number.isInteger(ue.textLayerMode)?ue.textLayerMode:K.TextLayerMode.ENABLE,this.imageResourcesPath=ue.imageResourcesPath||"",this.renderInteractiveForms="boolean"!=typeof ue.renderInteractiveForms||ue.renderInteractiveForms,this.enablePrintAutoRotate=ue.enablePrintAutoRotate||!1,this.renderer=ue.renderer||K.RendererType.CANVAS,this.enableWebGL=ue.enableWebGL||!1,this.useOnlyCssZoom=ue.useOnlyCssZoom||!1,this.maxCanvasPixels=ue.maxCanvasPixels,this.l10n=ue.l10n||K.NullL10n,this.enableScripting=ue.enableScripting||!1,this._mouseState=ue.mouseState||null,this.defaultRenderingQueue=!ue.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new he.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=ue.renderingQueue,this.scroll=(0,K.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=K.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),Promise.resolve().then(function(){ne.eventBus.dispatch("baseviewerinit",{source:ne})})}return function(ae,ue,N){ue&&E(ae.prototype,ue),N&&E(ae,N)}(ae,[{key:"getPageView",value:function(N){return this._pages[N]}},{key:"_setCurrentPageNumber",value:function(N){var T=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this._currentPageNumber===N)return T&&this._resetCurrentPageView(),!0;if(!(0<N&&N<=this.pagesCount))return!1;var ne=this._currentPageNumber;return this._currentPageNumber=N,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:N,pageLabel:this._pageLabels&&this._pageLabels[N-1],previous:ne}),T&&this._resetCurrentPageView(),!0}},{key:"_onePageRenderedOrForceFetch",value:function(){return this.container.offsetParent&&0!==this._getVisiblePages().views.length?this._onePageRenderedCapability.promise:Promise.resolve()}},{key:"setDocument",value:function(N){var T=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null)),this.pdfDocument=N,N){var ne=N.numPages,x=N.getPage(1),F=N.getOptionalContentConfig();this._pagesCapability.promise.then(function(){T.eventBus.dispatch("pagesloaded",{source:T,pagesCount:ne})}),this._onBeforeDraw=function(ee){var M=T._pages[ee.pageNumber-1];!M||T._buffer.push(M)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=function(ee){ee.cssTransform||T._onePageRenderedCapability.settled||(T._onePageRenderedCapability.resolve(),T.eventBus._off("pagerendered",T._onAfterDraw),T._onAfterDraw=null)},this.eventBus._on("pagerendered",this._onAfterDraw),x.then(function(ee){T._firstPageCapability.resolve(ee),T._optionalContentConfigPromise=F;for(var M=T.currentScale,P=ee.getViewport({scale:M*K.CSS_UNITS}),Y=T.textLayerMode!==K.TextLayerMode.DISABLE?T:null,j=1;j<=ne;++j){var A=new X.PDFPageView({container:T._viewerElement,eventBus:T.eventBus,id:j,scale:M,defaultViewport:P.clone(),optionalContentConfigPromise:F,renderingQueue:T.renderingQueue,textLayerFactory:Y,textLayerMode:T.textLayerMode,annotationLayerFactory:T,imageResourcesPath:T.imageResourcesPath,renderInteractiveForms:T.renderInteractiveForms,renderer:T.renderer,enableWebGL:T.enableWebGL,useOnlyCssZoom:T.useOnlyCssZoom,maxCanvasPixels:T.maxCanvasPixels,l10n:T.l10n,enableScripting:T.enableScripting});T._pages.push(A)}var Z=T._pages[0];Z&&(Z.setPdfPage(ee),T.linkService.cachePageRef(1,ee.ref)),T._spreadMode!==K.SpreadMode.NONE&&T._updateSpreadMode(),T._onePageRenderedOrForceFetch().then(function(){if(T.findController&&T.findController.setDocument(N),N.loadingParams.disableAutoFetch||ne>7500)T._pagesCapability.resolve();else{var $=ne-1;if($<=0)T._pagesCapability.resolve();else for(var Q=function(ge){N.getPage(ge).then(function(ye){var Ce=T._pages[ge-1];Ce.pdfPage||Ce.setPdfPage(ye),T.linkService.cachePageRef(ge,ye.ref),0==--$&&T._pagesCapability.resolve()},function(ye){console.error("Unable to get page ".concat(ge," to initialize viewer"),ye),0==--$&&T._pagesCapability.resolve()})},de=2;de<=ne;++de)Q(de)}}),T.eventBus.dispatch("pagesinit",{source:T}),T.defaultRenderingQueue&&T.update()}).catch(function(ee){console.error("Unable to initialize viewer",ee)})}}},{key:"setPageLabels",value:function(N){if(this.pdfDocument){N?Array.isArray(N)&&this.pdfDocument.numPages===N.length?this._pageLabels=N:(this._pageLabels=null,console.error("".concat(this._name,".setPageLabels: Invalid page labels."))):this._pageLabels=null;for(var T=0,ne=this._pages.length;T<ne;T++)this._pages[T].setPageLabel(this._pageLabels&&this._pageLabels[T])}}},{key:"_resetView",value:function(){this._pages=[],this._currentPageNumber=1,this._currentScale=K.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,this._buffer=new R(10),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._pagesRequests=new WeakMap,this._firstPageCapability=(0,J.createPromiseCapability)(),this._onePageRenderedCapability=(0,J.createPromiseCapability)(),this._pagesCapability=(0,J.createPromiseCapability)(),this._scrollMode=K.ScrollMode.VERTICAL,this._spreadMode=K.SpreadMode.NONE,this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),this._resetScriptingEvents(),this.viewer.textContent="",this._updateScrollMode()}},{key:"_scrollUpdate",value:function(){0!==this.pagesCount&&this.update()}},{key:"_scrollIntoView",value:function(N){var ne=N.pageSpot;(0,K.scrollIntoView)(N.pageDiv,void 0===ne?null:ne)}},{key:"_setScaleUpdatePages",value:function(N,T){var ne=arguments.length>2&&void 0!==arguments[2]&&arguments[2],x=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this._currentScaleValue=T.toString(),O(this._currentScale,N))x&&this.eventBus.dispatch("scalechanging",{source:this,scale:N,presetValue:T});else{for(var F=0,ee=this._pages.length;F<ee;F++)this._pages[F].update(N);if(this._currentScale=N,!ne){var P,M=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(M=this._location.pageNumber,P=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:M,destArray:P,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:N,presetValue:x?T:void 0}),this.defaultRenderingQueue&&this.update()}}},{key:"_setScale",value:function(N){var T=arguments.length>1&&void 0!==arguments[1]&&arguments[1],ne=parseFloat(N);if(ne>0)this._setScaleUpdatePages(ne,N,T,!1);else{var x=this._pages[this._currentPageNumber-1];if(!x)return;var F=this.isInPresentationMode||this.removePageBorders,ee=F?0:K.SCROLLBAR_PADDING,M=F?0:K.VERTICAL_PADDING;if(!F&&this._isScrollModeHorizontal){var P=[M,ee];ee=P[0],M=P[1]}var Y=(this.container.clientWidth-ee)/x.width*x.scale/this._pageWidthScaleFactor,j=(this.container.clientHeight-M)/x.height*x.scale;switch(N){case"page-actual":ne=1;break;case"page-width":ne=Y;break;case"page-height":ne=j;break;case"page-fit":ne=Math.min(Y,j);break;case"auto":var A=(0,K.isPortraitOrientation)(x)?Y:Math.min(j,Y);ne=Math.min(K.MAX_AUTO_SCALE,A);break;default:return void console.error("".concat(this._name,'._setScale: "').concat(N,'" is an unknown zoom value.'))}this._setScaleUpdatePages(ne,N,T,!0)}}},{key:"_resetCurrentPageView",value:function(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),this._scrollIntoView({pageDiv:this._pages[this._currentPageNumber-1].div})}},{key:"pageLabelToPageNumber",value:function(N){if(!this._pageLabels)return null;var T=this._pageLabels.indexOf(N);return T<0?null:T+1}},{key:"scrollPageIntoView",value:function(N){var T=N.pageNumber,ne=N.destArray,x=void 0===ne?null:ne,F=N.allowNegativeOffset,ee=void 0!==F&&F,M=N.ignoreDestinationZoom,P=void 0!==M&&M;if(this.pdfDocument){var Y=Number.isInteger(T)&&this._pages[T-1];if(!Y)return void console.error("".concat(this._name,".scrollPageIntoView: ")+'"'.concat(T,'" is not a valid pageNumber parameter.'));if(this.isInPresentationMode||!x)return void this._setCurrentPageNumber(T,!0);var de,j=0,A=0,Z=0,$=0,fe=Y.rotation%180!=0,ge=(fe?Y.height:Y.width)/Y.scale/K.CSS_UNITS,ye=(fe?Y.width:Y.height)/Y.scale/K.CSS_UNITS,Ce=0;switch(x[1].name){case"XYZ":Ce=x[4],j=null!==(j=x[2])?j:0,A=null!==(A=x[3])?A:ye;break;case"Fit":case"FitB":Ce="page-fit";break;case"FitH":case"FitBH":Ce="page-width",null===(A=x[2])&&this._location?(j=this._location.left,A=this._location.top):"number"!=typeof A&&(A=ye);break;case"FitV":case"FitBV":j=x[2],Z=ge,$=ye,Ce="page-height";break;case"FitR":Z=x[4]-(j=x[2]),de=(this.container.clientHeight-(this.removePageBorders?0:K.VERTICAL_PADDING))/($=x[5]-(A=x[3]))/K.CSS_UNITS,Ce=Math.min(Math.abs((this.container.clientWidth-(this.removePageBorders?0:K.SCROLLBAR_PADDING))/Z/K.CSS_UNITS),Math.abs(de));break;default:return void console.error("".concat(this._name,".scrollPageIntoView: ")+'"'.concat(x[1].name,'" is not a valid destination type.'))}if(P||(Ce&&Ce!==this._currentScale?this.currentScaleValue=Ce:this._currentScale===K.UNKNOWN_SCALE&&(this.currentScaleValue=K.DEFAULT_SCALE_VALUE)),"page-fit"===Ce&&!x[4])return void this._scrollIntoView({pageDiv:Y.div,pageNumber:T});var Le=[Y.viewport.convertToViewportPoint(j,A),Y.viewport.convertToViewportPoint(j+Z,A+$)],Oe=Math.min(Le[0][0],Le[1][0]),Ze=Math.min(Le[0][1],Le[1][1]);ee||(Oe=Math.max(Oe,0),Ze=Math.max(Ze,0)),this._scrollIntoView({pageDiv:Y.div,pageSpot:{left:Oe,top:Ze},pageNumber:T})}}},{key:"_updateLocation",value:function(N){var T=this._currentScale,ne=this._currentScaleValue,x=parseFloat(ne)===T?Math.round(1e4*T)/100:ne,F=N.id,ee="#page="+F;ee+="&zoom="+x;var P=this.container,Y=this._pages[F-1].getPagePoint(P.scrollLeft-N.x,P.scrollTop-N.y),j=Math.round(Y[0]),A=Math.round(Y[1]);this._location={pageNumber:F,scale:x,top:A,left:j,rotation:this._pagesRotation,pdfOpenParams:ee+=","+j+","+A}}},{key:"_updateHelper",value:function(N){throw new Error("Not implemented: _updateHelper")}},{key:"update",value:function(){var N=this._getVisiblePages(),T=N.views,ne=T.length;if(0!==ne){var x=Math.max(10,2*ne+1);this._buffer.resize(x,T),this.renderingQueue.renderHighestPriority(N),this._updateHelper(T),this._updateLocation(N.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}}},{key:"containsElement",value:function(N){return this.container.contains(N)}},{key:"focus",value:function(){this.container.focus()}},{key:"_getCurrentVisiblePage",value:function(){if(!this.pagesCount)return{views:[]};var N=this._pages[this._currentPageNumber-1],T=N.div,ne={id:N.id,x:T.offsetLeft+T.clientLeft,y:T.offsetTop+T.clientTop,view:N};return{first:ne,last:ne,views:[ne]}}},{key:"_getVisiblePages",value:function(){return(0,K.getVisibleElements)({scrollEl:this.container,views:this._pages,sortByVisibility:!0,horizontal:this._isScrollModeHorizontal,rtl:this._isScrollModeHorizontal&&this._isContainerRtl})}},{key:"isPageVisible",value:function(N){return!!this.pdfDocument&&(Number.isInteger(N)&&N>0&&N<=this.pagesCount?this._getVisiblePages().views.some(function(T){return T.id===N}):(console.error("".concat(this._name,'.isPageVisible: "').concat(N,'" is not a valid page.')),!1))}},{key:"isPageCached",value:function(N){if(!this.pdfDocument||!this._buffer)return!1;if(!(Number.isInteger(N)&&N>0&&N<=this.pagesCount))return console.error("".concat(this._name,'.isPageCached: "').concat(N,'" is not a valid page.')),!1;var T=this._pages[N-1];return!!T&&this._buffer.has(T)}},{key:"cleanup",value:function(){for(var N=0,T=this._pages.length;N<T;N++)this._pages[N]&&this._pages[N].renderingState!==he.RenderingStates.FINISHED&&this._pages[N].reset()}},{key:"_cancelRendering",value:function(){for(var N=0,T=this._pages.length;N<T;N++)this._pages[N]&&this._pages[N].cancelRendering()}},{key:"_ensurePdfPageLoaded",value:function(N){var T=this;if(N.pdfPage)return Promise.resolve(N.pdfPage);if(this._pagesRequests.has(N))return this._pagesRequests.get(N);var ne=this.pdfDocument.getPage(N.id).then(function(x){return N.pdfPage||N.setPdfPage(x),T._pagesRequests.delete(N),x}).catch(function(x){console.error("Unable to get page for page view",x),T._pagesRequests.delete(N)});return this._pagesRequests.set(N,ne),ne}},{key:"forceRendering",value:function(N){var T=this,ne=N||this._getVisiblePages(),F=this.renderingQueue.getHighestPriority(ne,this._pages,this._isScrollModeHorizontal?this.scroll.right:this.scroll.down);return!!F&&(this._ensurePdfPageLoaded(F).then(function(){T.renderingQueue.renderView(F)}),!0)}},{key:"createTextLayerBuilder",value:function(N,T,ne){return new te.TextLayerBuilder({textLayerDiv:N,eventBus:arguments.length>4?arguments[4]:void 0,pageIndex:T,viewport:ne,findController:this.isInPresentationMode?null:this.findController,enhanceTextSelection:!this.isInPresentationMode&&arguments.length>3&&void 0!==arguments[3]&&arguments[3]})}},{key:"createAnnotationLayerBuilder",value:function(N,T){var ne,x,A=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null;return new U.AnnotationLayerBuilder({pageDiv:N,pdfPage:T,annotationStorage:(arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)||(null===(ne=this.pdfDocument)||void 0===ne?void 0:ne.annotationStorage),imageResourcesPath:arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",renderInteractiveForms:arguments.length>4&&void 0!==arguments[4]&&arguments[4],linkService:this.linkService,downloadManager:this.downloadManager,l10n:arguments.length>5&&void 0!==arguments[5]?arguments[5]:K.NullL10n,enableScripting:arguments.length>6&&void 0!==arguments[6]&&arguments[6],hasJSActionsPromise:(arguments.length>7&&void 0!==arguments[7]?arguments[7]:null)||(null===(x=this.pdfDocument)||void 0===x?void 0:x.hasJSActions()),mouseState:A||this._mouseState})}},{key:"getPagesOverview",value:function(){var N=this._pages.map(function(T){var ne=T.pdfPage.getViewport({scale:1});return{width:ne.width,height:ne.height,rotation:ne.rotation}});return this.enablePrintAutoRotate?N.map(function(T){return(0,K.isPortraitOrientation)(T)?T:{width:T.height,height:T.width,rotation:(T.rotation+90)%360}}):N}},{key:"_updateScrollMode",value:function(){var N=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,T=this._scrollMode,ne=this.viewer;ne.classList.toggle("scrollHorizontal",T===K.ScrollMode.HORIZONTAL),ne.classList.toggle("scrollWrapped",T===K.ScrollMode.WRAPPED),this.pdfDocument&&N&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(N,!0),this.update())}},{key:"_updateSpreadMode",value:function(){var N=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.pdfDocument){var T=this.viewer,ne=this._pages;if(T.textContent="",this._spreadMode===K.SpreadMode.NONE)for(var x=0,F=ne.length;x<F;++x)T.appendChild(ne[x].div);else for(var ee=this._spreadMode-1,M=null,P=0,Y=ne.length;P<Y;++P)null===M?((M=document.createElement("div")).className="spread",T.appendChild(M)):P%2===ee&&(M=M.cloneNode(!1),T.appendChild(M)),M.appendChild(ne[P].div);!N||(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(N,!0),this.update())}}},{key:"_getPageAdvance",value:function(N){var T=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.isInPresentationMode)return 1;switch(this._scrollMode){case K.ScrollMode.WRAPPED:var M,x=this._getVisiblePages().views,F=new Map,ee=ce(x);try{for(ee.s();!(M=ee.n()).done;){var P=M.value,Y=P.id,j=P.y;if(!(0===P.percent||P.widthPercent<100)){var $=F.get(j);$||F.set(j,$||($=[])),$.push(Y)}}}catch(qe){ee.e(qe)}finally{ee.f()}var de,Q=ce(F.values());try{for(Q.s();!(de=Q.n()).done;){var fe=de.value,ge=fe.indexOf(N);if(-1!==ge){var ye=fe.length;if(1===ye)break;if(T)for(var Ce=ge-1,Re=0;Ce>=Re;Ce--){var Le=fe[Ce+1]-1;if(fe[Ce]<Le)return N-Le}else for(var Oe=ge+1,Ze=ye;Oe<Ze;Oe++){var et=fe[Oe-1]+1;if(fe[Oe]>et)return et-N}if(T){var Ne=fe[0];if(Ne<N)return N-Ne+1}else{var He=fe[ye-1];if(He>N)return He-N+1}break}}}catch(qe){Q.e(qe)}finally{Q.f()}break;case K.ScrollMode.HORIZONTAL:break;case K.ScrollMode.VERTICAL:if(this._spreadMode===K.SpreadMode.NONE)break;var be=this._spreadMode-1;if(T&&N%2!==be)break;if(!T&&N%2===be)break;var ct,at=T?N-1:N+1,ot=ce(this._getVisiblePages().views);try{for(ot.s();!(ct=ot.n()).done;){var lt=ct.value;if(lt.id===at){if(lt.percent>0&&100===lt.widthPercent)return 2;break}}}catch(qe){ot.e(qe)}finally{ot.f()}}return 1}},{key:"nextPage",value:function(){var N=this._currentPageNumber,T=this.pagesCount;if(N>=T)return!1;var ne=this._getPageAdvance(N,!1)||1;return this.currentPageNumber=Math.min(N+ne,T),!0}},{key:"previousPage",value:function(){var N=this._currentPageNumber;if(N<=1)return!1;var T=this._getPageAdvance(N,!0)||1;return this.currentPageNumber=Math.max(N-T,1),!0}},{key:"initializeScriptingEvents",value:function(){var N=this;if(this.enableScripting&&!this._pageOpenPendingSet){var T=this.eventBus,ne=this._pageOpenPendingSet=new Set,x=this._scriptingEvents||(this._scriptingEvents=Object.create(null)),F=function(P){ne.has(P)||T.dispatch("pageclose",{source:N,pageNumber:P})},ee=function(P){var j,Y=N._pages[P-1];(null==Y?void 0:Y.renderingState)===he.RenderingStates.FINISHED?(ne.delete(P),T.dispatch("pageopen",{source:N,pageNumber:P,actionsPromise:null===(j=Y.pdfPage)||void 0===j?void 0:j.getJSActions()})):ne.add(P)};x.onPageChanging=function(M){var P=M.pageNumber,Y=M.previous;P!==Y&&(F(Y),ee(P))},T._on("pagechanging",x.onPageChanging),x.onPageRendered=function(M){var P=M.pageNumber;!ne.has(P)||P===N._currentPageNumber&&ee(P)},T._on("pagerendered",x.onPageRendered),x.onPagesDestroy=function(){F(N._currentPageNumber)},T._on("pagesdestroy",x.onPagesDestroy),ee(this._currentPageNumber)}}},{key:"_resetScriptingEvents",value:function(){if(this.enableScripting&&this._pageOpenPendingSet){var N=this.eventBus,T=this._scriptingEvents;N._off("pagechanging",T.onPageChanging),T.onPageChanging=null,N._off("pagerendered",T.onPageRendered),T.onPageRendered=null,N._off("pagesdestroy",T.onPagesDestroy),T.onPagesDestroy=null,this._pageOpenPendingSet=null}}},{key:"pagesCount",get:function(){return this._pages.length}},{key:"pageViewsReady",get:function(){return!!this._pagesCapability.settled&&this._pages.every(function(N){return N&&N.pdfPage})}},{key:"currentPageNumber",get:function(){return this._currentPageNumber},set:function(N){if(!Number.isInteger(N))throw new Error("Invalid page number.");!this.pdfDocument||this._setCurrentPageNumber(N,!0)||console.error("".concat(this._name,'.currentPageNumber: "').concat(N,'" is not a valid page.'))}},{key:"currentPageLabel",get:function(){return this._pageLabels&&this._pageLabels[this._currentPageNumber-1]},set:function(N){if(this.pdfDocument){var T=0|N;if(this._pageLabels){var ne=this._pageLabels.indexOf(N);ne>=0&&(T=ne+1)}this._setCurrentPageNumber(T,!0)||console.error("".concat(this._name,'.currentPageLabel: "').concat(N,'" is not a valid page.'))}}},{key:"currentScale",get:function(){return this._currentScale!==K.UNKNOWN_SCALE?this._currentScale:K.DEFAULT_SCALE},set:function(N){if(isNaN(N))throw new Error("Invalid numeric scale.");!this.pdfDocument||this._setScale(N,!1)}},{key:"currentScaleValue",get:function(){return this._currentScaleValue},set:function(N){!this.pdfDocument||this._setScale(N,!1)}},{key:"pagesRotation",get:function(){return this._pagesRotation},set:function(N){if(!(0,K.isValidRotation)(N))throw new Error("Invalid pages rotation angle.");if(this.pdfDocument&&this._pagesRotation!==N){this._pagesRotation=N;for(var T=this._currentPageNumber,ne=0,x=this._pages.length;ne<x;ne++){var F=this._pages[ne];F.update(F.scale,N)}this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:N,pageNumber:T}),this.defaultRenderingQueue&&this.update()}}},{key:"firstPagePromise",get:function(){return this.pdfDocument?this._firstPageCapability.promise:null}},{key:"onePageRendered",get:function(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}},{key:"pagesPromise",get:function(){return this.pdfDocument?this._pagesCapability.promise:null}},{key:"_viewerElement",get:function(){throw new Error("Not implemented: _viewerElement")}},{key:"_pageWidthScaleFactor",get:function(){return this.spreadMode===K.SpreadMode.NONE||this.scrollMode===K.ScrollMode.HORIZONTAL||this.isInPresentationMode?1:2}},{key:"_isScrollModeHorizontal",get:function(){return!this.isInPresentationMode&&this._scrollMode===K.ScrollMode.HORIZONTAL}},{key:"_isContainerRtl",get:function(){return"rtl"===getComputedStyle(this.container).direction}},{key:"isInPresentationMode",get:function(){return this.presentationModeState===K.PresentationModeState.FULLSCREEN}},{key:"isChangingPresentationMode",get:function(){return this.presentationModeState===K.PresentationModeState.CHANGING}},{key:"isHorizontalScrollbarEnabled",get:function(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}},{key:"isVerticalScrollbarEnabled",get:function(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}},{key:"hasEqualPageSizes",get:function(){for(var N=this._pages[0],T=1,ne=this._pages.length;T<ne;++T){var x=this._pages[T];if(x.width!==N.width||x.height!==N.height)return!1}return!0}},{key:"optionalContentConfigPromise",get:function(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)},set:function(N){if(!(N instanceof Promise))throw new Error("Invalid optionalContentConfigPromise: ".concat(N));if(this.pdfDocument&&this._optionalContentConfigPromise){this._optionalContentConfigPromise=N;var ne,T=ce(this._pages);try{for(T.s();!(ne=T.n()).done;){var x=ne.value;x.update(x.scale,x.rotation,N)}}catch(F){T.e(F)}finally{T.f()}this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:N})}}},{key:"scrollMode",get:function(){return this._scrollMode},set:function(N){if(this._scrollMode!==N){if(!(0,K.isValidScrollMode)(N))throw new Error("Invalid scroll mode: ".concat(N));this._scrollMode=N,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:N}),this._updateScrollMode(this._currentPageNumber)}}},{key:"spreadMode",get:function(){return this._spreadMode},set:function(N){if(this._spreadMode!==N){if(!(0,K.isValidSpreadMode)(N))throw new Error("Invalid spread mode: ".concat(N));this._spreadMode=N,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:N}),this._updateSpreadMode(this._currentPageNumber)}}}]),ae}()},(ie,V,oe)=>{function J(T){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(x){return typeof x}:function(x){return x&&"function"==typeof Symbol&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(T)}Object.defineProperty(V,"__esModule",{value:!0}),V.PDFViewer=void 0;var K=oe(3),he=oe(18),U=oe(2);function X(T,ne){var x;if("undefined"==typeof Symbol||null==T[Symbol.iterator]){if(Array.isArray(T)||(x=function(T,ne){if(T){if("string"==typeof T)return te(T,ne);var x=Object.prototype.toString.call(T).slice(8,-1);if("Object"===x&&T.constructor&&(x=T.constructor.name),"Map"===x||"Set"===x)return Array.from(T);if("Arguments"===x||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return te(T,ne)}}(T))||ne&&T&&"number"==typeof T.length){x&&(T=x);var F=0,ee=function(){};return{s:ee,n:function(){return F>=T.length?{done:!0}:{done:!1,value:T[F++]}},e:function(A){throw A},f:ee}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var Y,M=!0,P=!1;return{s:function(){x=T[Symbol.iterator]()},n:function(){var A=x.next();return M=A.done,A},e:function(A){P=!0,Y=A},f:function(){try{!M&&null!=x.return&&x.return()}finally{if(P)throw Y}}}}function te(T,ne){(null==ne||ne>T.length)&&(ne=T.length);for(var x=0,F=new Array(ne);x<ne;x++)F[x]=T[x];return F}function ce(T,ne){if(!(T instanceof ne))throw new TypeError("Cannot call a class as a function")}function re(T,ne){for(var x=0;x<ne.length;x++){var F=ne[x];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(T,F.key,F)}}function z(T,ne,x){return(z="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(ee,M,P){var Y=function(T,ne){for(;!Object.prototype.hasOwnProperty.call(T,ne)&&null!==(T=ue(T)););return T}(ee,M);if(Y){var j=Object.getOwnPropertyDescriptor(Y,M);return j.get?j.get.call(P):j.value}})(T,ne,x||T)}function B(T,ne){if("function"!=typeof ne&&null!==ne)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(ne&&ne.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),ne&&C(T,ne)}function C(T,ne){return(C=Object.setPrototypeOf||function(F,ee){return F.__proto__=ee,F})(T,ne)}function R(T){var ne=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(T){return!1}}();return function(){var ee,F=ue(T);if(ne){var M=ue(this).constructor;ee=Reflect.construct(F,arguments,M)}else ee=F.apply(this,arguments);return O(this,ee)}}function O(T,ne){return!ne||"object"!==J(ne)&&"function"!=typeof ne?function(T){if(void 0===T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(T):ne}function ue(T){return(ue=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)})(T)}V.PDFViewer=function(T){B(x,T);var ne=R(x);function x(){return ce(this,x),ne.apply(this,arguments)}return function(T,ne,x){ne&&re(T.prototype,ne),x&&re(T,x)}(x,[{key:"_scrollIntoView",value:function(ee){var M=ee.pageDiv,P=ee.pageSpot,Y=void 0===P?null:P,j=ee.pageNumber,A=void 0===j?null:j;if(!Y&&!this.isInPresentationMode){var Z=M.offsetLeft+M.clientLeft,Q=this.container,de=Q.scrollLeft;(this._isScrollModeHorizontal||Z<de||Z+M.clientWidth>de+Q.clientWidth)&&(Y={left:0,top:0})}z(ue(x.prototype),"_scrollIntoView",this).call(this,{pageDiv:M,pageSpot:Y,pageNumber:A})}},{key:"_getVisiblePages",value:function(){return this.isInPresentationMode?this._getCurrentVisiblePage():z(ue(x.prototype),"_getVisiblePages",this).call(this)}},{key:"_updateHelper",value:function(ee){if(!this.isInPresentationMode){var j,M=this._currentPageNumber,P=!1,Y=X(ee);try{for(Y.s();!(j=Y.n()).done;){var A=j.value;if(A.percent<100)break;if(A.id===M&&this._scrollMode===K.ScrollMode.VERTICAL&&this._spreadMode===K.SpreadMode.NONE){P=!0;break}}}catch(Z){Y.e(Z)}finally{Y.f()}P||(M=ee[0].id),this._setCurrentPageNumber(M)}}},{key:"_viewerElement",get:function(){return(0,U.shadow)(this,"_viewerElement",this.viewer)}}]),x}(he.BaseViewer)}],H={};function G(ie){if(H[ie])return H[ie].exports;var V=H[ie]={id:ie,loaded:!1,exports:{}};return a[ie](V,V.exports,G),V.loaded=!0,V.exports}return G.nmd=ie=>(ie.paths=[],ie.children||(ie.children=[]),ie),G(0)})()},3098:(ve,I,y)=>{"use strict";y.d(I,{P:()=>V});var a=y(9193),H=y(5917),G=y(205);class V{constructor(J,K,he){this.kind=J,this.value=K,this.error=he,this.hasValue="N"===J}observe(J){switch(this.kind){case"N":return J.next&&J.next(this.value);case"E":return J.error&&J.error(this.error);case"C":return J.complete&&J.complete()}}do(J,K,he){switch(this.kind){case"N":return J&&J(this.value);case"E":return K&&K(this.error);case"C":return he&&he()}}accept(J,K,he){return J&&"function"==typeof J.next?this.observe(J):this.do(J,K,he)}toObservable(){switch(this.kind){case"N":return(0,H.of)(this.value);case"E":return(0,G._)(this.error);case"C":return(0,a.c)()}throw new Error("unexpected notification kind value")}static createNext(J){return void 0!==J?new V("N",J):V.undefinedValueNotification}static createError(J){return new V("E",void 0,J)}static createComplete(){return V.completeNotification}}V.completeNotification=new V("C"),V.undefinedValueNotification=new V("N",void 0)},7574:(ve,I,y)=>{"use strict";y.d(I,{y:()=>X});var a=y(7393),G=y(9181),ie=y(6490),oe=y(6554),J=y(4487);var U=y(2494);let X=(()=>{class te{constructor(re){this._isScalar=!1,re&&(this._subscribe=re)}lift(re){const L=new te;return L.source=this,L.operator=re,L}subscribe(re,L,z){const{operator:E}=this,B=function(te,ce,re){if(te){if(te instanceof a.L)return te;if(te[G.b])return te[G.b]()}return te||ce||re?new a.L(te,ce,re):new a.L(ie.c)}(re,L,z);if(B.add(E?E.call(B,this.source):this.source||U.v.useDeprecatedSynchronousErrorHandling&&!B.syncErrorThrowable?this._subscribe(B):this._trySubscribe(B)),U.v.useDeprecatedSynchronousErrorHandling&&B.syncErrorThrowable&&(B.syncErrorThrowable=!1,B.syncErrorThrown))throw B.syncErrorValue;return B}_trySubscribe(re){try{return this._subscribe(re)}catch(L){U.v.useDeprecatedSynchronousErrorHandling&&(re.syncErrorThrown=!0,re.syncErrorValue=L),function(te){for(;te;){const{closed:ce,destination:re,isStopped:L}=te;if(ce||L)return!1;te=re&&re instanceof a.L?re:null}return!0}(re)?re.error(L):console.warn(L)}}forEach(re,L){return new(L=D(L))((z,E)=>{let B;B=this.subscribe(C=>{try{re(C)}catch(R){E(R),B&&B.unsubscribe()}},E,z)})}_subscribe(re){const{source:L}=this;return L&&L.subscribe(re)}[oe.L](){return this}pipe(...re){return 0===re.length?this:function(te){return 0===te.length?J.y:1===te.length?te[0]:function(re){return te.reduce((L,z)=>z(L),re)}}(re)(this)}toPromise(re){return new(re=D(re))((L,z)=>{let E;this.subscribe(B=>E=B,B=>z(B),()=>L(E))})}}return te.create=ce=>new te(ce),te})();function D(te){if(te||(te=U.v.Promise||Promise),!te)throw new Error("no Promise impl found");return te}},6490:(ve,I,y)=>{"use strict";y.d(I,{c:()=>G});var a=y(2494),H=y(4449);const G={closed:!0,next(ie){},error(ie){if(a.v.useDeprecatedSynchronousErrorHandling)throw ie;(0,H.z)(ie)},complete(){}}},9765:(ve,I,y)=>{"use strict";y.d(I,{Yc:()=>J,xQ:()=>K});var a=y(7574),H=y(7393),G=y(5319),ie=y(7971),V=y(8858),oe=y(9181);class J extends H.L{constructor(X){super(X),this.destination=X}}let K=(()=>{class U extends a.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[oe.b](){return new J(this)}lift(D){const te=new he(this,this);return te.operator=D,te}next(D){if(this.closed)throw new ie.N;if(!this.isStopped){const{observers:te}=this,ce=te.length,re=te.slice();for(let L=0;L<ce;L++)re[L].next(D)}}error(D){if(this.closed)throw new ie.N;this.hasError=!0,this.thrownError=D,this.isStopped=!0;const{observers:te}=this,ce=te.length,re=te.slice();for(let L=0;L<ce;L++)re[L].error(D);this.observers.length=0}complete(){if(this.closed)throw new ie.N;this.isStopped=!0;const{observers:D}=this,te=D.length,ce=D.slice();for(let re=0;re<te;re++)ce[re].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(D){if(this.closed)throw new ie.N;return super._trySubscribe(D)}_subscribe(D){if(this.closed)throw new ie.N;return this.hasError?(D.error(this.thrownError),G.w.EMPTY):this.isStopped?(D.complete(),G.w.EMPTY):(this.observers.push(D),new V.W(this,D))}asObservable(){const D=new a.y;return D.source=this,D}}return U.create=(X,D)=>new he(X,D),U})();class he extends K{constructor(X,D){super(),this.destination=X,this.source=D}next(X){const{destination:D}=this;D&&D.next&&D.next(X)}error(X){const{destination:D}=this;D&&D.error&&this.destination.error(X)}complete(){const{destination:X}=this;X&&X.complete&&this.destination.complete()}_subscribe(X){const{source:D}=this;return D?this.source.subscribe(X):G.w.EMPTY}}},8858:(ve,I,y)=>{"use strict";y.d(I,{W:()=>H});var a=y(5319);class H extends a.w{constructor(ie,V){super(),this.subject=ie,this.subscriber=V,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ie=this.subject,V=ie.observers;if(this.subject=null,!V||0===V.length||ie.isStopped||ie.closed)return;const oe=V.indexOf(this.subscriber);-1!==oe&&V.splice(oe,1)}}},7393:(ve,I,y)=>{"use strict";y.d(I,{L:()=>J});var a=y(9105),H=y(6490),G=y(5319),ie=y(9181),V=y(2494),oe=y(4449);class J extends G.w{constructor(U,X,D){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=H.c;break;case 1:if(!U){this.destination=H.c;break}if("object"==typeof U){U instanceof J?(this.syncErrorThrowable=U.syncErrorThrowable,this.destination=U,U.add(this)):(this.syncErrorThrowable=!0,this.destination=new K(this,U));break}default:this.syncErrorThrowable=!0,this.destination=new K(this,U,X,D)}}[ie.b](){return this}static create(U,X,D){const te=new J(U,X,D);return te.syncErrorThrowable=!1,te}next(U){this.isStopped||this._next(U)}error(U){this.isStopped||(this.isStopped=!0,this._error(U))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(U){this.destination.next(U)}_error(U){this.destination.error(U),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:U}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=U,this}}class K extends J{constructor(U,X,D,te){super(),this._parentSubscriber=U;let ce,re=this;(0,a.m)(X)?ce=X:X&&(ce=X.next,D=X.error,te=X.complete,X!==H.c&&(re=Object.create(X),(0,a.m)(re.unsubscribe)&&this.add(re.unsubscribe.bind(re)),re.unsubscribe=this.unsubscribe.bind(this))),this._context=re,this._next=ce,this._error=D,this._complete=te}next(U){if(!this.isStopped&&this._next){const{_parentSubscriber:X}=this;V.v.useDeprecatedSynchronousErrorHandling&&X.syncErrorThrowable?this.__tryOrSetError(X,this._next,U)&&this.unsubscribe():this.__tryOrUnsub(this._next,U)}}error(U){if(!this.isStopped){const{_parentSubscriber:X}=this,{useDeprecatedSynchronousErrorHandling:D}=V.v;if(this._error)D&&X.syncErrorThrowable?(this.__tryOrSetError(X,this._error,U),this.unsubscribe()):(this.__tryOrUnsub(this._error,U),this.unsubscribe());else if(X.syncErrorThrowable)D?(X.syncErrorValue=U,X.syncErrorThrown=!0):(0,oe.z)(U),this.unsubscribe();else{if(this.unsubscribe(),D)throw U;(0,oe.z)(U)}}}complete(){if(!this.isStopped){const{_parentSubscriber:U}=this;if(this._complete){const X=()=>this._complete.call(this._context);V.v.useDeprecatedSynchronousErrorHandling&&U.syncErrorThrowable?(this.__tryOrSetError(U,X),this.unsubscribe()):(this.__tryOrUnsub(X),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(U,X){try{U.call(this._context,X)}catch(D){if(this.unsubscribe(),V.v.useDeprecatedSynchronousErrorHandling)throw D;(0,oe.z)(D)}}__tryOrSetError(U,X,D){if(!V.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{X.call(this._context,D)}catch(te){return V.v.useDeprecatedSynchronousErrorHandling?(U.syncErrorValue=te,U.syncErrorThrown=!0,!0):((0,oe.z)(te),!0)}return!1}_unsubscribe(){const{_parentSubscriber:U}=this;this._context=null,this._parentSubscriber=null,U.unsubscribe()}}},5319:(ve,I,y)=>{"use strict";y.d(I,{w:()=>oe});var a=y(9796),H=y(1555),G=y(9105);const V=(()=>{function K(he){return Error.call(this),this.message=he?`${he.length} errors occurred during unsubscription:\n${he.map((U,X)=>`${X+1}) ${U.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=he,this}return K.prototype=Object.create(Error.prototype),K})();class oe{constructor(he){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,he&&(this._ctorUnsubscribe=!0,this._unsubscribe=he)}unsubscribe(){let he;if(this.closed)return;let{_parentOrParents:U,_ctorUnsubscribe:X,_unsubscribe:D,_subscriptions:te}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,U instanceof oe)U.remove(this);else if(null!==U)for(let ce=0;ce<U.length;++ce)U[ce].remove(this);if((0,G.m)(D)){X&&(this._unsubscribe=void 0);try{D.call(this)}catch(ce){he=ce instanceof V?J(ce.errors):[ce]}}if((0,a.k)(te)){let ce=-1,re=te.length;for(;++ce<re;){const L=te[ce];if((0,H.K)(L))try{L.unsubscribe()}catch(z){he=he||[],z instanceof V?he=he.concat(J(z.errors)):he.push(z)}}}if(he)throw new V(he)}add(he){let U=he;if(!he)return oe.EMPTY;switch(typeof he){case"function":U=new oe(he);case"object":if(U===this||U.closed||"function"!=typeof U.unsubscribe)return U;if(this.closed)return U.unsubscribe(),U;if(!(U instanceof oe)){const te=U;U=new oe,U._subscriptions=[te]}break;default:throw new Error("unrecognized teardown "+he+" added to Subscription.")}let{_parentOrParents:X}=U;if(null===X)U._parentOrParents=this;else if(X instanceof oe){if(X===this)return U;U._parentOrParents=[X,this]}else{if(-1!==X.indexOf(this))return U;X.push(this)}const D=this._subscriptions;return null===D?this._subscriptions=[U]:D.push(U),U}remove(he){const U=this._subscriptions;if(U){const X=U.indexOf(he);-1!==X&&U.splice(X,1)}}}var K;function J(K){return K.reduce((he,U)=>he.concat(U instanceof V?U.errors:U),[])}oe.EMPTY=((K=new oe).closed=!0,K)},2494:(ve,I,y)=>{"use strict";y.d(I,{v:()=>H});let a=!1;const H={Promise:void 0,set useDeprecatedSynchronousErrorHandling(G){if(G){const ie=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ie.stack)}else a&&console.log("RxJS: Back to a better error behavior. Thank you. <3");a=G},get useDeprecatedSynchronousErrorHandling(){return a}}},5345:(ve,I,y)=>{"use strict";y.d(I,{IY:()=>ie,Ds:()=>oe,ft:()=>K});var a=y(7393),H=y(7574),G=y(7444);class ie extends a.L{constructor(U){super(),this.parent=U}_next(U){this.parent.notifyNext(U)}_error(U){this.parent.notifyError(U),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class oe extends a.L{notifyNext(U){this.destination.next(U)}notifyError(U){this.destination.error(U)}notifyComplete(){this.destination.complete()}}function K(he,U){if(U.closed)return;if(he instanceof H.y)return he.subscribe(U);let X;try{X=(0,G.s)(he)(U)}catch(D){U.error(D)}return X}},2441:(ve,I,y)=>{"use strict";y.d(I,{c:()=>V,N:()=>oe});var a=y(9765),H=y(7574),G=y(5319),ie=y(1307);class V extends H.y{constructor(X,D){super(),this.source=X,this.subjectFactory=D,this._refCount=0,this._isComplete=!1}_subscribe(X){return this.getSubject().subscribe(X)}getSubject(){const X=this._subject;return(!X||X.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let X=this._connection;return X||(this._isComplete=!1,X=this._connection=new G.w,X.add(this.source.subscribe(new J(this.getSubject(),this))),X.closed&&(this._connection=null,X=G.w.EMPTY)),X}refCount(){return(0,ie.x)()(this)}}const oe=(()=>{const U=V.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:U._subscribe},_isComplete:{value:U._isComplete,writable:!0},getSubject:{value:U.getSubject},connect:{value:U.connect},refCount:{value:U.refCount}}})();class J extends a.Yc{constructor(X,D){super(X),this.connectable=D}_error(X){this._unsubscribe(),super._error(X)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const X=this.connectable;if(X){this.connectable=null;const D=X._connection;X._refCount=0,X._subject=null,X._connection=null,D&&D.unsubscribe()}}}},9193:(ve,I,y)=>{"use strict";y.d(I,{E:()=>H,c:()=>G});var a=y(7574);const H=new a.y(V=>V.complete());function G(V){return V?function(V){return new a.y(oe=>V.schedule(()=>oe.complete()))}(V):H}},4402:(ve,I,y)=>{"use strict";y.d(I,{D:()=>re});var a=y(7574),H=y(7444),G=y(5319),ie=y(6554),J=y(4087),K=y(377),X=y(4072),D=y(9489);function re(L,z){return z?function(L,z){if(null!=L){if(function(L){return L&&"function"==typeof L[ie.L]}(L))return function(L,z){return new a.y(E=>{const B=new G.w;return B.add(z.schedule(()=>{const C=L[ie.L]();B.add(C.subscribe({next(R){B.add(z.schedule(()=>E.next(R)))},error(R){B.add(z.schedule(()=>E.error(R)))},complete(){B.add(z.schedule(()=>E.complete()))}}))})),B})}(L,z);if((0,X.t)(L))return function(L,z){return new a.y(E=>{const B=new G.w;return B.add(z.schedule(()=>L.then(C=>{B.add(z.schedule(()=>{E.next(C),B.add(z.schedule(()=>E.complete()))}))},C=>{B.add(z.schedule(()=>E.error(C)))}))),B})}(L,z);if((0,D.z)(L))return(0,J.r)(L,z);if(function(L){return L&&"function"==typeof L[K.hZ]}(L)||"string"==typeof L)return function(L,z){if(!L)throw new Error("Iterable cannot be null");return new a.y(E=>{const B=new G.w;let C;return B.add(()=>{C&&"function"==typeof C.return&&C.return()}),B.add(z.schedule(()=>{C=L[K.hZ](),B.add(z.schedule(function(){if(E.closed)return;let R,O;try{const se=C.next();R=se.value,O=se.done}catch(se){return void E.error(se)}O?E.complete():(E.next(R),this.schedule())}))})),B})}(L,z)}throw new TypeError((null!==L&&typeof L||L)+" is not observable")}(L,z):L instanceof a.y?L:new a.y((0,H.s)(L))}},6693:(ve,I,y)=>{"use strict";y.d(I,{n:()=>ie});var a=y(7574),H=y(5015),G=y(4087);function ie(V,oe){return oe?(0,G.r)(V,oe):new a.y((0,H.V)(V))}},6682:(ve,I,y)=>{"use strict";y.d(I,{T:()=>V});var a=y(7574),H=y(4869),G=y(3282),ie=y(6693);function V(...oe){let J=Number.POSITIVE_INFINITY,K=null,he=oe[oe.length-1];return(0,H.K)(he)?(K=oe.pop(),oe.length>1&&"number"==typeof oe[oe.length-1]&&(J=oe.pop())):"number"==typeof he&&(J=oe.pop()),null===K&&1===oe.length&&oe[0]instanceof a.y?oe[0]:(0,G.J)(J)((0,ie.n)(oe,K))}},5917:(ve,I,y)=>{"use strict";y.d(I,{of:()=>ie});var a=y(4869),H=y(6693),G=y(4087);function ie(...V){let oe=V[V.length-1];return(0,a.K)(oe)?(V.pop(),(0,G.r)(V,oe)):(0,H.n)(V)}},205:(ve,I,y)=>{"use strict";y.d(I,{_:()=>H});var a=y(7574);function H(ie,V){return new a.y(V?oe=>V.schedule(G,0,{error:ie,subscriber:oe}):oe=>oe.error(ie))}function G({error:ie,subscriber:V}){V.error(ie)}},8002:(ve,I,y)=>{"use strict";y.d(I,{U:()=>H});var a=y(7393);function H(V,oe){return function(K){if("function"!=typeof V)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return K.lift(new G(V,oe))}}class G{constructor(oe,J){this.project=oe,this.thisArg=J}call(oe,J){return J.subscribe(new ie(oe,this.project,this.thisArg))}}class ie extends a.L{constructor(oe,J,K){super(oe),this.project=J,this.count=0,this.thisArg=K||this}_next(oe){let J;try{J=this.project.call(this.thisArg,oe,this.count++)}catch(K){return void this.destination.error(K)}this.destination.next(J)}}},3282:(ve,I,y)=>{"use strict";y.d(I,{J:()=>G});var a=y(9773),H=y(4487);function G(ie=Number.POSITIVE_INFINITY){return(0,a.zg)(H.y,ie)}},9773:(ve,I,y)=>{"use strict";y.d(I,{zg:()=>ie});var a=y(8002),H=y(4402),G=y(5345);function ie(K,he,U=Number.POSITIVE_INFINITY){return"function"==typeof he?X=>X.pipe(ie((D,te)=>(0,H.D)(K(D,te)).pipe((0,a.U)((ce,re)=>he(D,ce,te,re))),U)):("number"==typeof he&&(U=he),X=>X.lift(new V(K,U)))}class V{constructor(he,U=Number.POSITIVE_INFINITY){this.project=he,this.concurrent=U}call(he,U){return U.subscribe(new oe(he,this.project,this.concurrent))}}class oe extends G.Ds{constructor(he,U,X=Number.POSITIVE_INFINITY){super(he),this.project=U,this.concurrent=X,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(he){this.active<this.concurrent?this._tryNext(he):this.buffer.push(he)}_tryNext(he){let U;const X=this.index++;try{U=this.project(he,X)}catch(D){return void this.destination.error(D)}this.active++,this._innerSub(U)}_innerSub(he){const U=new G.IY(this),X=this.destination;X.add(U);const D=(0,G.ft)(he,U);D!==U&&X.add(D)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(he){this.destination.next(he)}notifyComplete(){const he=this.buffer;this.active--,he.length>0?this._next(he.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9746:(ve,I,y)=>{"use strict";y.d(I,{QV:()=>G,ht:()=>V});var a=y(7393),H=y(3098);function G(J,K=0){return function(U){return U.lift(new ie(J,K))}}class ie{constructor(K,he=0){this.scheduler=K,this.delay=he}call(K,he){return he.subscribe(new V(K,this.scheduler,this.delay))}}class V extends a.L{constructor(K,he,U=0){super(K),this.scheduler=he,this.delay=U}static dispatch(K){const{notification:he,destination:U}=K;he.observe(U),this.unsubscribe()}scheduleMessage(K){this.destination.add(this.scheduler.schedule(V.dispatch,this.delay,new oe(K,this.destination)))}_next(K){this.scheduleMessage(H.P.createNext(K))}_error(K){this.scheduleMessage(H.P.createError(K)),this.unsubscribe()}_complete(){this.scheduleMessage(H.P.createComplete()),this.unsubscribe()}}class oe{constructor(K,he){this.notification=K,this.destination=he}}},1307:(ve,I,y)=>{"use strict";y.d(I,{x:()=>H});var a=y(7393);function H(){return function(oe){return oe.lift(new G(oe))}}class G{constructor(oe){this.connectable=oe}call(oe,J){const{connectable:K}=this;K._refCount++;const he=new ie(oe,K),U=J.subscribe(he);return he.closed||(he.connection=K.connect()),U}}class ie extends a.L{constructor(oe,J){super(oe),this.connectable=J}_unsubscribe(){const{connectable:oe}=this;if(!oe)return void(this.connection=null);this.connectable=null;const J=oe._refCount;if(J<=0)return void(this.connection=null);if(oe._refCount=J-1,J>1)return void(this.connection=null);const{connection:K}=this,he=oe._connection;this.connection=null,he&&(!K||he===K)&&he.unsubscribe()}}},8819:(ve,I,y)=>{"use strict";y.d(I,{B:()=>J});var a=y(2441);var ie=y(1307),V=y(9765);function oe(){return new V.xQ}function J(){return K=>(0,ie.x)()(function(K,he){return function(X){let D;D="function"==typeof K?K:function(){return K};const te=Object.create(X,a.N);return te.source=X,te.subjectFactory=D,te}}(oe)(K))}},9673:(ve,I,y)=>{"use strict";y.d(I,{R:()=>V});var a=y(7574),H=y(4581),G=y(6561);class ie extends a.y{constructor(K,he=0,U=H.e){super(),this.source=K,this.delayTime=he,this.scheduler=U,(!(0,G.k)(he)||he<0)&&(this.delayTime=0),(!U||"function"!=typeof U.schedule)&&(this.scheduler=H.e)}static create(K,he=0,U=H.e){return new ie(K,he,U)}static dispatch(K){const{source:he,subscriber:U}=K;return this.add(he.subscribe(U))}_subscribe(K){return this.scheduler.schedule(ie.dispatch,this.delayTime,{source:this.source,subscriber:K})}}function V(J,K=0){return function(U){return U.lift(new oe(J,K))}}class oe{constructor(K,he){this.scheduler=K,this.delay=he}call(K,he){return new ie(he,this.delay,this.scheduler).subscribe(K)}}},3342:(ve,I,y)=>{"use strict";y.d(I,{b:()=>ie});var a=y(7393);function H(){}var G=y(9105);function ie(J,K,he){return function(X){return X.lift(new V(J,K,he))}}class V{constructor(K,he,U){this.nextOrObserver=K,this.error=he,this.complete=U}call(K,he){return he.subscribe(new oe(K,this.nextOrObserver,this.error,this.complete))}}class oe extends a.L{constructor(K,he,U,X){super(K),this._tapNext=H,this._tapError=H,this._tapComplete=H,this._tapError=U||H,this._tapComplete=X||H,(0,G.m)(he)?(this._context=this,this._tapNext=he):he&&(this._context=he,this._tapNext=he.next||H,this._tapError=he.error||H,this._tapComplete=he.complete||H)}_next(K){try{this._tapNext.call(this._context,K)}catch(he){return void this.destination.error(he)}this.destination.next(K)}_error(K){try{this._tapError.call(this._context,K)}catch(he){return void this.destination.error(he)}this.destination.error(K)}_complete(){try{this._tapComplete.call(this._context)}catch(K){return void this.destination.error(K)}return this.destination.complete()}}},4087:(ve,I,y)=>{"use strict";y.d(I,{r:()=>G});var a=y(7574),H=y(5319);function G(ie,V){return new a.y(oe=>{const J=new H.w;let K=0;return J.add(V.schedule(function(){K!==ie.length?(oe.next(ie[K++]),oe.closed||J.add(this.schedule())):oe.complete()})),J})}},6465:(ve,I,y)=>{"use strict";y.d(I,{o:()=>G});var a=y(5319);class H extends a.w{constructor(V,oe){super()}schedule(V,oe=0){return this}}class G extends H{constructor(V,oe){super(V,oe),this.scheduler=V,this.work=oe,this.pending=!1}schedule(V,oe=0){if(this.closed)return this;this.state=V;const J=this.id,K=this.scheduler;return null!=J&&(this.id=this.recycleAsyncId(K,J,oe)),this.pending=!0,this.delay=oe,this.id=this.id||this.requestAsyncId(K,this.id,oe),this}requestAsyncId(V,oe,J=0){return setInterval(V.flush.bind(V,this),J)}recycleAsyncId(V,oe,J=0){if(null!==J&&this.delay===J&&!1===this.pending)return oe;clearInterval(oe)}execute(V,oe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const J=this._execute(V,oe);if(J)return J;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(V,oe){let K,J=!1;try{this.work(V)}catch(he){J=!0,K=!!he&&he||new Error(he)}if(J)return this.unsubscribe(),K}_unsubscribe(){const V=this.id,oe=this.scheduler,J=oe.actions,K=J.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==K&&J.splice(K,1),null!=V&&(this.id=this.recycleAsyncId(oe,V,null)),this.delay=null}}},6102:(ve,I,y)=>{"use strict";y.d(I,{v:()=>H});let a=(()=>{class G{constructor(V,oe=G.now){this.SchedulerAction=V,this.now=oe}schedule(V,oe=0,J){return new this.SchedulerAction(this,V).schedule(J,oe)}}return G.now=()=>Date.now(),G})();class H extends a{constructor(ie,V=a.now){super(ie,()=>H.delegate&&H.delegate!==this?H.delegate.now():V()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ie,V=0,oe){return H.delegate&&H.delegate!==this?H.delegate.schedule(ie,V,oe):super.schedule(ie,V,oe)}flush(ie){const{actions:V}=this;if(this.active)return void V.push(ie);let oe;this.active=!0;do{if(oe=ie.execute(ie.state,ie.delay))break}while(ie=V.shift());if(this.active=!1,oe){for(;ie=V.shift();)ie.unsubscribe();throw oe}}}},4581:(ve,I,y)=>{"use strict";y.d(I,{e:()=>D,E:()=>X});let a=1;const H=Promise.resolve(),G={};function ie(te){return te in G&&(delete G[te],!0)}const V={setImmediate(te){const ce=a++;return G[ce]=!0,H.then(()=>ie(ce)&&te()),ce},clearImmediate(te){ie(te)}};var J=y(6465),he=y(6102);const X=new class extends he.v{flush(ce){this.active=!0,this.scheduled=void 0;const{actions:re}=this;let L,z=-1,E=re.length;ce=ce||re.shift();do{if(L=ce.execute(ce.state,ce.delay))break}while(++z<E&&(ce=re.shift()));if(this.active=!1,L){for(;++z<E&&(ce=re.shift());)ce.unsubscribe();throw L}}}(class extends J.o{constructor(ce,re){super(ce,re),this.scheduler=ce,this.work=re}requestAsyncId(ce,re,L=0){return null!==L&&L>0?super.requestAsyncId(ce,re,L):(ce.actions.push(this),ce.scheduled||(ce.scheduled=V.setImmediate(ce.flush.bind(ce,null))))}recycleAsyncId(ce,re,L=0){if(null!==L&&L>0||null===L&&this.delay>0)return super.recycleAsyncId(ce,re,L);0===ce.actions.length&&(V.clearImmediate(re),ce.scheduled=void 0)}}),D=X},3637:(ve,I,y)=>{"use strict";y.d(I,{z:()=>G,P:()=>ie});var a=y(6465);const G=new(y(6102).v)(a.o),ie=G},7771:(ve,I,y)=>{"use strict";y.d(I,{c:()=>oe,N:()=>V});var a=y(6465),G=y(6102);const V=new class extends G.v{}(class extends a.o{constructor(K,he){super(K,he),this.scheduler=K,this.work=he}schedule(K,he=0){return he>0?super.schedule(K,he):(this.delay=he,this.state=K,this.scheduler.flush(this),this)}execute(K,he){return he>0||this.closed?super.execute(K,he):this._execute(K,he)}requestAsyncId(K,he,U=0){return null!==U&&U>0||null===U&&this.delay>0?super.requestAsyncId(K,he,U):K.flush(this)}}),oe=V},377:(ve,I,y)=>{"use strict";y.d(I,{hZ:()=>H});const H="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(ve,I,y)=>{"use strict";y.d(I,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(ve,I,y)=>{"use strict";y.d(I,{b:()=>a});const a="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(ve,I,y)=>{"use strict";y.d(I,{N:()=>H});const H=(()=>{function G(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return G.prototype=Object.create(Error.prototype),G})()},4449:(ve,I,y)=>{"use strict";function a(H){setTimeout(()=>{throw H},0)}y.d(I,{z:()=>a})},4487:(ve,I,y)=>{"use strict";function a(H){return H}y.d(I,{y:()=>a})},9796:(ve,I,y)=>{"use strict";y.d(I,{k:()=>a});const a=Array.isArray||(H=>H&&"number"==typeof H.length)},9489:(ve,I,y)=>{"use strict";y.d(I,{z:()=>a});const a=H=>H&&"number"==typeof H.length&&"function"!=typeof H},9105:(ve,I,y)=>{"use strict";function a(H){return"function"==typeof H}y.d(I,{m:()=>a})},6561:(ve,I,y)=>{"use strict";y.d(I,{k:()=>H});var a=y(9796);function H(G){return!(0,a.k)(G)&&G-parseFloat(G)+1>=0}},1555:(ve,I,y)=>{"use strict";function a(H){return null!==H&&"object"==typeof H}y.d(I,{K:()=>a})},4072:(ve,I,y)=>{"use strict";function a(H){return!!H&&"function"!=typeof H.subscribe&&"function"==typeof H.then}y.d(I,{t:()=>a})},4869:(ve,I,y)=>{"use strict";function a(H){return H&&"function"==typeof H.schedule}y.d(I,{K:()=>a})},7444:(ve,I,y)=>{"use strict";y.d(I,{s:()=>X});var a=y(5015),H=y(4449),ie=y(377),oe=y(6554),K=y(9489),he=y(4072),U=y(1555);const X=D=>{if(D&&"function"==typeof D[oe.L])return(D=>te=>{const ce=D[oe.L]();if("function"!=typeof ce.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return ce.subscribe(te)})(D);if((0,K.z)(D))return(0,a.V)(D);if((0,he.t)(D))return(D=>te=>(D.then(ce=>{te.closed||(te.next(ce),te.complete())},ce=>te.error(ce)).then(null,H.z),te))(D);if(D&&"function"==typeof D[ie.hZ])return(D=>te=>{const ce=D[ie.hZ]();for(;;){let re;try{re=ce.next()}catch(L){return te.error(L),te}if(re.done){te.complete();break}if(te.next(re.value),te.closed)break}return"function"==typeof ce.return&&te.add(()=>{ce.return&&ce.return()}),te})(D);{const ce=`You provided ${(0,U.K)(D)?"an invalid object":`'${D}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(ce)}}},5015:(ve,I,y)=>{"use strict";y.d(I,{V:()=>a});const a=H=>G=>{for(let ie=0,V=H.length;ie<V&&!G.closed;ie++)G.next(H[ie]);G.complete()}},7777:(ve,I,y)=>{"use strict";var a=y(7716);let H=null;function G(){return H}const J=new a.OlP("DocumentToken");let K=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=(0,a.Yz7)({factory:he,token:i,providedIn:"platform"}),i})();function he(){return(0,a.LFG)(X)}const U=new a.OlP("Location Initialized");let X=(()=>{class i extends K{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return G().getBaseHref(this._doc)}onPopState(e){const o=G().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",e,!1),()=>o.removeEventListener("popstate",e)}onHashChange(e){const o=G().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",e,!1),()=>o.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,o,s){D()?this._history.pushState(e,o,s):this.location.hash=s}replaceState(e,o,s){D()?this._history.replaceState(e,o,s):this.location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(J))},i.\u0275prov=(0,a.Yz7)({factory:te,token:i,providedIn:"platform"}),i})();function D(){return!!window.history.pushState}function te(){return new X((0,a.LFG)(J))}function ce(i,t){if(0==i.length)return t;if(0==t.length)return i;let e=0;return i.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?i+t.substring(1):1==e?i+t:i+"/"+t}function re(i){const t=i.match(/#|\?|$/),e=t&&t.index||i.length;return i.slice(0,e-("/"===i[e-1]?1:0))+i.slice(e)}function L(i){return i&&"?"!==i[0]?"?"+i:i}let z=(()=>{class i{historyGo(e){throw new Error("Not implemented")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=(0,a.Yz7)({factory:E,token:i,providedIn:"root"}),i})();function E(i){const t=(0,a.LFG)(J).location;return new C((0,a.LFG)(K),t&&t.origin||"")}const B=new a.OlP("appBaseHref");let C=(()=>{class i extends z{constructor(e,o){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==o&&(o=this._platformLocation.getBaseHrefFromDOM()),null==o)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=o}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ce(this._baseHref,e)}path(e=!1){const o=this._platformLocation.pathname+L(this._platformLocation.search),s=this._platformLocation.hash;return s&&e?`${o}${s}`:o}pushState(e,o,s,c){const f=this.prepareExternalUrl(s+L(c));this._platformLocation.pushState(e,o,f)}replaceState(e,o,s,c){const f=this.prepareExternalUrl(s+L(c));this._platformLocation.replaceState(e,o,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var o,s;null===(s=(o=this._platformLocation).historyGo)||void 0===s||s.call(o,e)}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(K),a.LFG(B,8))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})(),R=(()=>{class i extends z{constructor(e,o){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(e){const o=ce(this._baseHref,e);return o.length>0?"#"+o:o}pushState(e,o,s,c){let f=this.prepareExternalUrl(s+L(c));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.pushState(e,o,f)}replaceState(e,o,s,c){let f=this.prepareExternalUrl(s+L(c));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.replaceState(e,o,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var o,s;null===(s=(o=this._platformLocation).historyGo)||void 0===s||s.call(o,e)}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(K),a.LFG(B,8))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})(),O=(()=>{class i{constructor(e,o){this._subject=new a.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const s=this._platformStrategy.getBaseHref();this._platformLocation=o,this._baseHref=re(ue(s)),this._platformStrategy.onPopState(c=>{this._subject.emit({url:this.path(!0),pop:!0,state:c.state,type:c.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,o=""){return this.path()==this.normalize(e+L(o))}normalize(e){return i.stripTrailingSlash(function(i,t){return i&&t.startsWith(i)?t.substring(i.length):t}(this._baseHref,ue(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,o="",s=null){this._platformStrategy.pushState(s,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+L(o)),s)}replaceState(e,o="",s=null){this._platformStrategy.replaceState(s,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+L(o)),s)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var o,s;null===(s=(o=this._platformStrategy).historyGo)||void 0===s||s.call(o,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)}))}_notifyUrlChangeListeners(e="",o){this._urlChangeListeners.forEach(s=>s(e,o))}subscribe(e,o,s){return this._subject.subscribe({next:e,error:o,complete:s})}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(z),a.LFG(K))},i.normalizeQueryParams=L,i.joinWithSlash=ce,i.stripTrailingSlash=re,i.\u0275prov=(0,a.Yz7)({factory:se,token:i,providedIn:"root"}),i})();function se(){return new O((0,a.LFG)(z),(0,a.LFG)(K))}function ue(i){return i.replace(/\/index.html$/,"")}var ne=(()=>((ne=ne||{})[ne.Zero=0]="Zero",ne[ne.One=1]="One",ne[ne.Two=2]="Two",ne[ne.Few=3]="Few",ne[ne.Many=4]="Many",ne[ne.Other=5]="Other",ne))();const Ke=a.kL8;class qn{}let qi=(()=>{class i extends qn{constructor(e){super(),this.locale=e}getPluralCategory(e,o){switch(Ke(o||this.locale)(e)){case ne.Zero:return"zero";case ne.One:return"one";case ne.Two:return"two";case ne.Few:return"few";case ne.Many:return"many";default:return"other"}}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(a.soG))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})();function mr(i,t){t=encodeURIComponent(t);for(const e of i.split(";")){const o=e.indexOf("="),[s,c]=-1==o?[e,""]:[e.slice(0,o),e.slice(o+1)];if(s.trim()===t)return decodeURIComponent(c)}return null}let wo=(()=>{class i{constructor(e,o,s,c){this._iterableDiffers=e,this._keyValueDiffers=o,this._ngEl=s,this._renderer=c,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,a.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(o=>this._toggleClass(o.key,o.currentValue)),e.forEachChangedItem(o=>this._toggleClass(o.key,o.currentValue)),e.forEachRemovedItem(o=>{o.previousValue&&this._toggleClass(o.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(o=>{if("string"!=typeof o.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,a.AaK)(o.item)}`);this._toggleClass(o.item,!0)}),e.forEachRemovedItem(o=>this._toggleClass(o.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(o=>this._toggleClass(o,!0)):Object.keys(e).forEach(o=>this._toggleClass(o,!!e[o])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(o=>this._toggleClass(o,!1)):Object.keys(e).forEach(o=>this._toggleClass(o,!1)))}_toggleClass(e,o){(e=e.trim())&&e.split(/\s+/g).forEach(s=>{o?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.ZZ4),a.Y36(a.aQg),a.Y36(a.SBq),a.Y36(a.Qsj))},i.\u0275dir=a.lG2({type:i,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),i})();class Ai{constructor(t,e,o,s){this.$implicit=t,this.ngForOf=e,this.index=o,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Rn=(()=>{class i{constructor(e,o,s){this._viewContainer=e,this._template=o,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(o){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(i){return i.name||typeof i}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const o=[];e.forEachOperation((s,c,f)=>{if(null==s.previousIndex){const g=this._viewContainer.createEmbeddedView(this._template,new Ai(null,this._ngForOf,-1,-1),null===f?void 0:f),v=new Va(s,g);o.push(v)}else if(null==f)this._viewContainer.remove(null===c?void 0:c);else if(null!==c){const g=this._viewContainer.get(c);this._viewContainer.move(g,f);const v=new Va(s,g);o.push(v)}});for(let s=0;s<o.length;s++)this._perViewChange(o[s].view,o[s].record);for(let s=0,c=this._viewContainer.length;s<c;s++){const f=this._viewContainer.get(s);f.context.index=s,f.context.count=c,f.context.ngForOf=this._ngForOf}e.forEachIdentityChange(s=>{this._viewContainer.get(s.currentIndex).context.$implicit=s.item})}_perViewChange(e,o){e.context.$implicit=o.item}static ngTemplateContextGuard(e,o){return!0}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},i.\u0275dir=a.lG2({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),i})();class Va{constructor(t,e){this.record=t,this.view=e}}let ar=(()=>{class i{constructor(e,o){this._viewContainer=e,this._context=new Js,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){$o("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){$o("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,o){return!0}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.s_b),a.Y36(a.Rgc))},i.\u0275dir=a.lG2({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),i})();class Js{constructor(){this.$implicit=null,this.ngIf=null}}function $o(i,t){if(t&&!t.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${(0,a.AaK)(t)}'.`)}class Qo{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Co=(()=>{class i{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const o=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||o,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),o}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let o=0;o<this._defaultViews.length;o++)this._defaultViews[o].enforceState(e)}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=a.lG2({type:i,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),i})(),xr=(()=>{class i{constructor(e,o,s){this.ngSwitch=s,s._addCase(),this._view=new Qo(e,o)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(Co,9))},i.\u0275dir=a.lG2({type:i,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),i})();class Lv{createSubscription(t,e){return t.subscribe({next:e,error:o=>{throw o}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class Ua{createSubscription(t,e){return t.then(e,o=>{throw o})}dispose(t){}onDestroy(t){}}const Ha=new Ua,Qd=new Lv;let Zi=(()=>{class i{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,o=>this._updateLatestValue(e,o))}_selectStrategy(e){if((0,a.QGY)(e))return Ha;if((0,a.F4k)(e))return Qd;throw function(i,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${(0,a.AaK)(i)}'`)}(i,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,o){e===this._obj&&(this._latestValue=o,this._ref.markForCheck())}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.sBO,16))},i.\u0275pipe=a.Yjl({name:"async",type:i,pure:!1}),i})(),So=(()=>{class i{transform(e){return JSON.stringify(e,null,2)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=a.Yjl({name:"json",type:i,pure:!1}),i})(),ea=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({providers:[{provide:qn,useClass:qi}]}),i})();function Ga(i){return"server"===i}let ja=(()=>{class i{}return i.\u0275prov=(0,a.Yz7)({token:i,providedIn:"root",factory:()=>new Mp((0,a.LFG)(J),window)}),i})();class Mp{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(i,t){const e=i.getElementById(t)||i.getElementsByName(t)[0];if(e)return e;if("function"==typeof i.createTreeWalker&&i.body&&(i.body.createShadowRoot||i.body.attachShadow)){const o=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let s=o.currentNode;for(;s;){const c=s.shadowRoot;if(c){const f=c.getElementById(t)||c.querySelector(`[name="${t}"]`);if(f)return f}s=o.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),o=e.left+this.window.pageXOffset,s=e.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(o-c[0],s-c[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Jl(this.window.history)||Jl(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Jl(i){return Object.getOwnPropertyDescriptor(i,"scrollRestoration")}class Xl{}class xp extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var i;i=new xp,H||(H=i)}onAndCancel(t,e,o){return t.addEventListener(e,o,!1),()=>{t.removeEventListener(e,o,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(za=za||document.querySelector("base"),za?za.getAttribute("href"):null);return null==e?null:function(i){Kn=Kn||document.createElement("a"),Kn.setAttribute("href",i);const t=Kn.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){za=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return mr(document.cookie,t)}}let Kn,za=null;const ta=new a.OlP("TRANSITION_ID"),ni=[{provide:a.ip1,useFactory:function(i,t,e){return()=>{e.get(a.CZH).donePromise.then(()=>{const o=G();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(c=>c.getAttribute("ng-transition")===i).forEach(c=>o.remove(c))})}},deps:[ta,J,a.zs3],multi:!0}];class tc{static init(){(0,a.VLi)(new tc)}addToWindow(t){a.dqk.getAngularTestability=(o,s=!0)=>{const c=t.findTestabilityInTree(o,s);if(null==c)throw new Error("Could not find testability for element.");return c},a.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(o=>{const s=a.dqk.getAllAngularTestabilities();let c=s.length,f=!1;const g=function(v){f=f||v,c--,0==c&&o(f)};s.forEach(function(v){v.whenStable(g)})})}findTestabilityInTree(t,e,o){if(null==e)return null;const s=t.getTestability(e);return null!=s?s:o?G().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let th=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})();const Wa=new a.OlP("EventManagerPlugins");let Et=(()=>{class i{constructor(e,o){this._zone=o,this._eventNameToPlugin=new Map,e.forEach(s=>s.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,o,s){return this._findPluginFor(o).addEventListener(e,o,s)}addGlobalEventListener(e,o,s){return this._findPluginFor(o).addGlobalEventListener(e,o,s)}getZone(){return this._zone}_findPluginFor(e){const o=this._eventNameToPlugin.get(e);if(o)return o;const s=this._plugins;for(let c=0;c<s.length;c++){const f=s[c];if(f.supports(e))return this._eventNameToPlugin.set(e,f),f}throw new Error(`No event manager plugin found for event ${e}`)}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(Wa),a.LFG(a.R0b))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})();class wn{constructor(t){this._doc=t}addGlobalEventListener(t,e,o){const s=G().getGlobalEventTarget(this._doc,t);if(!s)throw new Error(`Unsupported event target ${s} for event ${e}`);return this.addEventListener(s,e,o)}}let na=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(e){const o=new Set;e.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),o.add(s))}),this.onStylesAdded(o)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})(),Jn=(()=>{class i extends na{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,o,s){e.forEach(c=>{const f=this._doc.createElement("style");f.textContent=c,s.push(o.appendChild(f))})}addHost(e){const o=[];this._addStylesToHost(this._stylesSet,e,o),this._hostNodes.set(e,o)}removeHost(e){const o=this._hostNodes.get(e);o&&o.forEach(Ya),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((o,s)=>{this._addStylesToHost(e,s,o)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Ya))}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(J))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})();function Ya(i){G().remove(i)}const Qi={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ri=/%COMP%/g;function ur(i,t,e){for(let o=0;o<t.length;o++){let s=t[o];Array.isArray(s)?ur(i,s,e):(s=s.replace(ri,i),e.push(s))}return e}function Ji(i){return t=>{if("__ngUnwrap__"===t)return i;!1===i(t)&&(t.preventDefault(),t.returnValue=!1)}}let Jo=(()=>{class i{constructor(e,o,s){this.eventManager=e,this.sharedStylesHost=o,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new Xi(e)}createRenderer(e,o){if(!e||!o)return this.defaultRenderer;switch(o.encapsulation){case a.ifc.Emulated:{let s=this.rendererByCompId.get(o.id);return s||(s=new Wv(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,s)),s.applyToHost(e),s}case 1:case a.ifc.ShadowDom:return new oh(this.eventManager,this.sharedStylesHost,e,o);default:if(!this.rendererByCompId.has(o.id)){const s=ur(o.id,o.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(Et),a.LFG(Jn),a.LFG(a.AFp))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})();class Xi{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Qi[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,o){t&&t.insertBefore(e,o)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let o="string"==typeof t?document.querySelector(t):t;if(!o)throw new Error(`The selector "${t}" did not match any elements`);return e||(o.textContent=""),o}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,o,s){if(s){e=s+":"+e;const c=Qi[s];c?t.setAttributeNS(c,e,o):t.setAttribute(e,o)}else t.setAttribute(e,o)}removeAttribute(t,e,o){if(o){const s=Qi[o];s?t.removeAttributeNS(s,e):t.removeAttribute(`${o}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,o,s){s&(a.JOm.DashCase|a.JOm.Important)?t.style.setProperty(e,o,s&a.JOm.Important?"important":""):t.style[e]=o}removeStyle(t,e,o){o&a.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,o){t[e]=o}setValue(t,e){t.nodeValue=e}listen(t,e,o){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Ji(o)):this.eventManager.addEventListener(t,e,Ji(o))}}class Wv extends Xi{constructor(t,e,o,s){super(t),this.component=o;const c=ur(s+"-"+o.id,o.styles,[]);e.addStyles(c),this.contentAttr="_ngcontent-%COMP%".replace(ri,s+"-"+o.id),this.hostAttr=function(i){return"_nghost-%COMP%".replace(ri,i)}(s+"-"+o.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const o=super.createElement(t,e);return super.setAttribute(o,this.contentAttr,""),o}}class oh extends Xi{constructor(t,e,o,s){super(t),this.sharedStylesHost=e,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=ur(s.id,s.styles,[]);for(let f=0;f<c.length;f++){const g=document.createElement("style");g.textContent=c[f],this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,o){return super.insertBefore(this.nodeOrShadowRoot(t),e,o)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let rc=(()=>{class i extends wn{constructor(e){super(e)}supports(e){return!0}addEventListener(e,o,s){return e.addEventListener(o,s,!1),()=>this.removeEventListener(e,o,s)}removeEventListener(e,o,s){return e.removeEventListener(o,s)}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(J))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})();const Qa=["alt","control","meta","shift"],Np={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ur={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},sh={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let Vp=(()=>{class i extends wn{constructor(e){super(e)}supports(e){return null!=i.parseEventName(e)}addEventListener(e,o,s){const c=i.parseEventName(o),f=i.eventCallback(c.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>G().onAndCancel(e,c.domEventName,f))}static parseEventName(e){const o=e.toLowerCase().split("."),s=o.shift();if(0===o.length||"keydown"!==s&&"keyup"!==s)return null;const c=i._normalizeKey(o.pop());let f="";if(Qa.forEach(v=>{const S=o.indexOf(v);S>-1&&(o.splice(S,1),f+=v+".")}),f+=c,0!=o.length||0===c.length)return null;const g={};return g.domEventName=s,g.fullKey=f,g}static getEventFullKey(e){let o="",s=function(i){let t=i.key;if(null==t){if(t=i.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===i.location&&Ur.hasOwnProperty(t)&&(t=Ur[t]))}return Np[t]||t}(e);return s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),Qa.forEach(c=>{c!=s&&sh[c](e)&&(o+=c+".")}),o+=s,o}static eventCallback(e,o,s){return c=>{i.getEventFullKey(c)===e&&s.runGuarded(()=>o(c))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(J))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})(),Ka=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=(0,a.Yz7)({factory:function(){return(0,a.LFG)(Ja)},token:i,providedIn:"root"}),i})(),Ja=(()=>{class i extends Ka{constructor(e){super(),this._doc=e}sanitize(e,o){if(null==o)return null;switch(e){case a.q3G.NONE:return o;case a.q3G.HTML:return(0,a.qzn)(o,"HTML")?(0,a.z3N)(o):(0,a.EiD)(this._doc,String(o)).toString();case a.q3G.STYLE:return(0,a.qzn)(o,"Style")?(0,a.z3N)(o):o;case a.q3G.SCRIPT:if((0,a.qzn)(o,"Script"))return(0,a.z3N)(o);throw new Error("unsafe value used in a script context");case a.q3G.URL:return(0,a.yhl)(o),(0,a.qzn)(o,"URL")?(0,a.z3N)(o):(0,a.mCW)(String(o));case a.q3G.RESOURCE_URL:if((0,a.qzn)(o,"ResourceURL"))return(0,a.z3N)(o);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,a.JVY)(e)}bypassSecurityTrustStyle(e){return(0,a.L6k)(e)}bypassSecurityTrustScript(e){return(0,a.eBb)(e)}bypassSecurityTrustUrl(e){return(0,a.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,a.pB0)(e)}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(J))},i.\u0275prov=(0,a.Yz7)({factory:function(){return function(i){return new Ja(i.get(J))}((0,a.LFG)(a.gxx))},token:i,providedIn:"root"}),i})();const Es=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:"browser"},{provide:a.g9A,useValue:function(){xp.makeCurrent(),tc.init()},multi:!0},{provide:J,useFactory:function(){return(0,a.RDi)(document),document},deps:[]}]),uh=[[],{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function(){return new a.qLn},deps:[]},{provide:Wa,useClass:rc,multi:!0,deps:[J,a.R0b,a.Lbi]},{provide:Wa,useClass:Vp,multi:!0,deps:[J]},[],{provide:Jo,useClass:Jo,deps:[Et,Jn,a.AFp]},{provide:a.FYo,useExisting:Jo},{provide:na,useExisting:Jn},{provide:Jn,useClass:Jn,deps:[J]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b]},{provide:Et,useClass:Et,deps:[Wa,a.R0b]},{provide:Xl,useClass:th,deps:[]},[]];let lh=(()=>{class i{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:i,providers:[{provide:a.AFp,useValue:e.appId},{provide:ta,useExisting:a.AFp},ni]}}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(i,12))},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({providers:uh,imports:[ea,a.hGG]}),i})();"undefined"!=typeof window&&window;var Xt=y(4402),Lt=y(5917),Vt=y(9765),Xa=y(7971);class Hr extends Vt.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Xa.N;return this._value}next(t){super.next(this._value=t)}}var To=y(4869),Sr=y(9796),Zn=y(7393);class sa extends Zn.L{notifyNext(t,e,o,s,c){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class aa extends Zn.L{constructor(t,e,o){super(),this.parent=t,this.outerValue=e,this.outerIndex=o,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var ua=y(7444),Yn=y(7574);function On(i,t,e,o,s=new aa(i,e,o)){if(!s.closed)return t instanceof Yn.y?t.subscribe(s):(0,ua.s)(t)(s)}var vr=y(6693);const Gr={};class qp{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Qv(t,this.resultSelector))}}class Qv extends sa{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Gr),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let o=0;o<e;o++)this.add(On(this,t[o],void 0,o))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,o){const s=this.values,f=this.toRespond?s[o]===Gr?--this.toRespond:this.toRespond:0;s[o]=e,0===f&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(o){return void this.destination.error(o)}this.destination.next(e)}}const la=(()=>{function i(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return i.prototype=Object.create(Error.prototype),i})();var ca=y(3282);function Wu(...i){return(0,ca.J)(1)((0,Lt.of)(...i))}var ns=y(9193);function da(i){return new Yn.y(t=>{let e;try{e=i()}catch(s){return void t.error(s)}return(e?(0,Xt.D)(e):(0,ns.c)()).subscribe(t)})}var ZI=y(2441),sn=y(8002),Do=y(5345);function yr(i,t){return"function"==typeof t?e=>e.pipe(yr((o,s)=>(0,Xt.D)(i(o,s)).pipe((0,sn.U)((c,f)=>t(o,c,s,f))))):e=>e.lift(new kD(i))}class kD{constructor(t){this.project=t}call(t,e){return e.subscribe(new cr(t,this.project))}}class cr extends Do.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const o=this.index++;try{e=this.project(t,o)}catch(s){return void this.destination.error(s)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const o=new Do.IY(this),s=this.destination;s.add(o),this.innerSubscription=(0,Do.ft)(t,o),this.innerSubscription!==o&&s.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const Kv=(()=>{function i(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return i.prototype=Object.create(Error.prototype),i})();function gi(i){return t=>0===i?(0,ns.c)():t.lift(new QI(i))}class QI{constructor(t){if(this.total=t,this.total<0)throw new Kv}call(t,e){return e.subscribe(new KI(t,this.total))}}class KI extends Zn.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,o=++this.count;o<=e&&(this.destination.next(t),o===e&&(this.destination.complete(),this.unsubscribe()))}}function mi(...i){const t=i[i.length-1];return(0,To.K)(t)?(i.pop(),e=>Wu(i,e,t)):e=>Wu(i,e)}function Wp(i,t){let e=!1;return arguments.length>=2&&(e=!0),function(s){return s.lift(new JI(i,t,e))}}class JI{constructor(t,e,o=!1){this.accumulator=t,this.seed=e,this.hasSeed=o}call(t,e){return e.subscribe(new XI(t,this.accumulator,this.seed,this.hasSeed))}}class XI extends Zn.L{constructor(t,e,o,s){super(t),this.accumulator=e,this._seed=o,this.hasSeed=s,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let o;try{o=this.accumulator(this.seed,t,e)}catch(s){this.destination.error(s)}this.seed=o,this.destination.next(o)}}function $n(i,t){return function(o){return o.lift(new eP(i,t))}}class eP{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new ch(t,this.predicate,this.thisArg))}}class ch extends Zn.L{constructor(t,e,o){super(t),this.predicate=e,this.thisArg=o,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(o){return void this.destination.error(o)}e&&this.destination.next(t)}}function Yu(i){return function(e){const o=new Ir(i),s=e.lift(o);return o.caught=s}}class Ir{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Yp(t,this.selector,this.caught))}}class Yp extends Do.Ds{constructor(t,e,o){super(t),this.selector=e,this.caught=o}error(t){if(!this.isStopped){let e;try{e=this.selector(t,this.caught)}catch(c){return void super.error(c)}this._unsubscribeAndRecycle();const o=new Do.IY(this);this.add(o);const s=(0,Do.ft)(e,o);s!==o&&this.add(s)}}}var jr=y(9773);function dh(i,t){return(0,jr.zg)(i,t,1)}function Jv(i){return function(e){return 0===i?(0,ns.c)():e.lift(new Mo(i))}}class Mo{constructor(t){if(this.total=t,this.total<0)throw new Kv}call(t,e){return e.subscribe(new Ts(t,this.total))}}class Ts extends Zn.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,o=this.total,s=this.count++;e.length<o?e.push(t):e[s%o]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const o=this.count>=this.total?this.total:this.count,s=this.ring;for(let c=0;c<o;c++){const f=e++%o;t.next(s[f])}}t.complete()}}function hh(i=bw){return t=>t.lift(new Zu(i))}class Zu{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new eu(t,this.errorFactory))}}class eu extends Zn.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function bw(){return new la}function ww(i=null){return t=>t.lift(new RD(i))}class RD{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new tP(t,this.defaultValue))}}class tP extends Zn.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var xD=y(4487);function Pr(i,t){const e=arguments.length>=2;return o=>o.pipe(i?$n((s,c)=>i(s,c,o)):xD.y,gi(1),e?ww(t):hh(()=>new la))}var Or=y(3342),hc=y(1307),Vi=y(5319);function Xv(i){return t=>t.lift(new ID(i))}class ID{constructor(t){this.callback=t}call(t,e){return e.subscribe(new PD(t,this.callback))}}class PD extends Zn.L{constructor(t,e){super(t),this.add(new Vi.w(e))}}class ha{constructor(t,e){this.id=t,this.url=e}}class ey extends ha{constructor(t,e,o="imperative",s=null){super(t,e),this.navigationTrigger=o,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class fh extends ha{constructor(t,e,o){super(t,e),this.urlAfterRedirects=o}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class fc extends ha{constructor(t,e,o){super(t,e),this.reason=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ty extends ha{constructor(t,e,o){super(t,e),this.error=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Zp extends ha{constructor(t,e,o,s){super(t,e),this.urlAfterRedirects=o,this.state=s}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nP extends ha{constructor(t,e,o,s){super(t,e),this.urlAfterRedirects=o,this.state=s}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ph extends ha{constructor(t,e,o,s,c){super(t,e),this.urlAfterRedirects=o,this.state=s,this.shouldActivate=c}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ny extends ha{constructor(t,e,o,s){super(t,e),this.urlAfterRedirects=o,this.state=s}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pc extends ha{constructor(t,e,o,s){super(t,e),this.urlAfterRedirects=o,this.state=s}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Sw{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Aw{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class OD{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ry{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rP{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class iy{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gc{constructor(t,e,o){this.routerEvent=t,this.position=e,this.anchor=o}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const yn="primary";class FD{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Xn(i){return new FD(i)}const oy="ngNavigationCancelingError";function sy(i){const t=Error("NavigationCancelingError: "+i);return t[oy]=!0,t}function gh(i,t,e){const o=e.path.split("/");if(o.length>i.length||"full"===e.pathMatch&&(t.hasChildren()||o.length<i.length))return null;const s={};for(let c=0;c<o.length;c++){const f=o[c],g=i[c];if(f.startsWith(":"))s[f.substring(1)]=g;else if(f!==g.path)return null}return{consumed:i.slice(0,o.length),posParams:s}}function rs(i,t){const e=i?Object.keys(i):void 0,o=t?Object.keys(t):void 0;if(!e||!o||e.length!=o.length)return!1;let s;for(let c=0;c<e.length;c++)if(s=e[c],!ay(i[s],t[s]))return!1;return!0}function ay(i,t){if(Array.isArray(i)&&Array.isArray(t)){if(i.length!==t.length)return!1;const e=[...i].sort(),o=[...t].sort();return e.every((s,c)=>o[c]===s)}return i===t}function ND(i){return Array.prototype.concat.apply([],i)}function Qu(i){return i.length>0?i[i.length-1]:null}function Ar(i,t){for(const e in i)i.hasOwnProperty(e)&&t(i[e],e)}function ii(i){return(0,a.CqO)(i)?i:(0,a.QGY)(i)?(0,Xt.D)(Promise.resolve(i)):(0,Lt.of)(i)}const Ew={exact:function Dw(i,t,e){if(!Ju(i.segments,t.segments)||!Qp(i.segments,t.segments,e)||i.numberOfChildren!==t.numberOfChildren)return!1;for(const o in t.children)if(!i.children[o]||!Dw(i.children[o],t.children[o],e))return!1;return!0},subset:Ku},$p={exact:function(i,t){return rs(i,t)},subset:function(i,t){return Object.keys(t).length<=Object.keys(i).length&&Object.keys(t).every(e=>ay(i[e],t[e]))},ignored:()=>!0};function mh(i,t,e){return Ew[e.paths](i.root,t.root,e.matrixParams)&&$p[e.queryParams](i.queryParams,t.queryParams)&&!("exact"===e.fragment&&i.fragment!==t.fragment)}function Ku(i,t,e){return mc(i,t,t.segments,e)}function mc(i,t,e,o){if(i.segments.length>e.length){const s=i.segments.slice(0,e.length);return!(!Ju(s,e)||t.hasChildren()||!Qp(s,e,o))}if(i.segments.length===e.length){if(!Ju(i.segments,e)||!Qp(i.segments,e,o))return!1;for(const s in t.children)if(!i.children[s]||!Ku(i.children[s],t.children[s],o))return!1;return!0}{const s=e.slice(0,i.segments.length),c=e.slice(i.segments.length);return!!(Ju(i.segments,s)&&Qp(i.segments,s,o)&&i.children[yn])&&mc(i.children[yn],t,c,o)}}function Qp(i,t,e){return t.every((o,s)=>$p[e](i[s].parameters,o.parameters))}class vc{constructor(t,e,o){this.root=t,this.queryParams=e,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xn(this.queryParams)),this._queryParamMap}toString(){return ly.serialize(this)}}class En{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Ar(e,(o,s)=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return fa(this)}}class vh{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Xn(this.parameters)),this._parameterMap}toString(){return hy(this)}}function Ju(i,t){return i.length===t.length&&i.every((e,o)=>e.path===t[o].path)}class uy{}class yh{parse(t){const e=new kw(t);return new vc(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var i;return`${`/${_h(t.root,!0)}`}${function(i){const t=Object.keys(i).map(e=>{const o=i[e];return Array.isArray(o)?o.map(s=>`${cy(e)}=${cy(s)}`).join("&"):`${cy(e)}=${cy(o)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${i=t.fragment,encodeURI(i)}`:""}`}}const ly=new yh;function fa(i){return i.segments.map(t=>hy(t)).join("/")}function _h(i,t){if(!i.hasChildren())return fa(i);if(t){const e=i.children[yn]?_h(i.children[yn],!1):"",o=[];return Ar(i.children,(s,c)=>{c!==yn&&o.push(`${c}:${_h(s,!1)}`)}),o.length>0?`${e}(${o.join("//")})`:e}{const e=function(i,t){let e=[];return Ar(i.children,(o,s)=>{s===yn&&(e=e.concat(t(o,s)))}),Ar(i.children,(o,s)=>{s!==yn&&(e=e.concat(t(o,s)))}),e}(i,(o,s)=>s===yn?[_h(i.children[yn],!1)]:[`${s}:${_h(o,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[yn]?`${fa(i)}/${e[0]}`:`${fa(i)}/(${e.join("//")})`}}function Mw(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function cy(i){return Mw(i).replace(/%3B/gi,";")}function bh(i){return Mw(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function wh(i){return decodeURIComponent(i)}function dy(i){return wh(i.replace(/\+/g,"%20"))}function hy(i){return`${bh(i.path)}${function(i){return Object.keys(i).map(t=>`;${bh(t)}=${bh(i[t])}`).join("")}(i.parameters)}`}const GD=/^[^\/()?;=#]+/;function Jp(i){const t=i.match(GD);return t?t[0]:""}const jD=/^[^=?&#]+/,pa=/^[^?&#]+/;class kw{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new En([],{}):new En([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(o[yn]=new En(t,e)),o}parseSegment(){const t=Jp(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new vh(wh(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Jp(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){const s=Jp(this.remaining);s&&(o=s,this.capture(o))}t[wh(e)]=wh(o)}parseQueryParam(t){const e=function(i){const t=i.match(jD);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){const f=function(i){const t=i.match(pa);return t?t[0]:""}(this.remaining);f&&(o=f,this.capture(o))}const s=dy(e),c=dy(o);if(t.hasOwnProperty(s)){let f=t[s];Array.isArray(f)||(f=[f],t[s]=f),f.push(c)}else t[s]=c}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=Jp(this.remaining),s=this.remaining[o.length];if("/"!==s&&")"!==s&&";"!==s)throw new Error(`Cannot parse url '${this.url}'`);let c;o.indexOf(":")>-1?(c=o.substr(0,o.indexOf(":")),this.capture(c),this.capture(":")):t&&(c=yn);const f=this.parseChildren();e[c]=1===Object.keys(f).length?f[yn]:new En([],f),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Rw{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=fy(t,this._root);return e?e.children.map(o=>o.value):[]}firstChild(t){const e=fy(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=py(t,this._root);return e.length<2?[]:e[e.length-2].children.map(s=>s.value).filter(s=>s!==t)}pathFromRoot(t){return py(t,this._root).map(e=>e.value)}}function fy(i,t){if(i===t.value)return t;for(const e of t.children){const o=fy(i,e);if(o)return o}return null}function py(i,t){if(i===t.value)return[t];for(const e of t.children){const o=py(i,e);if(o.length)return o.unshift(t),o}return[]}class ga{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Ch(i){const t={};return i&&i.children.forEach(e=>t[e.value.outlet]=e),t}class gy extends Rw{constructor(t,e){super(t),this.snapshot=e,eg(this,t)}toString(){return this.snapshot.toString()}}function xw(i,t){const e=function(i,t){const f=new Xp([],{},{},"",{},yn,t,null,i.root,-1,{});return new bc("",new ga(f,[]))}(i,t),o=new Hr([new vh("",{})]),s=new Hr({}),c=new Hr({}),f=new Hr({}),g=new Hr(""),v=new _c(o,s,f,g,c,yn,t,e.root);return v.snapshot=e.root,new gy(new ga(v,[]),e)}class _c{constructor(t,e,o,s,c,f,g,v){this.url=t,this.params=e,this.queryParams=o,this.fragment=s,this.data=c,this.outlet=f,this.component=g,this._futureSnapshot=v}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,sn.U)(t=>Xn(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,sn.U)(t=>Xn(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Iw(i,t="emptyOnly"){const e=i.pathFromRoot;let o=0;if("always"!==t)for(o=e.length-1;o>=1;){const s=e[o],c=e[o-1];if(s.routeConfig&&""===s.routeConfig.path)o--;else{if(c.component)break;o--}}return function(i){return i.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(o))}class Xp{constructor(t,e,o,s,c,f,g,v,S,W,pe){this.url=t,this.params=e,this.queryParams=o,this.fragment=s,this.data=c,this.outlet=f,this.component=g,this.routeConfig=v,this._urlSegment=S,this._lastPathIndex=W,this._resolve=pe}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Xn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class bc extends Rw{constructor(t,e){super(e),this.url=t,eg(this,e)}toString(){return is(this._root)}}function eg(i,t){t.value._routerState=i,t.children.forEach(e=>eg(i,e))}function is(i){const t=i.children.length>0?` { ${i.children.map(is).join(", ")} } `:"";return`${i.value}${t}`}function el(i){if(i.snapshot){const t=i.snapshot,e=i._futureSnapshot;i.snapshot=e,rs(t.queryParams,e.queryParams)||i.queryParams.next(e.queryParams),t.fragment!==e.fragment&&i.fragment.next(e.fragment),rs(t.params,e.params)||i.params.next(e.params),function(i,t){if(i.length!==t.length)return!1;for(let e=0;e<i.length;++e)if(!rs(i[e],t[e]))return!1;return!0}(t.url,e.url)||i.url.next(e.url),rs(t.data,e.data)||i.data.next(e.data)}else i.snapshot=i._futureSnapshot,i.data.next(i._futureSnapshot.data)}function tg(i,t){return rs(i.params,t.params)&&function(i,t){return Ju(i,t)&&i.every((e,o)=>rs(e.parameters,t[o].parameters))}(i.url,t.url)&&!(!i.parent!=!t.parent)&&(!i.parent||tg(i.parent,t.parent))}function Sh(i,t,e){if(e&&i.shouldReuseRoute(t.value,e.value.snapshot)){const o=e.value;o._futureSnapshot=t.value;const s=function(i,t,e){return t.children.map(o=>{for(const s of e.children)if(i.shouldReuseRoute(o.value,s.value.snapshot))return Sh(i,o,s);return Sh(i,o)})}(i,t,e);return new ga(o,s)}{if(i.shouldAttach(t.value)){const c=i.retrieve(t.value);if(null!==c){const f=c.route;return WD(t,f),f}}const o=function(i){return new _c(new Hr(i.url),new Hr(i.params),new Hr(i.queryParams),new Hr(i.fragment),new Hr(i.data),i.outlet,i.component,i)}(t.value),s=t.children.map(c=>Sh(i,c));return new ga(o,s)}}function WD(i,t){if(i.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(i.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=i.value;for(let e=0;e<i.children.length;++e)WD(i.children[e],t.children[e])}function wc(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function tl(i){return"object"==typeof i&&null!=i&&i.outlets}function Ow(i,t,e,o,s){let c={};return o&&Ar(o,(f,g)=>{c[g]=Array.isArray(f)?f.map(v=>`${v}`):`${f}`}),new vc(e.root===i?t:YD(e.root,i,t),c,s)}function YD(i,t,e){const o={};return Ar(i.children,(s,c)=>{o[c]=s===t?e:YD(s,t,e)}),new En(i.segments,o)}class vy{constructor(t,e,o){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=o,t&&o.length>0&&wc(o[0]))throw new Error("Root segment cannot have matrix parameters");const s=o.find(tl);if(s&&s!==Qu(o))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class yy{constructor(t,e,o){this.segmentGroup=t,this.processChildren=e,this.index=o}}function Ah(i,t,e){if(i||(i=new En([],{})),0===i.segments.length&&i.hasChildren())return Eh(i,t,e);const o=function(i,t,e){let o=0,s=t;const c={match:!1,pathIndex:0,commandIndex:0};for(;s<i.segments.length;){if(o>=e.length)return c;const f=i.segments[s],g=e[o];if(tl(g))break;const v=`${g}`,S=o<e.length-1?e[o+1]:null;if(s>0&&void 0===v)break;if(v&&S&&"object"==typeof S&&void 0===S.outlets){if(!Nw(v,S,f))return c;o+=2}else{if(!Nw(v,{},f))return c;o++}s++}return{match:!0,pathIndex:s,commandIndex:o}}(i,t,e),s=e.slice(o.commandIndex);if(o.match&&o.pathIndex<i.segments.length){const c=new En(i.segments.slice(0,o.pathIndex),{});return c.children[yn]=new En(i.segments.slice(o.pathIndex),i.children),Eh(c,0,s)}return o.match&&0===s.length?new En(i.segments,{}):o.match&&!i.hasChildren()?by(i,t,e):o.match?Eh(i,0,s):by(i,t,e)}function Eh(i,t,e){if(0===e.length)return new En(i.segments,{});{const o=function(i){return tl(i[0])?i[0].outlets:{[yn]:i}}(e),s={};return Ar(o,(c,f)=>{"string"==typeof c&&(c=[c]),null!==c&&(s[f]=Ah(i.children[f],t,c))}),Ar(i.children,(c,f)=>{void 0===o[f]&&(s[f]=c)}),new En(i.segments,s)}}function by(i,t,e){const o=i.segments.slice(0,t);let s=0;for(;s<e.length;){const c=e[s];if(tl(c)){const v=dr(c.outlets);return new En(o,v)}if(0===s&&wc(e[0])){o.push(new vh(i.segments[t].path,Lw(e[0]))),s++;continue}const f=tl(c)?c.outlets[yn]:`${c}`,g=s<e.length-1?e[s+1]:null;f&&g&&wc(g)?(o.push(new vh(f,Lw(g))),s+=2):(o.push(new vh(f,{})),s++)}return new En(o,{})}function dr(i){const t={};return Ar(i,(e,o)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[o]=by(new En([],{}),0,e))}),t}function Lw(i){const t={};return Ar(i,(e,o)=>t[o]=`${e}`),t}function Nw(i,t,e){return i==e.path&&rs(t,e.parameters)}class Bw{constructor(t,e,o,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=o,this.forwardEvent=s}activate(t){const e=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,o,t),el(this.futureState.root),this.activateChildRoutes(e,o,t)}deactivateChildRoutes(t,e,o){const s=Ch(e);t.children.forEach(c=>{const f=c.value.outlet;this.deactivateRoutes(c,s[f],o),delete s[f]}),Ar(s,(c,f)=>{this.deactivateRouteAndItsChildren(c,o)})}deactivateRoutes(t,e,o){const s=t.value,c=e?e.value:null;if(s===c)if(s.component){const f=o.getContext(s.outlet);f&&this.deactivateChildRoutes(t,e,f.children)}else this.deactivateChildRoutes(t,e,o);else c&&this.deactivateRouteAndItsChildren(e,o)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const o=e.getContext(t.value.outlet);if(o&&o.outlet){const s=o.outlet.detach(),c=o.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:c})}}deactivateRouteAndOutlet(t,e){const o=e.getContext(t.value.outlet),s=o&&t.value.component?o.children:e,c=Ch(t);for(const f of Object.keys(c))this.deactivateRouteAndItsChildren(c[f],s);o&&o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated(),o.attachRef=null,o.resolver=null,o.route=null)}activateChildRoutes(t,e,o){const s=Ch(e);t.children.forEach(c=>{this.activateRoutes(c,s[c.value.outlet],o),this.forwardEvent(new iy(c.value.snapshot))}),t.children.length&&this.forwardEvent(new ry(t.value.snapshot))}activateRoutes(t,e,o){const s=t.value,c=e?e.value:null;if(el(s),s===c)if(s.component){const f=o.getOrCreateContext(s.outlet);this.activateChildRoutes(t,e,f.children)}else this.activateChildRoutes(t,e,o);else if(s.component){const f=o.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const g=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),f.children.onOutletReAttached(g.contexts),f.attachRef=g.componentRef,f.route=g.route.value,f.outlet&&f.outlet.attach(g.componentRef,g.route.value),Vw(g.route)}else{const g=function(i){for(let t=i.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(s.snapshot),v=g?g.module.componentFactoryResolver:null;f.attachRef=null,f.route=s,f.resolver=v,f.outlet&&f.outlet.activateWith(s,v),this.activateChildRoutes(t,null,f.children)}}else this.activateChildRoutes(t,null,o)}}function Vw(i){el(i.value),i.children.forEach(Vw)}class Cy{constructor(t,e){this.routes=t,this.module=e}}function nu(i){return"function"==typeof i}function Cc(i){return i instanceof vc}const Sc=Symbol("INITIAL_VALUE");function Ac(){return yr(i=>function(...i){let t,e;return(0,To.K)(i[i.length-1])&&(e=i.pop()),"function"==typeof i[i.length-1]&&(t=i.pop()),1===i.length&&(0,Sr.k)(i[0])&&(i=i[0]),(0,vr.n)(i,e).lift(new qp(t))}(i.map(t=>t.pipe(gi(1),mi(Sc)))).pipe(Wp((t,e)=>{let o=!1;return e.reduce((s,c,f)=>s!==Sc?s:(c===Sc&&(o=!0),o||!1!==c&&f!==e.length-1&&!Cc(c)?s:c),t)},Sc),$n(t=>t!==Sc),(0,sn.U)(t=>Cc(t)?t:!0===t),gi(1)))}let oi=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=a.Xpm({type:i,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,o){1&e&&a._UZ(0,"router-outlet")},directives:function(){return[hg]},encapsulation:2}),i})();function Ec(i,t=""){for(let e=0;e<i.length;e++){const o=i[e];Ay(o,XD(t,o))}}function Ay(i,t){i.children&&Ec(i.children,t)}function XD(i,t){return t?i||t.path?i&&!t.path?`${i}/`:!i&&t.path?t.path:`${i}/${t.path}`:"":i}function Ey(i){const t=i.children&&i.children.map(Ey),e=t?Object.assign(Object.assign({},i),{children:t}):Object.assign({},i);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==yn&&(e.component=oi),e}function to(i){return i.outlet||yn}function Uw(i,t){const e=i.filter(o=>to(o)===t);return e.push(...i.filter(o=>to(o)!==t)),e}const Ty={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function ng(i,t,e){var o;if(""===t.path)return"full"===t.pathMatch&&(i.hasChildren()||e.length>0)?Object.assign({},Ty):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const c=(t.matcher||gh)(e,i,t);if(!c)return Object.assign({},Ty);const f={};Ar(c.posParams,(v,S)=>{f[S]=v.path});const g=c.consumed.length>0?Object.assign(Object.assign({},f),c.consumed[c.consumed.length-1].parameters):f;return{matched:!0,consumedSegments:c.consumed,lastChild:c.consumed.length,parameters:g,positionalParamSegments:null!==(o=c.posParams)&&void 0!==o?o:{}}}function Dh(i,t,e,o,s="corrected"){if(e.length>0&&function(i,t,e){return e.some(o=>Tc(i,t,o)&&to(o)!==yn)}(i,e,o)){const f=new En(t,function(i,t,e,o){const s={};s[yn]=o,o._sourceSegment=i,o._segmentIndexShift=t.length;for(const c of e)if(""===c.path&&to(c)!==yn){const f=new En([],{});f._sourceSegment=i,f._segmentIndexShift=t.length,s[to(c)]=f}return s}(i,t,o,new En(e,i.children)));return f._sourceSegment=i,f._segmentIndexShift=t.length,{segmentGroup:f,slicedSegments:[]}}if(0===e.length&&function(i,t,e){return e.some(o=>Tc(i,t,o))}(i,e,o)){const f=new En(i.segments,function(i,t,e,o,s,c){const f={};for(const g of o)if(Tc(i,e,g)&&!s[to(g)]){const v=new En([],{});v._sourceSegment=i,v._segmentIndexShift="legacy"===c?i.segments.length:t.length,f[to(g)]=v}return Object.assign(Object.assign({},s),f)}(i,t,e,o,i.children,s));return f._sourceSegment=i,f._segmentIndexShift=t.length,{segmentGroup:f,slicedSegments:e}}const c=new En(i.segments,i.children);return c._sourceSegment=i,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:e}}function Tc(i,t,e){return(!(i.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Dy(i,t,e,o){return!!(to(i)===o||o!==yn&&Tc(t,e,i))&&("**"===i.path||ng(t,i,e).matched)}function Gw(i,t,e){return 0===t.length&&!i.children[e]}class rg{constructor(t){this.segmentGroup=t||null}}class My{constructor(t){this.urlTree=t}}function nl(i){return new Yn.y(t=>t.error(new rg(i)))}function jw(i){return new Yn.y(t=>t.error(new My(i)))}function rM(i){return new Yn.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${i}'`)))}class oM{constructor(t,e,o,s,c){this.configLoader=e,this.urlSerializer=o,this.urlTree=s,this.config=c,this.allowRedirects=!0,this.ngModule=t.get(a.h0i)}apply(){const t=Dh(this.urlTree.root,[],[],this.config).segmentGroup,e=new En(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,yn).pipe((0,sn.U)(c=>this.createUrlTree(ky(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Yu(c=>{if(c instanceof My)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof rg?this.noMatchError(c):c}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,yn).pipe((0,sn.U)(s=>this.createUrlTree(ky(s),t.queryParams,t.fragment))).pipe(Yu(s=>{throw s instanceof rg?this.noMatchError(s):s}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,o){const s=t.segments.length>0?new En([],{[yn]:t}):t;return new vc(s,e,o)}expandSegmentGroup(t,e,o,s){return 0===o.segments.length&&o.hasChildren()?this.expandChildren(t,e,o).pipe((0,sn.U)(c=>new En([],c))):this.expandSegment(t,o,e,o.segments,s,!0)}expandChildren(t,e,o){const s=[];for(const c of Object.keys(o.children))"primary"===c?s.unshift(c):s.push(c);return(0,Xt.D)(s).pipe(dh(c=>{const f=o.children[c],g=Uw(e,c);return this.expandSegmentGroup(t,g,f,c).pipe((0,sn.U)(v=>({segment:v,outlet:c})))}),Wp((c,f)=>(c[f.outlet]=f.segment,c),{}),function(i,t){const e=arguments.length>=2;return o=>o.pipe(i?$n((s,c)=>i(s,c,o)):xD.y,Jv(1),e?ww(t):hh(()=>new la))}())}expandSegment(t,e,o,s,c,f){return(0,Xt.D)(o).pipe(dh(g=>this.expandSegmentAgainstRoute(t,e,o,g,s,c,f).pipe(Yu(S=>{if(S instanceof rg)return(0,Lt.of)(null);throw S}))),Pr(g=>!!g),Yu((g,v)=>{if(g instanceof la||"EmptyError"===g.name){if(Gw(e,s,c))return(0,Lt.of)(new En([],{}));throw new rg(e)}throw g}))}expandSegmentAgainstRoute(t,e,o,s,c,f,g){return Dy(s,e,c,f)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(t,e,s,c,f):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,o,s,c,f):nl(e):nl(e)}expandSegmentAgainstRouteUsingRedirect(t,e,o,s,c,f){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,o,s,f):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,o,s,c,f)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,o,s){const c=this.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?jw(c):this.lineralizeSegments(o,c).pipe((0,jr.zg)(f=>{const g=new En(f,{});return this.expandSegment(t,g,e,f,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,o,s,c,f){const{matched:g,consumedSegments:v,lastChild:S,positionalParamSegments:W}=ng(e,s,c);if(!g)return nl(e);const pe=this.applyRedirectCommands(v,s.redirectTo,W);return s.redirectTo.startsWith("/")?jw(pe):this.lineralizeSegments(s,pe).pipe((0,jr.zg)(we=>this.expandSegment(t,e,o,we.concat(c.slice(S)),f,!1)))}matchSegmentAgainstRoute(t,e,o,s,c){if("**"===o.path)return o.loadChildren?(o._loadedConfig?(0,Lt.of)(o._loadedConfig):this.configLoader.load(t.injector,o)).pipe((0,sn.U)(we=>(o._loadedConfig=we,new En(s,{})))):(0,Lt.of)(new En(s,{}));const{matched:f,consumedSegments:g,lastChild:v}=ng(e,o,s);if(!f)return nl(e);const S=s.slice(v);return this.getChildConfig(t,o,s).pipe((0,jr.zg)(pe=>{const we=pe.module,Te=pe.routes,{segmentGroup:Pe,slicedSegments:Ue}=Dh(e,g,S,Te),rt=new En(Pe.segments,Pe.children);if(0===Ue.length&&rt.hasChildren())return this.expandChildren(we,Te,rt).pipe((0,sn.U)(Ht=>new En(g,Ht)));if(0===Te.length&&0===Ue.length)return(0,Lt.of)(new En(g,{}));const vt=to(o)===c;return this.expandSegment(we,rt,Te,Ue,vt?yn:c,!0).pipe((0,sn.U)(Rt=>new En(g.concat(Rt.segments),Rt.children)))}))}getChildConfig(t,e,o){return e.children?(0,Lt.of)(new Cy(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,Lt.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,o).pipe((0,jr.zg)(s=>{return s?this.configLoader.load(t.injector,e).pipe((0,sn.U)(c=>(e._loadedConfig=c,c))):(i=e,new Yn.y(t=>t.error(sy(`Cannot load children because the guard of the route "path: '${i.path}'" returned false`))));var i})):(0,Lt.of)(new Cy([],t))}runCanLoadGuards(t,e,o){const s=e.canLoad;if(!s||0===s.length)return(0,Lt.of)(!0);const c=s.map(f=>{const g=t.get(f);let v;if((i=g)&&nu(i.canLoad))v=g.canLoad(e,o);else{if(!nu(g))throw new Error("Invalid CanLoad guard");v=g(e,o)}var i;return ii(v)});return(0,Lt.of)(c).pipe(Ac(),(0,Or.b)(f=>{if(!Cc(f))return;const g=sy(`Redirecting to "${this.urlSerializer.serialize(f)}"`);throw g.url=f,g}),(0,sn.U)(f=>!0===f))}lineralizeSegments(t,e){let o=[],s=e.root;for(;;){if(o=o.concat(s.segments),0===s.numberOfChildren)return(0,Lt.of)(o);if(s.numberOfChildren>1||!s.children[yn])return rM(t.redirectTo);s=s.children[yn]}}applyRedirectCommands(t,e,o){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,o)}applyRedirectCreatreUrlTree(t,e,o,s){const c=this.createSegmentGroup(t,e.root,o,s);return new vc(c,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const o={};return Ar(t,(s,c)=>{if("string"==typeof s&&s.startsWith(":")){const g=s.substring(1);o[c]=e[g]}else o[c]=s}),o}createSegmentGroup(t,e,o,s){const c=this.createSegments(t,e.segments,o,s);let f={};return Ar(e.children,(g,v)=>{f[v]=this.createSegmentGroup(t,g,o,s)}),new En(c,f)}createSegments(t,e,o,s){return e.map(c=>c.path.startsWith(":")?this.findPosParam(t,c,s):this.findOrReturn(c,o))}findPosParam(t,e,o){const s=o[e.path.substring(1)];if(!s)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return s}findOrReturn(t,e){let o=0;for(const s of e){if(s.path===t.path)return e.splice(o),s;o++}return t}}function ky(i){const t={};for(const o of Object.keys(i.children)){const c=ky(i.children[o]);(c.segments.length>0||c.hasChildren())&&(t[o]=c)}return function(i){if(1===i.numberOfChildren&&i.children[yn]){const t=i.children[yn];return new En(i.segments.concat(t.segments),t.children)}return i}(new En(i.segments,t))}class Mh{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Di{constructor(t,e){this.component=t,this.route=e}}function zw(i,t,e){const o=i._root;return og(o,t?t._root:null,e,[o.value])}function ig(i,t,e){const o=function(i){if(!i)return null;for(let t=i.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(o?o.module.injector:e).get(i)}function og(i,t,e,o,s={canDeactivateChecks:[],canActivateChecks:[]}){const c=Ch(t);return i.children.forEach(f=>{(function(i,t,e,o,s={canDeactivateChecks:[],canActivateChecks:[]}){const c=i.value,f=t?t.value:null,g=e?e.getContext(i.value.outlet):null;if(f&&c.routeConfig===f.routeConfig){const v=function(i,t,e){if("function"==typeof e)return e(i,t);switch(e){case"pathParamsChange":return!Ju(i.url,t.url);case"pathParamsOrQueryParamsChange":return!Ju(i.url,t.url)||!rs(i.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!tg(i,t)||!rs(i.queryParams,t.queryParams);case"paramsChange":default:return!tg(i,t)}}(f,c,c.routeConfig.runGuardsAndResolvers);v?s.canActivateChecks.push(new Mh(o)):(c.data=f.data,c._resolvedData=f._resolvedData),og(i,t,c.component?g?g.children:null:e,o,s),v&&g&&g.outlet&&g.outlet.isActivated&&s.canDeactivateChecks.push(new Di(g.outlet.component,f))}else f&&kh(t,g,s),s.canActivateChecks.push(new Mh(o)),og(i,null,c.component?g?g.children:null:e,o,s)})(f,c[f.value.outlet],e,o.concat([f.value]),s),delete c[f.value.outlet]}),Ar(c,(f,g)=>kh(f,e.getContext(g),s)),s}function kh(i,t,e){const o=Ch(i),s=i.value;Ar(o,(c,f)=>{kh(c,s.component?t?t.children.getContext(f):null:t,e)}),e.canDeactivateChecks.push(new Di(s.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,s))}class Ry{}function sg(i){return new Yn.y(t=>t.error(i))}class $w{constructor(t,e,o,s,c,f){this.rootComponentType=t,this.config=e,this.urlTree=o,this.url=s,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=f}recognize(){const t=Dh(this.urlTree.root,[],[],this.config.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,yn);if(null===e)return null;const o=new Xp([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},yn,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new ga(o,e),c=new bc(this.url,s);return this.inheritParamsAndData(c._root),c}inheritParamsAndData(t){const e=t.value,o=Iw(e,this.paramsInheritanceStrategy);e.params=Object.freeze(o.params),e.data=Object.freeze(o.data),t.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(t,e,o){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,o)}processChildren(t,e){const o=[];for(const c of Object.keys(e.children)){const f=e.children[c],g=Uw(t,c),v=this.processSegmentGroup(g,f,c);if(null===v)return null;o.push(...v)}const s=ag(o);return s.sort((t,e)=>t.value.outlet===yn?-1:e.value.outlet===yn?1:t.value.outlet.localeCompare(e.value.outlet)),s}processSegment(t,e,o,s){for(const c of t){const f=this.processSegmentAgainstRoute(c,e,o,s);if(null!==f)return f}return Gw(e,o,s)?[]:null}processSegmentAgainstRoute(t,e,o,s){if(t.redirectTo||!Dy(t,e,o,s))return null;let c,f=[],g=[];if("**"===t.path){const Te=o.length>0?Qu(o).parameters:{};c=new Xp(o,Te,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,rl(t),to(t),t.component,t,xy(e),dM(e)+o.length,ug(t))}else{const Te=ng(e,t,o);if(!Te.matched)return null;f=Te.consumedSegments,g=o.slice(Te.lastChild),c=new Xp(f,Te.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,rl(t),to(t),t.component,t,xy(e),dM(e)+f.length,ug(t))}const v=(i=t).children?i.children:i.loadChildren?i._loadedConfig.routes:[],{segmentGroup:S,slicedSegments:W}=Dh(e,f,g,v.filter(Te=>void 0===Te.redirectTo),this.relativeLinkResolution);var i;if(0===W.length&&S.hasChildren()){const Te=this.processChildren(v,S);return null===Te?null:[new ga(c,Te)]}if(0===v.length&&0===W.length)return[new ga(c,[])];const pe=to(t)===s,we=this.processSegment(v,S,W,pe?yn:s);return null===we?null:[new ga(c,we)]}}function Kw(i){const t=i.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function ag(i){const t=[],e=new Set;for(const o of i){if(!Kw(o)){t.push(o);continue}const s=t.find(c=>o.value.routeConfig===c.value.routeConfig);void 0!==s?(s.children.push(...o.children),e.add(s)):t.push(o)}for(const o of e){const s=ag(o.children);t.push(new ga(o.value,s))}return t.filter(o=>!e.has(o))}function xy(i){let t=i;for(;t._sourceSegment;)t=t._sourceSegment;return t}function dM(i){let t=i,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function rl(i){return i.data||{}}function ug(i){return i.resolve||{}}function Py(i){return yr(t=>{const e=i(t);return e?(0,Xt.D)(e).pipe((0,sn.U)(()=>t)):(0,Lt.of)(t)})}class vM extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const lg=new a.OlP("ROUTES");class cg{constructor(t,e,o,s){this.loader=t,this.compiler=e,this.onLoadStartListener=o,this.onLoadEndListener=s}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const s=this.loadModuleFactory(e.loadChildren).pipe((0,sn.U)(c=>{this.onLoadEndListener&&this.onLoadEndListener(e);const f=c.create(t);return new Cy(ND(f.injector.get(lg,void 0,a.XFs.Self|a.XFs.Optional)).map(Ey),f)}),Yu(c=>{throw e._loader$=void 0,c}));return e._loader$=new ZI.c(s,()=>new Vt.xQ).pipe((0,hc.x)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?(0,Xt.D)(this.loader.load(t)):ii(t()).pipe((0,jr.zg)(e=>e instanceof a.YKP?(0,Lt.of)(e):(0,Xt.D)(this.compiler.compileModuleAsync(e))))}}class eC{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ru,this.attachRef=null}}class ru{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const o=this.getOrCreateContext(t);o.outlet=e,this.contexts.set(t,o)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new eC,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class _M{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function tC(i){throw i}function nC(i,t,e){return t.parse("/")}function iu(i,t){return(0,Lt.of)(null)}const rC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},iC={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let zr=(()=>{class i{constructor(e,o,s,c,f,g,v,S){this.rootComponentType=e,this.urlSerializer=o,this.rootContexts=s,this.location=c,this.config=S,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Vt.xQ,this.errorHandler=tC,this.malformedUriErrorHandler=nC,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:iu,afterPreactivation:iu},this.urlHandlingStrategy=new _M,this.routeReuseStrategy=new vM,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=f.get(a.h0i),this.console=f.get(a.c2e);const we=f.get(a.R0b);this.isNgZoneEnabled=we instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(S),this.currentUrlTree=new vc(new En([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new cg(g,v,Te=>this.triggerEvent(new Sw(Te)),Te=>this.triggerEvent(new Aw(Te))),this.routerState=xw(this.currentUrlTree,this.rootComponentType),this.transitions=new Hr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const o=this.events;return e.pipe($n(s=>0!==s.id),(0,sn.U)(s=>Object.assign(Object.assign({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),yr(s=>{let c=!1,f=!1;return(0,Lt.of)(s).pipe((0,Or.b)(g=>{this.currentNavigation={id:g.id,initialUrl:g.currentRawUrl,extractedUrl:g.extractedUrl,trigger:g.source,extras:g.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),yr(g=>{const v=!this.navigated||g.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||v)&&this.urlHandlingStrategy.shouldProcessUrl(g.rawUrl))return(0,Lt.of)(g).pipe(yr(W=>{const pe=this.transitions.getValue();return o.next(new ey(W.id,this.serializeUrl(W.extractedUrl),W.source,W.restoredState)),pe!==this.transitions.getValue()?ns.E:Promise.resolve(W)}),function(i,t,e,o){return yr(s=>function(i,t,e,o,s){return new oM(i,t,e,o,s).apply()}(i,t,e,s.extractedUrl,o).pipe((0,sn.U)(c=>Object.assign(Object.assign({},s),{urlAfterRedirects:c}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Or.b)(W=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:W.urlAfterRedirects})}),function(i,t,e,o,s){return(0,jr.zg)(c=>function(i,t,e,o,s="emptyOnly",c="legacy"){try{const f=new $w(i,t,e,o,s,c).recognize();return null===f?sg(new Ry):(0,Lt.of)(f)}catch(f){return sg(f)}}(i,t,c.urlAfterRedirects,e(c.urlAfterRedirects),o,s).pipe((0,sn.U)(f=>Object.assign(Object.assign({},c),{targetSnapshot:f}))))}(this.rootComponentType,this.config,W=>this.serializeUrl(W),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Or.b)(W=>{"eager"===this.urlUpdateStrategy&&(W.extras.skipLocationChange||this.setBrowserUrl(W.urlAfterRedirects,W),this.browserUrlTree=W.urlAfterRedirects);const pe=new Zp(W.id,this.serializeUrl(W.extractedUrl),this.serializeUrl(W.urlAfterRedirects),W.targetSnapshot);o.next(pe)}));if(v&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:pe,extractedUrl:we,source:Te,restoredState:Pe,extras:Ue}=g,rt=new ey(pe,this.serializeUrl(we),Te,Pe);o.next(rt);const vt=xw(we,this.rootComponentType).snapshot;return(0,Lt.of)(Object.assign(Object.assign({},g),{targetSnapshot:vt,urlAfterRedirects:we,extras:Object.assign(Object.assign({},Ue),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=g.rawUrl,this.browserUrlTree=g.urlAfterRedirects,g.resolve(null),ns.E}),Py(g=>{const{targetSnapshot:v,id:S,extractedUrl:W,rawUrl:pe,extras:{skipLocationChange:we,replaceUrl:Te}}=g;return this.hooks.beforePreactivation(v,{navigationId:S,appliedUrlTree:W,rawUrlTree:pe,skipLocationChange:!!we,replaceUrl:!!Te})}),(0,Or.b)(g=>{const v=new nP(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(v)}),(0,sn.U)(g=>Object.assign(Object.assign({},g),{guards:zw(g.targetSnapshot,g.currentSnapshot,this.rootContexts)})),function(i,t){return(0,jr.zg)(e=>{const{targetSnapshot:o,currentSnapshot:s,guards:{canActivateChecks:c,canDeactivateChecks:f}}=e;return 0===f.length&&0===c.length?(0,Lt.of)(Object.assign(Object.assign({},e),{guardsResult:!0})):function(i,t,e,o){return(0,Xt.D)(i).pipe((0,jr.zg)(s=>function(i,t,e,o,s){const c=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!c||0===c.length)return(0,Lt.of)(!0);const f=c.map(g=>{const v=ig(g,t,s);let S;if(function(i){return i&&nu(i.canDeactivate)}(v))S=ii(v.canDeactivate(i,t,e,o));else{if(!nu(v))throw new Error("Invalid CanDeactivate guard");S=ii(v(i,t,e,o))}return S.pipe(Pr())});return(0,Lt.of)(f).pipe(Ac())}(s.component,s.route,e,t,o)),Pr(s=>!0!==s,!0))}(f,o,s,i).pipe((0,jr.zg)(g=>g&&function(i){return"boolean"==typeof i}(g)?function(i,t,e,o){return(0,Xt.D)(t).pipe(dh(s=>Wu(function(i,t){return null!==i&&t&&t(new OD(i)),(0,Lt.of)(!0)}(s.route.parent,o),function(i,t){return null!==i&&t&&t(new rP(i)),(0,Lt.of)(!0)}(s.route,o),function(i,t,e){const o=t[t.length-1],c=t.slice(0,t.length-1).reverse().map(f=>function(i){const t=i.routeConfig?i.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:i,guards:t}:null}(f)).filter(f=>null!==f).map(f=>da(()=>{const g=f.guards.map(v=>{const S=ig(v,f.node,e);let W;if(function(i){return i&&nu(i.canActivateChild)}(S))W=ii(S.canActivateChild(o,i));else{if(!nu(S))throw new Error("Invalid CanActivateChild guard");W=ii(S(o,i))}return W.pipe(Pr())});return(0,Lt.of)(g).pipe(Ac())}));return(0,Lt.of)(c).pipe(Ac())}(i,s.path,e),function(i,t,e){const o=t.routeConfig?t.routeConfig.canActivate:null;if(!o||0===o.length)return(0,Lt.of)(!0);const s=o.map(c=>da(()=>{const f=ig(c,t,e);let g;if(function(i){return i&&nu(i.canActivate)}(f))g=ii(f.canActivate(t,i));else{if(!nu(f))throw new Error("Invalid CanActivate guard");g=ii(f(t,i))}return g.pipe(Pr())}));return(0,Lt.of)(s).pipe(Ac())}(i,s.route,e))),Pr(s=>!0!==s,!0))}(o,c,i,t):(0,Lt.of)(g)),(0,sn.U)(g=>Object.assign(Object.assign({},e),{guardsResult:g})))})}(this.ngModule.injector,g=>this.triggerEvent(g)),(0,Or.b)(g=>{if(Cc(g.guardsResult)){const S=sy(`Redirecting to "${this.serializeUrl(g.guardsResult)}"`);throw S.url=g.guardsResult,S}const v=new ph(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot,!!g.guardsResult);this.triggerEvent(v)}),$n(g=>!!g.guardsResult||(this.restoreHistory(g),this.cancelNavigationTransition(g,""),!1)),Py(g=>{if(g.guards.canActivateChecks.length)return(0,Lt.of)(g).pipe((0,Or.b)(v=>{const S=new ny(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(S)}),yr(v=>{let S=!1;return(0,Lt.of)(v).pipe(function(i,t){return(0,jr.zg)(e=>{const{targetSnapshot:o,guards:{canActivateChecks:s}}=e;if(!s.length)return(0,Lt.of)(e);let c=0;return(0,Xt.D)(s).pipe(dh(f=>function(i,t,e,o){return function(i,t,e,o){const s=Object.keys(i);if(0===s.length)return(0,Lt.of)({});const c={};return(0,Xt.D)(s).pipe((0,jr.zg)(f=>function(i,t,e,o){const s=ig(i,t,o);return ii(s.resolve?s.resolve(t,e):s(t,e))}(i[f],t,e,o).pipe((0,Or.b)(g=>{c[f]=g}))),Jv(1),(0,jr.zg)(()=>Object.keys(c).length===s.length?(0,Lt.of)(c):ns.E))}(i._resolve,i,t,o).pipe((0,sn.U)(c=>(i._resolvedData=c,i.data=Object.assign(Object.assign({},i.data),Iw(i,e).resolve),null)))}(f.route,o,i,t)),(0,Or.b)(()=>c++),Jv(1),(0,jr.zg)(f=>c===s.length?(0,Lt.of)(e):ns.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Or.b)({next:()=>S=!0,complete:()=>{S||(this.restoreHistory(v),this.cancelNavigationTransition(v,"At least one route resolver didn't emit any value."))}}))}),(0,Or.b)(v=>{const S=new pc(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(S)}))}),Py(g=>{const{targetSnapshot:v,id:S,extractedUrl:W,rawUrl:pe,extras:{skipLocationChange:we,replaceUrl:Te}}=g;return this.hooks.afterPreactivation(v,{navigationId:S,appliedUrlTree:W,rawUrlTree:pe,skipLocationChange:!!we,replaceUrl:!!Te})}),(0,sn.U)(g=>{const v=function(i,t,e){const o=Sh(i,t._root,e?e._root:void 0);return new gy(o,t)}(this.routeReuseStrategy,g.targetSnapshot,g.currentRouterState);return Object.assign(Object.assign({},g),{targetRouterState:v})}),(0,Or.b)(g=>{this.currentUrlTree=g.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,g.rawUrl),this.routerState=g.targetRouterState,"deferred"===this.urlUpdateStrategy&&(g.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,g),this.browserUrlTree=g.urlAfterRedirects)}),((i,t,e)=>(0,sn.U)(o=>(new Bw(t,o.targetRouterState,o.currentRouterState,e).activate(i),o)))(this.rootContexts,this.routeReuseStrategy,g=>this.triggerEvent(g)),(0,Or.b)({next(){c=!0},complete(){c=!0}}),Xv(()=>{if(!c&&!f){const g=`Navigation ID ${s.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(s),this.cancelNavigationTransition(s,g)):this.cancelNavigationTransition(s,g)}this.currentNavigation=null}),Yu(g=>{if(f=!0,function(i){return i&&i[oy]}(g)){const v=Cc(g.url);v||(this.navigated=!0,this.restoreHistory(s,!0));const S=new fc(s.id,this.serializeUrl(s.extractedUrl),g.message);o.next(S),v?setTimeout(()=>{const W=this.urlHandlingStrategy.merge(g.url,this.rawUrlTree);this.scheduleNavigation(W,"imperative",null,{skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:s.resolve,reject:s.reject,promise:s.promise})},0):s.resolve(!1)}else{this.restoreHistory(s,!0);const v=new ty(s.id,this.serializeUrl(s.extractedUrl),g);o.next(v);try{s.resolve(this.errorHandler(g))}catch(S){s.reject(S)}}return ns.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const o=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,o)&&setTimeout(()=>{const{source:s,state:c,urlTree:f}=o,g={replaceUrl:!0};if(c){const v=Object.assign({},c);delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(g.state=v)}this.scheduleNavigation(f,s,c,g)},0),this.lastLocationChangeInfo=o}))}extractLocationChangeInfoFromEvent(e){var o;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(o=e.state)||void 0===o?void 0:o.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,o){if(!e)return!0;const s=o.urlTree.toString()===e.urlTree.toString();return o.transitionId!==e.transitionId||!s||!("hashchange"===o.source&&"popstate"===e.source||"popstate"===o.source&&"hashchange"===e.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Ec(e),this.config=e.map(Ey),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,o={}){const{relativeTo:s,queryParams:c,fragment:f,queryParamsHandling:g,preserveFragment:v}=o,S=s||this.routerState.root,W=v?this.currentUrlTree.fragment:f;let pe=null;switch(g){case"merge":pe=Object.assign(Object.assign({},this.currentUrlTree.queryParams),c);break;case"preserve":pe=this.currentUrlTree.queryParams;break;default:pe=c||null}return null!==pe&&(pe=this.removeEmptyProps(pe)),function(i,t,e,o,s){if(0===e.length)return Ow(t.root,t.root,t,o,s);const c=function(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new vy(!0,0,i);let t=0,e=!1;const o=i.reduce((s,c,f)=>{if("object"==typeof c&&null!=c){if(c.outlets){const g={};return Ar(c.outlets,(v,S)=>{g[S]="string"==typeof v?v.split("/"):v}),[...s,{outlets:g}]}if(c.segmentPath)return[...s,c.segmentPath]}return"string"!=typeof c?[...s,c]:0===f?(c.split("/").forEach((g,v)=>{0==v&&"."===g||(0==v&&""===g?e=!0:".."===g?t++:""!=g&&s.push(g))}),s):[...s,c]},[]);return new vy(e,t,o)}(e);if(c.toRoot())return Ow(t.root,new En([],{}),t,o,s);const f=function(i,t,e){if(i.isAbsolute)return new yy(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const c=e.snapshot._urlSegment;return new yy(c,c===t.root,0)}const o=wc(i.commands[0])?0:1;return function(i,t,e){let o=i,s=t,c=e;for(;c>s;){if(c-=s,o=o.parent,!o)throw new Error("Invalid number of '../'");s=o.segments.length}return new yy(o,!1,s-c)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+o,i.numberOfDoubleDots)}(c,t,i),g=f.processChildren?Eh(f.segmentGroup,f.index,c.commands):Ah(f.segmentGroup,f.index,c.commands);return Ow(f.segmentGroup,g,t,o,s)}(S,this.currentUrlTree,e,pe,null!=W?W:null)}navigateByUrl(e,o={skipLocationChange:!1}){const s=Cc(e)?e:this.parseUrl(e),c=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(c,"imperative",null,o)}navigate(e,o={skipLocationChange:!1}){return function(i){for(let t=0;t<i.length;t++){const e=i[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,o),o)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let o;try{o=this.urlSerializer.parse(e)}catch(s){o=this.malformedUriErrorHandler(s,this.urlSerializer,e)}return o}isActive(e,o){let s;if(s=!0===o?Object.assign({},rC):!1===o?Object.assign({},iC):o,Cc(e))return mh(this.currentUrlTree,e,s);const c=this.parseUrl(e);return mh(this.currentUrlTree,c,s)}removeEmptyProps(e){return Object.keys(e).reduce((o,s)=>{const c=e[s];return null!=c&&(o[s]=c),o},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new fh(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,o,s,c,f){var g,v;if(this.disposed)return Promise.resolve(!1);const S=this.getTransition(),W="imperative"!==o&&"imperative"===(null==S?void 0:S.source),Te=(this.lastSuccessfulId===S.id||this.currentNavigation?S.rawUrl:S.urlAfterRedirects).toString()===e.toString();if(W&&Te)return Promise.resolve(!0);let Pe,Ue,rt;f?(Pe=f.resolve,Ue=f.reject,rt=f.promise):rt=new Promise((Rt,Ht)=>{Pe=Rt,Ue=Ht});const vt=++this.navigationId;let At;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(s=this.location.getState()),At=s&&s.\u0275routerPageId?s.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?null!==(g=this.browserPageId)&&void 0!==g?g:0:(null!==(v=this.browserPageId)&&void 0!==v?v:0)+1):At=0,this.setTransition({id:vt,targetPageId:At,source:o,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:c,resolve:Pe,reject:Ue,promise:rt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),rt.catch(Rt=>Promise.reject(Rt))}setBrowserUrl(e,o){const s=this.urlSerializer.serialize(e),c=Object.assign(Object.assign({},o.extras.state),this.generateNgRouterState(o.id,o.targetPageId));this.location.isCurrentPathEqualTo(s)||o.extras.replaceUrl?this.location.replaceState(s,"",c):this.location.go(s,"",c)}restoreHistory(e,o=!1){var s,c;if("computed"===this.canceledNavigationResolution){const f=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)||0===f?this.currentUrlTree===(null===(c=this.currentNavigation)||void 0===c?void 0:c.finalUrl)&&0===f&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(f)}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,o){const s=new fc(e.id,this.serializeUrl(e.extractedUrl),o);this.triggerEvent(s),e.resolve(!1)}generateNgRouterState(e,o){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:o}:{navigationId:e}}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(a.DyG),a.LFG(uy),a.LFG(ru),a.LFG(O),a.LFG(a.zs3),a.LFG(a.v3s),a.LFG(a.Sil),a.LFG(void 0))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})(),ks=(()=>{class i{constructor(e,o,s,c,f){this.router=e,this.route=o,this.commands=[],this.onChanges=new Vt.xQ,null==s&&c.setAttribute(f.nativeElement,"tabindex","0")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}onClick(){const e={skipLocationChange:il(this.skipLocationChange),replaceUrl:il(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:il(this.preserveFragment)})}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(zr),a.Y36(_c),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq))},i.\u0275dir=a.lG2({type:i,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,o){1&e&&a.NdJ("click",function(){return o.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[a.TTD]}),i})(),xh=(()=>{class i{constructor(e,o,s){this.router=e,this.route=o,this.locationStrategy=s,this.commands=[],this.onChanges=new Vt.xQ,this.subscription=e.events.subscribe(c=>{c instanceof fh&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,o,s,c,f){if(0!==e||o||s||c||f||"string"==typeof this.target&&"_self"!=this.target)return!0;const g={skipLocationChange:il(this.skipLocationChange),replaceUrl:il(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,g),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:il(this.preserveFragment)})}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(zr),a.Y36(_c),a.Y36(z))},i.\u0275dir=a.lG2({type:i,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,o){1&e&&a.NdJ("click",function(c){return o.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),2&e&&(a.Ikx("href",o.href,a.LSH),a.uIk("target",o.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[a.TTD]}),i})();function il(i){return""===i||!!i}let Ih=(()=>{class i{constructor(e,o,s,c,f,g){this.router=e,this.element=o,this.renderer=s,this.cdr=c,this.link=f,this.linkWithHref=g,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=e.events.subscribe(v=>{v instanceof fh&&this.update()})}ngAfterContentInit(){(0,Lt.of)(this.links.changes,this.linksWithHrefs.changes,(0,Lt.of)(null)).pipe((0,ca.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var e;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();const o=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(s=>!!s).map(s=>s.onChanges);this.linkInputChangesSubscription=(0,Xt.D)(o).pipe((0,ca.J)()).subscribe(s=>{this.isActive!==this.isLinkActive(this.router)(s)&&this.update()})}set routerLinkActive(e){const o=Array.isArray(e)?e:e.split(" ");this.classes=o.filter(s=>!!s)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(o=>{e?this.renderer.addClass(this.element.nativeElement,o):this.renderer.removeClass(this.element.nativeElement,o)}))})}isLinkActive(e){const o=function(i){return!!i.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>e.isActive(s.urlTree,o)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(zr),a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(a.sBO),a.Y36(ks,8),a.Y36(xh,8))},i.\u0275dir=a.lG2({type:i,selectors:[["","routerLinkActive",""]],contentQueries:function(e,o,s){if(1&e&&(a.Suo(s,ks,5),a.Suo(s,xh,5)),2&e){let c;a.iGM(c=a.CRH())&&(o.links=c),a.iGM(c=a.CRH())&&(o.linksWithHrefs=c)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[a.TTD]}),i})(),hg=(()=>{class i{constructor(e,o,s,c,f){this.parentContexts=e,this.location=o,this.resolver=s,this.changeDetector=f,this.activated=null,this._activatedRoute=null,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.name=c||yn,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,o){this.activated=e,this._activatedRoute=o,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,o){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const f=(o=o||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),g=this.parentContexts.getOrCreateContext(this.name).children,v=new fg(e,g,this.location.injector);this.activated=this.location.createComponent(f,this.location.length,v),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(ru),a.Y36(a.s_b),a.Y36(a._Vd),a.$8M("name"),a.Y36(a.sBO))},i.\u0275dir=a.lG2({type:i,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),i})();class fg{constructor(t,e,o){this.route=t,this.childContexts=e,this.parent=o}get(t,e){return t===_c?this.route:t===ru?this.childContexts:this.parent.get(t,e)}}class Ph{}class pg{preload(t,e){return(0,Lt.of)(null)}}let Fy=(()=>{class i{constructor(e,o,s,c,f){this.router=e,this.injector=c,this.preloadingStrategy=f,this.loader=new cg(o,s,S=>e.triggerEvent(new Sw(S)),S=>e.triggerEvent(new Aw(S)))}setUpPreloading(){this.subscription=this.router.events.pipe($n(e=>e instanceof fh),dh(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(a.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,o){const s=[];for(const c of o)if(c.loadChildren&&!c.canLoad&&c._loadedConfig){const f=c._loadedConfig;s.push(this.processRoutes(f.module,f.routes))}else c.loadChildren&&!c.canLoad?s.push(this.preloadConfig(e,c)):c.children&&s.push(this.processRoutes(e,c.children));return(0,Xt.D)(s).pipe((0,ca.J)(),(0,sn.U)(c=>{}))}preloadConfig(e,o){return this.preloadingStrategy.preload(o,()=>(o._loadedConfig?(0,Lt.of)(o._loadedConfig):this.loader.load(e.injector,o)).pipe((0,jr.zg)(c=>(o._loadedConfig=c,this.processRoutes(c.module,c.routes)))))}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(zr),a.LFG(a.v3s),a.LFG(a.Sil),a.LFG(a.zs3),a.LFG(Ph))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})(),Oh=(()=>{class i{constructor(e,o,s={}){this.router=e,this.viewportScroller=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof ey?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof fh&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof gc&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,o){this.router.triggerEvent(new gc(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(zr),a.LFG(ja),a.LFG(void 0))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})();const ol=new a.OlP("ROUTER_CONFIGURATION"),Ly=new a.OlP("ROUTER_FORROOT_GUARD"),wM=[O,{provide:uy,useClass:yh},{provide:zr,useFactory:function(i,t,e,o,s,c,f,g={},v,S){const W=new zr(null,i,t,e,o,s,c,ND(f));return v&&(W.urlHandlingStrategy=v),S&&(W.routeReuseStrategy=S),function(i,t){i.errorHandler&&(t.errorHandler=i.errorHandler),i.malformedUriErrorHandler&&(t.malformedUriErrorHandler=i.malformedUriErrorHandler),i.onSameUrlNavigation&&(t.onSameUrlNavigation=i.onSameUrlNavigation),i.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=i.paramsInheritanceStrategy),i.relativeLinkResolution&&(t.relativeLinkResolution=i.relativeLinkResolution),i.urlUpdateStrategy&&(t.urlUpdateStrategy=i.urlUpdateStrategy)}(g,W),g.enableTracing&&W.events.subscribe(pe=>{var we,Te;null===(we=console.group)||void 0===we||we.call(console,`Router Event: ${pe.constructor.name}`),console.log(pe.toString()),console.log(pe),null===(Te=console.groupEnd)||void 0===Te||Te.call(console)}),W},deps:[uy,ru,O,a.zs3,a.v3s,a.Sil,lg,ol,[class{},new a.FiY],[class{},new a.FiY]]},ru,{provide:_c,useFactory:function(i){return i.routerState.root},deps:[zr]},{provide:a.v3s,useClass:a.EAV},Fy,pg,class{preload(t,e){return e().pipe(Yu(()=>(0,Lt.of)(null)))}},{provide:ol,useValue:{enableTracing:!1}}];function sC(){return new a.PXZ("Router",zr)}let mg=(()=>{class i{constructor(e,o){}static forRoot(e,o){return{ngModule:i,providers:[wM,lC(e),{provide:Ly,useFactory:uC,deps:[[zr,new a.FiY,new a.tp0]]},{provide:ol,useValue:o||{}},{provide:z,useFactory:hP,deps:[K,[new a.tBr(B),new a.FiY],ol]},{provide:Oh,useFactory:aC,deps:[zr,ja,ol]},{provide:Ph,useExisting:o&&o.preloadingStrategy?o.preloadingStrategy:pg},{provide:a.PXZ,multi:!0,useFactory:sC},[no,{provide:a.ip1,multi:!0,useFactory:AM,deps:[no]},{provide:hC,useFactory:dC,deps:[no]},{provide:a.tb,multi:!0,useExisting:hC}]]}}static forChild(e){return{ngModule:i,providers:[lC(e)]}}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(Ly,8),a.LFG(zr,8))},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({}),i})();function aC(i,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new Oh(i,t,e)}function hP(i,t,e={}){return e.useHash?new R(i,t):new C(i,t)}function uC(i){return"guarded"}function lC(i){return[{provide:a.deG,multi:!0,useValue:i},{provide:lg,multi:!0,useValue:i}]}let no=(()=>{class i{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Vt.xQ}appInitializer(){return this.injector.get(U,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let o=null;const s=new Promise(g=>o=g),c=this.injector.get(zr),f=this.injector.get(ol);return"disabled"===f.initialNavigation?(c.setUpLocationChangeListener(),o(!0)):"enabled"===f.initialNavigation||"enabledBlocking"===f.initialNavigation?(c.hooks.afterPreactivation=()=>this.initNavigation?(0,Lt.of)(null):(this.initNavigation=!0,o(!0),this.resultOfPreactivationDone),c.initialNavigation()):o(!0),s})}bootstrapListener(e){const o=this.injector.get(ol),s=this.injector.get(Fy),c=this.injector.get(Oh),f=this.injector.get(zr),g=this.injector.get(a.z2F);e===g.components[0]&&(("enabledNonBlocking"===o.initialNavigation||void 0===o.initialNavigation)&&f.initialNavigation(),s.setUpPreloading(),c.init(),f.resetRootComponentType(g.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(a.zs3))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})();function AM(i){return i.appInitializer.bind(i)}function dC(i){return i.bootstrapListener.bind(i)}const hC=new a.OlP("Router Initializer");let fC=(()=>{class i{constructor(){this.tiles=[{text:"Document Title",cols:3,rows:1,color:"lightblue"},{text:"Document PDF",cols:1,rows:2,color:"lightgreen"},{text:"Three",cols:1,rows:1,color:"lightpink"},{text:"Four",cols:2,rows:1,color:"#DDBDF1"}]}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=a.Xpm({type:i,selectors:[["app-documentinfo"]],decls:17,vars:0,consts:[[1,"title"],[1,"metadata"],[1,"contact"]],template:function(e,o){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"p"),a._uU(2,"Document Title"),a.qZA(),a.qZA(),a.TgZ(3,"div",1),a.TgZ(4,"p"),a._uU(5,"Document Clicks: 0"),a.qZA(),a.TgZ(6,"p"),a._uU(7,"Pages: 0"),a.qZA(),a.TgZ(8,"div",2),a.TgZ(9,"p"),a._uU(10,"Source info:"),a.qZA(),a.TgZ(11,"p"),a._uU(12,"Author"),a.qZA(),a.TgZ(13,"p"),a._uU(14,"Contact Information"),a.qZA(),a.TgZ(15,"p"),a._uU(16,"TLB: AIR"),a.qZA(),a.qZA(),a.qZA())},styles:[".document[_ngcontent-%COMP%]{position:absolute;text-align:center;border-style:solid;border-width:5px;border-radius:10px;width:40vw;left:10%;color:red}.title[_ngcontent-%COMP%]{color:#4169e1}.metadata[_ngcontent-%COMP%]{color:salmon}.contact[_ngcontent-%COMP%]{color:#2e8b57}"]}),i})();function Is(i,...t){return t.length?t.some(e=>i[e]):i.altKey||i.shiftKey||i.ctrlKey||i.metaKey}var ul=y(3637);function ll(i,t=ul.P){return e=>e.lift(new KM(i,t))}class KM{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new JM(t,this.dueTime,this.scheduler))}}class JM extends Zn.L{constructor(t,e,o){super(t),this.dueTime=e,this.scheduler=o,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(qy,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function qy(i){i.debouncedNext()}class XM{constructor(t){this.total=t}call(t,e){return e.subscribe(new PC(t,this.total))}}class PC extends Zn.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}function Bh(i,t){return e=>e.lift(new OC(i,t))}class OC{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new FC(t,this.compare,this.keySelector))}}class FC extends Zn.L{constructor(t,e,o){super(t),this.keySelector=o,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:s}=this;e=s?s(t):t}catch(s){return this.destination.error(s)}let o=!1;if(this.hasKey)try{const{compare:s}=this;o=s(this.key,e)}catch(s){return this.destination.error(s)}else this.hasKey=!0;o||(this.key=e,this.destination.next(t))}}function Ut(i){return t=>t.lift(new va(i))}class va{constructor(t){this.notifier=t}call(t,e){const o=new wg(t),s=(0,Do.ft)(this.notifier,new Do.IY(o));return s&&!o.seenValue?(o.add(s),e.subscribe(o)):o}}class wg extends Do.Ds{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function bn(i){return null!=i&&"false"!=`${i}`}function ro(i,t=0){return function(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}(i)?Number(i):t}function cl(i){return Array.isArray(i)?i:[i]}function _r(i){return null==i?"":"string"==typeof i?i:`${i}px`}function io(i){return i instanceof a.SBq?i.nativeElement:i}let Wy;try{Wy="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(i){Wy=!1}let Rc,Nn=(()=>{class i{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function(i){return"browser"===i}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Wy)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(a.Lbi))},i.\u0275prov=a.Yz7({factory:function(){return new i(a.LFG(a.Lbi))},token:i,providedIn:"root"}),i})(),dl=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({}),i})();const Yy=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function LC(){if(Rc)return Rc;if("object"!=typeof document||!document)return Rc=new Set(Yy),Rc;let i=document.createElement("input");return Rc=new Set(Yy.filter(t=>(i.setAttribute("type",t),i.type===t))),Rc}let hl,Uh,Ro,$y;function Vh(i){return function(){if(null==hl&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>hl=!0}))}finally{hl=hl||!1}return hl}()?i:!!i.capture}function Zy(){if(null==Ro){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ro=!1,Ro;if("scrollBehavior"in document.documentElement.style)Ro=!0;else{const i=Element.prototype.scrollTo;Ro=!!i&&!/\{\s*\[native code\]\s*\}/.test(i.toString())}}return Ro}function Hh(){if("object"!=typeof document||!document)return 0;if(null==Uh){const i=document.createElement("div"),t=i.style;i.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),o=e.style;o.width="2px",o.height="1px",i.appendChild(e),document.body.appendChild(i),Uh=0,0===i.scrollLeft&&(i.scrollLeft=1,Uh=0===i.scrollLeft?1:2),i.parentNode.removeChild(i)}return Uh}function Sg(){let i="undefined"!=typeof document&&document?document.activeElement:null;for(;i&&i.shadowRoot;){const t=i.shadowRoot.activeElement;if(t===i)break;i=t}return i}function Ic(i){return i.composedPath?i.composedPath()[0]:i.target}let Qy=(()=>{class i{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=a.Yz7({factory:function(){return new i},token:i,providedIn:"root"}),i})(),nk=(()=>{class i{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,o)=>this._cleanupObserver(o))}observe(e){const o=io(e);return new Yn.y(s=>{const f=this._observeElement(o).subscribe(s);return()=>{f.unsubscribe(),this._unobserveElement(o)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const o=new Vt.xQ,s=this._mutationObserverFactory.create(c=>o.next(c));s&&s.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:s,stream:o,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:o,stream:s}=this._observedElements.get(e);o&&o.disconnect(),s.complete(),this._observedElements.delete(e)}}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(Qy))},i.\u0275prov=a.Yz7({factory:function(){return new i(a.LFG(Qy))},token:i,providedIn:"root"}),i})(),NC=(()=>{class i{constructor(e,o,s){this._contentObserver=e,this._elementRef=o,this._ngZone=s,this.event=new a.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=bn(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=ro(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(ll(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(nk),a.Y36(a.SBq),a.Y36(a.R0b))},i.\u0275dir=a.lG2({type:i,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),i})(),Ag=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({providers:[Qy]}),i})();class Pc extends class{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Vt.xQ,this._typeaheadSubscription=Vi.w.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new Vt.xQ,this.change=new Vt.xQ,t instanceof a.n_E&&t.changes.subscribe(e=>{if(this._activeItem){const s=e.toArray().indexOf(this._activeItem);s>-1&&s!==this._activeItemIndex&&(this._activeItemIndex=s)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Or.b)(e=>this._pressedLetters.push(e)),ll(t),$n(()=>this._pressedLetters.length>0),(0,sn.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const o=this._getItemsArray();for(let s=1;s<o.length+1;s++){const c=(this._activeItemIndex+s)%o.length,f=o[c];if(!this._skipPredicateFn(f)&&0===f.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(c);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,s=["altKey","ctrlKey","metaKey","shiftKey"].every(c=>!t[c]||this._allowedModifierKeys.indexOf(c)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&s){this.setNextItemActive();break}return;case 38:if(this._vertical&&s){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&s){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&s){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&s){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&s){this.setLastItemActive();break}return;default:return void((s||Is(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),o="number"==typeof t?t:e.indexOf(t),s=e[o];this._activeItem=null==s?null:s,this._activeItemIndex=o}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let o=1;o<=e.length;o++){const s=(this._activeItemIndex+t*o+e.length)%e.length;if(!this._skipPredicateFn(e[s]))return void this.setActiveItem(s)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const o=this._getItemsArray();if(o[t]){for(;this._skipPredicateFn(o[t]);)if(!o[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof a.n_E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let Jy=(()=>{class i{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function(i){return!!(i.offsetWidth||i.offsetHeight||"function"==typeof i.getClientRects&&i.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const o=function(i){try{return i.frameElement}catch(t){return null}}(function(i){return i.ownerDocument&&i.ownerDocument.defaultView||window}(e));if(o&&(-1===fk(o)||!this.isVisible(o)))return!1;let s=e.nodeName.toLowerCase(),c=fk(e);return e.hasAttribute("contenteditable")?-1!==c:!("iframe"===s||"object"===s||this._platform.WEBKIT&&this._platform.IOS&&!function(i){let t=i.nodeName.toLowerCase(),e="input"===t&&i.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===s?!!e.hasAttribute("controls")&&-1!==c:"video"===s?-1!==c&&(null!==c||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,o){return function(i){return!function(i){return function(i){return"input"==i.nodeName.toLowerCase()}(i)&&"hidden"==i.type}(i)&&(function(i){let t=i.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(i)||function(i){return function(i){return"a"==i.nodeName.toLowerCase()}(i)&&i.hasAttribute("href")}(i)||i.hasAttribute("contenteditable")||Xy(i))}(e)&&!this.isDisabled(e)&&((null==o?void 0:o.ignoreVisibility)||this.isVisible(e))}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(Nn))},i.\u0275prov=a.Yz7({factory:function(){return new i(a.LFG(Nn))},token:i,providedIn:"root"}),i})();function Xy(i){if(!i.hasAttribute("tabindex")||void 0===i.tabIndex)return!1;let t=i.getAttribute("tabindex");return"-32768"!=t&&!(!t||isNaN(parseInt(t,10)))}function fk(i){if(!Xy(i))return null;const t=parseInt(i.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class JP{constructor(t,e,o,s,c=!1){this._element=t,this._checker=e,this._ngZone=o,this._document=s,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,c||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let o=0;o<e.length;o++)e[o].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[o]):e[o].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[o]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),!this._checker.isFocusable(e)){const o=this._getFirstTabbableElement(e);return null==o||o.focus(t),!!o}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let o=0;o<e.length;o++){let s=e[o].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[o]):null;if(s)return s}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let o=e.length-1;o>=0;o--){let s=e[o].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[o]):null;if(s)return s}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(gi(1)).subscribe(t)}}let qC=(()=>{class i{constructor(e,o,s){this._checker=e,this._ngZone=o,this._document=s}create(e,o=!1){return new JP(e,this._checker,this._ngZone,this._document,o)}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(Jy),a.LFG(a.R0b),a.LFG(J))},i.\u0275prov=a.Yz7({factory:function(){return new i(a.LFG(Jy),a.LFG(a.R0b),a.LFG(J))},token:i,providedIn:"root"}),i})();function Eg(i){return 0===i.offsetX&&0===i.offsetY}function Tg(i){const t=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}"undefined"!=typeof Element&&Element;const ZC=new a.OlP("cdk-input-modality-detector-options"),nO={ignoreKeys:[18,17,224,91,16]},su=Vh({passive:!0,capture:!0});let $C=(()=>{class i{constructor(e,o,s,c){this._platform=e,this._mostRecentTarget=null,this._modality=new Hr(null),this._lastTouchMs=0,this._onKeydown=f=>{var g,v;(null===(v=null===(g=this._options)||void 0===g?void 0:g.ignoreKeys)||void 0===v?void 0:v.some(S=>S===f.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Ic(f))},this._onMousedown=f=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Eg(f)?"keyboard":"mouse"),this._mostRecentTarget=Ic(f))},this._onTouchstart=f=>{Tg(f)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Ic(f))},this._options=Object.assign(Object.assign({},nO),c),this.modalityDetected=this._modality.pipe(t=>t.lift(new XM(1))),this.modalityChanged=this.modalityDetected.pipe(Bh()),e.isBrowser&&o.runOutsideAngular(()=>{s.addEventListener("keydown",this._onKeydown,su),s.addEventListener("mousedown",this._onMousedown,su),s.addEventListener("touchstart",this._onTouchstart,su)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){!this._platform.isBrowser||(document.removeEventListener("keydown",this._onKeydown,su),document.removeEventListener("mousedown",this._onMousedown,su),document.removeEventListener("touchstart",this._onTouchstart,su))}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(Nn),a.LFG(a.R0b),a.LFG(J),a.LFG(ZC,8))},i.\u0275prov=a.Yz7({factory:function(){return new i(a.LFG(Nn),a.LFG(a.R0b),a.LFG(J),a.LFG(ZC,8))},token:i,providedIn:"root"}),i})();const KC=new a.OlP("cdk-focus-monitor-default-options"),Mg=Vh({passive:!0,capture:!0});let ss=(()=>{class i{constructor(e,o,s,c,f){this._ngZone=e,this._platform=o,this._inputModalityDetector=s,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Vt.xQ,this._rootNodeFocusAndBlurListener=g=>{const v=Ic(g),S="focus"===g.type?this._onFocus:this._onBlur;for(let W=v;W;W=W.parentElement)S.call(this,g,W)},this._document=c,this._detectionMode=(null==f?void 0:f.detectionMode)||0}monitor(e,o=!1){const s=io(e);if(!this._platform.isBrowser||1!==s.nodeType)return(0,Lt.of)(null);const c=function(i){if(function(){if(null==$y){const i="undefined"!=typeof document?document.head:null;$y=!(!i||!i.createShadowRoot&&!i.attachShadow)}return $y}()){const t=i.getRootNode?i.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(s)||this._getDocument(),f=this._elementInfo.get(s);if(f)return o&&(f.checkChildren=!0),f.subject;const g={checkChildren:o,subject:new Vt.xQ,rootNode:c};return this._elementInfo.set(s,g),this._registerGlobalListeners(g),g.subject}stopMonitoring(e){const o=io(e),s=this._elementInfo.get(o);s&&(s.subject.complete(),this._setClasses(o),this._elementInfo.delete(o),this._removeGlobalListeners(s))}focusVia(e,o,s){const c=io(e);c===this._getDocument().activeElement?this._getClosestElementsInfo(c).forEach(([g,v])=>this._originChanged(g,o,v)):(this._setOrigin(o),"function"==typeof c.focus&&c.focus(s))}ngOnDestroy(){this._elementInfo.forEach((e,o)=>this.stopMonitoring(o))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(e,o,s){s?e.classList.add(o):e.classList.remove(o)}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,o){this._toggleClass(e,"cdk-focused",!!o),this._toggleClass(e,"cdk-touch-focused","touch"===o),this._toggleClass(e,"cdk-keyboard-focused","keyboard"===o),this._toggleClass(e,"cdk-mouse-focused","mouse"===o),this._toggleClass(e,"cdk-program-focused","program"===o)}_setOrigin(e,o=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&o,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,o){const s=this._elementInfo.get(o),c=Ic(e);!s||!s.checkChildren&&o!==c||this._originChanged(o,this._getFocusOrigin(c),s)}_onBlur(e,o){const s=this._elementInfo.get(o);!s||s.checkChildren&&e.relatedTarget instanceof Node&&o.contains(e.relatedTarget)||(this._setClasses(o),this._emitOrigin(s.subject,null))}_emitOrigin(e,o){this._ngZone.run(()=>e.next(o))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const o=e.rootNode,s=this._rootNodeFocusListenerCount.get(o)||0;s||this._ngZone.runOutsideAngular(()=>{o.addEventListener("focus",this._rootNodeFocusAndBlurListener,Mg),o.addEventListener("blur",this._rootNodeFocusAndBlurListener,Mg)}),this._rootNodeFocusListenerCount.set(o,s+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ut(this._stopInputModalityDetector)).subscribe(c=>{this._setOrigin(c,!0)}))}_removeGlobalListeners(e){const o=e.rootNode;if(this._rootNodeFocusListenerCount.has(o)){const s=this._rootNodeFocusListenerCount.get(o);s>1?this._rootNodeFocusListenerCount.set(o,s-1):(o.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Mg),o.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Mg),this._rootNodeFocusListenerCount.delete(o))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,o,s){this._setClasses(e,o),this._emitOrigin(s.subject,o),this._lastFocusOrigin=o}_getClosestElementsInfo(e){const o=[];return this._elementInfo.forEach((s,c)=>{(c===e||s.checkChildren&&c.contains(e))&&o.push([c,s])}),o}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(a.R0b),a.LFG(Nn),a.LFG($C),a.LFG(J,8),a.LFG(KC,8))},i.\u0275prov=a.Yz7({factory:function(){return new i(a.LFG(a.R0b),a.LFG(Nn),a.LFG($C),a.LFG(J,8),a.LFG(KC,8))},token:i,providedIn:"root"}),i})();const t_="cdk-high-contrast-black-on-white",xo="cdk-high-contrast-white-on-black",fl="cdk-high-contrast-active";let JC=(()=>{class i{constructor(e,o){this._platform=e,this._document=o}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const o=this._document.defaultView||window,s=o&&o.getComputedStyle?o.getComputedStyle(e):null,c=(s&&s.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(e),c){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(fl),e.remove(t_),e.remove(xo),this._hasCheckedHighContrastMode=!0;const o=this.getHighContrastMode();1===o?(e.add(fl),e.add(t_)):2===o&&(e.add(fl),e.add(xo))}}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(Nn),a.LFG(J))},i.\u0275prov=a.Yz7({factory:function(){return new i(a.LFG(Nn),a.LFG(J))},token:i,providedIn:"root"}),i})();const kg=new a.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,a.f3M)(J)}});let si=(()=>{class i{constructor(e){if(this.value="ltr",this.change=new a.vpe,e){const s=e.documentElement?e.documentElement.dir:null,c=(e.body?e.body.dir:null)||s;this.value="ltr"===c||"rtl"===c?c:"ltr"}}ngOnDestroy(){this.change.complete()}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(kg,8))},i.\u0275prov=a.Yz7({factory:function(){return new i(a.LFG(kg,8))},token:i,providedIn:"root"}),i})(),as=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({}),i})();const jh=new a.GfV("12.2.1");class oo{}const Ui="*";function Fs(i,t){return{type:7,name:i,definitions:t,options:{}}}function so(i,t=null){return{type:4,styles:t,timings:i}}function pl(i,t=null){return{type:2,steps:i,options:t}}function Er(i){return{type:6,styles:i,offset:null}}function Io(i,t,e){return{type:0,name:i,styles:t,options:e}}function ao(i,t,e=null){return{type:1,expr:i,animation:t,options:e}}function r_(i){Promise.resolve(null).then(i)}class gl{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){r_(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(o=>o()),e.length=0}}class i_{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,o=0,s=0;const c=this.players.length;0==c?r_(()=>this._onFinish()):this.players.forEach(f=>{f.onDone(()=>{++e==c&&this._onFinish()}),f.onDestroy(()=>{++o==c&&this._onDestroy()}),f.onStart(()=>{++s==c&&this._onStart()})}),this.totalTime=this.players.reduce((f,g)=>Math.max(f,g.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(o=>{const s=o.totalTime?Math.min(1,e/o.totalTime):1;o.setPosition(s)})}getPosition(){const t=this.players.reduce((e,o)=>null===e||o.totalTime>e.totalTime?o:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(o=>o()),e.length=0}}function XC(){return"undefined"!=typeof window&&void 0!==window.document}function xg(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function au(i){switch(i.length){case 0:return new gl;case 1:return i[0];default:return new i_(i)}}function o_(i,t,e,o,s={},c={}){const f=[],g=[];let v=-1,S=null;if(o.forEach(W=>{const pe=W.offset,we=pe==v,Te=we&&S||{};Object.keys(W).forEach(Pe=>{let Ue=Pe,rt=W[Pe];if("offset"!==Pe)switch(Ue=t.normalizePropertyName(Ue,f),rt){case"!":rt=s[Pe];break;case Ui:rt=c[Pe];break;default:rt=t.normalizeStyleValue(Pe,Ue,rt,f)}Te[Ue]=rt}),we||g.push(Te),S=Te,v=pe}),f.length){const W="\n - ";throw new Error(`Unable to animate due to the following errors:${W}${f.join(W)}`)}return g}function Ig(i,t,e,o){switch(t){case"start":i.onStart(()=>o(e&&s_(e,"start",i)));break;case"done":i.onDone(()=>o(e&&s_(e,"done",i)));break;case"destroy":i.onDestroy(()=>o(e&&s_(e,"destroy",i)))}}function s_(i,t,e){const o=e.totalTime,c=eS(i.element,i.triggerName,i.fromState,i.toState,t||i.phaseName,null==o?i.totalTime:o,!!e.disabled),f=i._data;return null!=f&&(c._data=f),c}function eS(i,t,e,o,s="",c=0,f){return{element:i,triggerName:t,fromState:e,toState:o,phaseName:s,totalTime:c,disabled:!!f}}function uo(i,t,e){let o;return i instanceof Map?(o=i.get(t),o||i.set(t,o=e)):(o=i[t],o||(o=i[t]=e)),o}function a_(i){const t=i.indexOf(":");return[i.substring(1,t),i.substr(t+1)]}let u_=(i,t)=>!1,l_=(i,t)=>!1,Tk=(i,t,e)=>[];const c_=xg();(c_||"undefined"!=typeof Element)&&(u_=XC()?(i,t)=>{for(;t&&t!==document.documentElement;){if(t===i)return!0;t=t.parentNode||t.host}return!1}:(i,t)=>i.contains(t),l_=(()=>{if(c_||Element.prototype.matches)return(i,t)=>i.matches(t);{const i=Element.prototype,t=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector;return t?(e,o)=>t.apply(e,[o]):l_}})(),Tk=(i,t,e)=>{let o=[];if(e){const s=i.querySelectorAll(t);for(let c=0;c<s.length;c++)o.push(s[c])}else{const s=i.querySelector(t);s&&o.push(s)}return o});let Oc=null,Dk=!1;function d_(i){Oc||(Oc=("undefined"!=typeof document?document.body:null)||{},Dk=!!Oc.style&&"WebkitAppearance"in Oc.style);let t=!0;return Oc.style&&!function(i){return"ebkit"==i.substring(1,6)}(i)&&(t=i in Oc.style,!t&&Dk&&(t="Webkit"+i.charAt(0).toUpperCase()+i.substr(1)in Oc.style)),t}const h_=l_,f_=u_,Wh=Tk;function Pg(i){const t={};return Object.keys(i).forEach(e=>{const o=e.replace(/([a-z])([A-Z])/g,"$1-$2");t[o]=i[e]}),t}let tS=(()=>{class i{validateStyleProperty(e){return d_(e)}matchesElement(e,o){return h_(e,o)}containsElement(e,o){return f_(e,o)}query(e,o,s){return Wh(e,o,s)}computeStyle(e,o,s){return s||""}animate(e,o,s,c,f,g=[],v){return new gl(s,c)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})();class p_{}p_.NOOP=new tS;const Og="ng-enter",g_="ng-leave",Fg="ng-trigger",Zh=".ng-trigger",nS="ng-animating",Lg=".ng-animating";function Ls(i){if("number"==typeof i)return i;const t=i.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:m_(parseFloat(t[1]),t[2])}function m_(i,t){switch(t){case"s":return 1e3*i;default:return i}}function $h(i,t,e){return i.hasOwnProperty("duration")?i:function(i,t,e){let s,c=0,f="";if("string"==typeof i){const g=i.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===g)return t.push(`The provided timing value "${i}" is invalid.`),{duration:0,delay:0,easing:""};s=m_(parseFloat(g[1]),g[2]);const v=g[3];null!=v&&(c=m_(parseFloat(v),g[4]));const S=g[5];S&&(f=S)}else s=i;if(!e){let g=!1,v=t.length;s<0&&(t.push("Duration values below 0 are not allowed for this animation step."),g=!0),c<0&&(t.push("Delay values below 0 are not allowed for this animation step."),g=!0),g&&t.splice(v,0,`The provided timing value "${i}" is invalid.`)}return{duration:s,delay:c,easing:f}}(i,t,e)}function Fc(i,t={}){return Object.keys(i).forEach(e=>{t[e]=i[e]}),t}function uu(i,t,e={}){if(t)for(let o in i)e[o]=i[o];else Fc(i,e);return e}function iS(i,t,e){return e?t+":"+e+";":""}function v_(i){let t="";for(let e=0;e<i.style.length;e++){const o=i.style.item(e);t+=iS(0,o,i.style.getPropertyValue(o))}for(const e in i.style)i.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=iS(0,w_(e),i.style[e]));i.setAttribute("style",t)}function Ns(i,t,e){i.style&&(Object.keys(t).forEach(o=>{const s=b_(o);e&&!e.hasOwnProperty(o)&&(e[o]=i.style[s]),i.style[s]=t[o]}),xg()&&v_(i))}function lu(i,t){i.style&&(Object.keys(t).forEach(e=>{const o=b_(e);i.style[o]=""}),xg()&&v_(i))}function Lc(i){return Array.isArray(i)?1==i.length?i[0]:pl(i):i}const oS=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ng(i){let t=[];if("string"==typeof i){let e;for(;e=oS.exec(i);)t.push(e[1]);oS.lastIndex=0}return t}function Bg(i,t,e){const o=i.toString(),s=o.replace(oS,(c,f)=>{let g=t[f];return t.hasOwnProperty(f)||(e.push(`Please provide a value for the animation param ${f}`),g=""),g.toString()});return s==o?i:s}function __(i){const t=[];let e=i.next();for(;!e.done;)t.push(e.value),e=i.next();return t}const Qh=/-+([a-z0-9])/g;function b_(i){return i.replace(Qh,(...t)=>t[1].toUpperCase())}function w_(i){return i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Vg(i,t){return 0===i||0===t}function sS(i,t,e){const o=Object.keys(e);if(o.length&&t.length){let c=t[0],f=[];if(o.forEach(g=>{c.hasOwnProperty(g)||f.push(g),c[g]=e[g]}),f.length)for(var s=1;s<t.length;s++){let g=t[s];f.forEach(function(v){g[v]=Kh(i,v)})}}return t}function ki(i,t,e){switch(t.type){case 7:return i.visitTrigger(t,e);case 0:return i.visitState(t,e);case 1:return i.visitTransition(t,e);case 2:return i.visitSequence(t,e);case 3:return i.visitGroup(t,e);case 4:return i.visitAnimate(t,e);case 5:return i.visitKeyframes(t,e);case 6:return i.visitStyle(t,e);case 8:return i.visitReference(t,e);case 9:return i.visitAnimateChild(t,e);case 10:return i.visitAnimateRef(t,e);case 11:return i.visitQuery(t,e);case 12:return i.visitStagger(t,e);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function Kh(i,t){return window.getComputedStyle(i)[t]}function dO(i,t){const e=[];return"string"==typeof i?i.split(/\s*,\s*/).forEach(o=>function(i,t,e){if(":"==i[0]){const v=function(i,t){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,o)=>parseFloat(o)>parseFloat(e);case":decrement":return(e,o)=>parseFloat(o)<parseFloat(e);default:return t.push(`The transition alias value "${i}" is not supported`),"* => *"}}(i,e);if("function"==typeof v)return void t.push(v);i=v}const o=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==o||o.length<4)return e.push(`The provided transition expression "${i}" is not supported`),t;const s=o[1],c=o[2],f=o[3];t.push(S_(s,f));"<"==c[0]&&!("*"==s&&"*"==f)&&t.push(S_(f,s))}(o,e,t)):e.push(i),e}const Nc=new Set(["true","1"]),Xh=new Set(["false","0"]);function S_(i,t){const e=Nc.has(i)||Xh.has(i),o=Nc.has(t)||Xh.has(t);return(s,c)=>{let f="*"==i||i==s,g="*"==t||t==c;return!f&&e&&"boolean"==typeof s&&(f=s?Nc.has(i):Xh.has(i)),!g&&o&&"boolean"==typeof c&&(g=c?Nc.has(t):Xh.has(t)),f&&g}}const aS=new RegExp("s*:selfs*,?","g");function ef(i,t,e){return new A_(i).build(t,e)}class A_{constructor(t){this._driver=t}build(t,e){const o=new lS(e);return this._resetContextStyleTimingState(o),ki(this,Lc(t),o)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let o=e.queryCount=0,s=e.depCount=0;const c=[],f=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(g=>{if(this._resetContextStyleTimingState(e),0==g.type){const v=g,S=v.name;S.toString().split(/\s*,\s*/).forEach(W=>{v.name=W,c.push(this.visitState(v,e))}),v.name=S}else if(1==g.type){const v=this.visitTransition(g,e);o+=v.queryCount,s+=v.depCount,f.push(v)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:c,transitions:f,queryCount:o,depCount:s,options:null}}visitState(t,e){const o=this.visitStyle(t.styles,e),s=t.options&&t.options.params||null;if(o.containsDynamicStyles){const c=new Set,f=s||{};if(o.styles.forEach(g=>{if(tf(g)){const v=g;Object.keys(v).forEach(S=>{Ng(v[S]).forEach(W=>{f.hasOwnProperty(W)||c.add(W)})})}}),c.size){const g=__(c.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${g.join(", ")}`)}}return{type:0,name:t.name,style:o,options:s?{params:s}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const o=ki(this,Lc(t.animation),e);return{type:1,matchers:dO(t.expr,e.errors),animation:o,queryCount:e.queryCount,depCount:e.depCount,options:cu(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(o=>ki(this,o,e)),options:cu(t.options)}}visitGroup(t,e){const o=e.currentTime;let s=0;const c=t.steps.map(f=>{e.currentTime=o;const g=ki(this,f,e);return s=Math.max(s,e.currentTime),g});return e.currentTime=s,{type:3,steps:c,options:cu(t.options)}}visitAnimate(t,e){const o=function(i,t){let e=null;if(i.hasOwnProperty("duration"))e=i;else if("number"==typeof i)return Gg($h(i,t).duration,0,"");const o=i;if(o.split(/\s+/).some(c=>"{"==c.charAt(0)&&"{"==c.charAt(1))){const c=Gg(0,0,"");return c.dynamic=!0,c.strValue=o,c}return e=e||$h(o,t),Gg(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=o;let s,c=t.styles?t.styles:Er({});if(5==c.type)s=this.visitKeyframes(c,e);else{let f=t.styles,g=!1;if(!f){g=!0;const S={};o.easing&&(S.easing=o.easing),f=Er(S)}e.currentTime+=o.duration+o.delay;const v=this.visitStyle(f,e);v.isEmptyStep=g,s=v}return e.currentAnimateTimings=null,{type:4,timings:o,style:s,options:null}}visitStyle(t,e){const o=this._makeStyleAst(t,e);return this._validateStyleAst(o,e),o}_makeStyleAst(t,e){const o=[];Array.isArray(t.styles)?t.styles.forEach(f=>{"string"==typeof f?f==Ui?o.push(f):e.errors.push(`The provided style string value ${f} is not allowed.`):o.push(f)}):o.push(t.styles);let s=!1,c=null;return o.forEach(f=>{if(tf(f)){const g=f,v=g.easing;if(v&&(c=v,delete g.easing),!s)for(let S in g)if(g[S].toString().indexOf("{{")>=0){s=!0;break}}}),{type:6,styles:o,easing:c,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const o=e.currentAnimateTimings;let s=e.currentTime,c=e.currentTime;o&&c>0&&(c-=o.duration+o.delay),t.styles.forEach(f=>{"string"!=typeof f&&Object.keys(f).forEach(g=>{if(!this._driver.validateStyleProperty(g))return void e.errors.push(`The provided animation property "${g}" is not a supported CSS property for animations`);const v=e.collectedStyles[e.currentQuerySelector],S=v[g];let W=!0;S&&(c!=s&&c>=S.startTime&&s<=S.endTime&&(e.errors.push(`The CSS property "${g}" that exists between the times of "${S.startTime}ms" and "${S.endTime}ms" is also being animated in a parallel animation between the times of "${c}ms" and "${s}ms"`),W=!1),c=S.startTime),W&&(v[g]={startTime:c,endTime:s}),e.options&&function(i,t,e){const o=t.params||{},s=Ng(i);s.length&&s.forEach(c=>{o.hasOwnProperty(c)||e.push(`Unable to resolve the local animation param ${c} in the given list of values`)})}(f[g],e.options,e.errors)})})}visitKeyframes(t,e){const o={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),o;let c=0;const f=[];let g=!1,v=!1,S=0;const W=t.steps.map(vt=>{const At=this._makeStyleAst(vt,e);let Rt=null!=At.offset?At.offset:function(i){if("string"==typeof i)return null;let t=null;if(Array.isArray(i))i.forEach(e=>{if(tf(e)&&e.hasOwnProperty("offset")){const o=e;t=parseFloat(o.offset),delete o.offset}});else if(tf(i)&&i.hasOwnProperty("offset")){const e=i;t=parseFloat(e.offset),delete e.offset}return t}(At.styles),Ht=0;return null!=Rt&&(c++,Ht=At.offset=Rt),v=v||Ht<0||Ht>1,g=g||Ht<S,S=Ht,f.push(Ht),At});v&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),g&&e.errors.push("Please ensure that all keyframe offsets are in order");const pe=t.steps.length;let we=0;c>0&&c<pe?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==c&&(we=1/(pe-1));const Te=pe-1,Pe=e.currentTime,Ue=e.currentAnimateTimings,rt=Ue.duration;return W.forEach((vt,At)=>{const Rt=we>0?At==Te?1:we*At:f[At],Ht=Rt*rt;e.currentTime=Pe+Ue.delay+Ht,Ue.duration=Ht,this._validateStyleAst(vt,e),vt.offset=Rt,o.styles.push(vt)}),o}visitReference(t,e){return{type:8,animation:ki(this,Lc(t.animation),e),options:cu(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:cu(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:cu(t.options)}}visitQuery(t,e){const o=e.currentQuerySelector,s=t.options||{};e.queryCount++,e.currentQuery=t;const[c,f]=function(i){const t=!!i.split(/\s*,\s*/).find(e=>":self"==e);return t&&(i=i.replace(aS,"")),[i=i.replace(/@\*/g,Zh).replace(/@\w+/g,e=>Zh+"-"+e.substr(1)).replace(/:animating/g,Lg),t]}(t.selector);e.currentQuerySelector=o.length?o+" "+c:c,uo(e.collectedStyles,e.currentQuerySelector,{});const g=ki(this,Lc(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=o,{type:11,selector:c,limit:s.limit||0,optional:!!s.optional,includeSelf:f,animation:g,originalSelector:t.selector,options:cu(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const o="full"===t.timings?{duration:0,delay:0,easing:"full"}:$h(t.timings,e.errors,!0);return{type:12,animation:ki(this,Lc(t.animation),e),timings:o,options:null}}}class lS{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function tf(i){return!Array.isArray(i)&&"object"==typeof i}function cu(i){return i?(i=Fc(i)).params&&(i.params=function(i){return i?Fc(i):null}(i.params)):i={},i}function Gg(i,t,e){return{duration:i,delay:t,easing:e}}function nf(i,t,e,o,s,c,f=null,g=!1){return{type:1,element:i,keyframes:t,preStyleProps:e,postStyleProps:o,duration:s,delay:c,totalTime:s+c,easing:f,subTimeline:g}}class Bc{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let o=this._map.get(t);o||this._map.set(t,o=[]),o.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const hS=new RegExp(":enter","g"),pS=new RegExp(":leave","g");function jg(i,t,e,o,s,c={},f={},g,v,S=[]){return(new gS).buildKeyframes(i,t,e,o,s,c,f,g,v,S)}class gS{buildKeyframes(t,e,o,s,c,f,g,v,S,W=[]){S=S||new Bc;const pe=new mS(t,e,S,s,c,W,[]);pe.options=v,pe.currentTimeline.setStyles([f],null,pe.errors,v),ki(this,o,pe);const we=pe.timelines.filter(Te=>Te.containsAnimation());if(we.length&&Object.keys(g).length){const Te=we[we.length-1];Te.allowOnlyTimelineStyles()||Te.setStyles([g],null,pe.errors,v)}return we.length?we.map(Te=>Te.buildKeyframes()):[nf(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const o=e.subInstructions.consume(e.element);if(o){const s=e.createSubContext(t.options),c=e.currentTimeline.currentTime,f=this._visitSubInstructions(o,s,s.options);c!=f&&e.transformIntoNewTimeline(f)}e.previousNode=t}visitAnimateRef(t,e){const o=e.createSubContext(t.options);o.transformIntoNewTimeline(),this.visitReference(t.animation,o),e.transformIntoNewTimeline(o.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,o){let c=e.currentTimeline.currentTime;const f=null!=o.duration?Ls(o.duration):null,g=null!=o.delay?Ls(o.delay):null;return 0!==f&&t.forEach(v=>{const S=e.appendInstructionToTimeline(v,f,g);c=Math.max(c,S.duration+S.delay)}),c}visitReference(t,e){e.updateOptions(t.options,!0),ki(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const o=e.subContextCount;let s=e;const c=t.options;if(c&&(c.params||c.delay)&&(s=e.createSubContext(c),s.transformIntoNewTimeline(),null!=c.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=rf);const f=Ls(c.delay);s.delayNextStep(f)}t.steps.length&&(t.steps.forEach(f=>ki(this,f,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>o&&s.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const o=[];let s=e.currentTimeline.currentTime;const c=t.options&&t.options.delay?Ls(t.options.delay):0;t.steps.forEach(f=>{const g=e.createSubContext(t.options);c&&g.delayNextStep(c),ki(this,f,g),s=Math.max(s,g.currentTimeline.currentTime),o.push(g.currentTimeline)}),o.forEach(f=>e.currentTimeline.mergeTimelineCollectedStyles(f)),e.transformIntoNewTimeline(s),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const o=t.strValue;return $h(e.params?Bg(o,e.params,e.errors):o,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const o=e.currentAnimateTimings=this._visitTiming(t.timings,e),s=e.currentTimeline;o.delay&&(e.incrementTime(o.delay),s.snapshotCurrentStyles());const c=t.style;5==c.type?this.visitKeyframes(c,e):(e.incrementTime(o.duration),this.visitStyle(c,e),s.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const o=e.currentTimeline,s=e.currentAnimateTimings;!s&&o.getCurrentStyleProperties().length&&o.forwardFrame();const c=s&&s.easing||t.easing;t.isEmptyStep?o.applyEmptyStep(c):o.setStyles(t.styles,c,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const o=e.currentAnimateTimings,s=e.currentTimeline.duration,c=o.duration,g=e.createSubContext().currentTimeline;g.easing=o.easing,t.styles.forEach(v=>{g.forwardTime((v.offset||0)*c),g.setStyles(v.styles,v.easing,e.errors,e.options),g.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(g),e.transformIntoNewTimeline(s+c),e.previousNode=t}visitQuery(t,e){const o=e.currentTimeline.currentTime,s=t.options||{},c=s.delay?Ls(s.delay):0;c&&(6===e.previousNode.type||0==o&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=rf);let f=o;const g=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!s.optional,e.errors);e.currentQueryTotal=g.length;let v=null;g.forEach((S,W)=>{e.currentQueryIndex=W;const pe=e.createSubContext(t.options,S);c&&pe.delayNextStep(c),S===e.element&&(v=pe.currentTimeline),ki(this,t.animation,pe),pe.currentTimeline.applyStylesToKeyframe(),f=Math.max(f,pe.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(f),v&&(e.currentTimeline.mergeTimelineCollectedStyles(v),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const o=e.parentContext,s=e.currentTimeline,c=t.timings,f=Math.abs(c.duration),g=f*(e.currentQueryTotal-1);let v=f*e.currentQueryIndex;switch(c.duration<0?"reverse":c.easing){case"reverse":v=g-v;break;case"full":v=o.currentStaggerTime}const W=e.currentTimeline;v&&W.delayNextStep(v);const pe=W.currentTime;ki(this,t.animation,e),e.previousNode=t,o.currentStaggerTime=s.currentTime-pe+(s.startTime-o.currentTimeline.startTime)}}const rf={};class mS{constructor(t,e,o,s,c,f,g,v){this._driver=t,this.element=e,this.subInstructions=o,this._enterClassName=s,this._leaveClassName=c,this.errors=f,this.timelines=g,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=rf,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=v||new zg(this._driver,e,0),g.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const o=t;let s=this.options;null!=o.duration&&(s.duration=Ls(o.duration)),null!=o.delay&&(s.delay=Ls(o.delay));const c=o.params;if(c){let f=s.params;f||(f=this.options.params={}),Object.keys(c).forEach(g=>{(!e||!f.hasOwnProperty(g))&&(f[g]=Bg(c[g],f,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const o=t.params={};Object.keys(e).forEach(s=>{o[s]=e[s]})}}return t}createSubContext(t=null,e,o){const s=e||this.element,c=new mS(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,o||0));return c.previousNode=this.previousNode,c.currentAnimateTimings=this.currentAnimateTimings,c.options=this._copyOptions(),c.updateOptions(t),c.currentQueryIndex=this.currentQueryIndex,c.currentQueryTotal=this.currentQueryTotal,c.parentContext=this,this.subContextCount++,c}transformIntoNewTimeline(t){return this.previousNode=rf,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,o){const s={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=o?o:0)+t.delay,easing:""},c=new Ok(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,s,t.stretchStartingKeyframe);return this.timelines.push(c),s}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,o,s,c,f){let g=[];if(s&&g.push(this.element),t.length>0){t=(t=t.replace(hS,"."+this._enterClassName)).replace(pS,"."+this._leaveClassName);let S=this._driver.query(this.element,t,1!=o);0!==o&&(S=o<0?S.slice(S.length+o,S.length):S.slice(0,o)),g.push(...S)}return!c&&0==g.length&&f.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),g}}class zg{constructor(t,e,o,s){this._driver=t,this.element=e,this.startTime=o,this._elementTimelineStylesLookup=s,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new zg(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Ui,this._currentKeyframe[e]=Ui}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,o,s){e&&(this._previousKeyframe.easing=e);const c=s&&s.params||{},f=function(i,t){const e={};let o;return i.forEach(s=>{"*"===s?(o=o||Object.keys(t),o.forEach(c=>{e[c]=Ui})):uu(s,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(f).forEach(g=>{const v=Bg(f[g],c,o);this._pendingStyles[g]=v,this._localTimelineStyles.hasOwnProperty(g)||(this._backFill[g]=this._globalTimelineStyles.hasOwnProperty(g)?this._globalTimelineStyles[g]:Ui),this._updateStyle(g,v)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(o=>{this._currentKeyframe[o]=t[o]}),Object.keys(this._localTimelineStyles).forEach(o=>{this._currentKeyframe.hasOwnProperty(o)||(this._currentKeyframe[o]=this._localTimelineStyles[o])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const o=this._styleSummary[e],s=t._styleSummary[e];(!o||s.time>o.time)&&this._updateStyle(e,s.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,o=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((g,v)=>{const S=uu(g,!0);Object.keys(S).forEach(W=>{const pe=S[W];"!"==pe?t.add(W):pe==Ui&&e.add(W)}),o||(S.offset=v/this.duration),s.push(S)});const c=t.size?__(t.values()):[],f=e.size?__(e.values()):[];if(o){const g=s[0],v=Fc(g);g.offset=0,v.offset=1,s=[g,v]}return nf(this.element,s,c,f,this.duration,this.startTime,this.easing,!1)}}class Ok extends zg{constructor(t,e,o,s,c,f,g=!1){super(t,e,f.delay),this.keyframes=o,this.preStyleProps=s,this.postStyleProps=c,this._stretchStartingKeyframe=g,this.timings={duration:f.duration,delay:f.delay,easing:f.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:o,easing:s}=this.timings;if(this._stretchStartingKeyframe&&e){const c=[],f=o+e,g=e/f,v=uu(t[0],!1);v.offset=0,c.push(v);const S=uu(t[0],!1);S.offset=T_(g),c.push(S);const W=t.length-1;for(let pe=1;pe<=W;pe++){let we=uu(t[pe],!1);we.offset=T_((e+we.offset*o)/f),c.push(we)}o=f,e=0,s="",t=c}return nf(this.element,t,this.preStyleProps,this.postStyleProps,o,e,s,!0)}}function T_(i,t=3){const e=Math.pow(10,t-1);return Math.round(i*e)/e}class qg{}class Lk extends qg{normalizePropertyName(t,e){return b_(t)}normalizeStyleValue(t,e,o,s){let c="";const f=o.toString().trim();if(Bk[e]&&0!==o&&"0"!==o)if("number"==typeof o)c="px";else{const g=o.match(/^[+-]?[\d\.]+([a-z]*)$/);g&&0==g[1].length&&s.push(`Please provide a CSS unit value for ${t}:${o}`)}return f+c}}const Bk=(()=>function(i){const t={};return i.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function D_(i,t,e,o,s,c,f,g,v,S,W,pe,we){return{type:0,element:i,triggerName:t,isRemovalTransition:s,fromState:e,fromStyles:c,toState:o,toStyles:f,timelines:g,queriedElements:v,preStyleProps:S,postStyleProps:W,totalTime:pe,errors:we}}const du={};class yS{constructor(t,e,o){this._triggerName=t,this.ast=e,this._stateStyles=o}match(t,e,o,s){return function(i,t,e,o,s){return i.some(c=>c(t,e,o,s))}(this.ast.matchers,t,e,o,s)}buildStyles(t,e,o){const s=this._stateStyles["*"],c=this._stateStyles[t],f=s?s.buildStyles(e,o):{};return c?c.buildStyles(e,o):f}build(t,e,o,s,c,f,g,v,S,W){const pe=[],we=this.ast.options&&this.ast.options.params||du,Pe=this.buildStyles(o,g&&g.params||du,pe),Ue=v&&v.params||du,rt=this.buildStyles(s,Ue,pe),vt=new Set,At=new Map,Rt=new Map,Ht="void"===s,jt={params:Object.assign(Object.assign({},we),Ue)},cn=W?[]:jg(t,e,this.ast.animation,c,f,Pe,rt,jt,S,pe);let kn=0;if(cn.forEach(nr=>{kn=Math.max(nr.duration+nr.delay,kn)}),pe.length)return D_(e,this._triggerName,o,s,Ht,Pe,rt,[],[],At,Rt,kn,pe);cn.forEach(nr=>{const Qs=nr.element,sw=uo(At,Qs,{});nr.preStyleProps.forEach(bp=>sw[bp]=!0);const aw=uo(Rt,Qs,{});nr.postStyleProps.forEach(bp=>aw[bp]=!0),Qs!==e&&vt.add(Qs)});const hi=__(vt.values());return D_(e,this._triggerName,o,s,Ht,Pe,rt,cn,hi,At,Rt,kn)}}class _S{constructor(t,e,o){this.styles=t,this.defaultParams=e,this.normalizer=o}buildStyles(t,e){const o={},s=Fc(this.defaultParams);return Object.keys(t).forEach(c=>{const f=t[c];null!=f&&(s[c]=f)}),this.styles.styles.forEach(c=>{if("string"!=typeof c){const f=c;Object.keys(f).forEach(g=>{let v=f[g];v.length>1&&(v=Bg(v,s,e));const S=this.normalizer.normalizePropertyName(g,e);v=this.normalizer.normalizeStyleValue(g,S,v,e),o[S]=v})}}),o}}class bS{constructor(t,e,o){this.name=t,this.ast=e,this._normalizer=o,this.transitionFactories=[],this.states={},e.states.forEach(s=>{this.states[s.name]=new _S(s.style,s.options&&s.options.params||{},o)}),Wg(this.states,"true","1"),Wg(this.states,"false","0"),e.transitions.forEach(s=>{this.transitionFactories.push(new yS(t,s,this.states))}),this.fallbackTransition=function(i,t,e){return new yS(i,{type:1,animation:{type:2,steps:[],options:null},matchers:[(f,g)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,o,s){return this.transitionFactories.find(f=>f.match(t,e,o,s))||null}matchStyles(t,e,o){return this.fallbackTransition.buildStyles(t,e,o)}}function Wg(i,t,e){i.hasOwnProperty(t)?i.hasOwnProperty(e)||(i[e]=i[t]):i.hasOwnProperty(e)&&(i[t]=i[e])}const M_=new Bc;class Bs{constructor(t,e,o){this.bodyNode=t,this._driver=e,this._normalizer=o,this._animations={},this._playersById={},this.players=[]}register(t,e){const o=[],s=ef(this._driver,e,o);if(o.length)throw new Error(`Unable to build the animation due to the following errors: ${o.join("\n")}`);this._animations[t]=s}_buildPlayer(t,e,o){const s=t.element,c=o_(0,this._normalizer,0,t.keyframes,e,o);return this._driver.animate(s,c,t.duration,t.delay,t.easing,[],!0)}create(t,e,o={}){const s=[],c=this._animations[t];let f;const g=new Map;if(c?(f=jg(this._driver,e,c,Og,g_,{},{},o,M_,s),f.forEach(W=>{const pe=uo(g,W.element,{});W.postStyleProps.forEach(we=>pe[we]=null)})):(s.push("The requested animation doesn't exist or has already been destroyed"),f=[]),s.length)throw new Error(`Unable to create the animation due to the following errors: ${s.join("\n")}`);g.forEach((W,pe)=>{Object.keys(W).forEach(we=>{W[we]=this._driver.computeStyle(pe,we,Ui)})});const S=au(f.map(W=>{const pe=g.get(W.element);return this._buildPlayer(W,{},pe)}));return this._playersById[t]=S,S.onDestroy(()=>this.destroy(t)),this.players.push(S),S}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const o=this.players.indexOf(e);o>=0&&this.players.splice(o,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,o,s){const c=eS(e,"","","");return Ig(this._getPlayer(t),o,c,s),()=>{}}command(t,e,o,s){if("register"==o)return void this.register(t,s[0]);if("create"==o)return void this.create(t,e,s[0]||{});const c=this._getPlayer(t);switch(o){case"play":c.play();break;case"pause":c.pause();break;case"reset":c.reset();break;case"restart":c.restart();break;case"finish":c.finish();break;case"init":c.init();break;case"setPosition":c.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(t)}}}const wS="ng-animate-queued",us="ng-animate-disabled",Po=".ng-animate-disabled",SS=[],AS={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Gk={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Oo="__ng_removed";class k_{constructor(t,e=""){this.namespaceId=e;const o=t&&t.hasOwnProperty("value");if(this.value=null!=(i=o?t.value:t)?i:null,o){const c=Fc(t);delete c.value,this.options=c}else this.options={};var i;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const o=this.options.params;Object.keys(e).forEach(s=>{null==o[s]&&(o[s]=e[s])})}}}const ml="void",vl=new k_(ml);class jk{constructor(t,e,o){this.id=t,this.hostElement=e,this._engine=o,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,lo(e,this._hostClassName)}listen(t,e,o,s){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${o}" because the animation trigger "${e}" doesn't exist!`);if(null==o||0==o.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=o)&&"done"!=i)throw new Error(`The provided animation trigger event "${o}" for the animation trigger "${e}" is not supported!`);var i;const c=uo(this._elementListeners,t,[]),f={name:e,phase:o,callback:s};c.push(f);const g=uo(this._engine.statesByElement,t,{});return g.hasOwnProperty(e)||(lo(t,Fg),lo(t,Fg+"-"+e),g[e]=vl),()=>{this._engine.afterFlush(()=>{const v=c.indexOf(f);v>=0&&c.splice(v,1),this._triggers[e]||delete g[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,o,s=!0){const c=this._getTrigger(e),f=new R_(this.id,e,t);let g=this._engine.statesByElement.get(t);g||(lo(t,Fg),lo(t,Fg+"-"+e),this._engine.statesByElement.set(t,g={}));let v=g[e];const S=new k_(o,this.id);if(!(o&&o.hasOwnProperty("value"))&&v&&S.absorbOptions(v.options),g[e]=S,v||(v=vl),S.value!==ml&&v.value===S.value){if(!function(i,t){const e=Object.keys(i),o=Object.keys(t);if(e.length!=o.length)return!1;for(let s=0;s<e.length;s++){const c=e[s];if(!t.hasOwnProperty(c)||i[c]!==t[c])return!1}return!0}(v.params,S.params)){const Ue=[],rt=c.matchStyles(v.value,v.params,Ue),vt=c.matchStyles(S.value,S.params,Ue);Ue.length?this._engine.reportError(Ue):this._engine.afterFlush(()=>{lu(t,rt),Ns(t,vt)})}return}const we=uo(this._engine.playersByElement,t,[]);we.forEach(Ue=>{Ue.namespaceId==this.id&&Ue.triggerName==e&&Ue.queued&&Ue.destroy()});let Te=c.matchTransition(v.value,S.value,t,S.params),Pe=!1;if(!Te){if(!s)return;Te=c.fallbackTransition,Pe=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:Te,fromState:v,toState:S,player:f,isFallbackTransition:Pe}),Pe||(lo(t,wS),f.onStart(()=>{bl(t,wS)})),f.onDone(()=>{let Ue=this.players.indexOf(f);Ue>=0&&this.players.splice(Ue,1);const rt=this._engine.playersByElement.get(t);if(rt){let vt=rt.indexOf(f);vt>=0&&rt.splice(vt,1)}}),this.players.push(f),we.push(f),f}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,o)=>{delete e[t]}),this._elementListeners.forEach((e,o)=>{this._elementListeners.set(o,e.filter(s=>s.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(o=>o.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const o=this._engine.driver.query(t,Zh,!0);o.forEach(s=>{if(s[Oo])return;const c=this._engine.fetchNamespacesByElement(s);c.size?c.forEach(f=>f.triggerLeaveAnimation(s,e,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>o.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(t,e,o,s){const c=this._engine.statesByElement.get(t);if(c){const f=[];if(Object.keys(c).forEach(g=>{if(this._triggers[g]){const v=this.trigger(t,g,ml,s);v&&f.push(v)}}),f.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),o&&au(f).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),o=this._engine.statesByElement.get(t);if(e&&o){const s=new Set;e.forEach(c=>{const f=c.name;if(s.has(f))return;s.add(f);const v=this._triggers[f].fallbackTransition,S=o[f]||vl,W=new k_(ml),pe=new R_(this.id,f,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:f,transition:v,fromState:S,toState:W,player:pe,isFallbackTransition:!0})})}}removeNode(t,e){const o=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let s=!1;if(o.totalAnimations){const c=o.players.length?o.playersByQueriedElement.get(t):[];if(c&&c.length)s=!0;else{let f=t;for(;f=f.parentNode;)if(o.statesByElement.get(f)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(t),s)o.markElementAsRemoved(this.id,t,!1,e);else{const c=t[Oo];(!c||c===AS)&&(o.afterFlush(()=>this.clearElementCache(t)),o.destroyInnerAnimations(t),o._onRemovalComplete(t,e))}}insertNode(t,e){lo(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(o=>{const s=o.player;if(s.destroyed)return;const c=o.element,f=this._elementListeners.get(c);f&&f.forEach(g=>{if(g.name==o.triggerName){const v=eS(c,o.triggerName,o.fromState.value,o.toState.value);v._data=t,Ig(o.player,g.phase,v,g.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):e.push(o)}),this._queue=[],e.sort((o,s)=>{const c=o.transition.ast.depCount,f=s.transition.ast.depCount;return 0==c||0==f?c-f:this._engine.driver.containsElement(o.element,s.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(o=>o.element===t)||e,e}}class ES{constructor(t,e,o){this.bodyNode=t,this.driver=e,this._normalizer=o,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,c)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(o=>{o.queued&&t.push(o)})}),t}createNamespace(t,e){const o=new jk(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(o,e):(this.newHostElements.set(e,o),this.collectEnterElement(e)),this._namespaceLookup[t]=o}_balanceNamespaceList(t,e){const o=this._namespaceList.length-1;if(o>=0){let s=!1;for(let c=o;c>=0;c--)if(this.driver.containsElement(this._namespaceList[c].hostElement,e)){this._namespaceList.splice(c+1,0,t),s=!0;break}s||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let o=this._namespaceLookup[t];return o||(o=this.createNamespace(t,e)),o}registerTrigger(t,e,o){let s=this._namespaceLookup[t];s&&s.register(e,o)&&this.totalAnimations++}destroy(t,e){if(!t)return;const o=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(o.hostElement),delete this._namespaceLookup[t];const s=this._namespaceList.indexOf(o);s>=0&&this._namespaceList.splice(s,1)}),this.afterFlushAnimationsDone(()=>o.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,o=this.statesByElement.get(t);if(o){const s=Object.keys(o);for(let c=0;c<s.length;c++){const f=o[s[c]].namespaceId;if(f){const g=this._fetchNamespace(f);g&&e.add(g)}}}return e}trigger(t,e,o,s){if(yl(e)){const c=this._fetchNamespace(t);if(c)return c.trigger(e,o,s),!0}return!1}insertNode(t,e,o,s){if(!yl(e))return;const c=e[Oo];if(c&&c.setForRemoval){c.setForRemoval=!1,c.setForMove=!0;const f=this.collectedLeaveElements.indexOf(e);f>=0&&this.collectedLeaveElements.splice(f,1)}if(t){const f=this._fetchNamespace(t);f&&f.insertNode(e,o)}s&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),lo(t,us)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),bl(t,us))}removeNode(t,e,o,s){if(yl(e)){const c=t?this._fetchNamespace(t):null;if(c?c.removeNode(e,s):this.markElementAsRemoved(t,e,!1,s),o){const f=this.namespacesByHostElement.get(e);f&&f.id!==t&&f.removeNode(e,s)}}else this._onRemovalComplete(e,s)}markElementAsRemoved(t,e,o,s){this.collectedLeaveElements.push(e),e[Oo]={namespaceId:t,setForRemoval:s,hasAnimation:o,removedBeforeQueried:!1}}listen(t,e,o,s,c){return yl(e)?this._fetchNamespace(t).listen(e,o,s,c):()=>{}}_buildInstruction(t,e,o,s,c){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,o,s,t.fromState.options,t.toState.options,e,c)}destroyInnerAnimations(t){let e=this.driver.query(t,Zh,!0);e.forEach(o=>this.destroyActiveAnimationsForElement(o)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Lg,!0),e.forEach(o=>this.finishActiveQueriedAnimationOnElement(o)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(o=>{o.queued?o.markedForDestroy=!0:o.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(o=>o.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return au(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Oo];if(e&&e.setForRemoval){if(t[Oo]=AS,e.namespaceId){this.destroyInnerAnimations(t);const o=this._fetchNamespace(e.namespaceId);o&&o.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,Po)&&this.markElementAsDisabled(t,!1),this.driver.query(t,Po,!0).forEach(o=>{this.markElementAsDisabled(o,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((o,s)=>this._balanceNamespaceList(o,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let o=0;o<this.collectedEnterElements.length;o++)lo(this.collectedEnterElements[o],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const o=[];try{e=this._flushAnimations(o,t)}finally{for(let s=0;s<o.length;s++)o[s]()}}else for(let o=0;o<this.collectedLeaveElements.length;o++)this.processLeaveNode(this.collectedLeaveElements[o]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(o=>o()),this._flushFns=[],this._whenQuietFns.length){const o=this._whenQuietFns;this._whenQuietFns=[],e.length?au(e).onDone(()=>{o.forEach(s=>s())}):o.forEach(s=>s())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const o=new Bc,s=[],c=new Map,f=[],g=new Map,v=new Map,S=new Map,W=new Set;this.disabledNodes.forEach(Zt=>{W.add(Zt);const an=this.driver.query(Zt,".ng-animate-queued",!0);for(let _n=0;_n<an.length;_n++)W.add(an[_n])});const pe=this.bodyNode,we=Array.from(this.statesByElement.keys()),Te=Yg(we,this.collectedEnterElements),Pe=new Map;let Ue=0;Te.forEach((Zt,an)=>{const _n=Og+Ue++;Pe.set(an,_n),Zt.forEach(Vn=>lo(Vn,_n))});const rt=[],vt=new Set,At=new Set;for(let Zt=0;Zt<this.collectedLeaveElements.length;Zt++){const an=this.collectedLeaveElements[Zt],_n=an[Oo];_n&&_n.setForRemoval&&(rt.push(an),vt.add(an),_n.hasAnimation?this.driver.query(an,".ng-star-inserted",!0).forEach(Vn=>vt.add(Vn)):At.add(an))}const Rt=new Map,Ht=Yg(we,Array.from(vt));Ht.forEach((Zt,an)=>{const _n=g_+Ue++;Rt.set(an,_n),Zt.forEach(Vn=>lo(Vn,_n))}),t.push(()=>{Te.forEach((Zt,an)=>{const _n=Pe.get(an);Zt.forEach(Vn=>bl(Vn,_n))}),Ht.forEach((Zt,an)=>{const _n=Rt.get(an);Zt.forEach(Vn=>bl(Vn,_n))}),rt.forEach(Zt=>{this.processLeaveNode(Zt)})});const jt=[],cn=[];for(let Zt=this._namespaceList.length-1;Zt>=0;Zt--)this._namespaceList[Zt].drainQueuedTransitions(e).forEach(_n=>{const Vn=_n.player,Ci=_n.element;if(jt.push(Vn),this.collectedEnterElements.length){const Lu=Ci[Oo];if(Lu&&Lu.setForMove)return void Vn.destroy()}const Fu=!pe||!this.driver.containsElement(pe,Ci),ms=Rt.get(Ci),Zd=Pe.get(Ci),Rr=this._buildInstruction(_n,o,Zd,ms,Fu);if(Rr.errors&&Rr.errors.length)cn.push(Rr);else{if(Fu)return Vn.onStart(()=>lu(Ci,Rr.fromStyles)),Vn.onDestroy(()=>Ns(Ci,Rr.toStyles)),void s.push(Vn);if(_n.isFallbackTransition)return Vn.onStart(()=>lu(Ci,Rr.fromStyles)),Vn.onDestroy(()=>Ns(Ci,Rr.toStyles)),void s.push(Vn);Rr.timelines.forEach(Lu=>Lu.stretchStartingKeyframe=!0),o.append(Ci,Rr.timelines),f.push({instruction:Rr,player:Vn,element:Ci}),Rr.queriedElements.forEach(Lu=>uo(g,Lu,[]).push(Vn)),Rr.preStyleProps.forEach((Lu,uw)=>{const DD=Object.keys(Lu);if(DD.length){let wp=v.get(uw);wp||v.set(uw,wp=new Set),DD.forEach(YI=>wp.add(YI))}}),Rr.postStyleProps.forEach((Lu,uw)=>{const DD=Object.keys(Lu);let wp=S.get(uw);wp||S.set(uw,wp=new Set),DD.forEach(YI=>wp.add(YI))})}});if(cn.length){const Zt=[];cn.forEach(an=>{Zt.push(`@${an.triggerName} has failed due to:\n`),an.errors.forEach(_n=>Zt.push(`- ${_n}\n`))}),jt.forEach(an=>an.destroy()),this.reportError(Zt)}const kn=new Map,hi=new Map;f.forEach(Zt=>{const an=Zt.element;o.has(an)&&(hi.set(an,an),this._beforeAnimationBuild(Zt.player.namespaceId,Zt.instruction,kn))}),s.forEach(Zt=>{const an=Zt.element;this._getPreviousPlayers(an,!1,Zt.namespaceId,Zt.triggerName,null).forEach(Vn=>{uo(kn,an,[]).push(Vn),Vn.destroy()})});const nr=rt.filter(Zt=>O_(Zt,v,S)),Qs=new Map;I_(Qs,this.driver,At,S,Ui).forEach(Zt=>{O_(Zt,v,S)&&nr.push(Zt)});const aw=new Map;Te.forEach((Zt,an)=>{I_(aw,this.driver,new Set(Zt),v,"!")}),nr.forEach(Zt=>{const an=Qs.get(Zt),_n=aw.get(Zt);Qs.set(Zt,Object.assign(Object.assign({},an),_n))});const bp=[],xB=[],IB={};f.forEach(Zt=>{const{element:an,player:_n,instruction:Vn}=Zt;if(o.has(an)){if(W.has(an))return _n.onDestroy(()=>Ns(an,Vn.toStyles)),_n.disabled=!0,_n.overrideTotalTime(Vn.totalTime),void s.push(_n);let Ci=IB;if(hi.size>1){let ms=an;const Zd=[];for(;ms=ms.parentNode;){const Rr=hi.get(ms);if(Rr){Ci=Rr;break}Zd.push(ms)}Zd.forEach(Rr=>hi.set(Rr,Ci))}const Fu=this._buildAnimation(_n.namespaceId,Vn,kn,c,aw,Qs);if(_n.setRealPlayer(Fu),Ci===IB)bp.push(_n);else{const ms=this.playersByElement.get(Ci);ms&&ms.length&&(_n.parentPlayer=au(ms)),s.push(_n)}}else lu(an,Vn.fromStyles),_n.onDestroy(()=>Ns(an,Vn.toStyles)),xB.push(_n),W.has(an)&&s.push(_n)}),xB.forEach(Zt=>{const an=c.get(Zt.element);if(an&&an.length){const _n=au(an);Zt.setRealPlayer(_n)}}),s.forEach(Zt=>{Zt.parentPlayer?Zt.syncPlayerEvents(Zt.parentPlayer):Zt.destroy()});for(let Zt=0;Zt<rt.length;Zt++){const an=rt[Zt],_n=an[Oo];if(bl(an,g_),_n&&_n.hasAnimation)continue;let Vn=[];if(g.size){let Fu=g.get(an);Fu&&Fu.length&&Vn.push(...Fu);let ms=this.driver.query(an,Lg,!0);for(let Zd=0;Zd<ms.length;Zd++){let Rr=g.get(ms[Zd]);Rr&&Rr.length&&Vn.push(...Rr)}}const Ci=Vn.filter(Fu=>!Fu.destroyed);Ci.length?kS(this,an,Ci):this.processLeaveNode(an)}return rt.length=0,bp.forEach(Zt=>{this.players.push(Zt),Zt.onDone(()=>{Zt.destroy();const an=this.players.indexOf(Zt);this.players.splice(an,1)}),Zt.play()}),bp}elementContainsData(t,e){let o=!1;const s=e[Oo];return s&&s.setForRemoval&&(o=!0),this.playersByElement.has(e)&&(o=!0),this.playersByQueriedElement.has(e)&&(o=!0),this.statesByElement.has(e)&&(o=!0),this._fetchNamespace(t).elementContainsData(e)||o}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,o,s,c){let f=[];if(e){const g=this.playersByQueriedElement.get(t);g&&(f=g)}else{const g=this.playersByElement.get(t);if(g){const v=!c||c==ml;g.forEach(S=>{S.queued||!v&&S.triggerName!=s||f.push(S)})}}return(o||s)&&(f=f.filter(g=>!(o&&o!=g.namespaceId||s&&s!=g.triggerName))),f}_beforeAnimationBuild(t,e,o){const c=e.element,f=e.isRemovalTransition?void 0:t,g=e.isRemovalTransition?void 0:e.triggerName;for(const v of e.timelines){const S=v.element,W=S!==c,pe=uo(o,S,[]);this._getPreviousPlayers(S,W,f,g,e.toState).forEach(Te=>{const Pe=Te.getRealPlayer();Pe.beforeDestroy&&Pe.beforeDestroy(),Te.destroy(),pe.push(Te)})}lu(c,e.fromStyles)}_buildAnimation(t,e,o,s,c,f){const g=e.triggerName,v=e.element,S=[],W=new Set,pe=new Set,we=e.timelines.map(Pe=>{const Ue=Pe.element;W.add(Ue);const rt=Ue[Oo];if(rt&&rt.removedBeforeQueried)return new gl(Pe.duration,Pe.delay);const vt=Ue!==v,At=function(i){const t=[];return P_(i,t),t}((o.get(Ue)||SS).map(kn=>kn.getRealPlayer())).filter(kn=>!!kn.element&&kn.element===Ue),Rt=c.get(Ue),Ht=f.get(Ue),jt=o_(0,this._normalizer,0,Pe.keyframes,Rt,Ht),cn=this._buildPlayer(Pe,jt,At);if(Pe.subTimeline&&s&&pe.add(Ue),vt){const kn=new R_(t,g,Ue);kn.setRealPlayer(cn),S.push(kn)}return cn});S.forEach(Pe=>{uo(this.playersByQueriedElement,Pe.element,[]).push(Pe),Pe.onDone(()=>function(i,t,e){let o;if(i instanceof Map){if(o=i.get(t),o){if(o.length){const s=o.indexOf(e);o.splice(s,1)}0==o.length&&i.delete(t)}}else if(o=i[t],o){if(o.length){const s=o.indexOf(e);o.splice(s,1)}0==o.length&&delete i[t]}return o}(this.playersByQueriedElement,Pe.element,Pe))}),W.forEach(Pe=>lo(Pe,nS));const Te=au(we);return Te.onDestroy(()=>{W.forEach(Pe=>bl(Pe,nS)),Ns(v,e.toStyles)}),pe.forEach(Pe=>{uo(s,Pe,[]).push(Te)}),Te}_buildPlayer(t,e,o){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,o):new gl(t.duration,t.delay)}}class R_{constructor(t,e,o){this.namespaceId=t,this.triggerName=e,this.element=o,this._player=new gl,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(o=>Ig(t,e,void 0,o))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){uo(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function yl(i){return i&&1===i.nodeType}function x_(i,t){const e=i.style.display;return i.style.display=null!=t?t:"none",e}function I_(i,t,e,o,s){const c=[];e.forEach(v=>c.push(x_(v)));const f=[];o.forEach((v,S)=>{const W={};v.forEach(pe=>{const we=W[pe]=t.computeStyle(S,pe,s);(!we||0==we.length)&&(S[Oo]=Gk,f.push(S))}),i.set(S,W)});let g=0;return e.forEach(v=>x_(v,c[g++])),f}function Yg(i,t){const e=new Map;if(i.forEach(g=>e.set(g,[])),0==t.length)return e;const s=new Set(t),c=new Map;function f(g){if(!g)return 1;let v=c.get(g);if(v)return v;const S=g.parentNode;return v=e.has(S)?S:s.has(S)?1:f(S),c.set(g,v),v}return t.forEach(g=>{const v=f(g);1!==v&&e.get(v).push(g)}),e}const _l="$$classes";function lo(i,t){if(i.classList)i.classList.add(t);else{let e=i[_l];e||(e=i[_l]={}),e[t]=!0}}function bl(i,t){if(i.classList)i.classList.remove(t);else{let e=i[_l];e&&delete e[t]}}function kS(i,t,e){au(e).onDone(()=>i.processLeaveNode(t))}function P_(i,t){for(let e=0;e<i.length;e++){const o=i[e];o instanceof i_?P_(o.players,t):t.push(o)}}function O_(i,t,e){const o=e.get(i);if(!o)return!1;let s=t.get(i);return s?o.forEach(c=>s.add(c)):t.set(i,o),e.delete(i),!0}class Zg{constructor(t,e,o){this.bodyNode=t,this._driver=e,this._normalizer=o,this._triggerCache={},this.onRemovalComplete=(s,c)=>{},this._transitionEngine=new ES(t,e,o),this._timelineEngine=new Bs(t,e,o),this._transitionEngine.onRemovalComplete=(s,c)=>this.onRemovalComplete(s,c)}registerTrigger(t,e,o,s,c){const f=t+"-"+s;let g=this._triggerCache[f];if(!g){const v=[],S=ef(this._driver,c,v);if(v.length)throw new Error(`The animation trigger "${s}" has failed to build due to the following errors:\n - ${v.join("\n - ")}`);g=function(i,t,e){return new bS(i,t,e)}(s,S,this._normalizer),this._triggerCache[f]=g}this._transitionEngine.registerTrigger(e,s,g)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,o,s){this._transitionEngine.insertNode(t,e,o,s)}onRemove(t,e,o,s){this._transitionEngine.removeNode(t,e,s||!1,o)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,o,s){if("@"==o.charAt(0)){const[c,f]=a_(o);this._timelineEngine.command(c,e,f,s)}else this._transitionEngine.trigger(t,e,o,s)}listen(t,e,o,s,c){if("@"==o.charAt(0)){const[f,g]=a_(o);return this._timelineEngine.listen(f,e,g,c)}return this._transitionEngine.listen(t,e,o,s,c)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function IS(i,t){let e=null,o=null;return Array.isArray(t)&&t.length?(e=F_(t[0]),t.length>1&&(o=F_(t[t.length-1]))):t&&(e=F_(t)),e||o?new Vc(i,e,o):null}class Vc{constructor(t,e,o){this._element=t,this._startStyles=e,this._endStyles=o,this._state=0;let s=Vc.initialStylesByElement.get(t);s||Vc.initialStylesByElement.set(t,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Ns(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ns(this._element,this._initialStyles),this._endStyles&&(Ns(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Vc.initialStylesByElement.delete(this._element),this._startStyles&&(lu(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(lu(this._element,this._endStyles),this._endStyles=null),Ns(this._element,this._initialStyles),this._state=3)}}function F_(i){let t=null;const e=Object.keys(i);for(let o=0;o<e.length;o++){const s=e[o];qk(s)&&(t=t||{},t[s]=i[s])}return t}function qk(i){return"display"===i||"position"===i}Vc.initialStylesByElement=new WeakMap;const PS="animation",OS="animationend";class Zk{constructor(t,e,o,s,c,f,g){this._element=t,this._name=e,this._duration=o,this._delay=s,this._easing=c,this._fillMode=f,this._onDoneFn=g,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=v=>this._handleCallback(v)}apply(){(function(i,t){const e=N_(i,"").trim();let o=0;e.length&&(function(i,t){let e=0;for(let o=0;o<i.length;o++)","===i.charAt(o)&&e++;return e}(e)+1,t=`${e}, ${t}`),$g(i,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),NS(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){FS(this._element,this._name,"paused")}resume(){FS(this._element,this._name,"running")}setPosition(t){const e=LS(this._element,this._name);this._position=t*this._duration,$g(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),o=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&o>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),NS(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(i,t){const o=N_(i,"").split(","),s=L_(o,t);s>=0&&(o.splice(s,1),$g(i,"",o.join(",")))}(this._element,this._name))}}function FS(i,t,e){$g(i,"PlayState",e,LS(i,t))}function LS(i,t){const e=N_(i,"");return e.indexOf(",")>0?L_(e.split(","),t):L_([e],t)}function L_(i,t){for(let e=0;e<i.length;e++)if(i[e].indexOf(t)>=0)return e;return-1}function NS(i,t,e){e?i.removeEventListener(OS,t):i.addEventListener(OS,t)}function $g(i,t,e,o){const s=PS+t;if(null!=o){const c=i.style[s];if(c.length){const f=c.split(",");f[o]=e,e=f.join(",")}}i.style[s]=e}function N_(i,t){return i.style[PS+t]||""}class B_{constructor(t,e,o,s,c,f,g,v){this.element=t,this.keyframes=e,this.animationName=o,this._duration=s,this._delay=c,this._finalStyles=g,this._specialStyles=v,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=f||"linear",this.totalTime=s+c,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Zk(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(o=>o()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(o=>{"offset"!=o&&(t[o]=e?this._finalStyles[o]:Kh(this.element,o))})}this.currentSnapshot=t}}class HS extends gl{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=Pg(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class U_{constructor(){this._count=0}validateStyleProperty(t){return d_(t)}matchesElement(t,e){return h_(t,e)}containsElement(t,e){return f_(t,e)}query(t,e,o){return Wh(t,e,o)}computeStyle(t,e,o){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,o){o=o.map(g=>Pg(g));let s=`@keyframes ${e} {\n`,c="";o.forEach(g=>{c=" ";const v=parseFloat(g.offset);s+=`${c}${100*v}% {\n`,c+=" ",Object.keys(g).forEach(S=>{const W=g[S];switch(S){case"offset":return;case"easing":return void(W&&(s+=`${c}animation-timing-function: ${W};\n`));default:return void(s+=`${c}${S}: ${W};\n`)}}),s+=`${c}}\n`}),s+="}\n";const f=document.createElement("style");return f.textContent=s,f}animate(t,e,o,s,c,f=[],g){const v=f.filter(rt=>rt instanceof B_),S={};Vg(o,s)&&v.forEach(rt=>{let vt=rt.currentSnapshot;Object.keys(vt).forEach(At=>S[At]=vt[At])});const W=function(i){let t={};return i&&(Array.isArray(i)?i:[i]).forEach(o=>{Object.keys(o).forEach(s=>{"offset"==s||"easing"==s||(t[s]=o[s])})}),t}(e=sS(t,e,S));if(0==o)return new HS(t,W);const pe="gen_css_kf_"+this._count++,we=this.buildKeyframeElement(t,pe,e);(function(i){var t;const e=null===(t=i.getRootNode)||void 0===t?void 0:t.call(i);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(t).appendChild(we);const Pe=IS(t,e),Ue=new B_(t,e,pe,o,s,c,W,Pe);return Ue.onDestroy(()=>{var i;(i=we).parentNode.removeChild(i)}),Ue}}class zS{constructor(t,e,o,s){this.element=t,this.keyframes=e,this.options=o,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=o.duration,this._delay=o.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,o){return t.animate(e,o)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:Kh(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(o=>o()),e.length=0}}class Uc{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Qg().toString()),this._cssKeyframesDriver=new U_}validateStyleProperty(t){return d_(t)}matchesElement(t,e){return h_(t,e)}containsElement(t,e){return f_(t,e)}query(t,e,o){return Wh(t,e,o)}computeStyle(t,e,o){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,o,s,c,f=[],g){if(!g&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,o,s,c,f);const W={duration:o,delay:s,fill:0==s?"both":"forwards"};c&&(W.easing=c);const pe={},we=f.filter(Pe=>Pe instanceof zS);Vg(o,s)&&we.forEach(Pe=>{let Ue=Pe.currentSnapshot;Object.keys(Ue).forEach(rt=>pe[rt]=Ue[rt])});const Te=IS(t,e=sS(t,e=e.map(Pe=>uu(Pe,!1)),pe));return new zS(t,e,W,Te)}}function Qg(){return XC()&&Element.prototype.animate||{}}let mO=(()=>{class i extends oo{constructor(e,o){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(o.body,{id:"0",encapsulation:a.ifc.None,styles:[],data:{animation:[]}})}build(e){const o=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(e)?pl(e):e;return Kk(this._renderer,null,o,"register",[s]),new qS(o,this._renderer)}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(a.FYo),a.LFG(J))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})();class qS extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new WS(this._id,t,e||{},this._renderer)}}class WS{constructor(t,e,o,s){this.id=t,this.element=e,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",o)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Kk(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function Kk(i,t,e,o,s){return i.setProperty(t,`@@${e}:${o}`,s)}const YS="@.disabled";let Jk=(()=>{class i{constructor(e,o,s){this.delegate=e,this.engine=o,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),o.onRemovalComplete=(c,f)=>{f&&f.parentNode(c)&&f.removeChild(c.parentNode,c)}}createRenderer(e,o){const c=this.delegate.createRenderer(e,o);if(!(e&&o&&o.data&&o.data.animation)){let W=this._rendererCache.get(c);return W||(W=new ZS("",c,this.engine),this._rendererCache.set(c,W)),W}const f=o.id,g=o.id+"-"+this._currentId;this._currentId++,this.engine.register(g,e);const v=W=>{Array.isArray(W)?W.forEach(v):this.engine.registerTrigger(f,g,e,W.name,W)};return o.data.animation.forEach(v),new Kg(this,g,c,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,o,s){e>=0&&e<this._microtaskId?this._zone.run(()=>o(s)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(c=>{const[f,g]=c;f(g)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([o,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(a.FYo),a.LFG(Zg),a.LFG(a.R0b))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})();class ZS{constructor(t,e,o){this.namespaceId=t,this.delegate=e,this.engine=o,this.destroyNode=this.delegate.destroyNode?s=>e.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,o,s=!0){this.delegate.insertBefore(t,e,o),this.engine.onInsert(this.namespaceId,e,t,s)}removeChild(t,e,o){this.engine.onRemove(this.namespaceId,e,this.delegate,o)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,o,s){this.delegate.setAttribute(t,e,o,s)}removeAttribute(t,e,o){this.delegate.removeAttribute(t,e,o)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,o,s){this.delegate.setStyle(t,e,o,s)}removeStyle(t,e,o){this.delegate.removeStyle(t,e,o)}setProperty(t,e,o){"@"==e.charAt(0)&&e==YS?this.disableAnimations(t,!!o):this.delegate.setProperty(t,e,o)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,o){return this.delegate.listen(t,e,o)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Kg extends ZS{constructor(t,e,o,s){super(e,o,s),this.factory=t,this.namespaceId=e}setProperty(t,e,o){"@"==e.charAt(0)?"."==e.charAt(1)&&e==YS?this.disableAnimations(t,o=void 0===o||!!o):this.engine.process(this.namespaceId,t,e.substr(1),o):this.delegate.setProperty(t,e,o)}listen(t,e,o){if("@"==e.charAt(0)){const s=function(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}(t);let c=e.substr(1),f="";return"@"!=c.charAt(0)&&([c,f]=function(i){const t=i.indexOf(".");return[i.substring(0,t),i.substr(t+1)]}(c)),this.engine.listen(this.namespaceId,s,c,f,g=>{this.factory.scheduleListenerCallback(g._data||-1,o,g)})}return this.delegate.listen(t,e,o)}}let Xg=(()=>{class i extends Zg{constructor(e,o,s){super(e.body,o,s)}ngOnDestroy(){this.flush()}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(J),a.LFG(p_),a.LFG(qg))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})();const co=new a.OlP("AnimationModuleType"),QS=[{provide:oo,useClass:mO},{provide:qg,useFactory:function(){return new Lk}},{provide:Zg,useClass:Xg},{provide:a.FYo,useFactory:function(i,t,e){return new Jk(i,t,e)},deps:[Jo,Zg,a.R0b]}],j_=[{provide:p_,useFactory:function(){return"function"==typeof Qg()?new Uc:new U_}},{provide:co,useValue:"BrowserAnimations"},...QS],z_=[{provide:p_,useClass:tS},{provide:co,useValue:"NoopAnimations"},...QS];let KS=(()=>{class i{static withConfig(e){return{ngModule:i,providers:e.disableAnimations?z_:j_}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({providers:j_,imports:[lh]}),i})(),JS=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({providers:z_,imports:[lh]}),i})();const W_=new a.GfV("12.2.1"),eA=new a.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let wl,Fn=(()=>{class i{constructor(e,o,s){this._hasDoneGlobalChecks=!1,this._document=s,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=o,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const e=this._document.defaultView||window;return"object"==typeof e&&e?e:null}_checkIsEnabled(e){return!(!(0,a.X6Q)()||this._isTestEnv())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}_isTestEnv(){const e=this._getWindow();return e&&(e.__karma__||e.jasmine)}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const e=this._document.createElement("div");e.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(e);const o=getComputedStyle(e);o&&"none"!==o.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(e)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&W_.full!==jh.full&&console.warn("The Angular Material version ("+W_.full+") does not match the Angular CDK version ("+jh.full+").\nPlease ensure the versions of these two packages exactly match.")}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(JC),a.LFG(eA,8),a.LFG(J))},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[[as],as]}),i})();function fu(i){return class extends i{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=bn(t)}}}function Vs(i,t){return class extends i{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const o=e||this.defaultColor;o!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),o&&this._elementRef.nativeElement.classList.add(`mat-${o}`),this._color=o)}}}function em(i){return class extends i{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=bn(t)}}}function tA(i,t=0){return class extends i{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?ro(e):this.defaultTabIndex}}}function nA(i){return class extends i{constructor(...t){super(...t),this.stateChanges=new Vt.xQ,this.errorState=!1}updateErrorState(){const t=this.errorState,c=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);c!==t&&(this.errorState=c,this.stateChanges.next())}}}try{wl="undefined"!=typeof Intl}catch(i){wl=!1}let rm=(()=>{class i{isErrorState(e,o){return!!(e&&e.invalid&&(e.touched||o&&o.submitted))}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=a.Yz7({factory:function(){return new i},token:i,providedIn:"root"}),i})(),Y_=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[[Fn],Fn]}),i})();class cR{constructor(t,e,o){this._renderer=t,this.element=e,this.config=o,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const uA={enterDuration:225,exitDuration:150},Z_=Vh({passive:!0}),$_=["mousedown","touchstart"],lA=["mouseup","mouseleave","touchend","touchcancel"];class Q_{constructor(t,e,o,s){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,s.isBrowser&&(this._containerElement=io(o))}fadeInRipple(t,e,o={}){const s=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),c=Object.assign(Object.assign({},uA),o.animation);o.centered&&(t=s.left+s.width/2,e=s.top+s.height/2);const f=o.radius||function(i,t,e){const o=Math.max(Math.abs(i-e.left),Math.abs(i-e.right)),s=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(o*o+s*s)}(t,e,s),g=t-s.left,v=e-s.top,S=c.enterDuration,W=document.createElement("div");W.classList.add("mat-ripple-element"),W.style.left=g-f+"px",W.style.top=v-f+"px",W.style.height=2*f+"px",W.style.width=2*f+"px",null!=o.color&&(W.style.backgroundColor=o.color),W.style.transitionDuration=`${S}ms`,this._containerElement.appendChild(W),window.getComputedStyle(W).getPropertyValue("opacity"),W.style.transform="scale(1)";const pe=new cR(this,W,o);return pe.state=0,this._activeRipples.add(pe),o.persistent||(this._mostRecentTransientRipple=pe),this._runTimeoutOutsideZone(()=>{const we=pe===this._mostRecentTransientRipple;pe.state=1,!o.persistent&&(!we||!this._isPointerDown)&&pe.fadeOut()},S),pe}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const o=t.element,s=Object.assign(Object.assign({},uA),t.config.animation);o.style.transitionDuration=`${s.exitDuration}ms`,o.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,o.parentNode.removeChild(o)},s.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=io(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents($_))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(lA),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=Eg(t),o=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!o&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Tg(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let o=0;o<e.length;o++)this.fadeInRipple(e[o].clientX,e[o].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,Z_)})})}_removeTriggerEvents(){this._triggerElement&&($_.forEach(t=>{this._triggerElement.removeEventListener(t,this,Z_)}),this._pointerUpEventsRegistered&&lA.forEach(t=>{this._triggerElement.removeEventListener(t,this,Z_)}))}}const dA=new a.OlP("mat-ripple-global-options");let pu=(()=>{class i{constructor(e,o,s,c,f){this._elementRef=e,this._animationMode=f,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=c||{},this._rippleRenderer=new Q_(this,o,e,s)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,o=0,s){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,o,Object.assign(Object.assign({},this.rippleConfig),s)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(Nn),a.Y36(dA,8),a.Y36(co,8))},i.\u0275dir=a.lG2({type:i,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,o){2&e&&a.ekj("mat-ripple-unbounded",o.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),i})(),im=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[[Fn,dl],Fn]}),i})();const mA=["mat-button",""],K_=["*"],_R=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],vA=Vs(fu(em(class{constructor(i){this._elementRef=i}})));let gu=(()=>{class i extends vA{constructor(e,o,s){super(e),this._focusMonitor=o,this._animationMode=s,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const c of _R)this._hasHostAttributes(c)&&this._getHostElement().classList.add(c);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,o){e?this._focusMonitor.focusVia(this._getHostElement(),e,o):this._getHostElement().focus(o)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(o=>this._getHostElement().hasAttribute(o))}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.SBq),a.Y36(ss),a.Y36(co,8))},i.\u0275cmp=a.Xpm({type:i,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,o){if(1&e&&a.Gf(pu,5),2&e){let s;a.iGM(s=a.CRH())&&(o.ripple=s.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,o){2&e&&(a.uIk("disabled",o.disabled||null),a.ekj("_mat-animation-noopable","NoopAnimations"===o._animationMode)("mat-button-disabled",o.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[a.qOj],attrs:mA,ngContentSelectors:K_,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,o){1&e&&(a.F$t(),a.TgZ(0,"span",0),a.Hsn(1),a.qZA(),a._UZ(2,"span",1),a._UZ(3,"span",2)),2&e&&(a.xp6(2),a.ekj("mat-button-ripple-round",o.isRoundButton||o.isIconButton),a.Q6J("matRippleDisabled",o._isRippleDisabled())("matRippleCentered",o.isIconButton)("matRippleTrigger",o._getHostElement()))},directives:[pu],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),i})(),bR=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[[im,Fn],Fn]}),i})();var ho=y(6682),Fo=y(9746),yA=y(7771),X_=y(8858);class wR extends Vt.xQ{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,o){super(),this.scheduler=o,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new CR(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,o=e?this._events:this._trimBufferThenGetEvents(),s=this.scheduler,c=o.length;let f;if(this.closed)throw new Xa.N;if(this.isStopped||this.hasError?f=Vi.w.EMPTY:(this.observers.push(t),f=new X_.W(this,t)),s&&t.add(t=new Fo.ht(t,s)),e)for(let g=0;g<c&&!t.closed;g++)t.next(o[g]);else for(let g=0;g<c&&!t.closed;g++)t.next(o[g].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),f}_getNow(){return(this.scheduler||yA.c).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,o=this._windowTime,s=this._events,c=s.length;let f=0;for(;f<c&&!(t-s[f].time<o);)f++;return c>e&&(f=Math.max(f,c-e)),f>0&&s.splice(0,f),s}}class CR{constructor(t,e){this.time=t,this.value=e}}function lf(i,t,e){let o;return o=i&&"object"==typeof i?i:{bufferSize:i,windowTime:t,refCount:!1,scheduler:e},s=>s.lift(function({bufferSize:i=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:e,scheduler:o}){let s,f,c=0,g=!1,v=!1;return function(W){let pe;c++,!s||g?(g=!1,s=new wR(i,t,o),pe=s.subscribe(this),f=W.subscribe({next(we){s.next(we)},error(we){g=!0,s.error(we)},complete(){v=!0,f=void 0,s.complete()}}),v&&(f=void 0)):pe=s.subscribe(this),this.add(()=>{c--,pe.unsubscribe(),pe=void 0,f&&!v&&e&&0===c&&(f.unsubscribe(),f=void 0,s=void 0)})}}(o))}function eb(i,t){return t?yr(()=>i,t):yr(()=>i)}var tb=y(9673),jn=y(57);const cf=new a.OlP("angularfire2.auth.use-emulator"),AR=new a.OlP("angularfire2.auth.settings"),bA=new a.OlP("angularfire2.auth.tenant-id"),mu=new a.OlP("angularfire2.auth.langugage-code"),ER=new a.OlP("angularfire2.auth.use-device-language"),sm=new a.OlP("angularfire.auth.persistence");let ai=(()=>{class i{constructor(e,o,s,c,f,g,v,S,W,pe){const we=new jn.HU(c),Te=(0,jn.ss)(we),Pe=new Vt.xQ,Ue=(0,Lt.of)(void 0).pipe((0,Fo.QV)(we.outsideAngular),yr(()=>c.runOutsideAngular(()=>y.e(336).then(y.bind(y,1336)))),(0,sn.U)(()=>(0,jn.on)(e,c,o)),(0,sn.U)(rt=>c.runOutsideAngular(()=>{const vt=f,At=g;return(0,jn.sI)(`${rt.name}.auth`,"AngularFireAuth",rt,()=>{const Rt=c.runOutsideAngular(()=>rt.auth());if(vt&&Rt.useEmulator(`http://${vt.join(":")}`),v&&(Rt.tenantId=v),Rt.languageCode=S,W&&Rt.useDeviceLanguage(),At)for(const[Ht,jt]of Object.entries(At))Rt.settings[Ht]=jt;return pe&&Rt.setPersistence(pe),Rt},[vt,v,S,W,At,pe])})),lf({bufferSize:1,refCount:!1}));if(Ga(s))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Lt.of)(null);else{Ue.pipe(Pr()).subscribe();const vt=Ue.pipe(yr(jt=>jt.getRedirectResult().then(cn=>cn,()=>null)),Te,lf({bufferSize:1,refCount:!1})),At=jt=>new Yn.y(cn=>({unsubscribe:c.runOutsideAngular(()=>jt(cn))})),Rt=Ue.pipe(yr(jt=>At(jt.onAuthStateChanged.bind(jt)))),Ht=Ue.pipe(yr(jt=>At(jt.onIdTokenChanged.bind(jt))));this.authState=vt.pipe(eb(Rt),(0,tb.R)(we.outsideAngular),(0,Fo.QV)(we.insideAngular)),this.user=vt.pipe(eb(Ht),(0,tb.R)(we.outsideAngular),(0,Fo.QV)(we.insideAngular)),this.idToken=this.user.pipe(yr(jt=>jt?(0,Xt.D)(jt.getIdToken()):(0,Lt.of)(null))),this.idTokenResult=this.user.pipe(yr(jt=>jt?(0,Xt.D)(jt.getIdTokenResult()):(0,Lt.of)(null))),this.credential=(0,ho.T)(vt,Pe,this.authState.pipe($n(jt=>!jt))).pipe((0,sn.U)(jt=>(null==jt?void 0:jt.user)?jt:null),(0,tb.R)(we.outsideAngular),(0,Fo.QV)(we.insideAngular))}return(0,jn.pX)(this,Ue,c,{spy:{apply:(rt,vt,At)=>{(rt.startsWith("signIn")||rt.startsWith("createUser"))&&At.then(Rt=>Pe.next(Rt))}}})}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(jn.Dh),a.LFG(jn.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(cf,8),a.LFG(AR,8),a.LFG(bA,8),a.LFG(mu,8),a.LFG(ER,8),a.LFG(sm,8))},i.\u0275prov=a.Yz7({factory:function(){return new i(a.LFG(jn.Dh),a.LFG(jn.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(cf,8),a.LFG(AR,8),a.LFG(bA,8),a.LFG(mu,8),a.LFG(ER,8),a.LFG(sm,8))},token:i,providedIn:"any"}),i})(),TR=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({providers:[ai]}),i})();function ya(){return i=>i.lift(new DR)}class DR{call(t,e){return e.subscribe(new kO(t))}}class kO extends Zn.L{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var MR=y(2329),Lo=y(9759),Me=y(4762),Cn=y(4685),Us=y(300),nb=function(i,t){return(nb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s])})(i,t)};function RR(i){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&i[t],o=0;if(e)return e.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var Wt,xR="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},rb=rb||{},fn=xR||self;function df(){}function hf(i){var t=typeof i;return"array"==(t="object"!=t?t:i?Array.isArray(i)?"array":t:"null")||"object"==t&&"number"==typeof i.length}function Gc(i){var t=typeof i;return"object"==t&&null!=i||"function"==t}var wA="closure_uid_"+(1e9*Math.random()>>>0),PR=0;function OR(i,t,e){return i.call.apply(i.bind,arguments)}function FR(i,t,e){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,o),i.apply(t,s)}}return function(){return i.apply(t,arguments)}}function Wr(i,t,e){return(Wr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?OR:FR).apply(null,arguments)}function ff(i,t){var e=Array.prototype.slice.call(arguments,1);return function(){var o=e.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function Yr(i,t){function e(){}e.prototype=t.prototype,i.Z=t.prototype,i.prototype=new e,i.prototype.constructor=i,i.Vb=function(o,s,c){for(var f=Array(arguments.length-2),g=2;g<arguments.length;g++)f[g-2]=arguments[g];return t.prototype[s].apply(o,f)}}function vu(){this.s=this.s,this.o=this.o}var CA={};vu.prototype.s=!1,vu.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function(i){return Object.prototype.hasOwnProperty.call(i,wA)&&i[wA]||(i[wA]=++PR)}(this);delete CA[i]}},vu.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var pf=Array.prototype.indexOf?function(i,t){return Array.prototype.indexOf.call(i,t,void 0)}:function(i,t){if("string"==typeof i)return"string"!=typeof t||1!=t.length?-1:i.indexOf(t,0);for(var e=0;e<i.length;e++)if(e in i&&i[e]===t)return e;return-1},SA=Array.prototype.forEach?function(i,t,e){Array.prototype.forEach.call(i,t,e)}:function(i,t,e){for(var o=i.length,s="string"==typeof i?i.split(""):i,c=0;c<o;c++)c in s&&t.call(e,s[c],c,i)};function gf(i){return Array.prototype.concat.apply([],arguments)}function jc(i){var t=i.length;if(0<t){for(var e=Array(t),o=0;o<t;o++)e[o]=i[o];return e}return[]}function yu(i){return/^[\s\xa0]*$/.test(i)}var xi,EA=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Ri(i,t){return-1!=i.indexOf(t)}function TA(i,t){return i<t?-1:i>t?1:0}e:{var DA=fn.navigator;if(DA){var MA=DA.userAgent;if(MA){xi=MA;break e}}xi=""}function ib(i,t,e){for(var o in i)t.call(e,i[o],o,i)}function kA(i){var t={};for(var e in i)t[e]=i[e];return t}var RA="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function xA(i,t){for(var e,o,s=1;s<arguments.length;s++){for(e in o=arguments[s])i[e]=o[e];for(var c=0;c<RA.length;c++)e=RA[c],Object.prototype.hasOwnProperty.call(o,e)&&(i[e]=o[e])}}function ob(i){return ob[" "](i),i}ob[" "]=df;var Hs,i,RO=Ri(xi,"Opera"),zc=Ri(xi,"Trident")||Ri(xi,"MSIE"),qc=Ri(xi,"Edge"),sb=qc||zc,IA=Ri(xi,"Gecko")&&!(Ri(xi.toLowerCase(),"webkit")&&!Ri(xi,"Edge"))&&!(Ri(xi,"Trident")||Ri(xi,"MSIE"))&&!Ri(xi,"Edge"),BR=Ri(xi.toLowerCase(),"webkit")&&!Ri(xi,"Edge");function mf(){var i=fn.document;return i?i.documentMode:void 0}e:{var am="",ab=(i=xi,IA?/rv:([^\);]+)(\)|;)/.exec(i):qc?/Edge\/([\d\.]+)/.exec(i):zc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):BR?/WebKit\/(\S+)/.exec(i):RO?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(ab&&(am=ab?ab[1]:""),zc){var PA=mf();if(null!=PA&&PA>parseFloat(am)){Hs=String(PA);break e}}Hs=am}var VR={};function um(){return t=VR,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){for(var i=0,t=EA(String(Hs)).split("."),e=EA("9").split("."),o=Math.max(t.length,e.length),s=0;0==i&&s<o;s++){var c=t[s]||"",f=e[s]||"";do{if(c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""],0==c[0].length&&0==f[0].length)break;i=TA(0==c[1].length?0:parseInt(c[1],10),0==f[1].length?0:parseInt(f[1],10))||TA(0==c[2].length,0==f[2].length)||TA(c[2],f[2]),c=c[3],f=f[3]}while(0==i)}return 0<=i}();var t}var FA=fn.document&&zc&&(mf()||parseInt(Hs,10))||void 0,LA=function(){if(!fn.addEventListener||!Object.defineProperty)return!1;var i=!1,t=Object.defineProperty({},"passive",{get:function(){i=!0}});try{fn.addEventListener("test",df,t),fn.removeEventListener("test",df,t)}catch(e){}return i}();function Zr(i,t){this.type=i,this.g=this.target=t,this.defaultPrevented=!1}function Wc(i,t){if(Zr.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var e=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=t,t=i.relatedTarget){if(IA){e:{try{ob(t.nodeName);var s=!0;break e}catch(c){}s=!1}s||(t=null)}}else"mouseover"==e?t=i.fromElement:"mouseout"==e&&(t=i.toElement);this.relatedTarget=t,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:NA[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&Wc.Z.h.call(this)}}Zr.prototype.h=function(){this.defaultPrevented=!0},Yr(Wc,Zr);var NA={2:"touch",3:"pen",4:"mouse"};Wc.prototype.h=function(){Wc.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var vf="closure_listenable_"+(1e6*Math.random()|0),UR=0;function BA(i,t,e,o,s){this.listener=i,this.proxy=null,this.src=t,this.type=e,this.capture=!!o,this.ia=s,this.key=++UR,this.ca=this.fa=!1}function lm(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function yf(i){this.src=i,this.g={},this.h=0}function Yc(i,t){var e=t.type;if(e in i.g){var c,o=i.g[e],s=pf(o,t);(c=0<=s)&&Array.prototype.splice.call(o,s,1),c&&(lm(t),0==i.g[e].length&&(delete i.g[e],i.h--))}}function Zc(i,t,e,o){for(var s=0;s<i.length;++s){var c=i[s];if(!c.ca&&c.listener==t&&c.capture==!!e&&c.ia==o)return s}return-1}yf.prototype.add=function(i,t,e,o,s){var c=i.toString();(i=this.g[c])||(i=this.g[c]=[],this.h++);var f=Zc(i,t,o,s);return-1<f?(t=i[f],e||(t.fa=!1)):((t=new BA(t,this.src,c,!!o,s)).fa=e,i.push(t)),t};var VA="closure_lm_"+(1e6*Math.random()|0),Cl={};function Bn(i,t,e,o,s){if(o&&o.once)return Qc(i,t,e,o,s);if(Array.isArray(t)){for(var c=0;c<t.length;c++)Bn(i,t[c],e,o,s);return null}return e=cm(e),i&&i[vf]?i.N(t,e,Gc(o)?!!o.capture:!!o,s):_a(i,t,e,!1,o,s)}function _a(i,t,e,o,s,c){if(!t)throw Error("Invalid event type");var f=Gc(s)?!!s.capture:!!s,g=ba(i);if(g||(i[VA]=g=new yf(i)),(e=g.add(t,e,o,f,c)).proxy)return e;if(o=function(){var t=lb;return function i(e){return t.call(i.src,i.listener,e)}}(),e.proxy=o,o.src=i,o.listener=e,i.addEventListener)LA||(s=f),void 0===s&&(s=!1),i.addEventListener(t.toString(),o,s);else if(i.attachEvent)i.attachEvent(fo(t.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return e}function Qc(i,t,e,o,s){if(Array.isArray(t)){for(var c=0;c<t.length;c++)Qc(i,t[c],e,o,s);return null}return e=cm(e),i&&i[vf]?i.O(t,e,Gc(o)?!!o.capture:!!o,s):_a(i,t,e,!0,o,s)}function HR(i,t,e,o,s){if(Array.isArray(t))for(var c=0;c<t.length;c++)HR(i,t[c],e,o,s);else o=Gc(o)?!!o.capture:!!o,e=cm(e),i&&i[vf]?(i=i.i,(t=String(t).toString())in i.g&&-1<(e=Zc(c=i.g[t],e,o,s))&&(lm(c[e]),Array.prototype.splice.call(c,e,1),0==c.length&&(delete i.g[t],i.h--))):i&&(i=ba(i))&&(t=i.g[t.toString()],i=-1,t&&(i=Zc(t,e,o,s)),(e=-1<i?t[i]:null)&&pn(e))}function pn(i){if("number"!=typeof i&&i&&!i.ca){var t=i.src;if(t&&t[vf])Yc(t.i,i);else{var e=i.type,o=i.proxy;t.removeEventListener?t.removeEventListener(e,o,i.capture):t.detachEvent?t.detachEvent(fo(e),o):t.addListener&&t.removeListener&&t.removeListener(o),(e=ba(t))?(Yc(e,i),0==e.h&&(e.src=null,t[VA]=null)):lm(i)}}}function fo(i){return i in Cl?Cl[i]:Cl[i]="on"+i}function lb(i,t){if(i.ca)i=!0;else{t=new Wc(t,this);var e=i.listener,o=i.ia||i.src;i.fa&&pn(i),i=e.call(o,t)}return i}function ba(i){return(i=i[VA])instanceof yf?i:null}var UA="__closure_events_fn_"+(1e9*Math.random()>>>0);function cm(i){return"function"==typeof i?i:(i[UA]||(i[UA]=function(t){return i.handleEvent(t)}),i[UA])}function Fr(){vu.call(this),this.i=new yf(this),this.P=this,this.I=null}function vi(i,t){var e,o=i.I;if(o)for(e=[];o;o=o.I)e.push(o);if(i=i.P,o=t.type||t,"string"==typeof t)t=new Zr(t,i);else if(t instanceof Zr)t.target=t.target||i;else{var s=t;xA(t=new Zr(o,i),s)}if(s=!0,e)for(var c=e.length-1;0<=c;c--){var f=t.g=e[c];s=dm(f,o,!0,t)&&s}if(s=dm(f=t.g=i,o,!0,t)&&s,s=dm(f,o,!1,t)&&s,e)for(c=0;c<e.length;c++)s=dm(f=t.g=e[c],o,!1,t)&&s}function dm(i,t,e,o){if(!(t=i.i.g[String(t)]))return!0;t=t.concat();for(var s=!0,c=0;c<t.length;++c){var f=t[c];if(f&&!f.ca&&f.capture==e){var g=f.listener,v=f.ia||f.src;f.fa&&Yc(i.i,f),s=!1!==g.call(v,o)&&s}}return s&&!o.defaultPrevented}Yr(Fr,vu),Fr.prototype[vf]=!0,Fr.prototype.removeEventListener=function(i,t,e,o){HR(this,i,t,e,o)},Fr.prototype.M=function(){if(Fr.Z.M.call(this),this.i){var t,i=this.i;for(t in i.g){for(var e=i.g[t],o=0;o<e.length;o++)lm(e[o]);delete i.g[t],i.h--}}this.I=null},Fr.prototype.N=function(i,t,e,o){return this.i.add(String(i),t,!1,e,o)},Fr.prototype.O=function(i,t,e,o){return this.i.add(String(i),t,!0,e,o)};var cb=fn.JSON.stringify;function No(){var i=GA,t=null;return i.g&&(t=i.g,i.g=i.g.next,i.g||(i.h=null),t.next=null),t}var _f,lr=function(){function i(){this.h=this.g=null}return i.prototype.add=function(t,e){var o=Bo.get();o.set(t,e),this.h?this.h.next=o:this.g=o,this.h=o},i}(),Bo=new(function(){function i(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return i.prototype.get=function(){var t;return 0<this.h?(this.h--,this.g=(t=this.g).next,t.next=null):t=this.i(),t},i}())(function(){return new HA},function(i){return i.reset()}),HA=function(){function i(){this.next=this.g=this.h=null}return i.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},i.prototype.reset=function(){this.next=this.g=this.h=null},i}();function GR(i){fn.setTimeout(function(){throw i},0)}function hm(i,t){_f||function(){var i=fn.Promise.resolve(void 0);_f=function(){i.then(Al)}}(),Sl||(_f(),Sl=!0),GA.add(i,t)}var Sl=!1,GA=new lr;function Al(){for(var i;i=No();){try{i.h.call(i.g)}catch(e){GR(e)}var t=Bo;t.j(i),100>t.h&&(t.h++,i.next=t.g,t.g=i)}Sl=!1}function fm(i,t){Fr.call(this),this.h=i||1,this.g=t||fn,this.j=Wr(this.kb,this),this.l=Date.now()}function pm(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function bf(i,t,e){if("function"==typeof i)e&&(i=Wr(i,e));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Wr(i.handleEvent,i)}return 2147483647<Number(t)?-1:fn.setTimeout(i,t||0)}function Jc(i){i.g=bf(function(){i.g=null,i.i&&(i.i=!1,Jc(i))},i.j);var t=i.h;i.h=null,i.m.apply(null,t)}Yr(fm,Fr),(Wt=fm.prototype).da=!1,Wt.S=null,Wt.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),vi(this,"tick"),this.da&&(pm(this),this.start()))}},Wt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Wt.M=function(){fm.Z.M.call(this),pm(this),delete this.g};var db=function(i){function t(e,o){var s=i.call(this)||this;return s.m=e,s.j=o,s.h=null,s.i=!1,s.g=null,s}return function(i,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=i}nb(i,t),i.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,i),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:Jc(this)},t.prototype.M=function(){i.prototype.M.call(this),this.g&&(fn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(vu);function Xc(i){vu.call(this),this.h=i,this.g={}}Yr(Xc,vu);var El=[];function jA(i,t,e,o){Array.isArray(e)||(e&&(El[0]=e.toString()),e=El);for(var s=0;s<e.length;s++){var c=Bn(t,e[s],o||i.handleEvent,!1,i.h||i);if(!c)break;i.g[c.key]=c}}function wf(i){ib(i.g,function(t,e){this.g.hasOwnProperty(e)&&pn(t)},i),i.g={}}function Cf(){this.g=!0}function wa(i,t,e,o){i.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(i,t){if(!i.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(i=0;i<e.length;i++)if(Array.isArray(e[i])){var o=e[i];if(!(2>o.length)){var s=o[1];if(Array.isArray(s)&&!(1>s.length)){var c=s[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var f=1;f<s.length;f++)s[f]=""}}}return cb(e)}catch(g){return t}}(i,e)+(o?" "+o:"")})}Xc.prototype.M=function(){Xc.Z.M.call(this),wf(this)},Xc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Cf.prototype.Aa=function(){this.g=!1},Cf.prototype.info=function(){};var Ca={},zR=null;function fb(){return zR=zR||new Fr}function gn(i){Zr.call(this,Ca.Ma,i)}function gm(i){var t=fb();vi(t,new gn(t,i))}function ed(i,t){Zr.call(this,Ca.STAT_EVENT,i),this.stat=t}function Ii(i){var t=fb();vi(t,new ed(t,i))}function WA(i,t){Zr.call(this,Ca.Na,i),this.size=t}function Sf(i,t){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return fn.setTimeout(function(){i()},t)}Ca.Ma="serverreachability",Yr(gn,Zr),Ca.STAT_EVENT="statevent",Yr(ed,Zr),Ca.Na="timingevent",Yr(WA,Zr);var pb={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},qR={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function gb(){}function YA(){}gb.prototype.h=null;var vb,Af={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ef(){Zr.call(this,"d")}function mb(){Zr.call(this,"c")}function mm(){}function Tf(i,t,e,o){this.l=i,this.j=t,this.m=e,this.X=o||1,this.V=new Xc(this),this.P=WR,this.W=new fm(i=sb?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ZA}function ZA(){this.i=null,this.g="",this.h=!1}Yr(Ef,Zr),Yr(mb,Zr),Yr(mm,gb),mm.prototype.g=function(){return new XMLHttpRequest},mm.prototype.i=function(){return{}},vb=new mm;var WR=45e3,Df={},vm={};function yb(i,t,e){i.K=1,i.v=Am(Sa(t)),i.s=e,i.U=!0,_b(i,null)}function _b(i,t){i.F=Date.now(),Mf(i),i.A=Sa(i.v);var e=i.A,o=i.X;Array.isArray(o)||(o=[String(o)]),li(e.h,"t",o),i.C=0,e=i.l.H,i.h=new ZA,i.g=Pm(i.l,e?t:null,!i.s),0<i.O&&(i.L=new db(Wr(i.Ia,i,i.g),i.O)),jA(i.V,i.g,"readystatechange",i.gb),t=i.H?kA(i.H):{},i.s?(i.u||(i.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,t)):(i.u="GET",i.g.ea(i.A,i.u,null,t)),gm(1),function(i,t,e,o,s,c){i.info(function(){if(i.g)if(c)for(var f="",g=c.split("&"),v=0;v<g.length;v++){var S=g[v].split("=");if(1<S.length){var W=S[0];S=S[1];var pe=W.split("_");f=2<=pe.length&&"type"==pe[1]?f+(W+"=")+S+"&":f+(W+"=redacted&")}}else f=null;else f=c;return"XMLHTTP REQ ("+o+") [attempt "+s+"]: "+t+"\n"+e+"\n"+f})}(i.j,i.u,i.A,i.m,i.X,i.s)}function ym(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function $A(i,t,e){for(var s,o=!0;!i.I&&i.C<e.length;){if((s=xO(i,e))==vm){4==t&&(i.o=4,Ii(14),o=!1),wa(i.j,i.m,null,"[Incomplete Response]");break}if(s==Df){i.o=4,Ii(15),wa(i.j,i.m,e,"[Invalid Chunk]"),o=!1;break}wa(i.j,i.m,s,null),bb(i,s)}ym(i)&&s!=vm&&s!=Df&&(i.h.g="",i.C=0),4!=t||0!=e.length||i.h.h||(i.o=1,Ii(16),o=!1),i.i=i.i&&o,o?0<e.length&&!i.aa&&(i.aa=!0,(t=i.l).g==i&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),Nb(t),t.L=!0,Ii(11))):(wa(i.j,i.m,e,"[Invalid Chunked Response]"),Tl(i),kf(i))}function xO(i,t){var e=i.C,o=t.indexOf("\n",e);return-1==o?vm:(e=Number(t.substring(e,o)),isNaN(e)?Df:(o+=1)+e>t.length?vm:(t=t.substr(o,e),i.C=o+e,t))}function Mf(i){i.Y=Date.now()+i.P,QA(i,i.P)}function QA(i,t){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Sf(Wr(i.eb,i),t)}function _m(i){i.B&&(fn.clearTimeout(i.B),i.B=null)}function kf(i){0==i.l.G||i.I||lE(i.l,i)}function Tl(i){_m(i);var t=i.L;t&&"function"==typeof t.na&&t.na(),i.L=null,pm(i.W),wf(i.V),i.g&&(t=i.g,i.g=null,t.abort(),t.na())}function bb(i,t){try{var e=i.l;if(0!=e.G&&(e.g==i||Tb(e.i,i)))if(e.I=i.N,!i.J&&Tb(e.i,i)&&3==e.G){try{var o=e.Ca.g.parse(t)}catch(rt){o=null}if(Array.isArray(o)&&3==o.length){var s=o;if(0==s[0])e:if(e.u)e.ta=s[1],0<e.ta-e.U&&37500>s[2]&&e.N&&0==e.A&&!e.v&&(e.v=Sf(Wr(e.ab,e),6e3));else{if(e.g){if(!(e.g.F+3e3<i.F))break e;xm(e),Pf(e)}Vo(e),Ii(18)}if(1>=Eb(e.i)&&e.ka){try{e.ka()}catch(rt){}e.ka=void 0}}else Ta(e,11)}else if((i.J||e.g==i)&&xm(e),!yu(t))for(s=e.Ca.g.parse(t),t=0;t<s.length;t++){var c=s[t];if(e.U=c[0],c=c[1],2==e.G)if("c"==c[0]){e.J=c[1],e.la=c[2];var f=c[3];null!=f&&(e.ma=f,e.h.info("VER="+e.ma));var g=c[4];null!=g&&(e.za=g,e.h.info("SVER="+e.za));var v=c[5];null!=v&&"number"==typeof v&&0<v&&(e.K=o=1.5*v,e.h.info("backChannelRequestTimeoutMs_="+o)),o=e;var S=i.g;if(S){var W=S.g?S.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(W){var pe=o.i;!pe.g&&(Ri(W,"spdy")||Ri(W,"quic")||Ri(W,"h2"))&&(pe.j=pe.l,pe.g=new Set,pe.h&&(Db(pe,pe.h),pe.h=null))}if(o.D){var we=S.g?S.g.getResponseHeader("X-HTTP-Session-Id"):null;we&&(o.sa=we,ir(o.F,o.D,we))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-i.F,e.h.info("Handshake RTT: "+e.O+"ms"));var Te=i;if((o=e).oa=Bb(o,o.H?o.la:null,o.W),Te.J){nE(o.i,Te);var Pe=Te,Ue=o.K;Ue&&Pe.setTimeout(Ue),Pe.B&&(_m(Pe),Mf(Pe)),o.g=Te}else Rm(o);0<e.l.length&&km(e)}else"stop"!=c[0]&&"close"!=c[0]||Ta(e,7);else 3==e.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Ta(e,7):Fb(e):"noop"!=c[0]&&e.j&&e.j.wa(c),e.A=0)}gm(4)}catch(rt){}}function wb(i,t){if(i.forEach&&"function"==typeof i.forEach)i.forEach(t,void 0);else if(hf(i)||"string"==typeof i)SA(i,t,void 0);else{if(i.T&&"function"==typeof i.T)var e=i.T();else if(i.R&&"function"==typeof i.R)e=void 0;else if(hf(i)||"string"==typeof i){e=[];for(var o=i.length,s=0;s<o;s++)e.push(s)}else for(s in e=[],o=0,i)e[o++]=s;s=(o=function(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(hf(i)){for(var t=[],e=i.length,o=0;o<e;o++)t.push(i[o]);return t}for(o in t=[],e=0,i)t[e++]=i[o];return t}(i)).length;for(var c=0;c<s;c++)t.call(void 0,o[c],e&&e[c],i)}}function td(i,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var o=0;o<e;o+=2)this.set(arguments[o],arguments[o+1])}else if(i)if(i instanceof td)for(e=i.T(),o=0;o<e.length;o++)this.set(e[o],i.get(e[o]));else for(o in i)this.set(o,i[o])}function bm(i){if(i.i!=i.g.length){for(var t=0,e=0;t<i.g.length;){var o=i.g[t];cs(i.h,o)&&(i.g[e++]=o),t++}i.g.length=e}if(i.i!=i.g.length){var s={};for(e=t=0;t<i.g.length;)cs(s,o=i.g[t])||(i.g[e++]=o,s[o]=1),t++;i.g.length=e}}function cs(i,t){return Object.prototype.hasOwnProperty.call(i,t)}(Wt=Tf.prototype).setTimeout=function(i){this.P=i},Wt.gb=function(i){i=i.target;var t=this.L;t&&3==js(i)?t.l():this.Ia(i)},Wt.Ia=function(i){try{if(i==this.g)e:{var t=js(this.g),e=this.g.Da(),o=this.g.ba();if(!(3>t)&&(3!=t||sb||this.g&&(this.h.h||this.g.ga()||Pb(this.g)))){this.I||4!=t||7==e||gm(8==e||0>=o?3:2),_m(this);var s=this.g.ba();this.N=s;t:if(ym(this)){var c=Pb(this.g);i="";var f=c.length,g=4==js(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Tl(this),kf(this);var v="";break t}this.h.i=new fn.TextDecoder}for(e=0;e<f;e++)this.h.h=!0,i+=this.h.i.decode(c[e],{stream:g&&e==f-1});c.splice(0,f),this.h.g+=i,this.C=0,v=this.h.g}else v=this.g.ga();if(this.i=200==s,function(i,t,e,o,s,c,f){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+s+"]: "+t+"\n"+e+"\n"+c+" "+f})}(this.j,this.u,this.A,this.m,this.X,t,s),this.i){if(this.$&&!this.J){t:{if(this.g){var S,W=this.g;if((S=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yu(S)){var pe=S;break t}}pe=null}if(!(s=pe)){this.i=!1,this.o=3,Ii(12),Tl(this),kf(this);break e}wa(this.j,this.m,s,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,bb(this,s)}this.U?($A(this,t,v),sb&&this.i&&3==t&&(jA(this.V,this.W,"tick",this.fb),this.W.start())):(wa(this.j,this.m,v,null),bb(this,v)),4==t&&Tl(this),this.i&&!this.I&&(4==t?lE(this.l,this):(this.i=!1,Mf(this)))}else 400==s&&0<v.indexOf("Unknown SID")?(this.o=3,Ii(12)):(this.o=0,Ii(13)),Tl(this),kf(this)}}}catch(we){}},Wt.fb=function(){if(this.g){var i=js(this.g),t=this.g.ga();this.C<t.length&&(_m(this),$A(this,i,t),this.i&&4!=i&&Mf(this))}},Wt.cancel=function(){this.I=!0,Tl(this)},Wt.eb=function(){this.B=null;var i=Date.now();0<=i-this.Y?(function(i,t){i.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(gm(3),Ii(17)),Tl(this),this.o=2,kf(this)):QA(this,this.Y-i)},(Wt=td.prototype).R=function(){bm(this);for(var i=[],t=0;t<this.g.length;t++)i.push(this.h[this.g[t]]);return i},Wt.T=function(){return bm(this),this.g.concat()},Wt.get=function(i,t){return cs(this.h,i)?this.h[i]:t},Wt.set=function(i,t){cs(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=t},Wt.forEach=function(i,t){for(var e=this.T(),o=0;o<e.length;o++){var s=e[o],c=this.get(s);i.call(t,c,s,this)}};var YR=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Dl(i,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof Dl){this.g=void 0!==t?t:i.g,wm(this,i.j),this.s=i.s,Cm(this,i.i),Sm(this,i.m),this.l=i.l,t=i.h;var e=new nd;e.i=t.i,t.g&&(e.g=new td(t.g),e.h=t.h),Cb(this,e),this.o=i.o}else i&&(e=String(i).match(YR))?(this.g=!!t,wm(this,e[1]||"",!0),this.s=Em(e[2]||""),Cm(this,e[3]||"",!0),Sm(this,e[4]),this.l=Em(e[5]||"",!0),Cb(this,e[6]||"",!0),this.o=Em(e[7]||"")):(this.g=!!t,this.h=new nd(null,this.g))}function Sa(i){return new Dl(i)}function wm(i,t,e){i.j=e?Em(t,!0):t,i.j&&(i.j=i.j.replace(/:$/,""))}function Cm(i,t,e){i.i=e?Em(t,!0):t}function Sm(i,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);i.m=t}else i.m=null}function Cb(i,t,e){t instanceof nd?(i.h=t,function(i,t){t&&!i.j&&(Gs(i),i.i=null,i.g.forEach(function(e,o){var s=o.toLowerCase();o!=s&&(XA(this,o),li(this,s,e))},i)),i.j=t}(i.h,i.g)):(e||(t=Ml(t,KR)),i.h=new nd(t,i.g))}function ir(i,t,e){i.h.set(t,e)}function Am(i){return ir(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Em(i,t){return i?t?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Ml(i,t,e){return"string"==typeof i?(i=encodeURI(i).replace(t,ZR),e&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function ZR(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Dl.prototype.toString=function(){var i=[],t=this.j;t&&i.push(Ml(t,JA,!0),":");var e=this.i;return(e||"file"==t)&&(i.push("//"),(t=this.s)&&i.push(Ml(t,JA,!0),"@"),i.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&i.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&i.push("/"),i.push(Ml(e,"/"==e.charAt(0)?QR:$R,!0))),(e=this.h.toString())&&i.push("?",e),(e=this.o)&&i.push("#",Ml(e,JR)),i.join("")};var JA=/[#\/\?@]/g,$R=/[#\?:]/g,QR=/[#\?]/g,KR=/[#\?@]/g,JR=/#/g;function nd(i,t){this.h=this.g=null,this.i=i||null,this.j=!!t}function Gs(i){i.g||(i.g=new td,i.h=0,i.i&&function(i,t){if(i){i=i.split("&");for(var e=0;e<i.length;e++){var o=i[e].indexOf("="),s=null;if(0<=o){var c=i[e].substring(0,o);s=i[e].substring(o+1)}else c=i[e];t(c,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(i.i,function(t,e){i.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function XA(i,t){Gs(i),t=Rl(i,t),cs(i.g.h,t)&&(i.i=null,i.h-=i.g.get(t).length,cs((i=i.g).h,t)&&(delete i.h[t],i.i--,i.g.length>2*i.i&&bm(i)))}function kl(i,t){return Gs(i),t=Rl(i,t),cs(i.g.h,t)}function li(i,t,e){XA(i,t),0<e.length&&(i.i=null,i.g.set(Rl(i,t),jc(e)),i.h+=e.length)}function Rl(i,t){return t=String(t),i.j&&(t=t.toLowerCase()),t}(Wt=nd.prototype).add=function(i,t){Gs(this),this.i=null,i=Rl(this,i);var e=this.g.get(i);return e||this.g.set(i,e=[]),e.push(t),this.h+=1,this},Wt.forEach=function(i,t){Gs(this),this.g.forEach(function(e,o){SA(e,function(s){i.call(t,s,o,this)},this)},this)},Wt.T=function(){Gs(this);for(var i=this.g.R(),t=this.g.T(),e=[],o=0;o<t.length;o++)for(var s=i[o],c=0;c<s.length;c++)e.push(t[o]);return e},Wt.R=function(i){Gs(this);var t=[];if("string"==typeof i)kl(this,i)&&(t=gf(t,this.g.get(Rl(this,i))));else{i=this.g.R();for(var e=0;e<i.length;e++)t=gf(t,i[e])}return t},Wt.set=function(i,t){return Gs(this),this.i=null,kl(this,i=Rl(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[t]),this.h+=1,this},Wt.get=function(i,t){return i&&0<(i=this.R(i)).length?String(i[0]):t},Wt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],t=this.g.T(),e=0;e<t.length;e++){var o=t[e],s=encodeURIComponent(String(o));o=this.R(o);for(var c=0;c<o.length;c++){var f=s;""!==o[c]&&(f+="="+encodeURIComponent(String(o[c]))),i.push(f)}}return this.i=i.join("&")};var Sb=function(t,e){this.h=t,this.g=e};function eE(i){this.l=i||tE,i=fn.PerformanceNavigationTiming?0<(i=fn.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(fn.g&&fn.g.Ea&&fn.g.Ea()&&fn.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var tE=10;function Ab(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Eb(i){return i.h?1:i.g?i.g.size:0}function Tb(i,t){return i.h?i.h==t:!!i.g&&i.g.has(t)}function Db(i,t){i.g?i.g.add(t):i.h=t}function nE(i,t){i.h&&i.h==t?i.h=null:i.g&&i.g.has(t)&&i.g.delete(t)}function Mb(i){var t,e;if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){var o=i.i;try{for(var s=RR(i.g.values()),c=s.next();!c.done;c=s.next())o=o.concat(c.value.D)}catch(g){t={error:g}}finally{try{c&&!c.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}return o}return jc(i.i)}function kb(){}function OO(){this.g=new kb}function XR(i,t,e){var o=e||"";try{wb(i,function(s,c){var f=s;Gc(s)&&(f=cb(s)),t.push(o+c+"="+encodeURIComponent(f))})}catch(s){throw t.push(o+"type="+encodeURIComponent("_badmap")),s}}function Aa(i,t,e,o,s){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,s(o)}catch(c){}}function Tm(i){this.l=i.$b||null,this.j=i.ib||!1}function xf(i,t){Fr.call(this),this.D=i,this.u=t,this.m=void 0,this.readyState=Rb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}eE.prototype.cancel=function(){var i,t;if(this.i=Mb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var e=RR(this.g.values()),o=e.next();!o.done;o=e.next())o.value.cancel()}catch(c){i={error:c}}finally{try{o&&!o.done&&(t=e.return)&&t.call(e)}finally{if(i)throw i.error}}this.g.clear()}},kb.prototype.stringify=function(i){return fn.JSON.stringify(i,void 0)},kb.prototype.parse=function(i){return fn.JSON.parse(i,void 0)},Yr(Tm,gb),Tm.prototype.g=function(){return new xf(this.l,this.j)},Tm.prototype.i=function(i){return function(){return i}}({}),Yr(xf,Fr);var Rb=0;function t1(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function rd(i){i.readyState=4,i.l=null,i.j=null,i.A=null,If(i)}function If(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Wt=xf.prototype).open=function(i,t){if(this.readyState!=Rb)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=t,this.readyState=1,If(this)},Wt.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(t.body=i),(this.D||fn).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Wt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,rd(this)),this.readyState=Rb},Wt.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,If(this)),this.g&&(this.readyState=3,If(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==fn.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;t1(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},Wt.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var t=i.value?i.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!i.done}))&&(this.response=this.responseText+=t)}i.done?rd(this):If(this),3==this.readyState&&t1(this)}},Wt.Ua=function(i){this.g&&(this.response=this.responseText=i,rd(this))},Wt.Ta=function(i){this.g&&(this.response=i,rd(this))},Wt.ha=function(){this.g&&rd(this)},Wt.setRequestHeader=function(i,t){this.v.append(i,t)},Wt.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Wt.getAllResponseHeaders=function(){if(!this.h)return"";for(var i=[],t=this.h.entries(),e=t.next();!e.done;)i.push((e=e.value)[0]+": "+e[1]),e=t.next();return i.join("\r\n")},Object.defineProperty(xf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var xb=fn.JSON.parse;function br(i){Fr.call(this),this.headers=new td,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ib,this.K=this.L=!1}Yr(br,Fr);var Ib="",n1=/^https?$/i,r1=["POST","PUT"];function o1(i){return"content-type"==i.toLowerCase()}function rE(i,t){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=t,i.m=5,iE(i),Dm(i)}function iE(i){i.D||(i.D=!0,vi(i,"complete"),vi(i,"error"))}function oE(i){if(i.h&&void 0!==rb&&(!i.C[1]||4!=js(i)||2!=i.ba()))if(i.v&&4==js(i))bf(i.Fa,0,i);else if(vi(i,"readystatechange"),4==js(i)){i.h=!1;try{var o,t=i.ba();e:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}if(!(o=e)){var s;if(s=0===t){var c=String(i.H).match(YR)[1]||null;if(!c&&fn.self&&fn.self.location){var f=fn.self.location.protocol;c=f.substr(0,f.length-1)}s=!n1.test(c?c.toLowerCase():"")}o=s}if(o)vi(i,"complete"),vi(i,"success");else{i.m=6;try{var g=2<js(i)?i.g.statusText:""}catch(v){g=""}i.j=g+" ["+i.ba()+"]",iE(i)}}finally{Dm(i)}}}function Dm(i,t){if(i.g){id(i);var e=i.g,o=i.C[0]?df:null;i.g=null,i.C=null,t||vi(i,"ready");try{e.onreadystatechange=o}catch(s){}}}function id(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(fn.clearTimeout(i.A),i.A=null)}function js(i){return i.g?i.g.readyState:0}function Pb(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case Ib:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Mm(i,t,e){e:{for(o in e){var o=!1;break e}o=!0}o||(e=function(i){var t="";return ib(i,function(e,o){t+=o,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof i?null!=e&&encodeURIComponent(String(e)):ir(i,t,e))}function od(i,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[i]||t}function Ob(i){this.za=0,this.l=[],this.h=new Cf,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=od("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=od("baseRetryDelayMs",5e3,i),this.$a=od("retryDelaySeedMs",1e4,i),this.Ya=od("forwardChannelMaxRetries",2,i),this.ra=od("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new eE(i&&i.concurrentRequestLimit),this.Ca=new OO,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function Fb(i){if(aE(i),3==i.G){var t=i.V++,e=Sa(i.F);ir(e,"SID",i.J),ir(e,"RID",t),ir(e,"TYPE","terminate"),Ea(i,e),(t=new Tf(i,i.h,t,void 0)).K=2,t.v=Am(Sa(e)),e=!1,fn.navigator&&fn.navigator.sendBeacon&&(e=fn.navigator.sendBeacon(t.v.toString(),"")),!e&&fn.Image&&((new Image).src=t.v,e=!0),e||(t.g=Pm(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Mf(t)}Im(i)}function Pf(i){i.g&&(Nb(i),i.g.cancel(),i.g=null)}function aE(i){Pf(i),i.u&&(fn.clearTimeout(i.u),i.u=null),xm(i),i.i.cancel(),i.m&&("number"==typeof i.m&&fn.clearTimeout(i.m),i.m=null)}function Lb(i,t){i.l.push(new Sb(i.Za++,t)),3==i.G&&km(i)}function km(i){Ab(i.i)||i.m||(i.m=!0,hm(i.Ha,i),i.C=0)}function sd(i,t){var e;e=t?t.m:i.V++;var o=Sa(i.F);ir(o,"SID",i.J),ir(o,"RID",e),ir(o,"AID",i.U),Ea(i,o),i.o&&i.s&&Mm(o,i.o,i.s),e=new Tf(i,i.h,e,i.C+1),null===i.o&&(e.H=i.s),t&&(i.l=t.D.concat(i.l)),t=uE(i,e,1e3),e.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),Db(i.i,e),yb(e,o,t)}function Ea(i,t){i.j&&wb({},function(e,o){ir(t,o,e)})}function uE(i,t,e){e=Math.min(i.l.length,e);var o=i.j?Wr(i.j.Oa,i.j,i):null;e:for(var s=i.l,c=-1;;){var f=["count="+e];-1==c?0<e?f.push("ofs="+(c=s[0].h)):c=0:f.push("ofs="+c);for(var g=!0,v=0;v<e;v++){var S=s[v].h,W=s[v].g;if(0>(S-=c))c=Math.max(0,s[v].h-100),g=!1;else try{XR(W,f,"req"+S+"_")}catch(pe){o&&o(W)}}if(g){o=f.join("&");break e}}return i=i.l.splice(0,e),t.D=i,o}function Rm(i){i.g||i.u||(i.Y=1,hm(i.Ga,i),i.A=0)}function Vo(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=Sf(Wr(i.Ga,i),a1(i,i.A)),i.A++,0))}function Nb(i){null!=i.B&&(fn.clearTimeout(i.B),i.B=null)}function ad(i){i.g=new Tf(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var t=Sa(i.oa);ir(t,"RID","rpc"),ir(t,"SID",i.J),ir(t,"CI",i.N?"0":"1"),ir(t,"AID",i.U),Ea(i,t),ir(t,"TYPE","xmlhttp"),i.o&&i.s&&Mm(t,i.o,i.s),i.K&&i.g.setTimeout(i.K);var e=i.g;i=i.la,e.K=1,e.v=Am(Sa(t)),e.s=null,e.U=!0,_b(e,i)}function xm(i){null!=i.v&&(fn.clearTimeout(i.v),i.v=null)}function lE(i,t){var e=null;if(i.g==t){xm(i),Nb(i),i.g=null;var o=2}else{if(!Tb(i.i,t))return;e=t.D,nE(i.i,t),o=1}if(i.I=t.N,0!=i.G)if(t.i)if(1==o){e=t.s?t.s.length:0,t=Date.now()-t.F;var s=i.C;vi(o=fb(),new WA(o,e,t,s)),km(i)}else Rm(i);else if(3==(s=t.o)||0==s&&0<i.I||!(1==o&&function(i,t){return!(Eb(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=t.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=Sf(Wr(i.Ha,i,t),a1(i,i.C)),i.C++,0)))}(i,t)||2==o&&Vo(i)))switch(e&&0<e.length&&(t=i.i,t.i=t.i.concat(e)),s){case 1:Ta(i,5);break;case 4:Ta(i,10);break;case 3:Ta(i,6);break;default:Ta(i,2)}}function a1(i,t){var e=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(e*=2),e*t}function Ta(i,t){if(i.h.info("Error code "+t),2==t){var e=null;i.j&&(e=null);var o=Wr(i.jb,i);e||(e=new Dl("//www.google.com/images/cleardot.gif"),fn.location&&"http"==fn.location.protocol||wm(e,"https"),Am(e)),function(i,t){var e=new Cf;if(fn.Image){var o=new Image;o.onload=ff(Aa,e,o,"TestLoadImage: loaded",!0,t),o.onerror=ff(Aa,e,o,"TestLoadImage: error",!1,t),o.onabort=ff(Aa,e,o,"TestLoadImage: abort",!1,t),o.ontimeout=ff(Aa,e,o,"TestLoadImage: timeout",!1,t),fn.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else t(!1)}(e.toString(),o)}else Ii(2);i.G=0,i.j&&i.j.va(t),Im(i),aE(i)}function Im(i){i.G=0,i.I=-1,i.j&&((0!=Mb(i.i).length||0!=i.l.length)&&(i.i.i.length=0,jc(i.l),i.l.length=0),i.j.ua())}function Bb(i,t,e){var o=function(i){return i instanceof Dl?Sa(i):new Dl(i,void 0)}(e);if(""!=o.i)t&&Cm(o,t+"."+o.i),Sm(o,o.m);else{var s=fn.location;o=function(i,t,e,o){var s=new Dl(null,void 0);return i&&wm(s,i),t&&Cm(s,t),e&&Sm(s,e),o&&(s.l=o),s}(s.protocol,t?t+"."+s.hostname:s.hostname,+s.port,e)}return i.aa&&ib(i.aa,function(c,f){ir(o,f,c)}),e=i.sa,(t=i.D)&&e&&ir(o,t,e),ir(o,"VER",i.ma),Ea(i,o),o}function Pm(i,t,e){if(t&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new br(e&&i.Ba&&!i.qa?new Tm({ib:!0}):i.qa)).L=i.H,t}function Om(){}function Fm(){if(zc&&!(10<=Number(FA)))throw Error("Environmental error: no available transport.")}function po(i,t){Fr.call(this),this.g=new Ob(t),this.l=i,this.h=t&&t.messageUrlParams||null,i=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(i?i["X-WebChannel-Content-Type"]=t.messageContentType:i={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(i?i["X-WebChannel-Client-Profile"]=t.ya:i={"X-WebChannel-Client-Profile":t.ya}),this.g.P=i,(i=t&&t.httpHeadersOverwriteParam)&&!yu(i)&&(this.g.o=i),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!yu(t)&&(this.g.D=t,null!==(i=this.h)&&t in i&&t in(i=this.h)&&delete i[t]),this.j=new xl(this)}function cE(i){Ef.call(this);var t=i.__sm__;if(t){e:{for(var e in t){i=e;break e}i=void 0}(this.i=i)&&(i=this.i,t=null!==t&&i in t?t[i]:void 0),this.data=t}else this.data=i}function dE(){mb.call(this),this.status=1}function xl(i){this.g=i}(Wt=br.prototype).ea=function(i,t,e,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);t=t?t.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():vb.g(),this.C=function(i){return i.h||(i.h=i.i())}(this.u?this.u:vb),this.g.onreadystatechange=Wr(this.Fa,this);try{this.F=!0,this.g.open(t,String(i),!0),this.F=!1}catch(c){return void rE(this,c)}i=e||"";var s=new td(this.headers);o&&wb(o,function(c,f){s.set(f,c)}),o=function(i){e:{for(var t=o1,e=i.length,o="string"==typeof i?i.split(""):i,s=0;s<e;s++)if(s in o&&t.call(void 0,o[s],s,i)){t=s;break e}t=-1}return 0>t?null:"string"==typeof i?i.charAt(t):i[t]}(s.T()),e=fn.FormData&&i instanceof fn.FormData,!(0<=pf(r1,t))||o||e||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(c,f){this.g.setRequestHeader(f,c)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{id(this),0<this.B&&((this.K=function(i){return zc&&um()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Wr(this.pa,this)):this.A=bf(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(c){rE(this,c)}},Wt.pa=function(){void 0!==rb&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,vi(this,"timeout"),this.abort(8))},Wt.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,vi(this,"complete"),vi(this,"abort"),Dm(this))},Wt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Dm(this,!0)),br.Z.M.call(this)},Wt.Fa=function(){this.s||(this.F||this.v||this.l?oE(this):this.cb())},Wt.cb=function(){oE(this)},Wt.ba=function(){try{return 2<js(this)?this.g.status:-1}catch(i){return-1}},Wt.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},Wt.Qa=function(i){if(this.g){var t=this.g.responseText;return i&&0==t.indexOf(i)&&(t=t.substring(i.length)),xb(t)}},Wt.Da=function(){return this.m},Wt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Wt=Ob.prototype).ma=8,Wt.G=1,Wt.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(t){}},Wt.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;var t=new Tf(this,this.h,i,void 0),e=this.s;if(this.P&&(e?xA(e=kA(e),this.P):e=this.P),null===this.o&&(t.H=e),this.ja)e:{for(var o=0,s=0;s<this.l.length;s++){var c=this.l[s];if(void 0===(c="__data__"in c.g&&"string"==typeof(c=c.g.__data__)?c.length:void 0))break;if(4096<(o+=c)){o=s;break e}if(4096===o||s===this.l.length-1){o=s+1;break e}}o=1e3}else o=1e3;o=uE(this,t,o),ir(s=Sa(this.F),"RID",i),ir(s,"CVER",22),this.D&&ir(s,"X-HTTP-Session-Id",this.D),Ea(this,s),this.o&&e&&Mm(s,this.o,e),Db(this.i,t),this.Ra&&ir(s,"TYPE","init"),this.ja?(ir(s,"$req",o),ir(s,"SID","null"),t.$=!0,yb(t,s,null)):yb(t,s,o),this.G=2}}else 3==this.G&&(i?sd(this,i):0==this.l.length||Ab(this.i)||sd(this))},Wt.Ga=function(){if(this.u=null,ad(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=Sf(Wr(this.bb,this),i)}},Wt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ii(10),Pf(this),ad(this))},Wt.ab=function(){null!=this.v&&(this.v=null,Pf(this),Vo(this),Ii(19))},Wt.jb=function(i){i?(this.h.info("Successfully pinged google.com"),Ii(2)):(this.h.info("Failed to ping google.com"),Ii(1))},(Wt=Om.prototype).xa=function(){},Wt.wa=function(){},Wt.va=function(){},Wt.ua=function(){},Wt.Oa=function(){},Fm.prototype.g=function(i,t){return new po(i,t)},Yr(po,Fr),po.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,t=this.l,e=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),hm(Wr(i.hb,i,t))),Ii(0),i.W=t,i.aa=e||{},i.N=i.X,i.F=Bb(i,null,i.W),km(i)},po.prototype.close=function(){Fb(this.g)},po.prototype.u=function(i){if("string"==typeof i){var t={};t.__data__=i,Lb(this.g,t)}else this.v?((t={}).__data__=cb(i),Lb(this.g,t)):Lb(this.g,i)},po.prototype.M=function(){this.g.j=null,delete this.j,Fb(this.g),delete this.g,po.Z.M.call(this)},Yr(cE,Ef),Yr(dE,mb),Yr(xl,Om),xl.prototype.xa=function(){vi(this.g,"a")},xl.prototype.wa=function(i){vi(this.g,new cE(i))},xl.prototype.va=function(i){vi(this.g,new dE(i))},xl.prototype.ua=function(){vi(this.g,"b")},Fm.prototype.createWebChannel=Fm.prototype.g,po.prototype.send=po.prototype.u,po.prototype.open=po.prototype.m,po.prototype.close=po.prototype.close,pb.NO_ERROR=0,pb.TIMEOUT=8,pb.HTTP_ERROR=6,qR.COMPLETE="complete",YA.EventType=Af,Af.OPEN="a",Af.CLOSE="b",Af.ERROR="c",Af.MESSAGE="d",Fr.prototype.listen=Fr.prototype.N,br.prototype.listenOnce=br.prototype.O,br.prototype.getLastError=br.prototype.La,br.prototype.getLastErrorCode=br.prototype.Da,br.prototype.getStatus=br.prototype.ba,br.prototype.getResponseJson=br.prototype.Qa,br.prototype.getResponseText=br.prototype.ga,br.prototype.send=br.prototype.ea;var Of=pb,Ub=qR,Hb=Ca,Gb_PROXY=10,Gb_NOPROXY=11,jb=Tm,ud=YA,hE=br,Uo=function(){function i(t,e){var o=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(s){return o.t(s)},this.i=function(s){return e.writeSequenceNumber(s)})}return i.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},i.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},i}();Uo.o=-1;var pt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},kt=function(i){function t(e,o){var s=this;return(s=i.call(this,o)||this).code=e,s.message=o,s.name="FirebaseError",s.toString=function(){return s.name+": [code="+s.code+"]: "+s.message},s}return(0,Me.ZT)(t,i),t}(Error),hs=new Us.Yd("@firebase/firestore");function zb(){return hs.logLevel}function Bt(i){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];if(hs.logLevel<=Us.in.DEBUG){var o=t.map(Lf);hs.debug.apply(hs,(0,Me.ev)(["Firestore (8.8.1): "+i],o))}}function or(i){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];if(hs.logLevel<=Us.in.ERROR){var o=t.map(Lf);hs.error.apply(hs,(0,Me.ev)(["Firestore (8.8.1): "+i],o))}}function Ff(i){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];if(hs.logLevel<=Us.in.WARN){var o=t.map(Lf);hs.warn.apply(hs,(0,Me.ev)(["Firestore (8.8.1): "+i],o))}}function Lf(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(e){return i}}function Kt(i){void 0===i&&(i="Unexpected state");var t="FIRESTORE (8.8.1) INTERNAL ASSERTION FAILED: "+i;throw or(t),new Error(t)}function ln(i,t){i||Kt()}function Gt(i,t){return i}function c1(i){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(i);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(var o=0;o<i;o++)e[o]=Math.floor(256*Math.random());return e}var Nm=function(){function i(){}return i.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,o="";o.length<20;)for(var s=c1(40),c=0;c<s.length;++c)o.length<20&&s[c]<e&&(o+=t.charAt(s[c]%t.length));return o},i}();function Tn(i,t){return i<t?-1:i>t?1:0}function Il(i,t,e){return i.length===t.length&&i.every(function(o,s){return e(o,t[s])})}function Nf(i){return i+"\0"}var yi=function(){function i(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new kt(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new kt(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new kt(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new kt(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return i.now=function(){return i.fromMillis(Date.now())},i.fromDate=function(t){return i.fromMillis(t.getTime())},i.fromMillis=function(t){var e=Math.floor(t/1e3);return new i(e,Math.floor(1e6*(t-1e3*e)))},i.prototype.toDate=function(){return new Date(this.toMillis())},i.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},i.prototype._compareTo=function(t){return this.seconds===t.seconds?Tn(this.nanoseconds,t.nanoseconds):Tn(this.seconds,t.seconds)},i.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},i.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},i.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},i.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},i}(),Sn=function(){function i(t){this.timestamp=t}return i.fromTimestamp=function(t){return new i(t)},i.min=function(){return new i(new yi(0,0))},i.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},i.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},i.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},i.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},i.prototype.toTimestamp=function(){return this.timestamp},i}();function qb(i){var t=0;for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&t++;return t}function Pl(i,t){for(var e in i)Object.prototype.hasOwnProperty.call(i,e)&&t(e,i[e])}function Wb(i){for(var t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}var Bf=function(){function i(t,e,o){void 0===e?e=0:e>t.length&&Kt(),void 0===o?o=t.length-e:o>t.length-e&&Kt(),this.segments=t,this.offset=e,this.len=o}return Object.defineProperty(i.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(t){return 0===i.comparator(this,t)},i.prototype.child=function(t){var e=this.segments.slice(this.offset,this.limit());return t instanceof i?t.forEach(function(o){e.push(o)}):e.push(t),this.construct(e)},i.prototype.limit=function(){return this.offset+this.length},i.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},i.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},i.prototype.firstSegment=function(){return this.segments[this.offset]},i.prototype.lastSegment=function(){return this.get(this.length-1)},i.prototype.get=function(t){return this.segments[this.offset+t]},i.prototype.isEmpty=function(){return 0===this.length},i.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},i.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},i.prototype.forEach=function(t){for(var e=this.offset,o=this.limit();e<o;e++)t(this.segments[e])},i.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},i.comparator=function(t,e){for(var o=Math.min(t.length,e.length),s=0;s<o;s++){var c=t.get(s),f=e.get(s);if(c<f)return-1;if(c>f)return 1}return t.length<e.length?-1:t.length>e.length?1:0},i}(),xn=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return(0,Me.ZT)(t,i),t.prototype.construct=function(e,o,s){return new t(e,o,s)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];for(var s=[],c=0,f=e;c<f.length;c++){var g=f[c];if(g.indexOf("//")>=0)throw new kt(pt.INVALID_ARGUMENT,"Invalid segment ("+g+"). Paths must not contain // in them.");s.push.apply(s,g.split("/").filter(function(v){return v.length>0}))}return new t(s)},t.emptyPath=function(){return new t([])},t}(Bf),d1=/^[_a-zA-Z][_a-zA-Z0-9]*$/,go=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return(0,Me.ZT)(t,i),t.prototype.construct=function(e,o,s){return new t(e,o,s)},t.isValidIdentifier=function(e){return d1.test(e)},t.prototype.canonicalString=function(){return this.toArray().map(function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var o=[],s="",c=0,f=function(){if(0===s.length)throw new kt(pt.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");o.push(s),s=""},g=!1;c<e.length;){var v=e[c];if("\\"===v){if(c+1===e.length)throw new kt(pt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var S=e[c+1];if("\\"!==S&&"."!==S&&"`"!==S)throw new kt(pt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=S,c+=2}else"`"===v?(g=!g,c++):"."!==v||g?(s+=v,c++):(f(),c++)}if(f(),g)throw new kt(pt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(o)},t.emptyPath=function(){return new t([])},t}(Bf),_u=function(){function i(t){this.fields=t,t.sort(go.comparator)}return i.prototype.covers=function(t){for(var e=0,o=this.fields;e<o.length;e++)if(o[e].isPrefixOf(t))return!0;return!1},i.prototype.isEqual=function(t){return Il(this.fields,t.fields,function(e,o){return e.isEqual(o)})},i}(),Pi=function(){function i(t){this.binaryString=t}return i.fromBase64String=function(t){return new i(atob(t))},i.fromUint8Array=function(t){return new i(function(e){for(var o="",s=0;s<e.length;++s)o+=String.fromCharCode(e[s]);return o}(t))},i.prototype.toBase64=function(){return btoa(this.binaryString)},i.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),o=0;o<t.length;o++)e[o]=t.charCodeAt(o);return e}(this.binaryString)},i.prototype.approximateByteSize=function(){return 2*this.binaryString.length},i.prototype.compareTo=function(t){return Tn(this.binaryString,t.binaryString)},i.prototype.isEqual=function(t){return this.binaryString===t.binaryString},i}();Pi.EMPTY_BYTE_STRING=new Pi("");var h1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Da(i){if(ln(!!i),"string"==typeof i){var t=0,e=h1.exec(i);if(ln(!!e),e[1]){var o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}var s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:wr(i.seconds),nanos:wr(i.nanos)}}function wr(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Ol(i){return"string"==typeof i?Pi.fromBase64String(i):Pi.fromUint8Array(i)}function Yb(i){var t,e;return"server_timestamp"===(null===(e=((null===(t=null==i?void 0:i.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function Zb(i){var t=i.mapValue.fields.__previous_value__;return Yb(t)?Zb(t):t}function ld(i){var t=Da(i.mapValue.fields.__local_write_time__.timestampValue);return new yi(t.seconds,t.nanos)}function Fl(i){return null==i}function Bm(i){return 0===i&&1/i==-1/0}function $b(i){return"number"==typeof i&&Number.isInteger(i)&&!Bm(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}var en=function(){function i(t){this.path=t}return i.fromPath=function(t){return new i(xn.fromString(t))},i.fromName=function(t){return new i(xn.fromString(t).popFirst(5))},i.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},i.prototype.isEqual=function(t){return null!==t&&0===xn.comparator(this.path,t.path)},i.prototype.toString=function(){return this.path.toString()},i.comparator=function(t,e){return xn.comparator(t.path,e.path)},i.isDocumentKey=function(t){return t.length%2==0},i.fromSegments=function(t){return new i(new xn(t.slice()))},i}();function bu(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Yb(i)?4:10:Kt()}function fs(i,t){var s,e=bu(i);if(e!==bu(t))return!1;switch(e){case 0:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return ld(i).isEqual(ld(t));case 3:return function(o,s){if("string"==typeof o.timestampValue&&"string"==typeof s.timestampValue&&o.timestampValue.length===s.timestampValue.length)return o.timestampValue===s.timestampValue;var c=Da(o.timestampValue),f=Da(s.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(i,t);case 5:return i.stringValue===t.stringValue;case 6:return s=t,Ol(i.bytesValue).isEqual(Ol(s.bytesValue));case 7:return i.referenceValue===t.referenceValue;case 8:return function(o,s){return wr(o.geoPointValue.latitude)===wr(s.geoPointValue.latitude)&&wr(o.geoPointValue.longitude)===wr(s.geoPointValue.longitude)}(i,t);case 2:return function(o,s){if("integerValue"in o&&"integerValue"in s)return wr(o.integerValue)===wr(s.integerValue);if("doubleValue"in o&&"doubleValue"in s){var c=wr(o.doubleValue),f=wr(s.doubleValue);return c===f?Bm(c)===Bm(f):isNaN(c)&&isNaN(f)}return!1}(i,t);case 9:return Il(i.arrayValue.values||[],t.arrayValue.values||[],fs);case 10:return function(o,s){var c=o.mapValue.fields||{},f=s.mapValue.fields||{};if(qb(c)!==qb(f))return!1;for(var g in c)if(c.hasOwnProperty(g)&&(void 0===f[g]||!fs(c[g],f[g])))return!1;return!0}(i,t);default:return Kt()}}function cd(i,t){return void 0!==(i.values||[]).find(function(e){return fs(e,t)})}function Ll(i,t){var s,c,f,g,e=bu(i),o=bu(t);if(e!==o)return Tn(e,o);switch(e){case 0:return 0;case 1:return Tn(i.booleanValue,t.booleanValue);case 2:return c=t,(f=wr((s=i).integerValue||s.doubleValue))<(g=wr(c.integerValue||c.doubleValue))?-1:f>g?1:f===g?0:isNaN(f)?isNaN(g)?0:-1:1;case 3:return fE(i.timestampValue,t.timestampValue);case 4:return fE(ld(i),ld(t));case 5:return Tn(i.stringValue,t.stringValue);case 6:return function(s,c){var f=Ol(s),g=Ol(c);return f.compareTo(g)}(i.bytesValue,t.bytesValue);case 7:return function(s,c){for(var f=s.split("/"),g=c.split("/"),v=0;v<f.length&&v<g.length;v++){var S=Tn(f[v],g[v]);if(0!==S)return S}return Tn(f.length,g.length)}(i.referenceValue,t.referenceValue);case 8:return function(s,c){var f=Tn(wr(s.latitude),wr(c.latitude));return 0!==f?f:Tn(wr(s.longitude),wr(c.longitude))}(i.geoPointValue,t.geoPointValue);case 9:return function(s,c){for(var f=s.values||[],g=c.values||[],v=0;v<f.length&&v<g.length;++v){var S=Ll(f[v],g[v]);if(S)return S}return Tn(f.length,g.length)}(i.arrayValue,t.arrayValue);case 10:return function(s,c){var f=s.fields||{},g=Object.keys(f),v=c.fields||{},S=Object.keys(v);g.sort(),S.sort();for(var W=0;W<g.length&&W<S.length;++W){var pe=Tn(g[W],S[W]);if(0!==pe)return pe;var we=Ll(f[g[W]],v[S[W]]);if(0!==we)return we}return Tn(g.length,S.length)}(i.mapValue,t.mapValue);default:throw Kt()}}function fE(i,t){if("string"==typeof i&&"string"==typeof t&&i.length===t.length)return Tn(i,t);var e=Da(i),o=Da(t),s=Tn(e.seconds,o.seconds);return 0!==s?s:Tn(e.nanos,o.nanos)}function Qb(i){return Kb(i)}function Kb(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?"time("+(s=Da(i.timestampValue)).seconds+","+s.nanos+")":"stringValue"in i?i.stringValue:"bytesValue"in i?Ol(i.bytesValue).toBase64():"referenceValue"in i?en.fromName(i.referenceValue).toString():"geoPointValue"in i?"geo("+(t=i.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in i?function(o){for(var s="[",c=!0,f=0,g=o.values||[];f<g.length;f++)c?c=!1:s+=",",s+=Kb(g[f]);return s+"]"}(i.arrayValue):"mapValue"in i?function(o){for(var s="{",c=!0,f=0,g=Object.keys(o.fields||{}).sort();f<g.length;f++){var v=g[f];c?c=!1:s+=",",s+=v+":"+Kb(o.fields[v])}return s+"}"}(i.mapValue):Kt();var s,t}function Vf(i,t){return{referenceValue:"projects/"+i.projectId+"/databases/"+i.database+"/documents/"+t.path.canonicalString()}}function pE(i){return!!i&&"integerValue"in i}function gE(i){return!!i&&"arrayValue"in i}function f1(i){return!!i&&"nullValue"in i}function p1(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Jb(i){return!!i&&"mapValue"in i}function Vm(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){var t={mapValue:{fields:{}}};return Pl(i.mapValue.fields,function(s,c){return t.mapValue.fields[s]=Vm(c)}),t}if(i.arrayValue){for(var e={arrayValue:{values:[]}},o=0;o<(i.arrayValue.values||[]).length;++o)e.arrayValue.values[o]=Vm(i.arrayValue.values[o]);return e}return Object.assign({},i)}var Ho=function(){function i(t){this.value=t}return i.empty=function(){return new i({mapValue:{}})},i.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,o=0;o<t.length-1;++o)if(!Jb(e=(e.mapValue.fields||{})[t.get(o)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},i.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Vm(e)},i.prototype.setAll=function(t){var e=this,o=go.emptyPath(),s={},c=[];t.forEach(function(g,v){if(!o.isImmediateParentOf(v)){var S=e.getFieldsMap(o);e.applyChanges(S,s,c),s={},c=[],o=v.popLast()}g?s[v.lastSegment()]=Vm(g):c.push(v.lastSegment())});var f=this.getFieldsMap(o);this.applyChanges(f,s,c)},i.prototype.delete=function(t){var e=this.field(t.popLast());Jb(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},i.prototype.isEqual=function(t){return fs(this.value,t.value)},i.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var o=0;o<t.length;++o){var s=e.mapValue.fields[t.get(o)];Jb(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},e.mapValue.fields[t.get(o)]=s),e=s}return e.mapValue.fields},i.prototype.applyChanges=function(t,e,o){Pl(e,function(g,v){return t[g]=v});for(var s=0,c=o;s<c.length;s++)delete t[c[s]]},i.prototype.clone=function(){return new i(Vm(this.value))},i}();function g1(i){var t=[];return Pl(i.fields,function(e,o){var s=new go([e]);if(Jb(o)){var c=g1(o.mapValue).fields;if(0===c.length)t.push(s);else for(var f=0,g=c;f<g.length;f++)t.push(s.child(g[f]))}else t.push(s)}),new _u(t)}var _i=function(){function i(t,e,o,s,c){this.key=t,this.documentType=e,this.version=o,this.data=s,this.documentState=c}return i.newInvalidDocument=function(t){return new i(t,0,Sn.min(),Ho.empty(),0)},i.newFoundDocument=function(t,e,o){return new i(t,1,e,o,0)},i.newNoDocument=function(t,e){return new i(t,2,e,Ho.empty(),0)},i.newUnknownDocument=function(t,e){return new i(t,3,e,Ho.empty(),2)},i.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},i.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Ho.empty(),this.documentState=0,this},i.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Ho.empty(),this.documentState=2,this},i.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},i.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(i.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),i.prototype.isValidDocument=function(){return 0!==this.documentType},i.prototype.isFoundDocument=function(){return 1===this.documentType},i.prototype.isNoDocument=function(){return 2===this.documentType},i.prototype.isUnknownDocument=function(){return 3===this.documentType},i.prototype.isEqual=function(t){return t instanceof i&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},i.prototype.clone=function(){return new i(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},i.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},i}(),FO=function(i,t,e,o,s,c,f){void 0===t&&(t=null),void 0===e&&(e=[]),void 0===o&&(o=[]),void 0===s&&(s=null),void 0===c&&(c=null),void 0===f&&(f=null),this.path=i,this.collectionGroup=t,this.orderBy=e,this.filters=o,this.limit=s,this.startAt=c,this.endAt=f,this.h=null};function m1(i,t,e,o,s,c,f){return void 0===t&&(t=null),void 0===e&&(e=[]),void 0===o&&(o=[]),void 0===s&&(s=null),void 0===c&&(c=null),void 0===f&&(f=null),new FO(i,t,e,o,s,c,f)}function Um(i){var t=Gt(i);if(null===t.h){var e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(function(o){return(s=o).field.canonicalString()+s.op.toString()+Qb(s.value);var s}).join(","),e+="|ob:",e+=t.orderBy.map(function(o){return(s=o).field.canonicalString()+s.dir;var s}).join(","),Fl(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=Hm(t.startAt)),t.endAt&&(e+="|ub:",e+=Hm(t.endAt)),t.h=e}return t.h}function Xb(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<i.orderBy.length;e++)if(!HO(i.orderBy[e],t.orderBy[e]))return!1;if(i.filters.length!==t.filters.length)return!1;for(var o=0;o<i.filters.length;o++)if((s=i.filters[o]).op!==(c=t.filters[o]).op||!s.field.isEqual(c.field)||!fs(s.value,c.value))return!1;var s,c;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!b1(i.startAt,t.startAt)&&b1(i.endAt,t.endAt)}function e0(i){return en.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}var Go=function(i){function t(e,o,s){var c=this;return(c=i.call(this)||this).field=e,c.op=o,c.value=s,c}return(0,Me.ZT)(t,i),t.create=function(e,o,s){return e.isKeyField()?"in"===o||"not-in"===o?this.l(e,o,s):new LO(e,o,s):"array-contains"===o?new y1(e,s):"in"===o?new BO(e,s):"not-in"===o?new VO(e,s):"array-contains-any"===o?new UO(e,s):new t(e,o,s)},t.l=function(e,o,s){return"in"===o?new NO(e,s):new v1(e,s)},t.prototype.matches=function(e){var o=e.data.field(this.field);return"!="===this.op?null!==o&&this.m(Ll(o,this.value)):null!==o&&bu(this.value)===bu(o)&&this.m(Ll(o,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Kt()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}(function(){}),LO=function(i){function t(e,o,s){var c=this;return(c=i.call(this,e,o,s)||this).key=en.fromName(s.referenceValue),c}return(0,Me.ZT)(t,i),t.prototype.matches=function(e){var o=en.comparator(e.key,this.key);return this.m(o)},t}(Go),NO=function(i){function t(e,o){var s=this;return(s=i.call(this,e,"in",o)||this).keys=mE(0,o),s}return(0,Me.ZT)(t,i),t.prototype.matches=function(e){return this.keys.some(function(o){return o.isEqual(e.key)})},t}(Go),v1=function(i){function t(e,o){var s=this;return(s=i.call(this,e,"not-in",o)||this).keys=mE(0,o),s}return(0,Me.ZT)(t,i),t.prototype.matches=function(e){return!this.keys.some(function(o){return o.isEqual(e.key)})},t}(Go);function mE(i,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(function(o){return en.fromName(o.referenceValue)})}var y1=function(i){function t(e,o){return i.call(this,e,"array-contains",o)||this}return(0,Me.ZT)(t,i),t.prototype.matches=function(e){var o=e.data.field(this.field);return gE(o)&&cd(o.arrayValue,this.value)},t}(Go),BO=function(i){function t(e,o){return i.call(this,e,"in",o)||this}return(0,Me.ZT)(t,i),t.prototype.matches=function(e){var o=e.data.field(this.field);return null!==o&&cd(this.value.arrayValue,o)},t}(Go),VO=function(i){function t(e,o){return i.call(this,e,"not-in",o)||this}return(0,Me.ZT)(t,i),t.prototype.matches=function(e){if(cd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var o=e.data.field(this.field);return null!==o&&!cd(this.value.arrayValue,o)},t}(Go),UO=function(i){function t(e,o){return i.call(this,e,"array-contains-any",o)||this}return(0,Me.ZT)(t,i),t.prototype.matches=function(e){var o=this,s=e.data.field(this.field);return!(!gE(s)||!s.arrayValue.values)&&s.arrayValue.values.some(function(c){return cd(o.value.arrayValue,c)})},t}(Go),Uf=function(i,t){this.position=i,this.before=t};function Hm(i){return(i.before?"b":"a")+":"+i.position.map(function(t){return Qb(t)}).join(",")}var dd=function(i,t){void 0===t&&(t="asc"),this.field=i,this.dir=t};function HO(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}function _1(i,t,e){for(var o=0,s=0;s<i.position.length;s++){var c=t[s],f=i.position[s];if(o=c.field.isKeyField()?en.comparator(en.fromName(f.referenceValue),e.key):Ll(f,e.data.field(c.field)),"desc"===c.dir&&(o*=-1),0!==o)break}return i.before?o<=0:o<0}function b1(i,t){if(null===i)return null===t;if(null===t||i.before!==t.before||i.position.length!==t.position.length)return!1;for(var e=0;e<i.position.length;e++)if(!fs(i.position[e],t.position[e]))return!1;return!0}var wu=function(i,t,e,o,s,c,f,g){void 0===t&&(t=null),void 0===e&&(e=[]),void 0===o&&(o=[]),void 0===s&&(s=null),void 0===c&&(c="F"),void 0===f&&(f=null),void 0===g&&(g=null),this.path=i,this.collectionGroup=t,this.explicitOrderBy=e,this.filters=o,this.limit=s,this.limitType=c,this.startAt=f,this.endAt=g,this.p=null,this.T=null};function vE(i,t,e,o,s,c,f,g){return new wu(i,t,e,o,s,c,f,g)}function Hf(i){return new wu(i)}function Gm(i){return!Fl(i.limit)&&"F"===i.limitType}function hd(i){return!Fl(i.limit)&&"L"===i.limitType}function Cu(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function jm(i){for(var t=0,e=i.filters;t<e.length;t++){var o=e[t];if(o.g())return o.field}return null}function t0(i){return null!==i.collectionGroup}function fd(i){var t=Gt(i);if(null===t.p){t.p=[];var e=jm(t),o=Cu(t);if(null!==e&&null===o)e.isKeyField()||t.p.push(new dd(e)),t.p.push(new dd(go.keyField(),"asc"));else{for(var s=!1,c=0,f=t.explicitOrderBy;c<f.length;c++){var g=f[c];t.p.push(g),g.field.isKeyField()&&(s=!0)}if(!s){var v=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new dd(go.keyField(),v))}}}return t.p}function Hi(i){var t=Gt(i);if(!t.T)if("F"===t.limitType)t.T=m1(t.path,t.collectionGroup,fd(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var e=[],o=0,s=fd(t);o<s.length;o++){var c=s[o];e.push(new dd(c.field,"desc"===c.dir?"asc":"desc"))}var g=t.endAt?new Uf(t.endAt.position,!t.endAt.before):null,v=t.startAt?new Uf(t.startAt.position,!t.startAt.before):null;t.T=m1(t.path,t.collectionGroup,e,t.filters,t.limit,g,v)}return t.T}function n0(i,t,e){return new wu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,e,i.startAt,i.endAt)}function pd(i,t){return Xb(Hi(i),Hi(t))&&i.limitType===t.limitType}function r0(i){return Um(Hi(i))+"|lt:"+i.limitType}function yE(i){return"Query(target="+(e=(t=Hi(i)).path.canonicalString(),null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(o){return(s=o).field.canonicalString()+" "+s.op+" "+Qb(s.value);var s}).join(", ")+"]"),Fl(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(o){return(s=o).field.canonicalString()+" ("+s.dir+")";var s}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Hm(t.startAt)),t.endAt&&(e+=", endAt: "+Hm(t.endAt)),"Target("+e+"); limitType=")+i.limitType+")";var t,e}function gd(i,t){return t.isFoundDocument()&&(s=(o=t).key.path,null!==(e=i).collectionGroup?o.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(s):en.isDocumentKey(e.path)?e.path.isEqual(s):e.path.isImmediateParentOf(s))&&function(e,o){for(var s=0,c=e.explicitOrderBy;s<c.length;s++){var f=c[s];if(!f.field.isKeyField()&&null===o.data.field(f.field))return!1}return!0}(i,t)&&function(e,o){for(var s=0,c=e.filters;s<c.length;s++)if(!c[s].matches(o))return!1;return!0}(i,t)&&function(e,o){return!(e.startAt&&!_1(e.startAt,fd(e),o)||e.endAt&&_1(e.endAt,fd(e),o))}(i,t);var e,o,s}function Gf(i){return function(t,e){for(var o=!1,s=0,c=fd(i);s<c.length;s++){var f=c[s],g=_E(f,t,e);if(0!==g)return g;o=o||f.field.isKeyField()}return 0}}function _E(i,t,e){var s,f,g,v,o=i.field.isKeyField()?en.comparator(t.key,e.key):(f=e,g=t.data.field(s=i.field),v=f.data.field(s),null!==g&&null!==v?Ll(g,v):Kt());switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return Kt()}}function w1(i,t){if(i.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bm(t)?"-0":t}}function C1(i){return{integerValue:""+i}}function S1(i,t){return $b(t)?C1(t):w1(i,t)}var zm=function(){this._=void 0};function GO(i,t,e){return i instanceof jf?(c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(o=e).seconds,nanos:o.nanoseconds}}}},(s=t)&&(c.fields.__previous_value__=s),{mapValue:c}):i instanceof md?Wm(i,t):i instanceof Nl?A1(i,t):function(o,s){var c=bE(o,s),f=wE(c)+wE(o.A);return pE(c)&&pE(o.A)?C1(f):w1(o.R,f)}(i,t);var o,s,c}function qm(i,t,e){return i instanceof md?Wm(i,t):i instanceof Nl?A1(i,t):e}function bE(i,t){return i instanceof zf?pE(e=t)||(o=e)&&"doubleValue"in o?t:{integerValue:0}:null;var o,e}var jf=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return(0,Me.ZT)(t,i),t}(zm),md=function(i){function t(e){var o=this;return(o=i.call(this)||this).elements=e,o}return(0,Me.ZT)(t,i),t}(zm);function Wm(i,t){for(var e=E1(t),o=function(f){e.some(function(g){return fs(g,f)})||e.push(f)},s=0,c=i.elements;s<c.length;s++)o(c[s]);return{arrayValue:{values:e}}}var Nl=function(i){function t(e){var o=this;return(o=i.call(this)||this).elements=e,o}return(0,Me.ZT)(t,i),t}(zm);function A1(i,t){for(var e=E1(t),o=function(f){e=e.filter(function(g){return!fs(g,f)})},s=0,c=i.elements;s<c.length;s++)o(c[s]);return{arrayValue:{values:e}}}var zf=function(i){function t(e,o){var s=this;return(s=i.call(this)||this).R=e,s.A=o,s}return(0,Me.ZT)(t,i),t}(zm);function wE(i){return wr(i.integerValue||i.doubleValue)}function E1(i){return gE(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}var vd=function(i,t){this.field=i,this.transform=t},T1=function(i,t){this.version=i,this.transformResults=t},Oi=function(){function i(t,e){this.updateTime=t,this.exists=e}return i.none=function(){return new i},i.exists=function(t){return new i(void 0,t)},i.updateTime=function(t){return new i(t)},Object.defineProperty(i.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},i}();function o0(i,t){return void 0!==i.updateTime?t.isFoundDocument()&&t.version.isEqual(i.updateTime):void 0===i.exists||i.exists===t.isFoundDocument()}var Ym=function(){};function qf(i,t,e){var o,s,c,f,g;i instanceof Wf?(s=t,c=e,f=(o=i).value.clone(),g=$m(o.fieldTransforms,s,c.transformResults),f.setAll(g),s.convertToFoundDocument(c.version,f).setHasCommittedMutations()):i instanceof Tr?function(o,s,c){if(o0(o.precondition,s)){var f=$m(o.fieldTransforms,s,c.transformResults),g=s.data;g.setAll(SE(o)),g.setAll(f),s.convertToFoundDocument(c.version,g).setHasCommittedMutations()}else s.convertToUnknownDocument(c.version)}(i,t,e):function(o,s,c){s.convertToNoDocument(c.version).setHasCommittedMutations()}(0,t,e)}function s0(i,t,e){var s;i instanceof Wf?function(o,s,c){if(o0(o.precondition,s)){var f=o.value.clone(),g=AE(o.fieldTransforms,c,s);f.setAll(g),s.convertToFoundDocument(Zm(s),f).setHasLocalMutations()}}(i,t,e):i instanceof Tr?function(o,s,c){if(o0(o.precondition,s)){var f=AE(o.fieldTransforms,c,s),g=s.data;g.setAll(SE(o)),g.setAll(f),s.convertToFoundDocument(Zm(s),g).setHasLocalMutations()}}(i,t,e):o0(i.precondition,s=t)&&s.convertToNoDocument(Sn.min())}function D1(i,t){for(var e=null,o=0,s=i.fieldTransforms;o<s.length;o++){var c=s[o],f=t.data.field(c.field),g=bE(c.transform,f||null);null!=g&&(null==e&&(e=Ho.empty()),e.set(c.field,g))}return e||null}function CE(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&(o=t.fieldTransforms,!!(void 0===(e=i.fieldTransforms)&&void 0===o||e&&o&&Il(e,o,function(s,c){return(f=s).field.isEqual((g=c).field)&&(S=g.transform,(v=f.transform)instanceof md&&S instanceof md||v instanceof Nl&&S instanceof Nl?Il(v.elements,S.elements,fs):v instanceof zf&&S instanceof zf?fs(v.A,S.A):v instanceof jf&&S instanceof jf);var f,g,v,S})))&&(0===i.type?i.value.isEqual(t.value):1!==i.type||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask));var e,o}function Zm(i){return i.isFoundDocument()?i.version:Sn.min()}var Wf=function(i){function t(e,o,s,c){void 0===c&&(c=[]);var f=this;return(f=i.call(this)||this).key=e,f.value=o,f.precondition=s,f.fieldTransforms=c,f.type=0,f}return(0,Me.ZT)(t,i),t}(Ym),Tr=function(i){function t(e,o,s,c,f){void 0===f&&(f=[]);var g=this;return(g=i.call(this)||this).key=e,g.data=o,g.fieldMask=s,g.precondition=c,g.fieldTransforms=f,g.type=1,g}return(0,Me.ZT)(t,i),t}(Ym);function SE(i){var t=new Map;return i.fieldMask.fields.forEach(function(e){if(!e.isEmpty()){var o=i.data.field(e);t.set(e,o)}}),t}function $m(i,t,e){var o=new Map;ln(i.length===e.length);for(var s=0;s<e.length;s++){var c=i[s],f=c.transform,g=t.data.field(c.field);o.set(c.field,qm(f,g,e[s]))}return o}function AE(i,t,e){for(var o=new Map,s=0,c=i;s<c.length;s++){var f=c[s],g=f.transform,v=e.data.field(f.field);o.set(f.field,GO(g,v,t))}return o}var Dr,Dn,yd=function(i){function t(e,o){var s=this;return(s=i.call(this)||this).key=e,s.precondition=o,s.type=2,s.fieldTransforms=[],s}return(0,Me.ZT)(t,i),t}(Ym),Qm=function(i){function t(e,o){var s=this;return(s=i.call(this)||this).key=e,s.precondition=o,s.type=3,s.fieldTransforms=[],s}return(0,Me.ZT)(t,i),t}(Ym),M1=function(i){this.count=i};function a0(i){switch(i){case pt.OK:return Kt();case pt.CANCELLED:case pt.UNKNOWN:case pt.DEADLINE_EXCEEDED:case pt.RESOURCE_EXHAUSTED:case pt.INTERNAL:case pt.UNAVAILABLE:case pt.UNAUTHENTICATED:return!1;case pt.INVALID_ARGUMENT:case pt.NOT_FOUND:case pt.ALREADY_EXISTS:case pt.PERMISSION_DENIED:case pt.FAILED_PRECONDITION:case pt.ABORTED:case pt.OUT_OF_RANGE:case pt.UNIMPLEMENTED:case pt.DATA_LOSS:return!0;default:return Kt()}}function u0(i){if(void 0===i)return or("GRPC error has no .code"),pt.UNKNOWN;switch(i){case Dr.OK:return pt.OK;case Dr.CANCELLED:return pt.CANCELLED;case Dr.UNKNOWN:return pt.UNKNOWN;case Dr.DEADLINE_EXCEEDED:return pt.DEADLINE_EXCEEDED;case Dr.RESOURCE_EXHAUSTED:return pt.RESOURCE_EXHAUSTED;case Dr.INTERNAL:return pt.INTERNAL;case Dr.UNAVAILABLE:return pt.UNAVAILABLE;case Dr.UNAUTHENTICATED:return pt.UNAUTHENTICATED;case Dr.INVALID_ARGUMENT:return pt.INVALID_ARGUMENT;case Dr.NOT_FOUND:return pt.NOT_FOUND;case Dr.ALREADY_EXISTS:return pt.ALREADY_EXISTS;case Dr.PERMISSION_DENIED:return pt.PERMISSION_DENIED;case Dr.FAILED_PRECONDITION:return pt.FAILED_PRECONDITION;case Dr.ABORTED:return pt.ABORTED;case Dr.OUT_OF_RANGE:return pt.OUT_OF_RANGE;case Dr.UNIMPLEMENTED:return pt.UNIMPLEMENTED;case Dr.DATA_LOSS:return pt.DATA_LOSS;default:return Kt()}}(Dn=Dr||(Dr={}))[Dn.OK=0]="OK",Dn[Dn.CANCELLED=1]="CANCELLED",Dn[Dn.UNKNOWN=2]="UNKNOWN",Dn[Dn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dn[Dn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dn[Dn.NOT_FOUND=5]="NOT_FOUND",Dn[Dn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dn[Dn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dn[Dn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dn[Dn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dn[Dn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dn[Dn.ABORTED=10]="ABORTED",Dn[Dn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dn[Dn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dn[Dn.INTERNAL=13]="INTERNAL",Dn[Dn.UNAVAILABLE=14]="UNAVAILABLE",Dn[Dn.DATA_LOSS=15]="DATA_LOSS";var bi=function(){function i(t,e){this.comparator=t,this.root=e||zs.EMPTY}return i.prototype.insert=function(t,e){return new i(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,zs.BLACK,null,null))},i.prototype.remove=function(t){return new i(this.comparator,this.root.remove(t,this.comparator).copy(null,null,zs.BLACK,null,null))},i.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var o=this.comparator(t,e.key);if(0===o)return e.value;o<0?e=e.left:o>0&&(e=e.right)}return null},i.prototype.indexOf=function(t){for(var e=0,o=this.root;!o.isEmpty();){var s=this.comparator(t,o.key);if(0===s)return e+o.left.size;s<0?o=o.left:(e+=o.left.size+1,o=o.right)}return-1},i.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(i.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),i.prototype.minKey=function(){return this.root.minKey()},i.prototype.maxKey=function(){return this.root.maxKey()},i.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},i.prototype.forEach=function(t){this.inorderTraversal(function(e,o){return t(e,o),!1})},i.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,o){return t.push(e+":"+o),!1}),"{"+t.join(", ")+"}"},i.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},i.prototype.getIterator=function(){return new Km(this.root,null,this.comparator,!1)},i.prototype.getIteratorFrom=function(t){return new Km(this.root,t,this.comparator,!1)},i.prototype.getReverseIterator=function(){return new Km(this.root,null,this.comparator,!0)},i.prototype.getReverseIteratorFrom=function(t){return new Km(this.root,t,this.comparator,!0)},i}(),Km=function(){function i(t,e,o,s){this.isReverse=s,this.nodeStack=[];for(var c=1;!t.isEmpty();)if(c=e?o(t.key,e):1,s&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(0===c){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return i.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},i.prototype.hasNext=function(){return this.nodeStack.length>0},i.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},i}(),zs=function(){function i(t,e,o,s,c){this.key=t,this.value=e,this.color=null!=o?o:i.RED,this.left=null!=s?s:i.EMPTY,this.right=null!=c?c:i.EMPTY,this.size=this.left.size+1+this.right.size}return i.prototype.copy=function(t,e,o,s,c){return new i(null!=t?t:this.key,null!=e?e:this.value,null!=o?o:this.color,null!=s?s:this.left,null!=c?c:this.right)},i.prototype.isEmpty=function(){return!1},i.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},i.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},i.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},i.prototype.minKey=function(){return this.min().key},i.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},i.prototype.insert=function(t,e,o){var s=this,c=o(t,s.key);return(s=c<0?s.copy(null,null,null,s.left.insert(t,e,o),null):0===c?s.copy(null,e,null,null,null):s.copy(null,null,null,null,s.right.insert(t,e,o))).fixUp()},i.prototype.removeMin=function(){if(this.left.isEmpty())return i.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},i.prototype.remove=function(t,e){var o,s=this;if(e(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,e),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===e(t,s.key)){if(s.right.isEmpty())return i.EMPTY;o=s.right.min(),s=s.copy(o.key,o.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,e))}return s.fixUp()},i.prototype.isRed=function(){return this.color},i.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},i.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},i.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},i.prototype.rotateLeft=function(){var t=this.copy(null,null,i.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},i.prototype.rotateRight=function(){var t=this.copy(null,null,i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},i.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},i.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},i.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Kt();var t=this.left.check();if(t!==this.right.check())throw Kt();return t+(this.isRed()?0:1)},i}();zs.EMPTY=null,zs.RED=!0,zs.BLACK=!1,zs.EMPTY=new(function(){function i(){this.size=0}return Object.defineProperty(i.prototype,"key",{get:function(){throw Kt()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){throw Kt()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"color",{get:function(){throw Kt()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"left",{get:function(){throw Kt()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"right",{get:function(){throw Kt()},enumerable:!1,configurable:!0}),i.prototype.copy=function(t,e,o,s,c){return this},i.prototype.insert=function(t,e,o){return new zs(t,e)},i.prototype.remove=function(t,e){return this},i.prototype.isEmpty=function(){return!0},i.prototype.inorderTraversal=function(t){return!1},i.prototype.reverseTraversal=function(t){return!1},i.prototype.minKey=function(){return null},i.prototype.maxKey=function(){return null},i.prototype.isRed=function(){return!1},i.prototype.checkMaxDepth=function(){return!0},i.prototype.check=function(){return 0},i}());var Mr=function(){function i(t){this.comparator=t,this.data=new bi(this.comparator)}return i.prototype.has=function(t){return null!==this.data.get(t)},i.prototype.first=function(){return this.data.minKey()},i.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(i.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),i.prototype.indexOf=function(t){return this.data.indexOf(t)},i.prototype.forEach=function(t){this.data.inorderTraversal(function(e,o){return t(e),!1})},i.prototype.forEachInRange=function(t,e){for(var o=this.data.getIteratorFrom(t[0]);o.hasNext();){var s=o.getNext();if(this.comparator(s.key,t[1])>=0)return;e(s.key)}},i.prototype.forEachWhile=function(t,e){var o;for(o=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();o.hasNext();)if(!t(o.getNext().key))return},i.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},i.prototype.getIterator=function(){return new l0(this.data.getIterator())},i.prototype.getIteratorFrom=function(t){return new l0(this.data.getIteratorFrom(t))},i.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},i.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},i.prototype.isEmpty=function(){return this.data.isEmpty()},i.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(o){e=e.add(o)}),e},i.prototype.isEqual=function(t){if(!(t instanceof i)||this.size!==t.size)return!1;for(var e=this.data.getIterator(),o=t.data.getIterator();e.hasNext();){var s=e.getNext().key,c=o.getNext().key;if(0!==this.comparator(s,c))return!1}return!0},i.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},i.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},i.prototype.copy=function(t){var e=new i(this.comparator);return e.data=t,e},i}(),l0=function(){function i(t){this.iter=t}return i.prototype.getNext=function(){return this.iter.getNext().key},i.prototype.hasNext=function(){return this.iter.hasNext()},i}(),c0=new bi(en.comparator);function jo(){return c0}var ps=new bi(en.comparator);function d0(){return ps}var jO=new bi(en.comparator);function EE(){return jO}var zO=new Mr(en.comparator);function zn(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];for(var e=zO,o=0,s=i;o<s.length;o++){var c=s[o];e=e.add(c)}return e}var k1=new Mr(Tn);function Jm(){return k1}var TE=function(){function i(t,e,o,s,c){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=o,this.documentUpdates=s,this.resolvedLimboDocuments=c}return i.createSynthesizedRemoteEventForCurrentChange=function(t,e){var o=new Map;return o.set(t,h0.createSynthesizedTargetChangeForCurrentChange(t,e)),new i(Sn.min(),o,Jm(),jo(),zn())},i}(),h0=function(){function i(t,e,o,s,c){this.resumeToken=t,this.current=e,this.addedDocuments=o,this.modifiedDocuments=s,this.removedDocuments=c}return i.createSynthesizedTargetChangeForCurrentChange=function(t,e){return new i(Pi.EMPTY_BYTE_STRING,e,zn(),zn(),zn())},i}(),Yf=function(i,t,e,o){this.v=i,this.removedTargetIds=t,this.key=e,this.P=o},DE=function(i,t){this.targetId=i,this.V=t},ME=function(i,t,e,o){void 0===e&&(e=Pi.EMPTY_BYTE_STRING),void 0===o&&(o=null),this.state=i,this.targetIds=t,this.resumeToken=e,this.cause=o},f0=function(){function i(){this.S=0,this.D=p0(),this.C=Pi.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(i.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),i.prototype.O=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},i.prototype.M=function(){var t=zn(),e=zn(),o=zn();return this.D.forEach(function(s,c){switch(c){case 0:t=t.add(s);break;case 2:e=e.add(s);break;case 1:o=o.add(s);break;default:Kt()}}),new h0(this.C,this.N,t,e,o)},i.prototype.L=function(){this.F=!1,this.D=p0()},i.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},i.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},i.prototype.U=function(){this.S+=1},i.prototype.K=function(){this.S-=1},i.prototype.j=function(){this.F=!0,this.N=!0},i}(),R1=function(){function i(t){this.W=t,this.G=new Map,this.H=jo(),this.J=x1(),this.Y=new Mr(Tn)}return i.prototype.X=function(t){for(var e=0,o=t.v;e<o.length;e++){var s=o[e];t.P&&t.P.isFoundDocument()?this.Z(s,t.P):this.tt(s,t.key,t.P)}for(var c=0,f=t.removedTargetIds;c<f.length;c++)this.tt(s=f[c],t.key,t.P)},i.prototype.et=function(t){var e=this;this.forEachTarget(t,function(o){var s=e.nt(o);switch(t.state){case 0:e.st(o)&&s.O(t.resumeToken);break;case 1:s.K(),s.k||s.L(),s.O(t.resumeToken);break;case 2:s.K(),s.k||e.removeTarget(o);break;case 3:e.st(o)&&(s.j(),s.O(t.resumeToken));break;case 4:e.st(o)&&(e.it(o),s.O(t.resumeToken));break;default:Kt()}})},i.prototype.forEachTarget=function(t,e){var o=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(s,c){o.st(c)&&e(c)})},i.prototype.rt=function(t){var e=t.targetId,o=t.V.count,s=this.ot(e);if(s){var c=s.target;if(e0(c))if(0===o){var f=new en(c.path);this.tt(e,f,_i.newNoDocument(f,Sn.min()))}else ln(1===o);else this.ct(e)!==o&&(this.it(e),this.Y=this.Y.add(e))}},i.prototype.ut=function(t){var e=this,o=new Map;this.G.forEach(function(f,g){var v=e.ot(g);if(v){if(f.current&&e0(v.target)){var S=new en(v.target.path);null!==e.H.get(S)||e.at(g,S)||e.tt(g,S,_i.newNoDocument(S,t))}f.$&&(o.set(g,f.M()),f.L())}});var s=zn();this.J.forEach(function(f,g){var v=!0;g.forEachWhile(function(S){var W=e.ot(S);return!W||2===W.purpose||(v=!1,!1)}),v&&(s=s.add(f))});var c=new TE(t,o,this.Y,this.H,s);return this.H=jo(),this.J=x1(),this.Y=new Mr(Tn),c},i.prototype.Z=function(t,e){if(this.st(t)){var o=this.at(t,e.key)?2:0;this.nt(t).B(e.key,o),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},i.prototype.tt=function(t,e,o){if(this.st(t)){var s=this.nt(t);this.at(t,e)?s.B(e,1):s.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),o&&(this.H=this.H.insert(e,o))}},i.prototype.removeTarget=function(t){this.G.delete(t)},i.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},i.prototype.U=function(t){this.nt(t).U()},i.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new f0,this.G.set(t,e)),e},i.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Mr(Tn),this.J=this.J.insert(t,e)),e},i.prototype.st=function(t){var e=null!==this.ot(t);return e||Bt("WatchChangeAggregator","Detected inactive target",t),e},i.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},i.prototype.it=function(t){var e=this;this.G.set(t,new f0),this.W.getRemoteKeysForTarget(t).forEach(function(o){e.tt(t,o,null)})},i.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},i}();function x1(){return new bi(en.comparator)}function p0(){return new bi(en.comparator)}var kE={asc:"ASCENDING",desc:"DESCENDING"},I1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},P1=function(i,t){this.databaseId=i,this.I=t};function _d(i,t){return i.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function bd(i,t){return i.I?t.toBase64():t.toUint8Array()}function g0(i,t){return _d(i,t.toTimestamp())}function Lr(i){return ln(!!i),Sn.fromTimestamp((e=Da(i),new yi(e.seconds,e.nanos)));var e}function m0(i,t){return(e=i,new xn(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function RE(i){var t=xn.fromString(i);return ln(Su(t)),t}function Xm(i,t){return m0(i.databaseId,t.path)}function Ma(i,t){var e=RE(t);if(e.get(1)!==i.databaseId.projectId)throw new kt(pt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+i.databaseId.projectId);if(e.get(3)!==i.databaseId.database)throw new kt(pt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+i.databaseId.database);return new en(IE(e))}function xE(i,t){return m0(i.databaseId,t)}function v0(i){var t=RE(i);return 4===t.length?xn.emptyPath():IE(t)}function wd(i){return new xn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function IE(i){return ln(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function PE(i,t,e){return{name:Xm(i,t),fields:e.value.mapValue.fields}}function OE(i,t,e){var o=Ma(i,t.name),s=Lr(t.updateTime),c=new Ho({mapValue:{fields:t.fields}}),f=_i.newFoundDocument(o,s,c);return e&&f.setHasCommittedMutations(),e?f.setHasCommittedMutations():f}function ev(i,t){var e,s;if(t instanceof Wf)e={update:PE(i,t.key,t.value)};else if(t instanceof yd)e={delete:Xm(i,t.key)};else if(t instanceof Tr)e={update:PE(i,t.key,t.data),updateMask:BE(t.fieldMask)};else{if(!(t instanceof Qm))return Kt();e={verify:Xm(i,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(function(o){return function(s,c){var f=c.transform;if(f instanceof jf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof md)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Nl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof zf)return{fieldPath:c.field.canonicalString(),increment:f.A};throw Kt()}(0,o)})),t.precondition.isNone||(e.currentDocument=void 0!==(s=t.precondition).updateTime?{updateTime:g0(i,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:Kt()),e}function y0(i,t){var S,e=t.currentDocument?void 0!==(S=t.currentDocument).updateTime?Oi.updateTime(Lr(S.updateTime)):void 0!==S.exists?Oi.exists(S.exists):Oi.none():Oi.none(),o=t.updateTransforms?t.updateTransforms.map(function(S){return function(W,pe){var we=null;"setToServerValue"in pe?(ln("REQUEST_TIME"===pe.setToServerValue),we=new jf):"appendMissingElements"in pe?we=new md(pe.appendMissingElements.values||[]):"removeAllFromArray"in pe?we=new Nl(pe.removeAllFromArray.values||[]):"increment"in pe?we=new zf(W,pe.increment):Kt();var Ue=go.fromServerFormat(pe.fieldPath);return new vd(Ue,we)}(i,S)}):[];if(t.update){var s=Ma(i,t.update.name),c=new Ho({mapValue:{fields:t.update.fields}});if(t.updateMask){var f=function(S){return new _u((S.fieldPaths||[]).map(function(pe){return go.fromServerFormat(pe)}))}(t.updateMask);return new Tr(s,c,f,e,o)}return new Wf(s,c,e,o)}if(t.delete){var g=Ma(i,t.delete);return new yd(g,e)}if(t.verify){var v=Ma(i,t.verify);return new Qm(v,e)}return Kt()}function O1(i,t){return{documents:[xE(i,t.path)]}}function F1(i,t){var e={structuredQuery:{}},o=t.path;null!==t.collectionGroup?(e.parent=xE(i,o),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=xE(i,o.popLast()),e.structuredQuery.from=[{collectionId:o.lastSegment()}]);var s=function(g){if(0!==g.length){var v=g.map(function(S){return function(W){if("=="===W.op){if(p1(W.value))return{unaryFilter:{field:Cd(W.field),op:"IS_NAN"}};if(f1(W.value))return{unaryFilter:{field:Cd(W.field),op:"IS_NULL"}}}else if("!="===W.op){if(p1(W.value))return{unaryFilter:{field:Cd(W.field),op:"IS_NOT_NAN"}};if(f1(W.value))return{unaryFilter:{field:Cd(W.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cd(W.field),op:NE(W.op),value:W.value}}}(S)});return 1===v.length?v[0]:{compositeFilter:{op:"AND",filters:v}}}}(t.filters);s&&(e.structuredQuery.where=s);var c=function(g){if(0!==g.length)return g.map(function(v){return{field:Cd((S=v).field),direction:LE(S.dir)};var S})}(t.orderBy);c&&(e.structuredQuery.orderBy=c);var v,f=(v=t.limit,i.I||Fl(v)?v:{value:v});return null!==f&&(e.structuredQuery.limit=f),t.startAt&&(e.structuredQuery.startAt=Nr(t.startAt)),t.endAt&&(e.structuredQuery.endAt=Nr(t.endAt)),e}function FE(i){var t=v0(i.parent),e=i.structuredQuery,o=e.from?e.from.length:0,s=null;if(o>0){ln(1===o);var c=e.from[0];c.allDescendants?s=c.collectionId:t=t.child(c.collectionId)}var f=[];e.where&&(f=tv(e.where));var g=[];e.orderBy&&(g=e.orderBy.map(function(pe){return new dd(ka((we=pe).field),function(Te){switch(Te){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(we.direction));var we}));var pe,we,v=null;e.limit&&(v=Fl(we="object"==typeof(pe=e.limit)?pe.value:pe)?null:we);var S=null;e.startAt&&(S=L1(e.startAt));var W=null;return e.endAt&&(W=L1(e.endAt)),vE(t,s,g,f,v,"F",S,W)}function tv(i){return i?void 0!==i.unaryFilter?[B1(i)]:void 0!==i.fieldFilter?[N1(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(function(t){return tv(t)}).reduce(function(t,e){return t.concat(e)}):Kt():[]}function Nr(i){return{before:i.before,values:i.position}}function L1(i){return new Uf(i.values||[],!!i.before)}function LE(i){return kE[i]}function NE(i){return I1[i]}function Cd(i){return{fieldPath:i.canonicalString()}}function ka(i){return go.fromServerFormat(i.fieldPath)}function N1(i){return Go.create(ka(i.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Kt()}}(i.fieldFilter.op),i.fieldFilter.value)}function B1(i){switch(i.unaryFilter.op){case"IS_NAN":var t=ka(i.unaryFilter.field);return Go.create(t,"==",{doubleValue:NaN});case"IS_NULL":var e=ka(i.unaryFilter.field);return Go.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var o=ka(i.unaryFilter.field);return Go.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var s=ka(i.unaryFilter.field);return Go.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Kt()}}function BE(i){var t=[];return i.fields.forEach(function(e){return t.push(e.canonicalString())}),{fieldPaths:t}}function Su(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function zo(i){for(var t="",e=0;e<i.length;e++)t.length>0&&(t=nv(t)),t=_0(i.get(e),t);return nv(t)}function _0(i,t){for(var e=t,o=i.length,s=0;s<o;s++){var c=i.charAt(s);switch(c){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=c}}return e}function nv(i){return i+"\x01\x01"}function Ra(i){var t=i.length;if(ln(t>=2),2===t)return ln("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),xn.emptyPath();for(var e=t-2,o=[],s="",c=0;c<t;){var f=i.indexOf("\x01",c);switch((f<0||f>e)&&Kt(),i.charAt(f+1)){case"\x01":var g=i.substring(c,f),v=void 0;0===s.length?v=g:(v=s+=g,s=""),o.push(v);break;case"\x10":s+=i.substring(c,f),s+="\0";break;case"\x11":s+=i.substring(c,f+1);break;default:Kt()}c=f+2}return new xn(o)}var rv=function(i,t){this.seconds=i,this.nanoseconds=t},mo=function(i,t,e){this.ownerId=i,this.allowTabSynchronization=t,this.leaseTimestampMs=e};mo.store="owner",mo.key="owner";var qs=function(i,t,e){this.userId=i,this.lastAcknowledgedBatchId=t,this.lastStreamToken=e};qs.store="mutationQueues",qs.keyPath="userId";var er=function(i,t,e,o,s){this.userId=i,this.batchId=t,this.localWriteTimeMs=e,this.baseMutations=o,this.mutations=s};er.store="mutations",er.keyPath="batchId",er.userMutationsIndex="userMutationsIndex",er.userMutationsKeyPath=["userId","batchId"];var In=function(){function i(){}return i.prefixForUser=function(t){return[t]},i.prefixForPath=function(t,e){return[t,zo(e)]},i.key=function(t,e,o){return[t,zo(e),o]},i}();In.store="documentMutations",In.PLACEHOLDER=new In;var qO=function(i,t){this.path=i,this.readTime=t},V1=function(i,t){this.path=i,this.version=t},fr=function(i,t,e,o,s,c){this.unknownDocument=i,this.noDocument=t,this.document=e,this.hasCommittedMutations=o,this.readTime=s,this.parentPath=c};fr.store="remoteDocuments",fr.readTimeIndex="readTimeIndex",fr.readTimeIndexPath="readTime",fr.collectionReadTimeIndex="collectionReadTimeIndex",fr.collectionReadTimeIndexPath=["parentPath","readTime"];var xa=function(i){this.byteSize=i};xa.store="remoteDocumentGlobal",xa.key="remoteDocumentGlobalKey";var ci=function(i,t,e,o,s,c,f){this.targetId=i,this.canonicalId=t,this.readTime=e,this.resumeToken=o,this.lastListenSequenceNumber=s,this.lastLimboFreeSnapshotVersion=c,this.query=f};ci.store="targets",ci.keyPath="targetId",ci.queryTargetsIndexName="queryTargetsIndex",ci.queryTargetsKeyPath=["canonicalId","targetId"];var di=function(i,t,e){this.targetId=i,this.path=t,this.sequenceNumber=e};di.store="targetDocuments",di.keyPath=["targetId","path"],di.documentTargetsIndex="documentTargetsIndex",di.documentTargetsKeyPath=["path","targetId"];var qo=function(i,t,e,o){this.highestTargetId=i,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=e,this.targetCount=o};qo.key="targetGlobalKey",qo.store="targetGlobal";var Sd=function(i,t){this.collectionId=i,this.parent=t};Sd.store="collectionParents",Sd.keyPath=["collectionId","parent"];var Au=function(i,t,e,o){this.clientId=i,this.updateTimeMs=t,this.networkEnabled=e,this.inForeground=o};Au.store="clientMetadata",Au.keyPath="clientId";var Ad=function(i,t,e){this.bundleId=i,this.createTime=t,this.version=e};Ad.store="bundles",Ad.keyPath="bundleId";var Ed=function(i,t,e){this.name=i,this.readTime=t,this.bundledQuery=e};Ed.store="namedQueries",Ed.keyPath="name";var U1=(0,Me.ev)((0,Me.ev)([],(0,Me.ev)((0,Me.ev)([],(0,Me.ev)((0,Me.ev)([],(0,Me.ev)((0,Me.ev)([],[qs.store,er.store,In.store,fr.store,ci.store,mo.store,qo.store,di.store]),[Au.store])),[xa.store])),[Sd.store])),[Ad.store,Ed.store]),VE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",UE=function(){function i(){this.onCommittedListeners=[]}return i.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},i.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},i}(),Fi=function(){var i=this;this.promise=new Promise(function(t,e){i.resolve=t,i.reject=e})},Ot=function(){function i(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(o){e.isDone=!0,e.result=o,e.nextCallback&&e.nextCallback(o)},function(o){e.isDone=!0,e.error=o,e.catchCallback&&e.catchCallback(o)})}return i.prototype.catch=function(t){return this.next(void 0,t)},i.prototype.next=function(t,e){var o=this;return this.callbackAttached&&Kt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new i(function(s,c){o.nextCallback=function(f){o.wrapSuccess(t,f).next(s,c)},o.catchCallback=function(f){o.wrapFailure(e,f).next(s,c)}})},i.prototype.toPromise=function(){var t=this;return new Promise(function(e,o){t.next(e,o)})},i.prototype.wrapUserFunction=function(t){try{var e=t();return e instanceof i?e:i.resolve(e)}catch(o){return i.reject(o)}},i.prototype.wrapSuccess=function(t,e){return t?this.wrapUserFunction(function(){return t(e)}):i.resolve(e)},i.prototype.wrapFailure=function(t,e){return t?this.wrapUserFunction(function(){return t(e)}):i.reject(e)},i.resolve=function(t){return new i(function(e,o){e(t)})},i.reject=function(t){return new i(function(e,o){o(t)})},i.waitFor=function(t){return new i(function(e,o){var s=0,c=0,f=!1;t.forEach(function(g){++s,g.next(function(){++c,f&&c===s&&e()},function(v){return o(v)})}),f=!0,c===s&&e()})},i.or=function(t){for(var e=i.resolve(!1),o=function(f){e=e.next(function(g){return g?i.resolve(g):f()})},s=0,c=t;s<c.length;s++)o(c[s]);return e},i.forEach=function(t,e){var o=this,s=[];return t.forEach(function(c,f){s.push(e.call(o,c,f))}),this.waitFor(s)},i}(),HE=function(){function i(t,e){var o=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new Fi,this.transaction.oncomplete=function(){o.ft.resolve()},this.transaction.onabort=function(){e.error?o.ft.reject(new iv(t,e.error)):o.ft.resolve()},this.transaction.onerror=function(s){var c=b0(s.target.error);o.ft.reject(new iv(t,c))}}return i.open=function(t,e,o,s){try{return new i(e,t.transaction(s,o))}catch(c){throw new iv(e,c)}},Object.defineProperty(i.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),i.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Bt("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},i.prototype.store=function(t){var e=this.transaction.objectStore(t);return new H1(e)},i}(),Td=function(){function i(t,e,o){this.name=t,this.version=e,this.wt=o,12.2===i._t((0,Cn.z$)())&&or("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return i.delete=function(t){return Bt("SimpleDb","Removing database:",t),Vl(window.indexedDB.deleteDatabase(t)).toPromise()},i.yt=function(){if("undefined"==typeof indexedDB)return!1;if(i.gt())return!0;var t=(0,Cn.z$)(),e=i._t(t),o=0<e&&e<10,s=i.Et(t),c=0<s&&s<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||o||c)},i.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},i.It=function(t,e){return t.store(e)},i._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(o)},i.Et=function(t){var e=t.match(/Android ([\d.]+)/i),o=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(o)},i.prototype.At=function(t){return(0,Me.mG)(this,void 0,void 0,function(){var e,o=this;return(0,Me.Jh)(this,function(s){switch(s.label){case 0:return this.db?[3,2]:(Bt("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(c,f){var g=indexedDB.open(o.name,o.version);g.onsuccess=function(v){c(v.target.result)},g.onblocked=function(){f(new iv(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},g.onerror=function(v){var S=v.target.error;f("VersionError"===S.name?new kt(pt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new iv(t,S))},g.onupgradeneeded=function(v){Bt("SimpleDb",'Database "'+o.name+'" requires upgrade from version:',v.oldVersion),o.wt.Rt(v.target.result,g.transaction,v.oldVersion,o.version).next(function(){Bt("SimpleDb","Database upgrade to version "+o.version+" complete")})}})]);case 1:e.db=s.sent(),s.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(c){return o.bt(c)}),this.db)]}})})},i.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},i.prototype.runTransaction=function(t,e,o,s){return(0,Me.mG)(this,void 0,void 0,function(){var c,f,g,v,S;return(0,Me.Jh)(this,function(W){switch(W.label){case 0:c="readonly"===e,f=0,g=function(){var pe,we,Te,Pe,Ue;return(0,Me.Jh)(this,function(rt){switch(rt.label){case 0:++f,rt.label=1;case 1:return rt.trys.push([1,4,,5]),[4,v.At(t)];case 2:return v.db=rt.sent(),pe=HE.open(v.db,t,c?"readonly":"readwrite",o),we=s(pe).catch(function(vt){return pe.abort(vt),Ot.reject(vt)}).toPromise(),Te={},we.catch(function(){}),[4,pe.dt];case 3:return[2,(Te.value=(rt.sent(),we),Te)];case 4:return Bt("SimpleDb","Transaction failed with error:",(Pe=rt.sent()).message,"Retrying:",Ue="FirebaseError"!==Pe.name&&f<3),v.close(),Ue?[3,5]:[2,{value:Promise.reject(Pe)}];case 5:return[2]}})},v=this,W.label=1;case 1:return[5,g()];case 2:if("object"==typeof(S=W.sent()))return[2,S.value];W.label=3;case 3:return[3,1];case 4:return[2]}})})},i.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},i}(),WO=function(){function i(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(i.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),i.prototype.done=function(){this.Vt=!0},i.prototype.Ct=function(t){this.St=t},i.prototype.delete=function(){return Vl(this.Pt.delete())},i}(),iv=function(i){function t(e,o){var s=this;return(s=i.call(this,pt.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+o)||this).name="IndexedDbTransactionError",s}return(0,Me.ZT)(t,i),t}(kt);function Bl(i){return"IndexedDbTransactionError"===i.name}var H1=function(){function i(t){this.store=t}return i.prototype.put=function(t,e){var o;return void 0!==e?(Bt("SimpleDb","PUT",this.store.name,t,e),o=this.store.put(e,t)):(Bt("SimpleDb","PUT",this.store.name,"<auto-key>",t),o=this.store.put(t)),Vl(o)},i.prototype.add=function(t){return Bt("SimpleDb","ADD",this.store.name,t,t),Vl(this.store.add(t))},i.prototype.get=function(t){var e=this;return Vl(this.store.get(t)).next(function(o){return void 0===o&&(o=null),Bt("SimpleDb","GET",e.store.name,t,o),o})},i.prototype.delete=function(t){return Bt("SimpleDb","DELETE",this.store.name,t),Vl(this.store.delete(t))},i.prototype.count=function(){return Bt("SimpleDb","COUNT",this.store.name),Vl(this.store.count())},i.prototype.Nt=function(t,e){var o=this.cursor(this.options(t,e)),s=[];return this.xt(o,function(c,f){s.push(f)}).next(function(){return s})},i.prototype.Ft=function(t,e){Bt("SimpleDb","DELETE ALL",this.store.name);var o=this.options(t,e);o.kt=!1;var s=this.cursor(o);return this.xt(s,function(c,f,g){return g.delete()})},i.prototype.$t=function(t,e){var o;e?o=t:(o={},e=t);var s=this.cursor(o);return this.xt(s,e)},i.prototype.Ot=function(t){var e=this.cursor({});return new Ot(function(o,s){e.onerror=function(c){var f=b0(c.target.error);s(f)},e.onsuccess=function(c){var f=c.target.result;f?t(f.primaryKey,f.value).next(function(g){g?f.continue():o()}):o()}})},i.prototype.xt=function(t,e){var o=[];return new Ot(function(s,c){t.onerror=function(f){c(f.target.error)},t.onsuccess=function(f){var g=f.target.result;if(g){var v=new WO(g),S=e(g.primaryKey,g.value,v);if(S instanceof Ot){var W=S.catch(function(pe){return v.done(),Ot.reject(pe)});o.push(W)}v.isDone?s():null===v.Dt?g.continue():g.continue(v.Dt)}else s()}}).next(function(){return Ot.waitFor(o)})},i.prototype.options=function(t,e){var o;return void 0!==t&&("string"==typeof t?o=t:e=t),{index:o,range:e}},i.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var o=this.store.index(t.index);return t.kt?o.openKeyCursor(t.range,e):o.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},i}();function Vl(i){return new Ot(function(t,e){i.onsuccess=function(o){t(o.target.result)},i.onerror=function(o){var s=b0(o.target.error);e(s)}})}var GE=!1;function b0(i){var t=Td._t((0,Cn.z$)());if(t>=12.2&&t<13){var e="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(e)>=0){var o=new kt("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+e+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return GE||(GE=!0,setTimeout(function(){throw o},0)),o}}return i}var Wo=function(i){function t(e,o){var s=this;return(s=i.call(this)||this).Mt=e,s.currentSequenceNumber=o,s}return(0,Me.ZT)(t,i),t}(UE);function Gi(i,t){var e=Gt(i);return Td.It(e.Mt,t)}var w0=function(){function i(t,e,o,s){this.batchId=t,this.localWriteTime=e,this.baseMutations=o,this.mutations=s}return i.prototype.applyToRemoteDocument=function(t,e){for(var o=e.mutationResults,s=0;s<this.mutations.length;s++){var c=this.mutations[s];c.key.isEqual(t.key)&&qf(c,t,o[s])}},i.prototype.applyToLocalView=function(t){for(var e=0,o=this.baseMutations;e<o.length;e++)(f=o[e]).key.isEqual(t.key)&&s0(f,t,this.localWriteTime);for(var s=0,c=this.mutations;s<c.length;s++){var f;(f=c[s]).key.isEqual(t.key)&&s0(f,t,this.localWriteTime)}},i.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(o){var s=t.get(o.key),c=s;e.applyToLocalView(c),s.isValidDocument()||c.convertToNoDocument(Sn.min())})},i.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},zn())},i.prototype.isEqual=function(t){return this.batchId===t.batchId&&Il(this.mutations,t.mutations,function(e,o){return CE(e,o)})&&Il(this.baseMutations,t.baseMutations,function(e,o){return CE(e,o)})},i}(),G1=function(){function i(t,e,o,s){this.batch=t,this.commitVersion=e,this.mutationResults=o,this.docVersions=s}return i.from=function(t,e,o){ln(t.mutations.length===o.length);for(var s=EE(),c=t.mutations,f=0;f<c.length;f++)s=s.insert(c[f].key,o[f].version);return new i(t,e,o,s)},i}(),ov=function(){function i(t,e,o,s,c,f,g){void 0===c&&(c=Sn.min()),void 0===f&&(f=Sn.min()),void 0===g&&(g=Pi.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=o,this.sequenceNumber=s,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g}return i.prototype.withSequenceNumber=function(t){return new i(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},i.prototype.withResumeToken=function(t,e){return new i(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)},i.prototype.withLastLimboFreeSnapshotVersion=function(t){return new i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},i}(),j1=function(i){this.Lt=i};function C0(i,t){if(t.document)return OE(i.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=en.fromSegments(t.noDocument.path),o=Zf(t.noDocument.readTime),s=_i.newNoDocument(e,o);return t.hasCommittedMutations?s.setHasCommittedMutations():s}if(t.unknownDocument){var c=en.fromSegments(t.unknownDocument.path);return o=Zf(t.unknownDocument.version),_i.newUnknownDocument(c,o)}return Kt()}function jE(i,t,e){var pe,we,o=S0(e),s=t.key.path.popLast().toArray();if(t.isFoundDocument()){var c={name:Xm(pe=i.Lt,(we=t).key),fields:we.data.value.mapValue.fields,updateTime:_d(pe,we.version.toTimestamp())},f=t.hasCommittedMutations;return new fr(null,null,c,f,o,s)}if(t.isNoDocument()){var g=t.key.path.toArray(),v=Ul(t.version);return f=t.hasCommittedMutations,new fr(null,new qO(g,v),null,f,o,s)}if(t.isUnknownDocument()){var S=t.key.path.toArray(),W=Ul(t.version);return new fr(new V1(S,W),null,null,!0,o,s)}return Kt()}function S0(i){var t=i.toTimestamp();return[t.seconds,t.nanoseconds]}function Dd(i){var t=new yi(i[0],i[1]);return Sn.fromTimestamp(t)}function Ul(i){var t=i.toTimestamp();return new rv(t.seconds,t.nanoseconds)}function Zf(i){var t=new yi(i.seconds,i.nanoseconds);return Sn.fromTimestamp(t)}function Md(i,t){for(var e=(t.baseMutations||[]).map(function(v){return y0(i.Lt,v)}),o=0;o<t.mutations.length-1;++o)o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(t.mutations[o].updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o);var f=t.mutations.map(function(v){return y0(i.Lt,v)}),g=yi.fromMillis(t.localWriteTimeMs);return new w0(t.batchId,g,e,f)}function sv(i){var t,e,o=Zf(i.readTime),s=void 0!==i.lastLimboFreeSnapshotVersion?Zf(i.lastLimboFreeSnapshotVersion):Sn.min();return void 0!==i.query.documents?(ln(1===(e=i.query).documents.length),t=Hi(Hf(v0(e.documents[0])))):t=Hi(FE(i.query)),new ov(t,i.targetId,0,i.lastListenSequenceNumber,o,s,Pi.fromBase64String(i.resumeToken))}function z1(i,t){var e,o=Ul(t.snapshotVersion),s=Ul(t.lastLimboFreeSnapshotVersion);e=e0(t.target)?O1(i.Lt,t.target):F1(i.Lt,t.target);var c=t.resumeToken.toBase64();return new ci(t.targetId,Um(t.target),o,c,t.sequenceNumber,s,e)}function zE(i){var t=FE({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?n0(t,t.limit,"L"):t}var A0=function(){function i(){}return i.prototype.getBundleMetadata=function(t,e){return qE(t).get(e).next(function(o){if(o)return{id:(s=o).bundleId,createTime:Zf(s.createTime),version:s.version};var s})},i.prototype.saveBundleMetadata=function(t,e){return qE(t).put({bundleId:(o=e).id,createTime:Ul(Lr(o.createTime)),version:o.version});var o},i.prototype.getNamedQuery=function(t,e){return WE(t).get(e).next(function(o){if(o)return{name:(s=o).name,query:zE(s.bundledQuery),readTime:Zf(s.readTime)};var s})},i.prototype.saveNamedQuery=function(t,e){return WE(t).put({name:(o=e).name,readTime:Ul(Lr(o.readTime)),bundledQuery:o.bundledQuery});var o},i}();function qE(i){return Gi(i,Ad.store)}function WE(i){return Gi(i,Ed.store)}var q1=function(){function i(){this.Bt=new YE}return i.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),Ot.resolve()},i.prototype.getCollectionParents=function(t,e){return Ot.resolve(this.Bt.getEntries(e))},i}(),YE=function(){function i(){this.index={}}return i.prototype.add=function(t){var e=t.lastSegment(),o=t.popLast(),s=this.index[e]||new Mr(xn.comparator),c=!s.has(o);return this.index[e]=s.add(o),c},i.prototype.has=function(t){var e=t.lastSegment(),o=t.popLast(),s=this.index[e];return s&&s.has(o)},i.prototype.getEntries=function(t){return(this.index[t]||new Mr(xn.comparator)).toArray()},i}(),W1=function(){function i(){this.qt=new YE}return i.prototype.addToCollectionParentIndex=function(t,e){var o=this;if(!this.qt.has(e)){var s=e.lastSegment(),c=e.popLast();t.addOnCommittedListener(function(){o.qt.add(e)});var f={collectionId:s,parent:zo(c)};return ZE(t).put(f)}return Ot.resolve()},i.prototype.getCollectionParents=function(t,e){var o=[],s=IDBKeyRange.bound([e,""],[Nf(e),""],!1,!0);return ZE(t).Nt(s).next(function(c){for(var f=0,g=c;f<g.length;f++){var v=g[f];if(v.collectionId!==e)break;o.push(Ra(v.parent))}return o})},i}();function ZE(i){return Gi(i,Sd.store)}var $E={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kr=function(){function i(t,e,o){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=o}return i.withCacheSize=function(t){return new i(t,i.DEFAULT_COLLECTION_PERCENTILE,i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},i}();function Y1(i,t,e){var o=i.store(er.store),s=i.store(In.store),c=[],f=IDBKeyRange.only(e.batchId),g=0,v=o.$t({range:f},function(Pe,Ue,rt){return g++,rt.delete()});c.push(v.next(function(){ln(1===g)}));for(var S=[],W=0,pe=e.mutations;W<pe.length;W++){var we=pe[W],Te=In.key(t,we.key.path,e.batchId);c.push(s.delete(Te)),S.push(we.key)}return Ot.waitFor(c).next(function(){return S})}function $f(i){if(!i)return 0;var t;if(i.document)t=i.document;else if(i.unknownDocument)t=i.unknownDocument;else{if(!i.noDocument)throw Kt();t=i.noDocument}return JSON.stringify(t).length}kr.DEFAULT_COLLECTION_PERCENTILE=10,kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kr.DEFAULT=new kr(41943040,kr.DEFAULT_COLLECTION_PERCENTILE,kr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kr.DISABLED=new kr(-1,0,0);var Z1=function(){function i(t,e,o,s){this.userId=t,this.R=e,this.Ut=o,this.referenceDelegate=s,this.Kt={}}return i.Qt=function(t,e,o,s){return ln(""!==t.uid),new i(t.isAuthenticated()?t.uid:"",e,o,s)},i.prototype.checkEmpty=function(t){var e=!0,o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ia(t).$t({index:er.userMutationsIndex,range:o},function(s,c,f){e=!1,f.done()}).next(function(){return e})},i.prototype.addMutationBatch=function(t,e,o,s){var c=this,f=Hl(t),g=Ia(t);return g.add({}).next(function(v){ln("number"==typeof v);for(var S=new w0(v,e,o,s),W=function(vt,At,Rt){var Ht=Rt.baseMutations.map(function(cn){return ev(vt.Lt,cn)}),jt=Rt.mutations.map(function(cn){return ev(vt.Lt,cn)});return new er(At,Rt.batchId,Rt.localWriteTime.toMillis(),Ht,jt)}(c.R,c.userId,S),pe=[],we=new Mr(function(vt,At){return Tn(vt.canonicalString(),At.canonicalString())}),Te=0,Pe=s;Te<Pe.length;Te++){var Ue=Pe[Te],rt=In.key(c.userId,Ue.key.path,v);we=we.add(Ue.key.path.popLast()),pe.push(g.put(W)),pe.push(f.put(rt,In.PLACEHOLDER))}return we.forEach(function(vt){pe.push(c.Ut.addToCollectionParentIndex(t,vt))}),t.addOnCommittedListener(function(){c.Kt[v]=S.keys()}),Ot.waitFor(pe).next(function(){return S})})},i.prototype.lookupMutationBatch=function(t,e){var o=this;return Ia(t).get(e).next(function(s){return s?(ln(s.userId===o.userId),Md(o.R,s)):null})},i.prototype.jt=function(t,e){var o=this;return this.Kt[e]?Ot.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next(function(s){if(s){var c=s.keys();return o.Kt[e]=c,c}return null})},i.prototype.getNextMutationBatchAfterBatchId=function(t,e){var o=this,s=e+1,c=IDBKeyRange.lowerBound([this.userId,s]),f=null;return Ia(t).$t({index:er.userMutationsIndex,range:c},function(g,v,S){v.userId===o.userId&&(ln(v.batchId>=s),f=Md(o.R,v)),S.done()}).next(function(){return f})},i.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),o=-1;return Ia(t).$t({index:er.userMutationsIndex,range:e,reverse:!0},function(s,c,f){o=c.batchId,f.done()}).next(function(){return o})},i.prototype.getAllMutationBatches=function(t){var e=this,o=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ia(t).Nt(er.userMutationsIndex,o).next(function(s){return s.map(function(c){return Md(e.R,c)})})},i.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var o=this,s=In.prefixForPath(this.userId,e.path),c=IDBKeyRange.lowerBound(s),f=[];return Hl(t).$t({range:c},function(g,v,S){var W=g[0],we=g[2],Te=Ra(g[1]);if(W===o.userId&&e.path.isEqual(Te))return Ia(t).get(we).next(function(Pe){if(!Pe)throw Kt();ln(Pe.userId===o.userId),f.push(Md(o.R,Pe))});S.done()}).next(function(){return f})},i.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var o=this,s=new Mr(Tn),c=[];return e.forEach(function(f){var g=In.prefixForPath(o.userId,f.path),v=IDBKeyRange.lowerBound(g),S=Hl(t).$t({range:v},function(W,pe,we){var Te=W[0],Ue=W[2],rt=Ra(W[1]);Te===o.userId&&f.path.isEqual(rt)?s=s.add(Ue):we.done()});c.push(S)}),Ot.waitFor(c).next(function(){return o.Wt(t,s)})},i.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var o=this,s=e.path,c=s.length+1,f=In.prefixForPath(this.userId,s),g=IDBKeyRange.lowerBound(f),v=new Mr(Tn);return Hl(t).$t({range:g},function(S,W,pe){var we=S[0],Pe=S[2],Ue=Ra(S[1]);we===o.userId&&s.isPrefixOf(Ue)?Ue.length===c&&(v=v.add(Pe)):pe.done()}).next(function(){return o.Wt(t,v)})},i.prototype.Wt=function(t,e){var o=this,s=[],c=[];return e.forEach(function(f){c.push(Ia(t).get(f).next(function(g){if(null===g)throw Kt();ln(g.userId===o.userId),s.push(Md(o.R,g))}))}),Ot.waitFor(c).next(function(){return s})},i.prototype.removeMutationBatch=function(t,e){var o=this;return Y1(t.Mt,this.userId,e).next(function(s){return t.addOnCommittedListener(function(){o.Gt(e.batchId)}),Ot.forEach(s,function(c){return o.referenceDelegate.markPotentiallyOrphaned(t,c)})})},i.prototype.Gt=function(t){delete this.Kt[t]},i.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(o){if(!o)return Ot.resolve();var s=IDBKeyRange.lowerBound(In.prefixForUser(e.userId)),c=[];return Hl(t).$t({range:s},function(f,g,v){if(f[0]===e.userId){var S=Ra(f[1]);c.push(S)}else v.done()}).next(function(){ln(0===c.length)})})},i.prototype.containsKey=function(t,e){return E0(t,this.userId,e)},i.prototype.zt=function(t){var e=this;return av(t).get(this.userId).next(function(o){return o||new qs(e.userId,-1,"")})},i}();function E0(i,t,e){var o=In.prefixForPath(t,e.path),s=o[1],c=IDBKeyRange.lowerBound(o),f=!1;return Hl(i).$t({range:c,kt:!0},function(g,v,S){g[0]===t&&g[1]===s&&(f=!0),S.done()}).next(function(){return f})}function Ia(i){return Gi(i,er.store)}function Hl(i){return Gi(i,In.store)}function av(i){return Gi(i,qs.store)}var kd=function(){function i(t){this.Ht=t}return i.prototype.next=function(){return this.Ht+=2,this.Ht},i.Jt=function(){return new i(0)},i.Yt=function(){return new i(-1)},i}(),T0=function(){function i(t,e){this.referenceDelegate=t,this.R=e}return i.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(o){var s=new kd(o.highestTargetId);return o.highestTargetId=s.next(),e.Zt(t,o).next(function(){return o.highestTargetId})})},i.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(e){return Sn.fromTimestamp(new yi(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))})},i.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(e){return e.highestListenSequenceNumber})},i.prototype.setTargetsMetadata=function(t,e,o){var s=this;return this.Xt(t).next(function(c){return c.highestListenSequenceNumber=e,o&&(c.lastRemoteSnapshotVersion=o.toTimestamp()),e>c.highestListenSequenceNumber&&(c.highestListenSequenceNumber=e),s.Zt(t,c)})},i.prototype.addTargetData=function(t,e){var o=this;return this.te(t,e).next(function(){return o.Xt(t).next(function(s){return s.targetCount+=1,o.ee(e,s),o.Zt(t,s)})})},i.prototype.updateTargetData=function(t,e){return this.te(t,e)},i.prototype.removeTargetData=function(t,e){var o=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return Pa(t).delete(e.targetId)}).next(function(){return o.Xt(t)}).next(function(s){return ln(s.targetCount>0),s.targetCount-=1,o.Zt(t,s)})},i.prototype.removeTargets=function(t,e,o){var s=this,c=0,f=[];return Pa(t).$t(function(g,v){var S=sv(v);S.sequenceNumber<=e&&null===o.get(S.targetId)&&(c++,f.push(s.removeTargetData(t,S)))}).next(function(){return Ot.waitFor(f)}).next(function(){return c})},i.prototype.forEachTarget=function(t,e){return Pa(t).$t(function(o,s){var c=sv(s);e(c)})},i.prototype.Xt=function(t){return Qf(t).get(qo.key).next(function(e){return ln(null!==e),e})},i.prototype.Zt=function(t,e){return Qf(t).put(qo.key,e)},i.prototype.te=function(t,e){return Pa(t).put(z1(this.R,e))},i.prototype.ee=function(t,e){var o=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,o=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,o=!0),o},i.prototype.getTargetCount=function(t){return this.Xt(t).next(function(e){return e.targetCount})},i.prototype.getTargetData=function(t,e){var o=Um(e),s=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]),c=null;return Pa(t).$t({range:s,index:ci.queryTargetsIndexName},function(f,g,v){var S=sv(g);Xb(e,S.target)&&(c=S,v.done())}).next(function(){return c})},i.prototype.addMatchingKeys=function(t,e,o){var s=this,c=[],f=Oa(t);return e.forEach(function(g){var v=zo(g.path);c.push(f.put(new di(o,v))),c.push(s.referenceDelegate.addReference(t,o,g))}),Ot.waitFor(c)},i.prototype.removeMatchingKeys=function(t,e,o){var s=this,c=Oa(t);return Ot.forEach(e,function(f){var g=zo(f.path);return Ot.waitFor([c.delete([o,g]),s.referenceDelegate.removeReference(t,o,f)])})},i.prototype.removeMatchingKeysForTargetId=function(t,e){var o=Oa(t),s=IDBKeyRange.bound([e],[e+1],!1,!0);return o.delete(s)},i.prototype.getMatchingKeysForTargetId=function(t,e){var o=IDBKeyRange.bound([e],[e+1],!1,!0),s=Oa(t),c=zn();return s.$t({range:o,kt:!0},function(f,g,v){var S=Ra(f[1]),W=new en(S);c=c.add(W)}).next(function(){return c})},i.prototype.containsKey=function(t,e){var o=zo(e.path),s=IDBKeyRange.bound([o],[Nf(o)],!1,!0),c=0;return Oa(t).$t({index:di.documentTargetsIndex,kt:!0,range:s},function(f,g,v){0!==f[0]&&(c++,v.done())}).next(function(){return c>0})},i.prototype.lt=function(t,e){return Pa(t).get(e).next(function(o){return o?sv(o):null})},i}();function Pa(i){return Gi(i,ci.store)}function Qf(i){return Gi(i,qo.store)}function Oa(i){return Gi(i,di.store)}function Eu(i){return(0,Me.mG)(this,void 0,void 0,function(){return(0,Me.Jh)(this,function(t){if(i.code!==pt.FAILED_PRECONDITION||i.message!==VE)throw i;return Bt("LocalStore","Unexpectedly lost primary lease"),[2]})})}function QE(i,t){var o=i[1],c=t[1],f=Tn(i[0],t[0]);return 0===f?Tn(o,c):f}var $1=function(){function i(t){this.ne=t,this.buffer=new Mr(QE),this.se=0}return i.prototype.ie=function(){return++this.se},i.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var o=this.buffer.last();QE(e,o)<0&&(this.buffer=this.buffer.delete(o).add(e))}},Object.defineProperty(i.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),i}(),KE=function(){function i(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return i.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},i.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(i.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),i.prototype.ue=function(t){var e=this,o=this.oe?3e5:6e4;Bt("LruGarbageCollector","Garbage collection scheduled in "+o+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",o,function(){return(0,Me.mG)(e,void 0,void 0,function(){var s;return(0,Me.Jh)(this,function(c){switch(c.label){case 0:this.ce=null,this.oe=!0,c.label=1;case 1:return c.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return c.sent(),[3,7];case 3:return Bl(s=c.sent())?(Bt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s),[3,6]):[3,4];case 4:return[4,Eu(s)];case 5:c.sent(),c.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return c.sent(),[2]}})})})},i}(),Q1=function(){function i(t,e){this.ae=t,this.params=e}return i.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(o){return Math.floor(e/100*o)})},i.prototype.nthSequenceNumber=function(t,e){var o=this;if(0===e)return Ot.resolve(Uo.o);var s=new $1(e);return this.ae.forEachTarget(t,function(c){return s.re(c.sequenceNumber)}).next(function(){return o.ae.le(t,function(c){return s.re(c)})}).next(function(){return s.maxValue})},i.prototype.removeTargets=function(t,e,o){return this.ae.removeTargets(t,e,o)},i.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},i.prototype.collect=function(t,e){var o=this;return-1===this.params.cacheSizeCollectionThreshold?(Bt("LruGarbageCollector","Garbage collection skipped; disabled"),Ot.resolve($E)):this.getCacheSize(t).next(function(s){return s<o.params.cacheSizeCollectionThreshold?(Bt("LruGarbageCollector","Garbage collection skipped; Cache size "+s+" is lower than threshold "+o.params.cacheSizeCollectionThreshold),$E):o.fe(t,e)})},i.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},i.prototype.fe=function(t,e){var o,s,c,f,g,v,S,W=this,pe=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(we){return we>W.params.maximumSequenceNumbersToCollect?(Bt("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+W.params.maximumSequenceNumbersToCollect+" from "+we),s=W.params.maximumSequenceNumbersToCollect):s=we,f=Date.now(),W.nthSequenceNumber(t,s)}).next(function(we){return o=we,g=Date.now(),W.removeTargets(t,o,e)}).next(function(we){return c=we,v=Date.now(),W.removeOrphanedDocuments(t,o)}).next(function(we){return S=Date.now(),zb()<=Us.in.DEBUG&&Bt("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(f-pe)+"ms\n\tDetermined least recently used "+s+" in "+(g-f)+"ms\n\tRemoved "+c+" targets in "+(v-g)+"ms\n\tRemoved "+we+" documents in "+(S-v)+"ms\nTotal Duration: "+(S-pe)+"ms"),Ot.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:c,documentsRemoved:we})})},i}(),K1=function(){function i(t,e){this.db=t,this.garbageCollector=new Q1(this,e)}return i.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(o){return e.next(function(s){return o+s})})},i.prototype.de=function(t){var e=0;return this.le(t,function(o){e++}).next(function(){return e})},i.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},i.prototype.le=function(t,e){return this.we(t,function(o,s){return e(s)})},i.prototype.addReference=function(t,e,o){return uv(t,o)},i.prototype.removeReference=function(t,e,o){return uv(t,o)},i.prototype.removeTargets=function(t,e,o){return this.db.getTargetCache().removeTargets(t,e,o)},i.prototype.markPotentiallyOrphaned=function(t,e){return uv(t,e)},i.prototype._e=function(t,e){return s=e,c=!1,av(o=t).Ot(function(f){return E0(o,f,s).next(function(g){return g&&(c=!0),Ot.resolve(!g)})}).next(function(){return c});var o,s,c},i.prototype.removeOrphanedDocuments=function(t,e){var o=this,s=this.db.getRemoteDocumentCache().newChangeBuffer(),c=[],f=0;return this.we(t,function(g,v){if(v<=e){var S=o._e(t,g).next(function(W){if(!W)return f++,s.getEntry(t,g).next(function(){return s.removeEntry(g),Oa(t).delete([0,zo(g.path)])})});c.push(S)}}).next(function(){return Ot.waitFor(c)}).next(function(){return s.apply(t)}).next(function(){return f})},i.prototype.removeTarget=function(t,e){var o=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,o)},i.prototype.updateLimboDocument=function(t,e){return uv(t,e)},i.prototype.we=function(t,e){var o,s=Oa(t),c=Uo.o;return s.$t({index:di.documentTargetsIndex},function(f,g){var S=g.path,W=g.sequenceNumber;0===f[0]?(c!==Uo.o&&e(new en(Ra(o)),c),c=W,o=S):c=Uo.o}).next(function(){c!==Uo.o&&e(new en(Ra(o)),c)})},i.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},i}();function uv(i,t){return Oa(i).put((o=i.currentSequenceNumber,new di(0,zo(t.path),o)));var o}var Tu=function(){function i(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return i.prototype.get=function(t){var e=this.mapKeyFn(t),o=this.inner[e];if(void 0!==o)for(var s=0,c=o;s<c.length;s++){var f=c[s],v=f[1];if(this.equalsFn(f[0],t))return v}},i.prototype.has=function(t){return void 0!==this.get(t)},i.prototype.set=function(t,e){var o=this.mapKeyFn(t),s=this.inner[o];if(void 0!==s){for(var c=0;c<s.length;c++)if(this.equalsFn(s[c][0],t))return void(s[c]=[t,e]);s.push([t,e])}else this.inner[o]=[[t,e]]},i.prototype.delete=function(t){var e=this.mapKeyFn(t),o=this.inner[e];if(void 0===o)return!1;for(var s=0;s<o.length;s++)if(this.equalsFn(o[s][0],t))return 1===o.length?delete this.inner[e]:o.splice(s,1),!0;return!1},i.prototype.forEach=function(t){Pl(this.inner,function(e,o){for(var s=0,c=o;s<c.length;s++){var f=c[s];t(f[0],f[1])}})},i.prototype.isEmpty=function(){return Wb(this.inner)},i}(),JE=function(){function i(){this.changes=new Tu(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return i.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Sn.min()},i.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},i.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:_i.newInvalidDocument(t),readTime:e})},i.prototype.getEntry=function(t,e){this.assertNotApplied();var o=this.changes.get(e);return void 0!==o?Ot.resolve(o.document):this.getFromCache(t,e)},i.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},i.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},i.prototype.assertNotApplied=function(){},i}(),Li=function(){function i(t,e){this.R=t,this.Ut=e}return i.prototype.addEntry=function(t,e,o){return Fa(t).put(Gl(e),o)},i.prototype.removeEntry=function(t,e){var o=Fa(t),s=Gl(e);return o.delete(s)},i.prototype.updateMetadata=function(t,e){var o=this;return this.getMetadata(t).next(function(s){return s.byteSize+=e,o.me(t,s)})},i.prototype.getEntry=function(t,e){var o=this;return Fa(t).get(Gl(e)).next(function(s){return o.ye(e,s)})},i.prototype.ge=function(t,e){var o=this;return Fa(t).get(Gl(e)).next(function(s){return{document:o.ye(e,s),size:$f(s)}})},i.prototype.getEntries=function(t,e){var o=this,s=jo();return this.pe(t,e,function(c,f){var g=o.ye(c,f);s=s.insert(c,g)}).next(function(){return s})},i.prototype.Ee=function(t,e){var o=this,s=jo(),c=new bi(en.comparator);return this.pe(t,e,function(f,g){var v=o.ye(f,g);s=s.insert(f,v),c=c.insert(f,$f(g))}).next(function(){return{documents:s,Te:c}})},i.prototype.pe=function(t,e,o){if(e.isEmpty())return Ot.resolve();var s=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),c=e.getIterator(),f=c.getNext();return Fa(t).$t({range:s},function(g,v,S){for(var W=en.fromSegments(g);f&&en.comparator(f,W)<0;)o(f,null),f=c.getNext();f&&f.isEqual(W)&&(o(f,v),f=c.hasNext()?c.getNext():null),f?S.Ct(f.path.toArray()):S.done()}).next(function(){for(;f;)o(f,null),f=c.hasNext()?c.getNext():null})},i.prototype.getDocumentsMatchingQuery=function(t,e,o){var s=this,c=jo(),f=e.path.length+1,g={};if(o.isEqual(Sn.min())){var v=e.path.toArray();g.range=IDBKeyRange.lowerBound(v)}else{var S=e.path.toArray(),W=S0(o);g.range=IDBKeyRange.lowerBound([S,W],!0),g.index=fr.collectionReadTimeIndex}return Fa(t).$t(g,function(pe,we,Te){if(pe.length===f){var Pe=C0(s.R,we);e.path.isPrefixOf(Pe.key.path)?gd(e,Pe)&&(c=c.insert(Pe.key,Pe)):Te.done()}}).next(function(){return c})},i.prototype.newChangeBuffer=function(t){return new Kf(this,!!t&&t.trackRemovals)},i.prototype.getSize=function(t){return this.getMetadata(t).next(function(e){return e.byteSize})},i.prototype.getMetadata=function(t){return Jf(t).get(xa.key).next(function(e){return ln(!!e),e})},i.prototype.me=function(t,e){return Jf(t).put(xa.key,e)},i.prototype.ye=function(t,e){if(e){var o=C0(this.R,e);if(!o.isNoDocument()||!o.version.isEqual(Sn.min()))return o}return _i.newInvalidDocument(t)},i}(),Kf=function(i){function t(e,o){var s=this;return(s=i.call(this)||this).Ie=e,s.trackRemovals=o,s.Ae=new Tu(function(c){return c.toString()},function(c,f){return c.isEqual(f)}),s}return(0,Me.ZT)(t,i),t.prototype.applyChanges=function(e){var o=this,s=[],c=0,f=new Mr(function(g,v){return Tn(g.canonicalString(),v.canonicalString())});return this.changes.forEach(function(g,v){var S=o.Ae.get(g);if(v.document.isValidDocument()){var W=jE(o.Ie.R,v.document,o.getReadTime(g));f=f.add(g.path.popLast());var pe=$f(W);c+=pe-S,s.push(o.Ie.addEntry(e,g,W))}else if(c-=S,o.trackRemovals){var we=jE(o.Ie.R,_i.newNoDocument(g,Sn.min()),o.getReadTime(g));s.push(o.Ie.addEntry(e,g,we))}else s.push(o.Ie.removeEntry(e,g))}),f.forEach(function(g){s.push(o.Ie.Ut.addToCollectionParentIndex(e,g))}),s.push(this.Ie.updateMetadata(e,c)),Ot.waitFor(s)},t.prototype.getFromCache=function(e,o){var s=this;return this.Ie.ge(e,o).next(function(c){return s.Ae.set(o,c.size),c.document})},t.prototype.getAllFromCache=function(e,o){var s=this;return this.Ie.Ee(e,o).next(function(c){var f=c.documents;return c.Te.forEach(function(g,v){s.Ae.set(g,v)}),f})},t}(JE);function Jf(i){return Gi(i,xa.store)}function Fa(i){return Gi(i,fr.store)}function Gl(i){return i.path.toArray()}var D0=function(){function i(t){this.R=t}return i.prototype.Rt=function(t,e,o,s){var c=this;ln(o<s&&o>=0&&s<=11);var v,f=new HE("createOrUpgrade",e);o<1&&s>=1&&(t.createObjectStore(mo.store),(v=t).createObjectStore(qs.store,{keyPath:qs.keyPath}),v.createObjectStore(er.store,{keyPath:er.keyPath,autoIncrement:!0}).createIndex(er.userMutationsIndex,er.userMutationsKeyPath,{unique:!0}),v.createObjectStore(In.store),M0(t),function(v){v.createObjectStore(fr.store)}(t));var g=Ot.resolve();return o<3&&s>=3&&(0!==o&&(function(v){v.deleteObjectStore(di.store),v.deleteObjectStore(ci.store),v.deleteObjectStore(qo.store)}(t),M0(t)),g=g.next(function(){return function(v){var S=v.store(qo.store),W=new qo(0,0,Sn.min().toTimestamp(),0);return S.put(qo.key,W)}(f)})),o<4&&s>=4&&(0!==o&&(g=g.next(function(){return function(v,S){return S.store(er.store).Nt().next(function(W){v.deleteObjectStore(er.store),v.createObjectStore(er.store,{keyPath:er.keyPath,autoIncrement:!0}).createIndex(er.userMutationsIndex,er.userMutationsKeyPath,{unique:!0});var pe=S.store(er.store),we=W.map(function(Te){return pe.put(Te)});return Ot.waitFor(we)})}(t,f)})),g=g.next(function(){!function(v){v.createObjectStore(Au.store,{keyPath:Au.keyPath})}(t)})),o<5&&s>=5&&(g=g.next(function(){return c.Re(f)})),o<6&&s>=6&&(g=g.next(function(){return function(v){v.createObjectStore(xa.store)}(t),c.be(f)})),o<7&&s>=7&&(g=g.next(function(){return c.ve(f)})),o<8&&s>=8&&(g=g.next(function(){return c.Pe(t,f)})),o<9&&s>=9&&(g=g.next(function(){(function(v){v.objectStoreNames.contains("remoteDocumentChanges")&&v.deleteObjectStore("remoteDocumentChanges")})(t),function(v){var S=v.objectStore(fr.store);S.createIndex(fr.readTimeIndex,fr.readTimeIndexPath,{unique:!1}),S.createIndex(fr.collectionReadTimeIndex,fr.collectionReadTimeIndexPath,{unique:!1})}(e)})),o<10&&s>=10&&(g=g.next(function(){return c.Ve(f)})),o<11&&s>=11&&(g=g.next(function(){(function(v){v.createObjectStore(Ad.store,{keyPath:Ad.keyPath})})(t),function(v){v.createObjectStore(Ed.store,{keyPath:Ed.keyPath})}(t)})),g},i.prototype.be=function(t){var e=0;return t.store(fr.store).$t(function(o,s){e+=$f(s)}).next(function(){var o=new xa(e);return t.store(xa.store).put(xa.key,o)})},i.prototype.Re=function(t){var e=this,o=t.store(qs.store),s=t.store(er.store);return o.Nt().next(function(c){return Ot.forEach(c,function(f){var g=IDBKeyRange.bound([f.userId,-1],[f.userId,f.lastAcknowledgedBatchId]);return s.Nt(er.userMutationsIndex,g).next(function(v){return Ot.forEach(v,function(S){ln(S.userId===f.userId);var W=Md(e.R,S);return Y1(t,f.userId,W).next(function(){})})})})})},i.prototype.ve=function(t){var e=t.store(di.store),o=t.store(fr.store);return t.store(qo.store).get(qo.key).next(function(s){var c=[];return o.$t(function(f,g){var v=new xn(f),S=[0,zo(v)];c.push(e.get(S).next(function(W){return W?Ot.resolve():e.put(new di(0,zo(v),s.highestListenSequenceNumber))}))}).next(function(){return Ot.waitFor(c)})})},i.prototype.Pe=function(t,e){t.createObjectStore(Sd.store,{keyPath:Sd.keyPath});var o=e.store(Sd.store),s=new YE,c=function(f){if(s.add(f)){var g=f.lastSegment(),v=f.popLast();return o.put({collectionId:g,parent:zo(v)})}};return e.store(fr.store).$t({kt:!0},function(f,g){var v=new xn(f);return c(v.popLast())}).next(function(){return e.store(In.store).$t({kt:!0},function(f,g){var S=Ra(f[1]);return c(S.popLast())})})},i.prototype.Ve=function(t){var e=this,o=t.store(ci.store);return o.$t(function(s,c){var f=sv(c),g=z1(e.R,f);return o.put(g)})},i}();function M0(i){i.createObjectStore(di.store,{keyPath:di.keyPath}).createIndex(di.documentTargetsIndex,di.documentTargetsKeyPath,{unique:!0}),i.createObjectStore(ci.store,{keyPath:ci.keyPath}).createIndex(ci.queryTargetsIndexName,ci.queryTargetsKeyPath,{unique:!0}),i.createObjectStore(qo.store)}var Rd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",J1=function(){function i(t,e,o,s,c,f,g,v,S,W){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=o,this.Se=c,this.window=f,this.document=g,this.De=S,this.Ce=W,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(pe){return Promise.resolve()},!i.yt())throw new kt(pt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new K1(this,s),this.Le=e+"main",this.R=new j1(v),this.Be=new Td(this.Le,11,new D0(this.R)),this.qe=new T0(this.referenceDelegate,this.R),this.Ut=new W1,this.Ue=new Li(this.R,this.Ut),this.Ke=new A0,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===W&&or("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return i.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new kt(pt.FAILED_PRECONDITION,Rd);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new Uo(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},i.prototype.He=function(t){var e=this;return this.Me=function(o){return(0,Me.mG)(e,void 0,void 0,function(){return(0,Me.Jh)(this,function(s){return this.started?[2,t(o)]:[2]})})},t(this.isPrimary)},i.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(o){return(0,Me.mG)(e,void 0,void 0,function(){return(0,Me.Jh)(this,function(s){switch(s.label){case 0:return null===o.newVersion?[4,t()]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})})},i.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return(0,Me.mG)(e,void 0,void 0,function(){return(0,Me.Jh)(this,function(o){switch(o.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})}))},i.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return lv(e).put(new Au(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(o){o||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(o){return t.isPrimary&&!o?t.Xe(e).next(function(){return!1}):!!o&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(Bl(e))return Bt("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Bt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},i.prototype.Je=function(t){var e=this;return Xf(t).get(mo.key).next(function(o){return Ot.resolve(e.tn(o))})},i.prototype.en=function(t){return lv(t).delete(this.clientId)},i.prototype.nn=function(){return(0,Me.mG)(this,void 0,void 0,function(){var t,e,o,c=this;return(0,Me.Jh)(this,function(f){switch(f.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(g){var v=Gi(g,Au.store);return v.Nt().next(function(S){var W=c.rn(S,18e5),pe=S.filter(function(we){return-1===W.indexOf(we)});return Ot.forEach(pe,function(we){return v.delete(we.clientId)}).next(function(){return pe})})}).catch(function(){return[]})]);case 1:if(t=f.sent(),this.Qe)for(e=0,o=t;e<o.length;e++)this.Qe.removeItem(this.on(o[e].clientId));f.label=2;case 2:return[2]}})})},i.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},i.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},i.prototype.Ye=function(t){var e=this;return this.Ce?Ot.resolve(!0):Xf(t).get(mo.key).next(function(o){if(null!==o&&e.sn(o.leaseTimestampMs,5e3)&&!e.cn(o.ownerId)){if(e.tn(o)&&e.networkEnabled)return!0;if(!e.tn(o)){if(!o.allowTabSynchronization)throw new kt(pt.FAILED_PRECONDITION,Rd);return!1}}return!(!e.networkEnabled||!e.inForeground)||lv(t).Nt().next(function(s){return void 0===e.rn(s,5e3).find(function(c){return!(e.clientId===c.clientId||!(!e.networkEnabled&&c.networkEnabled||!e.inForeground&&c.inForeground&&e.networkEnabled===c.networkEnabled))})})}).next(function(o){return e.isPrimary!==o&&Bt("IndexedDbPersistence","Client "+(o?"is":"is not")+" eligible for a primary lease."),o})},i.prototype.shutdown=function(){return(0,Me.mG)(this,void 0,void 0,function(){var t=this;return(0,Me.Jh)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[mo.store,Au.store],function(o){var s=new Wo(o,Uo.o);return t.Xe(s).next(function(){return t.en(s)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},i.prototype.rn=function(t,e){var o=this;return t.filter(function(s){return o.sn(s.updateTimeMs,e)&&!o.cn(s.clientId)})},i.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return lv(e).Nt().next(function(o){return t.rn(o,18e5).map(function(s){return s.clientId})})})},Object.defineProperty(i.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),i.prototype.getMutationQueue=function(t){return Z1.Qt(t,this.R,this.Ut,this.referenceDelegate)},i.prototype.getTargetCache=function(){return this.qe},i.prototype.getRemoteDocumentCache=function(){return this.Ue},i.prototype.getIndexManager=function(){return this.Ut},i.prototype.getBundleCache=function(){return this.Ke},i.prototype.runTransaction=function(t,e,o){var c,s=this;return Bt("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",U1,function(g){return c=new Wo(g,s.Ne?s.Ne.next():Uo.o),"readwrite-primary"===e?s.Je(c).next(function(v){return!!v||s.Ye(c)}).next(function(v){if(!v)throw or("Failed to obtain primary lease for action '"+t+"'."),s.isPrimary=!1,s.Se.enqueueRetryable(function(){return s.Me(!1)}),new kt(pt.FAILED_PRECONDITION,VE);return o(c)}).next(function(v){return s.Ze(c).next(function(){return v})}):s.dn(c).next(function(){return o(c)})}).then(function(g){return c.raiseOnCommittedEvent(),g})},i.prototype.dn=function(t){var e=this;return Xf(t).get(mo.key).next(function(o){if(null!==o&&e.sn(o.leaseTimestampMs,5e3)&&!e.cn(o.ownerId)&&!e.tn(o)&&!(e.Ce||e.allowTabSynchronization&&o.allowTabSynchronization))throw new kt(pt.FAILED_PRECONDITION,Rd)})},i.prototype.Ze=function(t){var e=new mo(this.clientId,this.allowTabSynchronization,Date.now());return Xf(t).put(mo.key,e)},i.yt=function(){return Td.yt()},i.prototype.Xe=function(t){var e=this,o=Xf(t);return o.get(mo.key).next(function(s){return e.tn(s)?(Bt("IndexedDbPersistence","Releasing primary lease."),o.delete(mo.key)):Ot.resolve()})},i.prototype.sn=function(t,e){var o=Date.now();return!(t<o-e||t>o&&(or("Detected an update time that is in the future: "+t+" > "+o),1))},i.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},i.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},i.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),(0,Cn.G6)()&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("pagehide",this.Fe))},i.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},i.prototype.cn=function(t){var e;try{var o=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return Bt("IndexedDbPersistence","Client '"+t+"' "+(o?"is":"is not")+" zombied in LocalStorage"),o}catch(s){return or("IndexedDbPersistence","Failed to get zombied client id.",s),!1}},i.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){or("Failed to set zombie client id.",t)}},i.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},i.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},i}();function Xf(i){return Gi(i,mo.store)}function lv(i){return Gi(i,Au.store)}function k0(i,t){var e=i.projectId;return i.isDefaultDatabase||(e+="."+i.database),"firestore/"+t+"/"+e+"/"}var XE=function(i,t){this.progress=i,this.wn=t},eT=function(){function i(t,e,o){this.Ue=t,this._n=e,this.Ut=o}return i.prototype.mn=function(t,e){var o=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(s){return o.yn(t,e,s)})},i.prototype.yn=function(t,e,o){return this.Ue.getEntry(t,e).next(function(s){for(var c=0,f=o;c<f.length;c++)f[c].applyToLocalView(s);return s})},i.prototype.gn=function(t,e){t.forEach(function(o,s){for(var c=0,f=e;c<f.length;c++)f[c].applyToLocalView(s)})},i.prototype.pn=function(t,e){var o=this;return this.Ue.getEntries(t,e).next(function(s){return o.En(t,s).next(function(){return s})})},i.prototype.En=function(t,e){var o=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(s){return o.gn(e,s)})},i.prototype.getDocumentsMatchingQuery=function(t,e,o){return en.isDocumentKey((s=e).path)&&null===s.collectionGroup&&0===s.filters.length?this.Tn(t,e.path):t0(e)?this.In(t,e,o):this.An(t,e,o);var s},i.prototype.Tn=function(t,e){return this.mn(t,new en(e)).next(function(o){var s=d0();return o.isFoundDocument()&&(s=s.insert(o.key,o)),s})},i.prototype.In=function(t,e,o){var s=this,c=e.collectionGroup,f=d0();return this.Ut.getCollectionParents(t,c).next(function(g){return Ot.forEach(g,function(v){var W,pe,S=(W=e,pe=v.child(c),new wu(pe,null,W.explicitOrderBy.slice(),W.filters.slice(),W.limit,W.limitType,W.startAt,W.endAt));return s.An(t,S,o).next(function(W){W.forEach(function(pe,we){f=f.insert(pe,we)})})}).next(function(){return f})})},i.prototype.An=function(t,e,o){var s,c,f=this;return this.Ue.getDocumentsMatchingQuery(t,e,o).next(function(g){return s=g,f._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(g){return f.Rn(t,c=g,s).next(function(v){s=v;for(var S=0,W=c;S<W.length;S++)for(var pe=W[S],we=0,Te=pe.mutations;we<Te.length;we++){var Pe=Te[we],Ue=Pe.key,rt=s.get(Ue);null==rt&&(rt=_i.newInvalidDocument(Ue),s=s.insert(Ue,rt)),s0(Pe,rt,pe.localWriteTime),rt.isFoundDocument()||(s=s.remove(Ue))}})}).next(function(){return s.forEach(function(g,v){gd(e,v)||(s=s.remove(g))}),s})},i.prototype.Rn=function(t,e,o){for(var s=zn(),c=0,f=e;c<f.length;c++)for(var g=0,v=f[c].mutations;g<v.length;g++){var S=v[g];S instanceof Tr&&null===o.get(S.key)&&(s=s.add(S.key))}var W=o;return this.Ue.getEntries(t,s).next(function(pe){return pe.forEach(function(we,Te){Te.isFoundDocument()&&(W=W.insert(we,Te))}),W})},i}(),X1=function(){function i(t,e,o,s){this.targetId=t,this.fromCache=e,this.bn=o,this.vn=s}return i.Pn=function(t,e){for(var o=zn(),s=zn(),c=0,f=e.docChanges;c<f.length;c++){var g=f[c];switch(g.type){case 0:o=o.add(g.doc.key);break;case 1:s=s.add(g.doc.key)}}return new i(t,e.fromCache,o,s)},i}(),tT=function(){function i(){}return i.prototype.Vn=function(t){this.Sn=t},i.prototype.getDocumentsMatchingQuery=function(t,e,o,s){var f,c=this;return 0===(f=e).filters.length&&null===f.limit&&null==f.startAt&&null==f.endAt&&(0===f.explicitOrderBy.length||1===f.explicitOrderBy.length&&f.explicitOrderBy[0].field.isKeyField())||o.isEqual(Sn.min())?this.Dn(t,e):this.Sn.pn(t,s).next(function(f){var g=c.Cn(e,f);return(Gm(e)||hd(e))&&c.Nn(e.limitType,g,s,o)?c.Dn(t,e):(zb()<=Us.in.DEBUG&&Bt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),yE(e)),c.Sn.getDocumentsMatchingQuery(t,e,o).next(function(v){return g.forEach(function(S){v=v.insert(S.key,S)}),v}))})},i.prototype.Cn=function(t,e){var o=new Mr(Gf(t));return e.forEach(function(s,c){gd(t,c)&&(o=o.add(c))}),o},i.prototype.Nn=function(t,e,o,s){if(o.size!==e.size)return!0;var c="F"===t?e.last():e.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(s)>0)},i.prototype.Dn=function(t,e){return zb()<=Us.in.DEBUG&&Bt("QueryEngine","Using full collection scan to execute query:",yE(e)),this.Sn.getDocumentsMatchingQuery(t,e,Sn.min())},i}(),Du=function(){function i(t,e,o,s){this.persistence=t,this.xn=e,this.R=s,this.Fn=new bi(Tn),this.kn=new Tu(function(c){return Um(c)},Xb),this.$n=Sn.min(),this._n=t.getMutationQueue(o),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new eT(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return i.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(o){return t.collect(o,e.Fn)})},i}();function xd(i,t,e,o){return new Du(i,t,e,o)}function cv(i,t){return(0,Me.mG)(this,void 0,void 0,function(){var e,o,s,c;return(0,Me.Jh)(this,function(f){switch(f.label){case 0:return e=Gt(i),o=e._n,s=e.Mn,[4,e.persistence.runTransaction("Handle user change","readonly",function(g){var v;return e._n.getAllMutationBatches(g).next(function(S){return v=S,o=e.persistence.getMutationQueue(t),s=new eT(e.On,o,e.persistence.getIndexManager()),o.getAllMutationBatches(g)}).next(function(S){for(var W=[],pe=[],we=zn(),Te=0,Pe=v;Te<Pe.length;Te++){var Ue=Pe[Te];W.push(Ue.batchId);for(var rt=0,vt=Ue.mutations;rt<vt.length;rt++)we=we.add(vt[rt].key)}for(var Rt=0,Ht=S;Rt<Ht.length;Rt++){var jt=Ht[Rt];pe.push(jt.batchId);for(var cn=0,kn=jt.mutations;cn<kn.length;cn++)we=we.add(kn[cn].key)}return s.pn(g,we).next(function(nr){return{Ln:nr,removedBatchIds:W,addedBatchIds:pe}})})})];case 1:return c=f.sent(),[2,(e._n=o,e.Mn=s,e.xn.Vn(e.Mn),c)]}})})}function ex(i,t){var e=Gt(i);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(o){var f,g,v,S,W,pe,we,s=t.batch.keys(),c=e.On.newChangeBuffer({trackRemovals:!0});return(f=e,g=o,v=t,S=c,W=v.batch,pe=W.keys(),we=Ot.resolve(),pe.forEach(function(Te){we=we.next(function(){return S.getEntry(g,Te)}).next(function(Pe){var Ue=v.docVersions.get(Te);ln(null!==Ue),Pe.version.compareTo(Ue)<0&&(W.applyToRemoteDocument(Pe,v),Pe.isValidDocument()&&S.addEntry(Pe,v.commitVersion))})}),we.next(function(){return f._n.removeMutationBatch(g,W)})).next(function(){return c.apply(o)}).next(function(){return e._n.performConsistencyCheck(o)}).next(function(){return e.Mn.pn(o,s)})})}function nT(i){var t=Gt(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(e){return t.qe.getLastRemoteSnapshotVersion(e)})}function tx(i,t){var e=Gt(i),o=t.snapshotVersion,s=e.Fn;return e.persistence.runTransaction("Apply remote event","readwrite-primary",function(c){var f=e.On.newChangeBuffer({trackRemovals:!0});s=e.Fn;var g=[];t.targetChanges.forEach(function(W,pe){var Ue,rt,vt,we=s.get(pe);if(we){g.push(e.qe.removeMatchingKeys(c,W.removedDocuments,pe).next(function(){return e.qe.addMatchingKeys(c,W.addedDocuments,pe)}));var Te=W.resumeToken;if(Te.approximateByteSize()>0){var Pe=we.withResumeToken(Te,o).withSequenceNumber(c.currentSequenceNumber);s=s.insert(pe,Pe),Ue=we,vt=W,ln((rt=Pe).resumeToken.approximateByteSize()>0),(0===Ue.resumeToken.approximateByteSize()||rt.snapshotVersion.toMicroseconds()-Ue.snapshotVersion.toMicroseconds()>=3e8||vt.addedDocuments.size+vt.modifiedDocuments.size+vt.removedDocuments.size>0)&&g.push(e.qe.updateTargetData(c,Pe))}}});var v=jo();if(t.documentUpdates.forEach(function(W,pe){t.resolvedLimboDocuments.has(W)&&g.push(e.persistence.referenceDelegate.updateLimboDocument(c,W))}),g.push(dv(c,f,t.documentUpdates,o,void 0).next(function(W){v=W})),!o.isEqual(Sn.min())){var S=e.qe.getLastRemoteSnapshotVersion(c).next(function(W){return e.qe.setTargetsMetadata(c,c.currentSequenceNumber,o)});g.push(S)}return Ot.waitFor(g).next(function(){return f.apply(c)}).next(function(){return e.Mn.En(c,v)}).next(function(){return v})}).then(function(c){return e.Fn=s,c})}function dv(i,t,e,o,s){var c=zn();return e.forEach(function(f){return c=c.add(f)}),t.getEntries(i,c).next(function(f){var g=jo();return e.forEach(function(v,S){var W=f.get(v),pe=(null==s?void 0:s.get(v))||o;S.isNoDocument()&&S.version.isEqual(Sn.min())?(t.removeEntry(v,pe),g=g.insert(v,S)):!W.isValidDocument()||S.version.compareTo(W.version)>0||0===S.version.compareTo(W.version)&&W.hasPendingWrites?(t.addEntry(S,pe),g=g.insert(v,S)):Bt("LocalStore","Ignoring outdated watch update for ",v,". Current version:",W.version," Watch version:",S.version)}),g})}function nx(i,t){var e=Gt(i);return e.persistence.runTransaction("Get next mutation batch","readonly",function(o){return void 0===t&&(t=-1),e._n.getNextMutationBatchAfterBatchId(o,t)})}function jl(i,t){var e=Gt(i);return e.persistence.runTransaction("Allocate target","readwrite",function(o){var s;return e.qe.getTargetData(o,t).next(function(c){return c?Ot.resolve(s=c):e.qe.allocateTargetId(o).next(function(f){return s=new ov(t,f,0,o.currentSequenceNumber),e.qe.addTargetData(o,s).next(function(){return s})})})}).then(function(o){var s=e.Fn.get(o.targetId);return(null===s||o.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(e.Fn=e.Fn.insert(o.targetId,o),e.kn.set(t,o.targetId)),o})}function zl(i,t,e){return(0,Me.mG)(this,void 0,void 0,function(){var o,s,c,f;return(0,Me.Jh)(this,function(g){switch(g.label){case 0:o=Gt(i),s=o.Fn.get(t),c=e?"readwrite":"readwrite-primary",g.label=1;case 1:return g.trys.push([1,4,,5]),e?[3,3]:[4,o.persistence.runTransaction("Release target",c,function(v){return o.persistence.referenceDelegate.removeTarget(v,s)})];case 2:g.sent(),g.label=3;case 3:return[3,5];case 4:if(!Bl(f=g.sent()))throw f;return Bt("LocalStore","Failed to update sequence numbers for target "+t+": "+f),[3,5];case 5:return o.Fn=o.Fn.remove(t),o.kn.delete(s.target),[2]}})})}function hv(i,t,e){var o=Gt(i),s=Sn.min(),c=zn();return o.persistence.runTransaction("Execute query","readonly",function(f){return(g=o,v=f,S=Hi(t),W=Gt(g),pe=W.kn.get(S),void 0!==pe?Ot.resolve(W.Fn.get(pe)):W.qe.getTargetData(v,S)).next(function(g){if(g)return s=g.lastLimboFreeSnapshotVersion,o.qe.getMatchingKeysForTargetId(f,g.targetId).next(function(v){c=v})}).next(function(){return o.xn.getDocumentsMatchingQuery(f,t,e?s:Sn.min(),e?c:zn())}).next(function(g){return{documents:g,Bn:c}});var g,v,S,W,pe})}function rT(i,t){var e=Gt(i),o=Gt(e.qe),s=e.Fn.get(t);return s?Promise.resolve(s.target):e.persistence.runTransaction("Get target data","readonly",function(c){return o.lt(c,t).next(function(f){return f?f.target:null})})}function iT(i){var t=Gt(i);return t.persistence.runTransaction("Get new document changes","readonly",function(e){return s=e,c=t.$n,f=Gt(t.On),g=jo(),v=S0(c),S=Fa(s),W=IDBKeyRange.lowerBound(v,!0),S.$t({index:fr.readTimeIndex,range:W},function(pe,we){var Te=C0(f.R,we);g=g.insert(Te.key,Te),v=we.readTime}).next(function(){return{wn:g,readTime:Dd(v)}});var s,c,f,g,v,S,W}).then(function(e){var o=e.wn;return t.$n=e.readTime,o})}function La(i){return(0,Me.mG)(this,void 0,void 0,function(){var t;return(0,Me.Jh)(this,function(e){return[2,(t=Gt(i)).persistence.runTransaction("Synchronize last document change read time","readonly",function(o){return c=Fa(o),f=Sn.min(),c.$t({index:fr.readTimeIndex,reverse:!0},function(g,v,S){v.readTime&&(f=Dd(v.readTime)),S.done()}).next(function(){return f});var c,f}).then(function(o){t.$n=o})]})})}function ep(i,t,e,o){return(0,Me.mG)(this,void 0,void 0,function(){var s,c,f,g,v,S,W,pe,we,Te;return(0,Me.Jh)(this,function(Pe){switch(Pe.label){case 0:for(s=Gt(i),c=zn(),f=jo(),g=EE(),v=0,S=e;v<S.length;v++)pe=t.qn((W=S[v]).metadata.name),W.document&&(c=c.add(pe)),f=f.insert(pe,t.Un(W)),g=g.insert(pe,t.Kn(W.metadata.readTime));return we=s.On.newChangeBuffer({trackRemovals:!0}),[4,jl(s,(Ue=o,Hi(Hf(xn.fromString("__bundle__/docs/"+Ue)))))];case 1:return Te=Pe.sent(),[2,s.persistence.runTransaction("Apply bundle documents","readwrite",function(Ue){return dv(Ue,we,f,Sn.min(),g).next(function(rt){return we.apply(Ue),rt}).next(function(rt){return s.qe.removeMatchingKeysForTargetId(Ue,Te.targetId).next(function(){return s.qe.addMatchingKeys(Ue,c,Te.targetId)}).next(function(){return s.Mn.En(Ue,rt)}).next(function(){return rt})})})]}var Ue})})}function Id(i,t,e){return void 0===e&&(e=zn()),(0,Me.mG)(this,void 0,void 0,function(){var o,s;return(0,Me.Jh)(this,function(c){switch(c.label){case 0:return[4,jl(i,Hi(zE(t.bundledQuery)))];case 1:return o=c.sent(),[2,(s=Gt(i)).persistence.runTransaction("Save named query","readwrite",function(f){var g=Lr(t.readTime);if(o.snapshotVersion.compareTo(g)>=0)return s.Ke.saveNamedQuery(f,t);var v=o.withResumeToken(Pi.EMPTY_BYTE_STRING,g);return s.Fn=s.Fn.insert(v.targetId,v),s.qe.updateTargetData(f,v).next(function(){return s.qe.removeMatchingKeysForTargetId(f,o.targetId)}).next(function(){return s.qe.addMatchingKeys(f,e,o.targetId)}).next(function(){return s.Ke.saveNamedQuery(f,t)})})]}})})}var fv=function(){function i(t){this.R=t,this.Qn=new Map,this.jn=new Map}return i.prototype.getBundleMetadata=function(t,e){return Ot.resolve(this.Qn.get(e))},i.prototype.saveBundleMetadata=function(t,e){var o;return this.Qn.set(e.id,{id:(o=e).id,version:o.version,createTime:Lr(o.createTime)}),Ot.resolve()},i.prototype.getNamedQuery=function(t,e){return Ot.resolve(this.jn.get(e))},i.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,{name:(o=e).name,query:zE(o.bundledQuery),readTime:Lr(o.readTime)}),Ot.resolve();var o},i}(),Mu=function(){function i(){this.Wn=new Mr($r.Gn),this.zn=new Mr($r.Hn)}return i.prototype.isEmpty=function(){return this.Wn.isEmpty()},i.prototype.addReference=function(t,e){var o=new $r(t,e);this.Wn=this.Wn.add(o),this.zn=this.zn.add(o)},i.prototype.Jn=function(t,e){var o=this;t.forEach(function(s){return o.addReference(s,e)})},i.prototype.removeReference=function(t,e){this.Yn(new $r(t,e))},i.prototype.Xn=function(t,e){var o=this;t.forEach(function(s){return o.removeReference(s,e)})},i.prototype.Zn=function(t){var e=this,o=new en(new xn([])),s=new $r(o,t),c=new $r(o,t+1),f=[];return this.zn.forEachInRange([s,c],function(g){e.Yn(g),f.push(g.key)}),f},i.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},i.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},i.prototype.es=function(t){var e=new en(new xn([])),o=new $r(e,t),s=new $r(e,t+1),c=zn();return this.zn.forEachInRange([o,s],function(f){c=c.add(f.key)}),c},i.prototype.containsKey=function(t){var e=new $r(t,0),o=this.Wn.firstAfterOrEqual(e);return null!==o&&t.isEqual(o.key)},i}(),$r=function(){function i(t,e){this.key=t,this.ns=e}return i.Gn=function(t,e){return en.comparator(t.key,e.key)||Tn(t.ns,e.ns)},i.Hn=function(t,e){return Tn(t.ns,e.ns)||en.comparator(t.key,e.key)},i}(),rx=function(){function i(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Mr($r.Gn)}return i.prototype.checkEmpty=function(t){return Ot.resolve(0===this._n.length)},i.prototype.addMutationBatch=function(t,e,o,s){var c=this.ss;this.ss++;var f=new w0(c,e,o,s);this._n.push(f);for(var g=0,v=s;g<v.length;g++){var S=v[g];this.rs=this.rs.add(new $r(S.key,c)),this.Ut.addToCollectionParentIndex(t,S.key.path.popLast())}return Ot.resolve(f)},i.prototype.lookupMutationBatch=function(t,e){return Ot.resolve(this.os(e))},i.prototype.getNextMutationBatchAfterBatchId=function(t,e){var s=this.cs(e+1),c=s<0?0:s;return Ot.resolve(this._n.length>c?this._n[c]:null)},i.prototype.getHighestUnacknowledgedBatchId=function(){return Ot.resolve(0===this._n.length?-1:this.ss-1)},i.prototype.getAllMutationBatches=function(t){return Ot.resolve(this._n.slice())},i.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var o=this,s=new $r(e,0),c=new $r(e,Number.POSITIVE_INFINITY),f=[];return this.rs.forEachInRange([s,c],function(g){var v=o.os(g.ns);f.push(v)}),Ot.resolve(f)},i.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var o=this,s=new Mr(Tn);return e.forEach(function(c){var f=new $r(c,0),g=new $r(c,Number.POSITIVE_INFINITY);o.rs.forEachInRange([f,g],function(v){s=s.add(v.ns)})}),Ot.resolve(this.us(s))},i.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var o=e.path,s=o.length+1,c=o;en.isDocumentKey(c)||(c=c.child(""));var f=new $r(new en(c),0),g=new Mr(Tn);return this.rs.forEachWhile(function(v){var S=v.key.path;return!!o.isPrefixOf(S)&&(S.length===s&&(g=g.add(v.ns)),!0)},f),Ot.resolve(this.us(g))},i.prototype.us=function(t){var e=this,o=[];return t.forEach(function(s){var c=e.os(s);null!==c&&o.push(c)}),o},i.prototype.removeMutationBatch=function(t,e){var o=this;ln(0===this.hs(e.batchId,"removed")),this._n.shift();var s=this.rs;return Ot.forEach(e.mutations,function(c){var f=new $r(c.key,e.batchId);return s=s.delete(f),o.referenceDelegate.markPotentiallyOrphaned(t,c.key)}).next(function(){o.rs=s})},i.prototype.Gt=function(t){},i.prototype.containsKey=function(t,e){var o=new $r(e,0),s=this.rs.firstAfterOrEqual(o);return Ot.resolve(e.isEqual(s&&s.key))},i.prototype.performConsistencyCheck=function(t){return Ot.resolve()},i.prototype.hs=function(t,e){return this.cs(t)},i.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},i.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},i}(),ix=function(){function i(t,e){this.Ut=t,this.ls=e,this.docs=new bi(en.comparator),this.size=0}return i.prototype.addEntry=function(t,e,o){var s=e.key,c=this.docs.get(s),f=c?c.size:0,g=this.ls(e);return this.docs=this.docs.insert(s,{document:e.clone(),size:g,readTime:o}),this.size+=g-f,this.Ut.addToCollectionParentIndex(t,s.path.popLast())},i.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},i.prototype.getEntry=function(t,e){var o=this.docs.get(e);return Ot.resolve(o?o.document.clone():_i.newInvalidDocument(e))},i.prototype.getEntries=function(t,e){var o=this,s=jo();return e.forEach(function(c){var f=o.docs.get(c);s=s.insert(c,f?f.document.clone():_i.newInvalidDocument(c))}),Ot.resolve(s)},i.prototype.getDocumentsMatchingQuery=function(t,e,o){for(var s=jo(),c=new en(e.path.child("")),f=this.docs.getIteratorFrom(c);f.hasNext();){var g=f.getNext(),S=g.value,W=S.document,pe=S.readTime;if(!e.path.isPrefixOf(g.key.path))break;pe.compareTo(o)<=0||gd(e,W)&&(s=s.insert(W.key,W.clone()))}return Ot.resolve(s)},i.prototype.fs=function(t,e){return Ot.forEach(this.docs,function(o){return e(o)})},i.prototype.newChangeBuffer=function(t){return new oT(this)},i.prototype.getSize=function(t){return Ot.resolve(this.size)},i}(),oT=function(i){function t(e){var o=this;return(o=i.call(this)||this).Ie=e,o}return(0,Me.ZT)(t,i),t.prototype.applyChanges=function(e){var o=this,s=[];return this.changes.forEach(function(c,f){f.document.isValidDocument()?s.push(o.Ie.addEntry(e,f.document,o.getReadTime(c))):o.Ie.removeEntry(c)}),Ot.waitFor(s)},t.prototype.getFromCache=function(e,o){return this.Ie.getEntry(e,o)},t.prototype.getAllFromCache=function(e,o){return this.Ie.getEntries(e,o)},t}(JE),sT=function(){function i(t){this.persistence=t,this.ds=new Tu(function(e){return Um(e)},Xb),this.lastRemoteSnapshotVersion=Sn.min(),this.highestTargetId=0,this.ws=0,this._s=new Mu,this.targetCount=0,this.ys=kd.Jt()}return i.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(o,s){return e(s)}),Ot.resolve()},i.prototype.getLastRemoteSnapshotVersion=function(t){return Ot.resolve(this.lastRemoteSnapshotVersion)},i.prototype.getHighestSequenceNumber=function(t){return Ot.resolve(this.ws)},i.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Ot.resolve(this.highestTargetId)},i.prototype.setTargetsMetadata=function(t,e,o){return o&&(this.lastRemoteSnapshotVersion=o),e>this.ws&&(this.ws=e),Ot.resolve()},i.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new kd(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},i.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,Ot.resolve()},i.prototype.updateTargetData=function(t,e){return this.te(e),Ot.resolve()},i.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,Ot.resolve()},i.prototype.removeTargets=function(t,e,o){var s=this,c=0,f=[];return this.ds.forEach(function(g,v){v.sequenceNumber<=e&&null===o.get(v.targetId)&&(s.ds.delete(g),f.push(s.removeMatchingKeysForTargetId(t,v.targetId)),c++)}),Ot.waitFor(f).next(function(){return c})},i.prototype.getTargetCount=function(t){return Ot.resolve(this.targetCount)},i.prototype.getTargetData=function(t,e){var o=this.ds.get(e)||null;return Ot.resolve(o)},i.prototype.addMatchingKeys=function(t,e,o){return this._s.Jn(e,o),Ot.resolve()},i.prototype.removeMatchingKeys=function(t,e,o){this._s.Xn(e,o);var s=this.persistence.referenceDelegate,c=[];return s&&e.forEach(function(f){c.push(s.markPotentiallyOrphaned(t,f))}),Ot.waitFor(c)},i.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),Ot.resolve()},i.prototype.getMatchingKeysForTargetId=function(t,e){var o=this._s.es(e);return Ot.resolve(o)},i.prototype.containsKey=function(t,e){return Ot.resolve(this._s.containsKey(e))},i}(),aT=function(){function i(t,e){var o=this;this.gs={},this.Ne=new Uo(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new sT(this),this.Ut=new q1,this.Ue=new ix(this.Ut,function(f){return o.referenceDelegate.ps(f)}),this.R=new j1(e),this.Ke=new fv(this.R)}return i.prototype.start=function(){return Promise.resolve()},i.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(i.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),i.prototype.setDatabaseDeletedListener=function(){},i.prototype.setNetworkEnabled=function(){},i.prototype.getIndexManager=function(){return this.Ut},i.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new rx(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},i.prototype.getTargetCache=function(){return this.qe},i.prototype.getRemoteDocumentCache=function(){return this.Ue},i.prototype.getBundleCache=function(){return this.Ke},i.prototype.runTransaction=function(t,e,o){var s=this;Bt("MemoryPersistence","Starting transaction:",t);var c=new uT(this.Ne.next());return this.referenceDelegate.Es(),o(c).next(function(f){return s.referenceDelegate.Ts(c).next(function(){return f})}).toPromise().then(function(f){return c.raiseOnCommittedEvent(),f})},i.prototype.Is=function(t,e){return Ot.or(Object.values(this.gs).map(function(o){return function(){return o.containsKey(t,e)}}))},i}(),uT=function(i){function t(e){var o=this;return(o=i.call(this)||this).currentSequenceNumber=e,o}return(0,Me.ZT)(t,i),t}(UE),R0=function(){function i(t){this.persistence=t,this.As=new Mu,this.Rs=null}return i.bs=function(t){return new i(t)},Object.defineProperty(i.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Kt()},enumerable:!1,configurable:!0}),i.prototype.addReference=function(t,e,o){return this.As.addReference(o,e),this.vs.delete(o.toString()),Ot.resolve()},i.prototype.removeReference=function(t,e,o){return this.As.removeReference(o,e),this.vs.add(o.toString()),Ot.resolve()},i.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),Ot.resolve()},i.prototype.removeTarget=function(t,e){var o=this;this.As.Zn(e.targetId).forEach(function(c){return o.vs.add(c.toString())});var s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,e.targetId).next(function(c){c.forEach(function(f){return o.vs.add(f.toString())})}).next(function(){return s.removeTargetData(t,e)})},i.prototype.Es=function(){this.Rs=new Set},i.prototype.Ts=function(t){var e=this,o=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ot.forEach(this.vs,function(s){var c=en.fromPath(s);return e.Ps(t,c).next(function(f){f||o.removeEntry(c)})}).next(function(){return e.Rs=null,o.apply(t)})},i.prototype.updateLimboDocument=function(t,e){var o=this;return this.Ps(t,e).next(function(s){s?o.vs.delete(e.toString()):o.vs.add(e.toString())})},i.prototype.ps=function(t){return 0},i.prototype.Ps=function(t,e){var o=this;return Ot.or([function(){return Ot.resolve(o.As.containsKey(e))},function(){return o.persistence.getTargetCache().containsKey(t,e)},function(){return o.persistence.Is(t,e)}])},i}(),ji=function(){function i(t){this.uid=t}return i.prototype.isAuthenticated=function(){return null!=this.uid},i.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},i.prototype.isEqual=function(t){return t.uid===this.uid},i}();function lT(i,t){return"firestore_clients_"+i+"_"+t}function x0(i,t,e){var o="firestore_mutations_"+i+"_"+e;return t.isAuthenticated()&&(o+="_"+t.uid),o}function Na(i,t){return"firestore_targets_"+i+"_"+t}ji.UNAUTHENTICATED=new ji(null),ji.GOOGLE_CREDENTIALS=new ji("google-credentials-uid"),ji.FIRST_PARTY=new ji("first-party-uid");var pv=function(){function i(t,e,o,s){this.user=t,this.batchId=e,this.state=o,this.error=s}return i.Vs=function(t,e,o){var s,c=JSON.parse(o),f="object"==typeof c&&-1!==["pending","acknowledged","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return f&&c.error&&(f="string"==typeof c.error.message&&"string"==typeof c.error.code)&&(s=new kt(c.error.code,c.error.message)),f?new i(t,e,c.state,s):(or("SharedClientState","Failed to parse mutation state for ID '"+e+"': "+o),null)},i.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},i}(),I0=function(){function i(t,e,o){this.targetId=t,this.state=e,this.error=o}return i.Vs=function(t,e){var o,s=JSON.parse(e),c="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return c&&s.error&&(c="string"==typeof s.error.message&&"string"==typeof s.error.code)&&(o=new kt(s.error.code,s.error.message)),c?new i(t,s.state,o):(or("SharedClientState","Failed to parse target state for ID '"+t+"': "+e),null)},i.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},i}(),cT=function(){function i(t,e){this.clientId=t,this.activeTargetIds=e}return i.Vs=function(t,e){for(var o=JSON.parse(e),s="object"==typeof o&&o.activeTargetIds instanceof Array,c=Jm(),f=0;s&&f<o.activeTargetIds.length;++f)s=$b(o.activeTargetIds[f]),c=c.add(o.activeTargetIds[f]);return s?new i(t,c):(or("SharedClientState","Failed to parse client data for instance '"+t+"': "+e),null)},i}(),YO=function(){function i(t,e){this.clientId=t,this.onlineState=e}return i.Vs=function(t){var e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new i(e.clientId,e.onlineState):(or("SharedClientState","Failed to parse online state: "+t),null)},i}(),dT=function(){function i(){this.activeTargetIds=Jm()}return i.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},i.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},i.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},i}(),hT=function(){function i(t,e,o,s,c){this.window=t,this.Se=e,this.persistenceKey=o,this.Ns=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new bi(Tn),this.started=!1,this.$s=[];var f=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.Os=lT(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.ks=this.ks.insert(this.Ns,new dT),this.Ls=new RegExp("^firestore_clients_"+f+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+f+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+f+"_(\\d+)$"),this.Us="firestore_online_state_"+this.persistenceKey,this.Ks=function(g){return"firestore_bundle_loaded_"+g}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return i.yt=function(t){return!(!t||!t.localStorage)},i.prototype.start=function(){return(0,Me.mG)(this,void 0,void 0,function(){var t,e,o,s,c,f,g,v,S,W,we=this;return(0,Me.Jh)(this,function(Te){switch(Te.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=Te.sent(),e=0,o=t;e<o.length;e++)(s=o[e])!==this.Ns&&(c=this.getItem(lT(this.persistenceKey,s)))&&(f=cT.Vs(s,c))&&(this.ks=this.ks.insert(f.clientId,f));for(this.Qs(),(g=this.storage.getItem(this.Us))&&(v=this.js(g))&&this.Ws(v),S=0,W=this.$s;S<W.length;S++)this.Fs(W[S]);return this.$s=[],this.window.addEventListener("pagehide",function(){return we.shutdown()}),this.started=!0,[2]}})})},i.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},i.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},i.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(o,s){s.activeTargetIds.has(t)&&(e=!0)}),e},i.prototype.addPendingMutation=function(t){this.zs(t,"pending")},i.prototype.updateMutationState=function(t,e,o){this.zs(t,e,o),this.Hs(t)},i.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var o=this.storage.getItem(Na(this.persistenceKey,t));if(o){var s=I0.Vs(t,o);s&&(e=s.state)}}return this.Js.Ds(t),this.Qs(),e},i.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},i.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},i.prototype.clearQueryState=function(t){this.removeItem(Na(this.persistenceKey,t))},i.prototype.updateQueryState=function(t,e,o){this.Ys(t,e,o)},i.prototype.handleUserChange=function(t,e,o){var s=this;e.forEach(function(c){s.Hs(c)}),this.currentUser=t,o.forEach(function(c){s.addPendingMutation(c)})},i.prototype.setOnlineState=function(t){this.Xs(t)},i.prototype.notifyBundleLoaded=function(){this.Zs()},i.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},i.prototype.getItem=function(t){var e=this.storage.getItem(t);return Bt("SharedClientState","READ",t,e),e},i.prototype.setItem=function(t,e){Bt("SharedClientState","SET",t,e),this.storage.setItem(t,e)},i.prototype.removeItem=function(t){Bt("SharedClientState","REMOVE",t),this.storage.removeItem(t)},i.prototype.Fs=function(t){var e=this,o=t;if(o.storageArea===this.storage){if(Bt("SharedClientState","EVENT",o.key,o.newValue),o.key===this.Os)return void or("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,Me.mG)(e,void 0,void 0,function(){var s,c,f,g,v,S;return(0,Me.Jh)(this,function(W){if(this.started){if(null!==o.key)if(this.Ls.test(o.key)){if(null==o.newValue)return s=this.ti(o.key),[2,this.ei(s,null)];if(c=this.ni(o.key,o.newValue))return[2,this.ei(c.clientId,c)]}else if(this.Bs.test(o.key)){if(null!==o.newValue&&(f=this.si(o.key,o.newValue)))return[2,this.ii(f)]}else if(this.qs.test(o.key)){if(null!==o.newValue&&(g=this.ri(o.key,o.newValue)))return[2,this.oi(g)]}else if(o.key===this.Us){if(null!==o.newValue&&(v=this.js(o.newValue)))return[2,this.Ws(v)]}else if(o.key===this.Ms)(S=function(pe){var we=Uo.o;if(null!=pe)try{var Te=JSON.parse(pe);ln("number"==typeof Te),we=Te}catch(Pe){or("SharedClientState","Failed to read sequence number from WebStorage",Pe)}return we}(o.newValue))!==Uo.o&&this.sequenceNumberHandler(S);else if(o.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(o);return[2]})})})}},Object.defineProperty(i.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),i.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},i.prototype.zs=function(t,e,o){var s=new pv(this.currentUser,t,e,o),c=x0(this.persistenceKey,this.currentUser,t);this.setItem(c,s.Ss())},i.prototype.Hs=function(t){var e=x0(this.persistenceKey,this.currentUser,t);this.removeItem(e)},i.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},i.prototype.Ys=function(t,e,o){var s=Na(this.persistenceKey,t),c=new I0(t,e,o);this.setItem(s,c.Ss())},i.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},i.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},i.prototype.ni=function(t,e){var o=this.ti(t);return cT.Vs(o,e)},i.prototype.si=function(t,e){var o=this.Bs.exec(t),s=Number(o[1]);return pv.Vs(new ji(void 0!==o[2]?o[2]:null),s,e)},i.prototype.ri=function(t,e){var o=this.qs.exec(t),s=Number(o[1]);return I0.Vs(s,e)},i.prototype.js=function(t){return YO.Vs(t)},i.prototype.ii=function(t){return(0,Me.mG)(this,void 0,void 0,function(){return(0,Me.Jh)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Bt("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},i.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},i.prototype.ei=function(t,e){var o=this,s=e?this.ks.insert(t,e):this.ks.remove(t),c=this.Gs(this.ks),f=this.Gs(s),g=[],v=[];return f.forEach(function(S){c.has(S)||g.push(S)}),c.forEach(function(S){f.has(S)||v.push(S)}),this.syncEngine.hi(g,v).then(function(){o.ks=s})},i.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},i.prototype.Gs=function(t){var e=Jm();return t.forEach(function(o,s){e=e.unionWith(s.activeTargetIds)}),e},i}(),ox=function(){function i(){this.li=new dT,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return i.prototype.addPendingMutation=function(t){},i.prototype.updateMutationState=function(t,e,o){},i.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},i.prototype.updateQueryState=function(t,e,o){this.fi[t]=e},i.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},i.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},i.prototype.clearQueryState=function(t){delete this.fi[t]},i.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},i.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},i.prototype.start=function(){return this.li=new dT,Promise.resolve()},i.prototype.handleUserChange=function(t,e,o){},i.prototype.setOnlineState=function(t){},i.prototype.shutdown=function(){},i.prototype.writeSequenceNumber=function(t){},i.prototype.notifyBundleLoaded=function(){},i}(),sx=function(){function i(){}return i.prototype.di=function(t){},i.prototype.shutdown=function(){},i}(),fT=function(){function i(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return i.prototype.di=function(t){this.gi.push(t)},i.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},i.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},i.prototype._i=function(){Bt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},i.prototype.yi=function(){Bt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},i.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},i}(),ZO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},$O=function(){function i(t){this.Ei=t.Ei,this.Ti=t.Ti}return i.prototype.Ii=function(t){this.Ai=t},i.prototype.Ri=function(t){this.bi=t},i.prototype.onMessage=function(t){this.vi=t},i.prototype.close=function(){this.Ti()},i.prototype.send=function(t){this.Ei(t)},i.prototype.Pi=function(){this.Ai()},i.prototype.Vi=function(t){this.bi(t)},i.prototype.Si=function(t){this.vi(t)},i}(),QO=function(i){function t(e){var o=this;return(o=i.call(this,e)||this).forceLongPolling=e.forceLongPolling,o.autoDetectLongPolling=e.autoDetectLongPolling,o.useFetchStreams=e.useFetchStreams,o}return(0,Me.ZT)(t,i),t.prototype.ki=function(e,o,s,c){return new Promise(function(f,g){var v=new hE;v.listenOnce(Ub.COMPLETE,function(){try{switch(v.getLastErrorCode()){case Of.NO_ERROR:var W=v.getResponseJson();Bt("Connection","XHR received:",JSON.stringify(W)),f(W);break;case Of.TIMEOUT:Bt("Connection",'RPC "'+e+'" timed out'),g(new kt(pt.DEADLINE_EXCEEDED,"Request time out"));break;case Of.HTTP_ERROR:var pe=v.getStatus();if(Bt("Connection",'RPC "'+e+'" failed with status:',pe,"response text:",v.getResponseText()),pe>0){var we=v.getResponseJson().error;if(we&&we.status&&we.message){var Te=(Ue=we.status.toLowerCase().replace(/_/g,"-"),Object.values(pt).indexOf(Ue)>=0?Ue:pt.UNKNOWN);g(new kt(Te,we.message))}else g(new kt(pt.UNKNOWN,"Server responded with status "+v.getStatus()))}else g(new kt(pt.UNAVAILABLE,"Connection failed."));break;default:Kt()}}finally{Bt("Connection",'RPC "'+e+'" completed.')}var Ue});var S=JSON.stringify(c);v.send(o,"POST",S,s,15)})},t.prototype.Oi=function(e,o){var s=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=new Fm,f=fb(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(g.xmlHttpFactory=new jb({})),this.Fi(g.initMessageHeaders,o),(0,Cn.uI)()||(0,Cn.b$)()||(0,Cn.d)()||(0,Cn.w1)()||(0,Cn.Mn)()||(0,Cn.ru)()||(g.httpHeadersOverwriteParam="$httpHeaders");var v=s.join("");Bt("Connection","Creating WebChannel: "+v,g);var S=c.createWebChannel(v,g),W=!1,pe=!1,we=new $O({Ei:function(Pe){pe?Bt("Connection","Not sending because WebChannel is closed:",Pe):(W||(Bt("Connection","Opening WebChannel transport."),S.open(),W=!0),Bt("Connection","WebChannel sending:",Pe),S.send(Pe))},Ti:function(){return S.close()}}),Te=function(Pe,Ue,rt){Pe.listen(Ue,function(vt){try{rt(vt)}catch(At){setTimeout(function(){throw At},0)}})};return Te(S,ud.EventType.OPEN,function(){pe||Bt("Connection","WebChannel transport opened.")}),Te(S,ud.EventType.CLOSE,function(){pe||(pe=!0,Bt("Connection","WebChannel transport closed"),we.Vi())}),Te(S,ud.EventType.ERROR,function(Pe){pe||(pe=!0,Ff("Connection","WebChannel transport errored:",Pe),we.Vi(new kt(pt.UNAVAILABLE,"The operation could not be completed")))}),Te(S,ud.EventType.MESSAGE,function(Pe){var Ue;if(!pe){var rt=Pe.data[0];ln(!!rt);var At=rt.error||(null===(Ue=rt[0])||void 0===Ue?void 0:Ue.error);if(At){Bt("Connection","WebChannel received error:",At);var Rt=At.status,Ht=function(cn){var kn=Dr[cn];if(void 0!==kn)return u0(kn)}(Rt),jt=At.message;void 0===Ht&&(Ht=pt.INTERNAL,jt="Unknown error status: "+Rt+" with message "+At.message),pe=!0,we.Vi(new kt(Ht,jt)),S.close()}else Bt("Connection","WebChannel received:",rt),we.Si(rt)}}),Te(f,Hb.STAT_EVENT,function(Pe){Pe.stat===Gb_PROXY?Bt("Connection","Detected buffering proxy"):Pe.stat===Gb_NOPROXY&&Bt("Connection","Detected no buffering proxy")}),setTimeout(function(){we.Pi()},0),we},t}(function(){function i(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return i.prototype.Ni=function(t,e,o,s){var c=this.xi(t,e);Bt("RestConnection","Sending: ",c,o);var f={};return this.Fi(f,s),this.ki(t,c,f,o).then(function(g){return Bt("RestConnection","Received: ",g),g},function(g){throw Ff("RestConnection",t+" failed with error: ",g,"url: ",c,"request:",o),g})},i.prototype.$i=function(t,e,o,s){return this.Ni(t,e,o,s)},i.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.8.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var o in e.authHeaders)e.authHeaders.hasOwnProperty(o)&&(t[o]=e.authHeaders[o])},i.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+ZO[t]},i}());function ax(){return"undefined"!=typeof window?window:null}function gv(){return"undefined"!=typeof document?document:null}function mv(i){return new P1(i,!0)}var pT=function(){function i(t,e,o,s,c){void 0===o&&(o=1e3),void 0===s&&(s=1.5),void 0===c&&(c=6e4),this.Se=t,this.timerId=e,this.Mi=o,this.Li=s,this.Bi=c,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return i.prototype.reset=function(){this.qi=0},i.prototype.Qi=function(){this.qi=this.Bi},i.prototype.ji=function(t){var e=this;this.cancel();var o=Math.floor(this.qi+this.Wi()),s=Math.max(0,Date.now()-this.Ki),c=Math.max(0,o-s);c>0&&Bt("ExponentialBackoff","Backing off for "+c+" ms (base delay: "+this.qi+" ms, delay with jitter: "+o+" ms, last attempt: "+s+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,c,function(){return e.Ki=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},i.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},i.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},i.prototype.Wi=function(){return(Math.random()-.5)*this.qi},i}(),ux=function(){function i(t,e,o,s,c,f){this.Se=t,this.zi=o,this.Hi=s,this.Ji=c,this.listener=f,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new pT(t,e)}return i.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},i.prototype.er=function(){return 2===this.state},i.prototype.start=function(){3!==this.state?this.auth():this.nr()},i.prototype.stop=function(){return(0,Me.mG)(this,void 0,void 0,function(){return(0,Me.Jh)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},i.prototype.sr=function(){this.state=0,this.Zi.reset()},i.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},i.prototype.cr=function(t){this.ur(),this.stream.send(t)},i.prototype.rr=function(){return(0,Me.mG)(this,void 0,void 0,function(){return(0,Me.Jh)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},i.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},i.prototype.close=function(t,e){return(0,Me.mG)(this,void 0,void 0,function(){return(0,Me.Jh)(this,function(o){switch(o.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===pt.RESOURCE_EXHAUSTED?(or(e.toString()),or("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===pt.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return o.sent(),[2]}})})},i.prototype.ar=function(){},i.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),o=this.Yi;this.Ji.getToken().then(function(s){t.Yi===o&&t.lr(s)},function(s){e(function(){var c=new kt(pt.UNKNOWN,"Fetching auth token failed: "+s.message);return t.dr(c)})})},i.prototype.lr=function(t){var e=this,o=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){o(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(s){o(function(){return e.dr(s)})}),this.stream.onMessage(function(s){o(function(){return e.onMessage(s)})})},i.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return(0,Me.mG)(t,void 0,void 0,function(){return(0,Me.Jh)(this,function(e){return this.state=0,this.start(),[2]})})})},i.prototype.dr=function(t){return Bt("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},i.prototype.hr=function(t){var e=this;return function(o){e.Se.enqueueAndForget(function(){return e.Yi===t?o():(Bt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},i}(),KO=function(i){function t(e,o,s,c,f){var g=this;return(g=i.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",o,s,f)||this).R=c,g}return(0,Me.ZT)(t,i),t.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var o=function(c,f){var g,rt;if("targetChange"in f){var v="NO_CHANGE"===(rt=f.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===rt?1:"REMOVE"===rt?2:"CURRENT"===rt?3:"RESET"===rt?4:Kt(),S=f.targetChange.targetIds||[],W=function(rt,vt){return rt.I?(ln(void 0===vt||"string"==typeof vt),Pi.fromBase64String(vt||"")):(ln(void 0===vt||vt instanceof Uint8Array),Pi.fromUint8Array(vt||new Uint8Array))}(c,f.targetChange.resumeToken),pe=(we=f.targetChange.cause)&&function(rt){var vt=void 0===rt.code?pt.UNKNOWN:u0(rt.code);return new kt(vt,rt.message||"")}(we);g=new ME(v,S,W,pe||null)}else if("documentChange"in f){S=Ma(c,(v=f.documentChange).document.name),W=Lr(v.document.updateTime);var we=new Ho({mapValue:{fields:v.document.fields}}),Te=(pe=_i.newFoundDocument(S,W,we),v.targetIds||[]);g=new Yf(Te,v.removedTargetIds||[],pe.key,pe)}else if("documentDelete"in f)S=Ma(c,(v=f.documentDelete).document),W=v.readTime?Lr(v.readTime):Sn.min(),we=_i.newNoDocument(S,W),g=new Yf([],pe=v.removedTargetIds||[],we.key,we);else if("documentRemove"in f)S=Ma(c,(v=f.documentRemove).document),g=new Yf([],W=v.removedTargetIds||[],S,null);else{if(!("filter"in f))return Kt();var Ue=f.filter;S=new M1(v=Ue.count||0),g=new DE(W=Ue.targetId,S)}return g}(this.R,e),s=function(c){if(!("targetChange"in c))return Sn.min();var f=c.targetChange;return f.targetIds&&f.targetIds.length?Sn.min():f.readTime?Lr(f.readTime):Sn.min()}(e);return this.listener._r(o,s)},t.prototype.mr=function(e){var c,f,g,v,o={};o.database=wd(this.R),o.addTarget=(c=this.R,(g=e0(v=(f=e).target)?{documents:O1(c,v)}:{query:F1(c,v)}).targetId=f.targetId,f.resumeToken.approximateByteSize()>0?g.resumeToken=bd(c,f.resumeToken):f.snapshotVersion.compareTo(Sn.min())>0&&(g.readTime=_d(c,f.snapshotVersion.toTimestamp())),g);var s=function(c,f){var g=function(v,S){switch(S){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Kt()}}(0,f.purpose);return null==g?null:{"goog-listen-tags":g}}(0,e);s&&(o.labels=s),this.cr(o)},t.prototype.yr=function(e){var o={};o.database=wd(this.R),o.removeTarget=e,this.cr(o)},t}(ux),u=function(i){function t(e,o,s,c,f){var g=this;return(g=i.call(this,e,"write_stream_connection_backoff","write_stream_idle",o,s,f)||this).R=c,g.gr=!1,g}return(0,Me.ZT)(t,i),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,i.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.Oi("Write",e)},t.prototype.onMessage=function(e){if(ln(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var o=(f=e.commitTime,(c=e.writeResults)&&c.length>0?(ln(void 0!==f),c.map(function(g){return S=f,(W=Lr((v=g).updateTime?v.updateTime:S)).isEqual(Sn.min())&&(W=Lr(S)),new T1(W,v.transformResults||[]);var v,S,W})):[]),s=Lr(e.commitTime);return this.listener.Tr(s,o)}var c,f;return ln(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=wd(this.R),this.cr(e)},t.prototype.Er=function(e){var o=this,s={streamToken:this.lastStreamToken,writes:e.map(function(c){return ev(o.R,c)})};this.cr(s)},t}(ux),l=function(i){function t(e,o,s){var c=this;return(c=i.call(this)||this).credentials=e,c.Hi=o,c.R=s,c.Rr=!1,c}return(0,Me.ZT)(t,i),t.prototype.br=function(){if(this.Rr)throw new kt(pt.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,o,s){var c=this;return this.br(),this.credentials.getToken().then(function(f){return c.Hi.Ni(e,o,s,f)}).catch(function(f){throw"FirebaseError"===f.name?(f.code===pt.UNAUTHENTICATED&&c.credentials.invalidateToken(),f):new kt(pt.UNKNOWN,f.toString())})},t.prototype.$i=function(e,o,s){var c=this;return this.br(),this.credentials.getToken().then(function(f){return c.Hi.$i(e,o,s,f)}).catch(function(f){throw"FirebaseError"===f.name?(f.code===pt.UNAUTHENTICATED&&c.credentials.invalidateToken(),f):new kt(pt.UNKNOWN,f.toString())})},t.prototype.terminate=function(){this.Rr=!0},t}(function(){}),d=function(){function i(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return i.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},i.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},i.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},i.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},i.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(or(e),this.Vr=!1):Bt("OnlineStateTracker",e)},i.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},i}(),h=function(i,t,e,o,s){var c=this;this.localStore=i,this.datastore=t,this.asyncQueue=e,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=s,this.Lr.di(function(f){e.enqueueAndForget(function(){return(0,Me.mG)(c,void 0,void 0,function(){return(0,Me.Jh)(this,function(g){switch(g.label){case 0:return ke(this)?(Bt("RemoteStore","Restarting streams for network reachability change."),[4,function(v){return(0,Me.mG)(this,void 0,void 0,function(){var S;return(0,Me.Jh)(this,function(W){switch(W.label){case 0:return(S=Gt(v)).Or.add(4),[4,m(S)];case 1:return W.sent(),S.Br.set("Unknown"),S.Or.delete(4),[4,p(S)];case 2:return W.sent(),[2]}})})}(this)]):[3,2];case 1:g.sent(),g.label=2;case 2:return[2]}})})})}),this.Br=new d(e,o)};function p(i){return(0,Me.mG)(this,void 0,void 0,function(){var t,e;return(0,Me.Jh)(this,function(o){switch(o.label){case 0:if(!ke(i))return[3,4];t=0,e=i.Mr,o.label=1;case 1:return t<e.length?[4,(0,e[t])(!0)]:[3,4];case 2:o.sent(),o.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function m(i){return(0,Me.mG)(this,void 0,void 0,function(){var t,e;return(0,Me.Jh)(this,function(o){switch(o.label){case 0:t=0,e=i.Mr,o.label=1;case 1:return t<e.length?[4,(0,e[t])(!1)]:[3,4];case 2:o.sent(),o.label=3;case 3:return t++,[3,1];case 4:return[2]}})})}function _(i,t){var e=Gt(i);e.$r.has(t.targetId)||(e.$r.set(t.targetId,t),Se(e)?me(e):gs(e).er()&&k(e,t))}function w(i,t){var e=Gt(i),o=gs(e);e.$r.delete(t),o.er()&&le(e,t),0===e.$r.size&&(o.er()?o.ir():ke(e)&&e.Br.set("Unknown"))}function k(i,t){i.qr.U(t.targetId),gs(i).mr(t)}function le(i,t){i.qr.U(t),gs(i).yr(t)}function me(i){i.qr=new R1({getRemoteKeysForTarget:function(t){return i.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return i.$r.get(t)||null}}),gs(i).start(),i.Br.Sr()}function Se(i){return ke(i)&&!gs(i).tr()&&i.$r.size>0}function ke(i){return 0===Gt(i).Or.size}function Ge(i){i.qr=void 0}function Xe(i){return(0,Me.mG)(this,void 0,void 0,function(){return(0,Me.Jh)(this,function(t){return i.$r.forEach(function(e,o){k(i,e)}),[2]})})}function yt(i,t){return(0,Me.mG)(this,void 0,void 0,function(){return(0,Me.Jh)(this,function(e){return Ge(i),Se(i)?(i.Br.Nr(t),me(i)):i.Br.set("Unknown"),[2]})})}function ut(i,t,e){return(0,Me.mG)(this,void 0,void 0,function(){var o,s,c;return(0,Me.Jh)(this,function(f){switch(f.label){case 0:if(i.Br.set("Online"),!(t instanceof ME&&2===t.state&&t.cause))return[3,6];f.label=1;case 1:return f.trys.push([1,3,,5]),[4,function(g,v){return(0,Me.mG)(this,void 0,void 0,function(){var S,W,pe,we;return(0,Me.Jh)(this,function(Te){switch(Te.label){case 0:S=v.cause,W=0,pe=v.targetIds,Te.label=1;case 1:return W<pe.length?g.$r.has(we=pe[W])?[4,g.remoteSyncer.rejectListen(we,S)]:[3,3]:[3,5];case 2:Te.sent(),g.$r.delete(we),g.qr.removeTarget(we),Te.label=3;case 3:Te.label=4;case 4:return W++,[3,1];case 5:return[2]}})})}(i,t)];case 2:return f.sent(),[3,5];case 3:return o=f.sent(),Bt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),o),[4,It(i,o)];case 4:return f.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Yf?i.qr.X(t):t instanceof DE?i.qr.rt(t):i.qr.et(t),e.isEqual(Sn.min()))return[3,13];f.label=7;case 7:return f.trys.push([7,11,,13]),[4,nT(i.localStore)];case 8:return s=f.sent(),e.compareTo(s)>=0?[4,(g=i,v=e,S=g.qr.ut(v),S.targetChanges.forEach(function(W,pe){if(W.resumeToken.approximateByteSize()>0){var we=g.$r.get(pe);we&&g.$r.set(pe,we.withResumeToken(W.resumeToken,v))}}),S.targetMismatches.forEach(function(W){var pe=g.$r.get(W);if(pe){g.$r.set(W,pe.withResumeToken(Pi.EMPTY_BYTE_STRING,pe.snapshotVersion)),le(g,W);var we=new ov(pe.target,W,1,pe.sequenceNumber);k(g,we)}}),g.remoteSyncer.applyRemoteEvent(S))]:[3,10];case 9:f.sent(),f.label=10;case 10:return[3,13];case 11:return Bt("RemoteStore","Failed to raise snapshot:",c=f.sent()),[4,It(i,c)];case 12:return f.sent(),[3,13];case 13:return[2]}var g,v,S})})}function It(i,t,e){return(0,Me.mG)(this,void 0,void 0,function(){var o=this;return(0,Me.Jh)(this,function(s){switch(s.label){case 0:if(!Bl(t))throw t;return i.Or.add(1),[4,m(i)];case 1:return s.sent(),i.Br.set("Offline"),e||(e=function(){return nT(i.localStore)}),i.asyncQueue.enqueueRetryable(function(){return(0,Me.mG)(o,void 0,void 0,function(){return(0,Me.Jh)(this,function(c){switch(c.label){case 0:return Bt("RemoteStore","Retrying IndexedDB access"),[4,e()];case 1:return c.sent(),i.Or.delete(1),[4,p(i)];case 2:return c.sent(),[2]}})})}),[2]}})})}function wt(i,t){return t().catch(function(e){return It(i,e,t)})}function Yt(i){return(0,Me.mG)(this,void 0,void 0,function(){var t,e,o,s,c;return(0,Me.Jh)(this,function(f){switch(f.label){case 0:t=Gt(i),e=Ws(t),o=t.kr.length>0?t.kr[t.kr.length-1].batchId:-1,f.label=1;case 1:if(!(ke(g=t)&&g.kr.length<10))return[3,7];f.label=2;case 2:return f.trys.push([2,4,,6]),[4,nx(t.localStore,o)];case 3:return null===(s=f.sent())?(0===t.kr.length&&e.ir(),[3,7]):(o=s.batchId,function(g,v){g.kr.push(v);var S=Ws(g);S.er()&&S.pr&&S.Er(v.mutations)}(t,s),[3,6]);case 4:return c=f.sent(),[4,It(t,c)];case 5:return f.sent(),[3,6];case 6:return[3,1];case 7:return un(t)&&An(t),[2]}var g})})}function un(i){return ke(i)&&!Ws(i).tr()&&i.kr.length>0}function An(i){Ws(i).start()}function Br(i){return(0,Me.mG)(this,void 0,void 0,function(){return(0,Me.Jh)(this,function(t){return Ws(i).Ar(),[2]})})}function Yo(i){return(0,Me.mG)(this,void 0,void 0,function(){var t,e,o;return(0,Me.Jh)(this,function(c){for(t=Ws(i),e=0,o=i.kr;e<o.length;e++)t.Er(o[e].mutations);return[2]})})}function tp(i,t,e){return(0,Me.mG)(this,void 0,void 0,function(){var o,s;return(0,Me.Jh)(this,function(c){switch(c.label){case 0:return o=i.kr.shift(),s=G1.from(o,t,e),[4,wt(i,function(){return i.remoteSyncer.applySuccessfulWrite(s)})];case 1:return c.sent(),[4,Yt(i)];case 2:return c.sent(),[2]}})})}function Pd(i,t){return(0,Me.mG)(this,void 0,void 0,function(){return(0,Me.Jh)(this,function(e){switch(e.label){case 0:return t&&Ws(i).pr?[4,function(o,s){return(0,Me.mG)(this,void 0,void 0,function(){var c,f;return(0,Me.Jh)(this,function(g){switch(g.label){case 0:return a0(f=s.code)&&f!==pt.ABORTED?(c=o.kr.shift(),Ws(o).sr(),[4,wt(o,function(){return o.remoteSyncer.rejectFailedWrite(c.batchId,s)})]):[3,3];case 1:return g.sent(),[4,Yt(o)];case 2:g.sent(),g.label=3;case 3:return[2]}})})}(i,t)]:[3,2];case 1:e.sent(),e.label=2;case 2:return un(i)&&An(i),[2]}})})}function ku(i,t){return(0,Me.mG)(this,void 0,void 0,function(){var e;return(0,Me.Jh)(this,function(o){switch(o.label){case 0:return e=Gt(i),t?(e.Or.delete(2),[4,p(e)]):[3,2];case 1:return o.sent(),[3,5];case 2:return t?[3,4]:(e.Or.add(2),[4,m(e)]);case 3:o.sent(),e.Br.set("Unknown"),o.label=4;case 4:o.label=5;case 5:return[2]}})})}function gs(i){var e,o,s,c,t=this;return i.Ur||(i.Ur=(e=i.datastore,o=i.asyncQueue,s={Ii:Xe.bind(null,i),Ri:yt.bind(null,i),_r:ut.bind(null,i)},(c=Gt(e)).br(),new KO(o,c.Hi,c.credentials,c.R,s)),i.Mr.push(function(e){return(0,Me.mG)(t,void 0,void 0,function(){return(0,Me.Jh)(this,function(o){switch(o.label){case 0:return e?(i.Ur.sr(),Se(i)?me(i):i.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,i.Ur.stop()];case 2:o.sent(),Ge(i),o.label=3;case 3:return[2]}})})})),i.Ur}function Ws(i){var e,o,s,c,t=this;return i.Kr||(i.Kr=(e=i.datastore,o=i.asyncQueue,s={Ii:Br.bind(null,i),Ri:Pd.bind(null,i),Ir:Yo.bind(null,i),Tr:tp.bind(null,i)},(c=Gt(e)).br(),new u(o,c.Hi,c.credentials,c.R,s)),i.Mr.push(function(e){return(0,Me.mG)(t,void 0,void 0,function(){return(0,Me.Jh)(this,function(o){switch(o.label){case 0:return e?(i.Kr.sr(),[4,Yt(i)]):[3,2];case 1:return o.sent(),[3,4];case 2:return[4,i.Kr.stop()];case 3:o.sent(),i.kr.length>0&&(Bt("RemoteStore","Stopping write stream with "+i.kr.length+" pending writes"),i.kr=[]),o.label=4;case 4:return[2]}})})})),i.Kr}var P0=function(){function i(t,e,o,s,c){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=o,this.op=s,this.removalCallback=c,this.deferred=new Fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(f){})}return i.createAndSchedule=function(t,e,o,s,c){var f=new i(t,e,Date.now()+o,s,c);return f.start(o),f},i.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},i.prototype.skipDelay=function(){return this.handleDelayElapsed()},i.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new kt(pt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},i.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},i.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},i}();function Ru(i,t){if(or("AsyncQueue",t+": "+i),Bl(i))return new kt(pt.UNAVAILABLE,t+": "+i);throw i}var vv=function(){function i(t){this.comparator=t?function(e,o){return t(e,o)||en.comparator(e.key,o.key)}:function(e,o){return en.comparator(e.key,o.key)},this.keyedMap=d0(),this.sortedSet=new bi(this.comparator)}return i.emptySet=function(t){return new i(t.comparator)},i.prototype.has=function(t){return null!=this.keyedMap.get(t)},i.prototype.get=function(t){return this.keyedMap.get(t)},i.prototype.first=function(){return this.sortedSet.minKey()},i.prototype.last=function(){return this.sortedSet.maxKey()},i.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},i.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(i.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),i.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,o){return t(e),!1})},i.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},i.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},i.prototype.isEqual=function(t){if(!(t instanceof i)||this.size!==t.size)return!1;for(var e=this.sortedSet.getIterator(),o=t.sortedSet.getIterator();e.hasNext();){var s=e.getNext().key,c=o.getNext().key;if(!s.isEqual(c))return!1}return!0},i.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},i.prototype.copy=function(t,e){var o=new i;return o.comparator=this.comparator,o.keyedMap=t,o.sortedSet=e,o},i}(),yv=function(){function i(){this.Qr=new bi(en.comparator)}return i.prototype.track=function(t){var e=t.doc.key,o=this.Qr.get(e);o?0!==t.type&&3===o.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==o.type?this.Qr=this.Qr.insert(e,{type:o.type,doc:t.doc}):2===t.type&&2===o.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===o.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===o.type?this.Qr=this.Qr.remove(e):1===t.type&&2===o.type?this.Qr=this.Qr.insert(e,{type:1,doc:o.doc}):0===t.type&&1===o.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):Kt():this.Qr=this.Qr.insert(e,t)},i.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal(function(e,o){t.push(o)}),t},i}(),gT=function(){function i(t,e,o,s,c,f,g,v){this.query=t,this.docs=e,this.oldDocs=o,this.docChanges=s,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=v}return i.fromInitialDocuments=function(t,e,o,s){var c=[];return e.forEach(function(f){c.push({type:0,doc:f})}),new i(t,e,vv.emptySet(e),c,o,s,!0,!1)},Object.defineProperty(i.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&pd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,o=t.docChanges;if(e.length!==o.length)return!1;for(var s=0;s<e.length;s++)if(e[s].type!==o[s].type||!e[s].doc.isEqual(o[s].doc))return!1;return!0},i}(),tV=function(){this.Wr=void 0,this.listeners=[]},nV=function(){this.queries=new Tu(function(i){return r0(i)},pd),this.onlineState="Unknown",this.Gr=new Set};function lx(i,t){return(0,Me.mG)(this,void 0,void 0,function(){var e,o,s,c,f,g,v;return(0,Me.Jh)(this,function(S){switch(S.label){case 0:if(e=Gt(i),s=!1,(c=e.queries.get(o=t.query))||(s=!0,c=new tV),!s)return[3,4];S.label=1;case 1:return S.trys.push([1,3,,4]),f=c,[4,e.onListen(o)];case 2:return f.Wr=S.sent(),[3,4];case 3:return g=S.sent(),v=Ru(g,"Initialization of query '"+yE(t.query)+"' failed"),[2,void t.onError(v)];case 4:return e.queries.set(o,c),c.listeners.push(t),t.zr(e.onlineState),c.Wr&&t.Hr(c.Wr)&&dx(e),[2]}})})}function cx(i,t){return(0,Me.mG)(this,void 0,void 0,function(){var e,o,s,c,f;return(0,Me.Jh)(this,function(g){return e=Gt(i),s=!1,(c=e.queries.get(o=t.query))&&(f=c.listeners.indexOf(t))>=0&&(c.listeners.splice(f,1),s=0===c.listeners.length),s?[2,(e.queries.delete(o),e.onUnlisten(o))]:[2]})})}function rV(i,t){for(var e=Gt(i),o=!1,s=0,c=t;s<c.length;s++){var f=c[s],v=e.queries.get(f.query);if(v){for(var S=0,W=v.listeners;S<W.length;S++)W[S].Hr(f)&&(o=!0);v.Wr=f}}o&&dx(e)}function iV(i,t,e){var o=Gt(i),s=o.queries.get(t);if(s)for(var c=0,f=s.listeners;c<f.length;c++)f[c].onError(e);o.queries.delete(t)}function dx(i){i.Gr.forEach(function(t){t.next()})}var hx=function(){function i(t,e,o){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=o||{}}return i.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],o=0,s=t.docChanges;o<s.length;o++){var c=s[o];3!==c.type&&e.push(c)}t=new gT(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var f=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),f=!0):this.eo(t,this.onlineState)&&(this.no(t),f=!0),this.Xr=t,f},i.prototype.onError=function(t){this.Jr.error(t)},i.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},i.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},i.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},i.prototype.no=function(t){t=gT.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},i}(),oV=function(){function i(t,e){this.payload=t,this.byteLength=e}return i.prototype.io=function(){return"metadata"in this.payload},i}(),JO=function(){function i(t){this.R=t}return i.prototype.qn=function(t){return Ma(this.R,t)},i.prototype.Un=function(t){return t.metadata.exists?OE(this.R,t.document,!1):_i.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},i.prototype.Kn=function(t){return Lr(t)},i}();!function(){function i(t,e,o){this.ro=t,this.localStore=e,this.R=o,this.queries=[],this.documents=[],this.progress=function(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}(t)}i.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},i.prototype.co=function(t){for(var e=new Map,o=new JO(this.R),s=0,c=t;s<c.length;s++){var f=c[s];if(f.metadata.queries)for(var g=o.qn(f.metadata.name),v=0,S=f.metadata.queries;v<S.length;v++){var W=S[v],pe=(e.get(W)||zn()).add(g);e.set(W,pe)}}return e},i.prototype.complete=function(){return(0,Me.mG)(this,void 0,void 0,function(){var t,e,o,s,c;return(0,Me.Jh)(this,function(f){switch(f.label){case 0:return[4,ep(this.localStore,new JO(this.R),this.documents,this.ro.id)];case 1:t=f.sent(),e=this.co(this.documents),o=0,s=this.queries,f.label=2;case 2:return o<s.length?[4,Id(this.localStore,c=s[o],e.get(c.name))]:[3,5];case 3:f.sent(),f.label=4;case 4:return o++,[3,2];case 5:return[2,(this.progress.taskState="Success",new XE(Object.assign({},this.progress),t))]}})})}}();var eF=function(i){this.key=i},tF=function(i){this.key=i},nF=function(){function i(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=zn(),this.mutatedKeys=zn(),this.lo=Gf(t),this.fo=new vv(this.lo)}return Object.defineProperty(i.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),i.prototype._o=function(t,e){var o=this,s=e?e.mo:new yv,c=e?e.fo:this.fo,f=e?e.mutatedKeys:this.mutatedKeys,g=c,v=!1,S=Gm(this.query)&&c.size===this.query.limit?c.last():null,W=hd(this.query)&&c.size===this.query.limit?c.first():null;if(t.inorderTraversal(function(we,Te){var Pe=c.get(we),Ue=gd(o.query,Te)?Te:null,rt=!!Pe&&o.mutatedKeys.has(Pe.key),vt=!!Ue&&(Ue.hasLocalMutations||o.mutatedKeys.has(Ue.key)&&Ue.hasCommittedMutations),At=!1;Pe&&Ue?Pe.data.isEqual(Ue.data)?rt!==vt&&(s.track({type:3,doc:Ue}),At=!0):o.yo(Pe,Ue)||(s.track({type:2,doc:Ue}),At=!0,(S&&o.lo(Ue,S)>0||W&&o.lo(Ue,W)<0)&&(v=!0)):!Pe&&Ue?(s.track({type:0,doc:Ue}),At=!0):Pe&&!Ue&&(s.track({type:1,doc:Pe}),At=!0,(S||W)&&(v=!0)),At&&(Ue?(g=g.add(Ue),f=vt?f.add(we):f.delete(we)):(g=g.delete(we),f=f.delete(we)))}),Gm(this.query)||hd(this.query))for(;g.size>this.query.limit;){var pe=Gm(this.query)?g.last():g.first();g=g.delete(pe.key),f=f.delete(pe.key),s.track({type:1,doc:pe})}return{fo:g,mo:s,Nn:v,mutatedKeys:f}},i.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},i.prototype.applyChanges=function(t,e,o){var s=this,c=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var f=t.mo.jr();f.sort(function(W,pe){return Te=pe.type,(Pe=function(Ue){switch(Ue){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Kt()}})(W.type)-Pe(Te)||s.lo(W.doc,pe.doc);var Te,Pe}),this.po(o);var g=e?this.Eo():[],v=0===this.ho.size&&this.current?1:0,S=v!==this.ao;return this.ao=v,0!==f.length||S?{snapshot:new gT(this.query,t.fo,c,f,t.mutatedKeys,0===v,S,!1),To:g}:{To:g}},i.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new yv,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},i.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},i.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(o){return e.uo=e.uo.add(o)}),t.modifiedDocuments.forEach(function(o){}),t.removedDocuments.forEach(function(o){return e.uo=e.uo.delete(o)}),this.current=t.current)},i.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=zn(),this.fo.forEach(function(s){t.Io(s.key)&&(t.ho=t.ho.add(s.key))});var o=[];return e.forEach(function(s){t.ho.has(s)||o.push(new tF(s))}),this.ho.forEach(function(s){e.has(s)||o.push(new eF(s))}),o},i.prototype.Ao=function(t){this.uo=t.Bn,this.ho=zn();var e=this._o(t.documents);return this.applyChanges(e,!0)},i.prototype.Ro=function(){return gT.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},i}(),aV=function(i,t,e){this.query=i,this.targetId=t,this.view=e},uV=function(i){this.key=i,this.bo=!1},lV=function(){function i(t,e,o,s,c,f){this.localStore=t,this.remoteStore=e,this.eventManager=o,this.sharedClientState=s,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.vo={},this.Po=new Tu(function(g){return r0(g)},pd),this.Vo=new Map,this.So=new Set,this.Do=new bi(en.comparator),this.Co=new Map,this.No=new Mu,this.xo={},this.Fo=new Map,this.ko=kd.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(i.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),i}();function cV(i,t){return(0,Me.mG)(this,void 0,void 0,function(){var e,s,c,f,g;return(0,Me.Jh)(this,function(v){switch(v.label){case 0:return e=yx(i),(c=e.Po.get(t))?(e.sharedClientState.addLocalQueryTarget(c.targetId),s=c.view.Ro(),[3,4]):[3,1];case 1:return[4,jl(e.localStore,Hi(t))];case 2:return f=v.sent(),g=e.sharedClientState.addLocalQueryTarget(f.targetId),[4,fx(e,t,f.targetId,"current"===g)];case 3:s=v.sent(),e.isPrimaryClient&&_(e.remoteStore,f),v.label=4;case 4:return[2,s]}})})}function fx(i,t,e,o){return(0,Me.mG)(this,void 0,void 0,function(){var s,c,f,g,v,S;return(0,Me.Jh)(this,function(W){switch(W.label){case 0:return i.Oo=function(pe,we,Te){return function(Pe,Ue,rt,vt){return(0,Me.mG)(this,void 0,void 0,function(){var At,Rt,Ht;return(0,Me.Jh)(this,function(jt){switch(jt.label){case 0:return(At=Ue.view._o(rt)).Nn?[4,hv(Pe.localStore,Ue.query,!1).then(function(cn){return Ue.view._o(cn.documents,At)})]:[3,2];case 1:At=jt.sent(),jt.label=2;case 2:return Rt=vt&&vt.targetChanges.get(Ue.targetId),Ht=Ue.view.applyChanges(At,Pe.isPrimaryClient,Rt),[2,(mx(Pe,Ue.targetId,Ht.To),Ht.snapshot)]}})})}(i,pe,we,Te)},[4,hv(i.localStore,t,!0)];case 1:return s=W.sent(),c=new nF(t,s.Bn),f=c._o(s.documents),g=h0.createSynthesizedTargetChangeForCurrentChange(e,o&&"Offline"!==i.onlineState),v=c.applyChanges(f,i.isPrimaryClient,g),mx(i,e,v.To),S=new aV(t,e,c),[2,(i.Po.set(t,S),i.Vo.has(e)?i.Vo.get(e).push(t):i.Vo.set(e,[t]),v.snapshot)]}})})}function dV(i,t){return(0,Me.mG)(this,void 0,void 0,function(){var e,o,s;return(0,Me.Jh)(this,function(c){switch(c.label){case 0:return e=Gt(i),o=e.Po.get(t),(s=e.Vo.get(o.targetId)).length>1?[2,(e.Vo.set(o.targetId,s.filter(function(f){return!pd(f,t)})),void e.Po.delete(t))]:e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(o.targetId),e.sharedClientState.isActiveQueryTarget(o.targetId)?[3,2]:[4,zl(e.localStore,o.targetId,!1).then(function(){e.sharedClientState.clearQueryState(o.targetId),w(e.remoteStore,o.targetId),_v(e,o.targetId)}).catch(Eu)]):[3,3];case 1:c.sent(),c.label=2;case 2:return[3,5];case 3:return _v(e,o.targetId),[4,zl(e.localStore,o.targetId,!0)];case 4:c.sent(),c.label=5;case 5:return[2]}})})}function hV(i,t,e){return(0,Me.mG)(this,void 0,void 0,function(){var o,s,c,f;return(0,Me.Jh)(this,function(g){switch(g.label){case 0:o=_x(i),g.label=1;case 1:return g.trys.push([1,5,,6]),[4,(v=o.localStore,S=t,pe=Gt(v),we=yi.now(),Te=S.reduce(function(Pe,Ue){return Pe.add(Ue.key)},zn()),pe.persistence.runTransaction("Locally write mutations","readwrite",function(Pe){return pe.Mn.pn(Pe,Te).next(function(Ue){W=Ue;for(var rt=[],vt=0,At=S;vt<At.length;vt++){var Rt=At[vt],Ht=D1(Rt,W.get(Rt.key));null!=Ht&&rt.push(new Tr(Rt.key,Ht,g1(Ht.value.mapValue),Oi.exists(!0)))}return pe._n.addMutationBatch(Pe,we,rt,S)})}).then(function(Pe){return Pe.applyToLocalDocumentSet(W),{batchId:Pe.batchId,changes:W}}))];case 2:return s=g.sent(),o.sharedClientState.addPendingMutation(s.batchId),function(v,S,W){var pe=v.xo[v.currentUser.toKey()];pe||(pe=new bi(Tn)),pe=pe.insert(S,W),v.xo[v.currentUser.toKey()]=pe}(o,s.batchId,e),[4,ql(o,s.changes)];case 3:return g.sent(),[4,Yt(o.remoteStore)];case 4:return g.sent(),[3,6];case 5:return c=g.sent(),f=Ru(c,"Failed to persist write"),e.reject(f),[3,6];case 6:return[2]}var v,S,W,pe,we,Te})})}function rF(i,t){return(0,Me.mG)(this,void 0,void 0,function(){var e,o;return(0,Me.Jh)(this,function(s){switch(s.label){case 0:e=Gt(i),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,tx(e.localStore,t)];case 2:return o=s.sent(),t.targetChanges.forEach(function(c,f){var g=e.Co.get(f);g&&(ln(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?g.bo=!0:c.modifiedDocuments.size>0?ln(g.bo):c.removedDocuments.size>0&&(ln(g.bo),g.bo=!1))}),[4,ql(e,o,t)];case 3:return s.sent(),[3,6];case 4:return[4,Eu(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function iF(i,t,e){var o=Gt(i);if(o.isPrimaryClient&&0===e||!o.isPrimaryClient&&1===e){var s=[];o.Po.forEach(function(c,f){var g=f.view.zr(t);g.snapshot&&s.push(g.snapshot)}),function(c,f){var g=Gt(c);g.onlineState=f;var v=!1;g.queries.forEach(function(S,W){for(var pe=0,we=W.listeners;pe<we.length;pe++)we[pe].zr(f)&&(v=!0)}),v&&dx(g)}(o.eventManager,t),s.length&&o.vo._r(s),o.onlineState=t,o.isPrimaryClient&&o.sharedClientState.setOnlineState(t)}}function fV(i,t,e){return(0,Me.mG)(this,void 0,void 0,function(){var o,s,c,f,g,v;return(0,Me.Jh)(this,function(S){switch(S.label){case 0:return(o=Gt(i)).sharedClientState.updateQueryState(t,"rejected",e),s=o.Co.get(t),(c=s&&s.key)?(f=(f=new bi(en.comparator)).insert(c,_i.newNoDocument(c,Sn.min())),g=zn().add(c),v=new TE(Sn.min(),new Map,new Mr(Tn),f,g),[4,rF(o,v)]):[3,2];case 1:return S.sent(),o.Do=o.Do.remove(c),o.Co.delete(t),vx(o),[3,4];case 2:return[4,zl(o.localStore,t,!1).then(function(){return _v(o,t,e)}).catch(Eu)];case 3:S.sent(),S.label=4;case 4:return[2]}})})}function pV(i,t){return(0,Me.mG)(this,void 0,void 0,function(){var e,o,s;return(0,Me.Jh)(this,function(c){switch(c.label){case 0:e=Gt(i),o=t.batch.batchId,c.label=1;case 1:return c.trys.push([1,4,,6]),[4,ex(e.localStore,t)];case 2:return s=c.sent(),gx(e,o,null),px(e,o),e.sharedClientState.updateMutationState(o,"acknowledged"),[4,ql(e,s)];case 3:return c.sent(),[3,6];case 4:return[4,Eu(c.sent())];case 5:return c.sent(),[3,6];case 6:return[2]}})})}function gV(i,t,e){return(0,Me.mG)(this,void 0,void 0,function(){var o,s;return(0,Me.Jh)(this,function(c){switch(c.label){case 0:o=Gt(i),c.label=1;case 1:return c.trys.push([1,4,,6]),[4,(f=o.localStore,g=t,v=Gt(f),v.persistence.runTransaction("Reject batch","readwrite-primary",function(S){var W;return v._n.lookupMutationBatch(S,g).next(function(pe){return ln(null!==pe),W=pe.keys(),v._n.removeMutationBatch(S,pe)}).next(function(){return v._n.performConsistencyCheck(S)}).next(function(){return v.Mn.pn(S,W)})}))];case 2:return s=c.sent(),gx(o,t,e),px(o,t),o.sharedClientState.updateMutationState(t,"rejected",e),[4,ql(o,s)];case 3:return c.sent(),[3,6];case 4:return[4,Eu(c.sent())];case 5:return c.sent(),[3,6];case 6:return[2]}var f,g,v})})}function mV(i,t){return(0,Me.mG)(this,void 0,void 0,function(){var e,o,s,c,f;return(0,Me.Jh)(this,function(g){switch(g.label){case 0:ke((e=Gt(i)).remoteStore)||Bt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),g.label=1;case 1:return g.trys.push([1,3,,4]),[4,(v=e.localStore,S=Gt(v),S.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(W){return S._n.getHighestUnacknowledgedBatchId(W)}))];case 2:return-1===(o=g.sent())?[2,void t.resolve()]:((s=e.Fo.get(o)||[]).push(t),e.Fo.set(o,s),[3,4]);case 3:return c=g.sent(),f=Ru(c,"Initialization of waitForPendingWrites() operation failed"),t.reject(f),[3,4];case 4:return[2]}var v,S})})}function px(i,t){(i.Fo.get(t)||[]).forEach(function(e){e.resolve()}),i.Fo.delete(t)}function gx(i,t,e){var o=Gt(i),s=o.xo[o.currentUser.toKey()];if(s){var c=s.get(t);c&&(e?c.reject(e):c.resolve(),s=s.remove(t)),o.xo[o.currentUser.toKey()]=s}}function _v(i,t,e){void 0===e&&(e=null),i.sharedClientState.removeLocalQueryTarget(t);for(var o=0,s=i.Vo.get(t);o<s.length;o++){var c=s[o];i.Po.delete(c),e&&i.vo.Mo(c,e)}i.Vo.delete(t),i.isPrimaryClient&&i.No.Zn(t).forEach(function(f){i.No.containsKey(f)||oF(i,f)})}function oF(i,t){i.So.delete(t.path.canonicalString());var e=i.Do.get(t);null!==e&&(w(i.remoteStore,e),i.Do=i.Do.remove(t),i.Co.delete(e),vx(i))}function mx(i,t,e){for(var o=0,s=e;o<s.length;o++){var c=s[o];c instanceof eF?(i.No.addReference(c.key,t),vV(i,c)):c instanceof tF?(Bt("SyncEngine","Document no longer in limbo: "+c.key),i.No.removeReference(c.key,t),i.No.containsKey(c.key)||oF(i,c.key)):Kt()}}function vV(i,t){var e=t.key,o=e.path.canonicalString();i.Do.get(e)||i.So.has(o)||(Bt("SyncEngine","New document in limbo: "+e),i.So.add(o),vx(i))}function vx(i){for(;i.So.size>0&&i.Do.size<i.maxConcurrentLimboResolutions;){var t=i.So.values().next().value;i.So.delete(t);var e=new en(xn.fromString(t)),o=i.ko.next();i.Co.set(o,new uV(e)),i.Do=i.Do.insert(e,o),_(i.remoteStore,new ov(Hi(Hf(e.path)),o,2,Uo.o))}}function ql(i,t,e){return(0,Me.mG)(this,void 0,void 0,function(){var o,s,c,f;return(0,Me.Jh)(this,function(g){switch(g.label){case 0:return o=Gt(i),s=[],c=[],f=[],o.Po.isEmpty()?[3,3]:(o.Po.forEach(function(v,S){f.push(o.Oo(S,t,e).then(function(W){if(W){o.isPrimaryClient&&o.sharedClientState.updateQueryState(S.targetId,W.fromCache?"not-current":"current"),s.push(W);var pe=X1.Pn(S.targetId,W);c.push(pe)}}))}),[4,Promise.all(f)]);case 1:return g.sent(),o.vo._r(s),[4,function(v,S){return(0,Me.mG)(this,void 0,void 0,function(){var W,pe,we,Te,Pe,Ue,rt,At;return(0,Me.Jh)(this,function(Rt){switch(Rt.label){case 0:W=Gt(v),Rt.label=1;case 1:return Rt.trys.push([1,3,,4]),[4,W.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(Ht){return Ot.forEach(S,function(jt){return Ot.forEach(jt.bn,function(cn){return W.persistence.referenceDelegate.addReference(Ht,jt.targetId,cn)}).next(function(){return Ot.forEach(jt.vn,function(cn){return W.persistence.referenceDelegate.removeReference(Ht,jt.targetId,cn)})})})})];case 2:return Rt.sent(),[3,4];case 3:if(!Bl(pe=Rt.sent()))throw pe;return Bt("LocalStore","Failed to update sequence numbers: "+pe),[3,4];case 4:for(we=0,Te=S;we<Te.length;we++)Ue=(Pe=Te[we]).targetId,Pe.fromCache||(rt=W.Fn.get(Ue),At=rt.withLastLimboFreeSnapshotVersion(rt.snapshotVersion),W.Fn=W.Fn.insert(Ue,At));return[2]}})})}(o.localStore,c)];case 2:g.sent(),g.label=3;case 3:return[2]}})})}function yV(i,t){return(0,Me.mG)(this,void 0,void 0,function(){var e,o;return(0,Me.Jh)(this,function(s){switch(s.label){case 0:return(e=Gt(i)).currentUser.isEqual(t)?[3,3]:(Bt("SyncEngine","User change. New user:",t.toKey()),[4,cv(e.localStore,t)]);case 1:return o=s.sent(),e.currentUser=t,(c=e).Fo.forEach(function(g){g.forEach(function(v){v.reject(new kt(pt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.Fo.clear(),e.sharedClientState.handleUserChange(t,o.removedBatchIds,o.addedBatchIds),[4,ql(e,o.Ln)];case 2:s.sent(),s.label=3;case 3:return[2]}var c})})}function _V(i,t){var e=Gt(i),o=e.Co.get(t);if(o&&o.bo)return zn().add(o.key);var s=zn(),c=e.Vo.get(t);if(!c)return s;for(var f=0,g=c;f<g.length;f++){var S=e.Po.get(g[f]);s=s.unionWith(S.view.wo)}return s}function bV(i,t){return(0,Me.mG)(this,void 0,void 0,function(){var e,o,s;return(0,Me.Jh)(this,function(c){switch(c.label){case 0:return[4,hv((e=Gt(i)).localStore,t.query,!0)];case 1:return o=c.sent(),s=t.view.Ao(o),[2,(e.isPrimaryClient&&mx(e,t.targetId,s.To),s)]}})})}function wV(i){return(0,Me.mG)(this,void 0,void 0,function(){var t;return(0,Me.Jh)(this,function(e){return[2,iT((t=Gt(i)).localStore).then(function(o){return ql(t,o)})]})})}function CV(i,t,e,o){return(0,Me.mG)(this,void 0,void 0,function(){var s,c;return(0,Me.Jh)(this,function(f){switch(f.label){case 0:return[4,(g=(s=Gt(i)).localStore,v=t,S=Gt(g),W=Gt(S._n),S.persistence.runTransaction("Lookup mutation documents","readonly",function(pe){return W.jt(pe,v).next(function(we){return we?S.Mn.pn(pe,we):Ot.resolve(null)})}))];case 1:return null===(c=f.sent())?[3,6]:"pending"!==e?[3,3]:[4,Yt(s.remoteStore)];case 2:return f.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(gx(s,t,o||null),px(s,t),function(g,v){Gt(Gt(g)._n).Gt(v)}(s.localStore,t)):Kt(),f.label=4;case 4:return[4,ql(s,c)];case 5:return f.sent(),[3,7];case 6:Bt("SyncEngine","Cannot apply mutation batch with id: "+t),f.label=7;case 7:return[2]}var g,v,S,W})})}function SV(i,t){return(0,Me.mG)(this,void 0,void 0,function(){var e,o,s,c,f,v,S;return(0,Me.Jh)(this,function(W){switch(W.label){case 0:return yx(e=Gt(i)),_x(e),!0!==t||!0===e.$o?[3,3]:(o=e.sharedClientState.getAllActiveQueryTargets(),[4,sF(e,o.toArray())]);case 1:return s=W.sent(),e.$o=!0,[4,ku(e.remoteStore,!0)];case 2:for(W.sent(),c=0,f=s;c<f.length;c++)_(e.remoteStore,f[c]);return[3,7];case 3:return!1!==t||!1===e.$o?[3,7]:(v=[],S=Promise.resolve(),e.Vo.forEach(function(pe,we){e.sharedClientState.isLocalQueryTarget(we)?v.push(we):S=S.then(function(){return _v(e,we),zl(e.localStore,we,!0)}),w(e.remoteStore,we)}),[4,S]);case 4:return W.sent(),[4,sF(e,v)];case 5:return W.sent(),(we=Gt(e)).Co.forEach(function(Te,Pe){w(we.remoteStore,Pe)}),we.No.ts(),we.Co=new Map,we.Do=new bi(en.comparator),e.$o=!1,[4,ku(e.remoteStore,!1)];case 6:W.sent(),W.label=7;case 7:return[2]}var we})})}function sF(i,t,e){return(0,Me.mG)(this,void 0,void 0,function(){var o,s,c,f,g,v,S,W,pe,we,Pe,Ue,rt;return(0,Me.Jh)(this,function(vt){switch(vt.label){case 0:o=Gt(i),s=[],c=[],f=0,g=t,vt.label=1;case 1:return f<g.length?(S=void 0,(W=o.Vo.get(v=g[f]))&&0!==W.length?[4,jl(o.localStore,Hi(W[0]))]:[3,7]):[3,13];case 2:S=vt.sent(),pe=0,we=W,vt.label=3;case 3:return pe<we.length?(Pe=o.Po.get(we[pe]),[4,bV(o,Pe)]):[3,6];case 4:(Ue=vt.sent()).snapshot&&c.push(Ue.snapshot),vt.label=5;case 5:return pe++,[3,3];case 6:return[3,11];case 7:return[4,rT(o.localStore,v)];case 8:return rt=vt.sent(),[4,jl(o.localStore,rt)];case 9:return S=vt.sent(),[4,fx(o,aF(rt),v,!1)];case 10:vt.sent(),vt.label=11;case 11:s.push(S),vt.label=12;case 12:return f++,[3,1];case 13:return[2,(o.vo._r(c),s)]}})})}function aF(i){return vE(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function AV(i){var t=Gt(i);return Gt(Gt(t.localStore).persistence).fn()}function EV(i,t,e,o){return(0,Me.mG)(this,void 0,void 0,function(){var s,c,f;return(0,Me.Jh)(this,function(g){switch(g.label){case 0:return(s=Gt(i)).$o?(Bt("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!s.Vo.has(t))return[3,8];switch(e){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,iT(s.localStore)];case 3:return c=g.sent(),f=TE.createSynthesizedRemoteEventForCurrentChange(t,"current"===e),[4,ql(s,c,f)];case 4:return g.sent(),[3,8];case 5:return[4,zl(s.localStore,t,!0)];case 6:return g.sent(),_v(s,t,o),[3,8];case 7:Kt(),g.label=8;case 8:return[2]}})})}function TV(i,t,e){return(0,Me.mG)(this,void 0,void 0,function(){var o,s,c,f,g,v,S,W,pe;return(0,Me.Jh)(this,function(Te){switch(Te.label){case 0:if(!(o=yx(i)).$o)return[3,10];s=0,c=t,Te.label=1;case 1:return s<c.length?o.Vo.has(f=c[s])?(Bt("SyncEngine","Adding an already active target "+f),[3,5]):[4,rT(o.localStore,f)]:[3,6];case 2:return g=Te.sent(),[4,jl(o.localStore,g)];case 3:return v=Te.sent(),[4,fx(o,aF(g),v.targetId,!1)];case 4:Te.sent(),_(o.remoteStore,v),Te.label=5;case 5:return s++,[3,1];case 6:S=function(Pe){return(0,Me.Jh)(this,function(Ue){switch(Ue.label){case 0:return o.Vo.has(Pe)?[4,zl(o.localStore,Pe,!1).then(function(){w(o.remoteStore,Pe),_v(o,Pe)}).catch(Eu)]:[3,2];case 1:Ue.sent(),Ue.label=2;case 2:return[2]}})},W=0,pe=e,Te.label=7;case 7:return W<pe.length?[5,S(pe[W])]:[3,10];case 8:Te.sent(),Te.label=9;case 9:return W++,[3,7];case 10:return[2]}})})}function yx(i){var t=Gt(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=rF.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=_V.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=fV.bind(null,t),t.vo._r=rV.bind(null,t.eventManager),t.vo.Mo=iV.bind(null,t.eventManager),t}function _x(i){var t=Gt(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=pV.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=gV.bind(null,t),t}var uF=function(){function i(){this.synchronizeTabs=!1}return i.prototype.initialize=function(t){return(0,Me.mG)(this,void 0,void 0,function(){return(0,Me.Jh)(this,function(e){switch(e.label){case 0:return this.R=mv(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}})})},i.prototype.Uo=function(t){return null},i.prototype.Ko=function(t){return xd(this.persistence,new tT,t.initialUser,this.R)},i.prototype.qo=function(t){return new aT(R0.bs,this.R)},i.prototype.Bo=function(t){return new ox},i.prototype.terminate=function(){return(0,Me.mG)(this,void 0,void 0,function(){return(0,Me.Jh)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},i}(),lF=function(i){function t(e,o,s){var c=this;return(c=i.call(this)||this).Qo=e,c.cacheSizeBytes=o,c.forceOwnership=s,c.synchronizeTabs=!1,c}return(0,Me.ZT)(t,i),t.prototype.initialize=function(e){return(0,Me.mG)(this,void 0,void 0,function(){return(0,Me.Jh)(this,function(o){switch(o.label){case 0:return[4,i.prototype.initialize.call(this,e)];case 1:return o.sent(),[4,La(this.localStore)];case 2:return o.sent(),[4,this.Qo.initialize(this,e)];case 3:return o.sent(),[4,_x(this.Qo.syncEngine)];case 4:return o.sent(),[4,Yt(this.Qo.remoteStore)];case 5:return o.sent(),[2]}})})},t.prototype.Ko=function(e){return xd(this.persistence,new tT,e.initialUser,this.R)},t.prototype.Uo=function(e){return new KE(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)},t.prototype.qo=function(e){var o=k0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?kr.withCacheSize(this.cacheSizeBytes):kr.DEFAULT;return new J1(this.synchronizeTabs,o,e.clientId,s,e.asyncQueue,ax(),gv(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new ox},t}(uF),MV=function(i){function t(e,o){var s=this;return(s=i.call(this,e,o,!1)||this).Qo=e,s.cacheSizeBytes=o,s.synchronizeTabs=!0,s}return(0,Me.ZT)(t,i),t.prototype.initialize=function(e){return(0,Me.mG)(this,void 0,void 0,function(){var o,s=this;return(0,Me.Jh)(this,function(c){switch(c.label){case 0:return[4,i.prototype.initialize.call(this,e)];case 1:return c.sent(),o=this.Qo.syncEngine,this.sharedClientState instanceof hT?(this.sharedClientState.syncEngine={ui:CV.bind(null,o),ai:EV.bind(null,o),hi:TV.bind(null,o),fn:AV.bind(null,o),ci:wV.bind(null,o)},[4,this.sharedClientState.start()]):[3,3];case 2:c.sent(),c.label=3;case 3:return[4,this.persistence.He(function(f){return(0,Me.mG)(s,void 0,void 0,function(){return(0,Me.Jh)(this,function(g){switch(g.label){case 0:return[4,SV(this.Qo.syncEngine,f)];case 1:return g.sent(),this.gcScheduler&&(f&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):f||this.gcScheduler.stop()),[2]}})})})];case 4:return c.sent(),[2]}})})},t.prototype.Bo=function(e){var o=ax();if(!hT.yt(o))throw new kt(pt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var s=k0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new hT(o,e.asyncQueue,s,e.clientId,e.initialUser)},t}(lF),bx=function(){function i(){}return i.prototype.initialize=function(t,e){return(0,Me.mG)(this,void 0,void 0,function(){var o=this;return(0,Me.Jh)(this,function(s){switch(s.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(c){return iF(o.syncEngine,c,1)},this.remoteStore.remoteSyncer.handleCredentialChange=yV.bind(null,this.syncEngine),[4,ku(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:s.sent(),s.label=2;case 2:return[2]}})})},i.prototype.createEventManager=function(t){return new nV},i.prototype.createDatastore=function(t){var o=mv(t.databaseInfo.databaseId),s=new QO(t.databaseInfo);return new l(t.credentials,s,o)},i.prototype.createRemoteStore=function(t){var e,o,s,c,f,g=this;return e=this.localStore,o=this.datastore,s=t.asyncQueue,c=function(v){return iF(g.syncEngine,v,0)},f=fT.yt()?new fT:new sx,new h(e,o,s,c,f)},i.prototype.createSyncEngine=function(t,e){return S=e,W=new lV(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions),S&&(W.$o=!0),W;var S,W},i.prototype.terminate=function(){return function(t){return(0,Me.mG)(this,void 0,void 0,function(){var e;return(0,Me.Jh)(this,function(o){switch(o.label){case 0:return e=Gt(t),Bt("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,m(e)];case 1:return o.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},i}(),mT=function(){function i(t){this.observer=t,this.muted=!1}return i.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},i.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},i.prototype.Wo=function(){this.muted=!0},i.prototype.jo=function(t,e){var o=this;this.muted||setTimeout(function(){o.muted||t(e)},0)},i}(),RV=(function(){function i(t,e){var o=this;this.Go=t,this.R=e,this.metadata=new Fi,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(s){s&&s.io()?o.metadata.resolve(s.payload.metadata):o.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==s?void 0:s.payload)))},function(s){return o.metadata.reject(s)})}i.prototype.close=function(){return this.Go.cancel()},i.prototype.getMetadata=function(){return(0,Me.mG)(this,void 0,void 0,function(){return(0,Me.Jh)(this,function(t){return[2,this.metadata.promise]})})},i.prototype.Lo=function(){return(0,Me.mG)(this,void 0,void 0,function(){return(0,Me.Jh)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},i.prototype.Ho=function(){return(0,Me.mG)(this,void 0,void 0,function(){var t,e,o,s;return(0,Me.Jh)(this,function(c){switch(c.label){case 0:return[4,this.Jo()];case 1:return null===(t=c.sent())?[2,null]:(e=this.zo.decode(t),o=Number(e),isNaN(o)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(o)]);case 2:return s=c.sent(),[2,new oV(JSON.parse(s),t.length+o)]}})})},i.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},i.prototype.Jo=function(){return(0,Me.mG)(this,void 0,void 0,function(){var t,e;return(0,Me.Jh)(this,function(o){switch(o.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(o.sent())return[3,3];o.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},i.prototype.Xo=function(t){return(0,Me.mG)(this,void 0,void 0,function(){var e;return(0,Me.Jh)(this,function(o){switch(o.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:o.sent()&&this.Yo("Reached the end of bundle when more is expected."),o.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},i.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},i.prototype.tc=function(){return(0,Me.mG)(this,void 0,void 0,function(){var t,e;return(0,Me.Jh)(this,function(o){switch(o.label){case 0:return[4,this.Go.read()];case 1:return(t=o.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function i(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return i.prototype.lookup=function(t){return(0,Me.mG)(this,void 0,void 0,function(){var e,o=this;return(0,Me.Jh)(this,function(s){switch(s.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new kt(pt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(c,f){return(0,Me.mG)(this,void 0,void 0,function(){var g,v,S,W,pe,we;return(0,Me.Jh)(this,function(Te){switch(Te.label){case 0:return g=Gt(c),v=wd(g.R)+"/documents",S={documents:f.map(function(Pe){return Xm(g.R,Pe)})},[4,g.$i("BatchGetDocuments",v,S)];case 1:return W=Te.sent(),pe=new Map,W.forEach(function(Pe){var rt,vt,Ue=(rt=g.R,"found"in(vt=Pe)?function(At,Rt){ln(!!Rt.found);var Ht=Ma(At,Rt.found.name),jt=Lr(Rt.found.updateTime),cn=new Ho({mapValue:{fields:Rt.found.fields}});return _i.newFoundDocument(Ht,jt,cn)}(rt,vt):"missing"in vt?function(At,Rt){ln(!!Rt.missing),ln(!!Rt.readTime);var Ht=Ma(At,Rt.missing),jt=Lr(Rt.readTime);return _i.newNoDocument(Ht,jt)}(rt,vt):Kt());pe.set(Ue.key.toString(),Ue)}),we=[],[2,(f.forEach(function(Pe){var Ue=pe.get(Pe.toString());ln(!!Ue),we.push(Ue)}),we)]}})})}(this.datastore,t)];case 1:return[2,((e=s.sent()).forEach(function(c){return o.recordVersion(c)}),e)]}})})},i.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},i.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(t.toString())},i.prototype.delete=function(t){this.write(new yd(t,this.precondition(t))),this.writtenDocs.add(t.toString())},i.prototype.commit=function(){return(0,Me.mG)(this,void 0,void 0,function(){var t,e=this;return(0,Me.Jh)(this,function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(s){t.delete(s.key.toString())}),t.forEach(function(s,c){var f=en.fromPath(c);e.mutations.push(new Qm(f,e.precondition(f)))}),[4,function(s,c){return(0,Me.mG)(this,void 0,void 0,function(){var f,g,v;return(0,Me.Jh)(this,function(S){switch(S.label){case 0:return f=Gt(s),g=wd(f.R)+"/documents",v={writes:c.map(function(W){return ev(f.R,W)})},[4,f.Ni("Commit",g,v)];case 1:return S.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return o.sent(),this.committed=!0,[2]}})})},i.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Kt();e=Sn.min()}var o=this.readVersions.get(t.key.toString());if(o){if(!e.isEqual(o))throw new kt(pt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},i.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Oi.updateTime(e):Oi.none()},i.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Sn.min()))throw new kt(pt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Oi.updateTime(e)}return Oi.exists(!0)},i.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},i.prototype.ensureCommitNotCalled=function(){},i}()),xV=function(){function i(t,e,o,s){this.asyncQueue=t,this.datastore=e,this.updateFunction=o,this.deferred=s,this.ec=5,this.Zi=new pT(this.asyncQueue,"transaction_retry")}return i.prototype.run=function(){this.ec-=1,this.nc()},i.prototype.nc=function(){var t=this;this.Zi.ji(function(){return(0,Me.mG)(t,void 0,void 0,function(){var e,o,s=this;return(0,Me.Jh)(this,function(c){return e=new RV(this.datastore),(o=this.sc(e))&&o.then(function(f){s.asyncQueue.enqueueAndForget(function(){return e.commit().then(function(){s.deferred.resolve(f)}).catch(function(g){s.ic(g)})})}).catch(function(f){s.ic(f)}),[2]})})})},i.prototype.sc=function(t){try{var e=this.updateFunction(t);return!Fl(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(o){return this.deferred.reject(o),null}},i.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},i.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!a0(e)}return!1},i}(),IV=function(){function i(t,e,o){var s=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=o,this.user=ji.UNAUTHENTICATED,this.clientId=Nm.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,function(c){return(0,Me.mG)(s,void 0,void 0,function(){return(0,Me.Jh)(this,function(f){switch(f.label){case 0:return Bt("FirestoreClient","Received user=",c.uid),[4,this.credentialListener(c)];case 1:return f.sent(),this.user=c,[2]}})})})}return i.prototype.getConfiguration=function(){return(0,Me.mG)(this,void 0,void 0,function(){return(0,Me.Jh)(this,function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},i.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},i.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new kt(pt.FAILED_PRECONDITION,"The client has already been terminated.")},i.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,Me.mG)(t,void 0,void 0,function(){var o,s;return(0,Me.Jh)(this,function(c){switch(c.label){case 0:return c.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:c.sent(),c.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:c.sent(),c.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return o=c.sent(),s=Ru(o,"Failed to shutdown persistence"),e.reject(s),[3,6];case 6:return[2]}})})}),e.promise},i}();function dF(i,t){return(0,Me.mG)(this,void 0,void 0,function(){var e,o,s=this;return(0,Me.Jh)(this,function(c){switch(c.label){case 0:return i.asyncQueue.verifyOperationInProgress(),Bt("FirestoreClient","Initializing OfflineComponentProvider"),[4,i.getConfiguration()];case 1:return e=c.sent(),[4,t.initialize(e)];case 2:return c.sent(),o=e.initialUser,i.setCredentialChangeListener(function(f){return(0,Me.mG)(s,void 0,void 0,function(){return(0,Me.Jh)(this,function(g){switch(g.label){case 0:return o.isEqual(f)?[3,2]:[4,cv(t.localStore,f)];case 1:g.sent(),o=f,g.label=2;case 2:return[2]}})})}),t.persistence.setDatabaseDeletedListener(function(){return i.terminate()}),i.offlineComponents=t,[2]}})})}function hF(i,t){return(0,Me.mG)(this,void 0,void 0,function(){var e,o;return(0,Me.Jh)(this,function(s){switch(s.label){case 0:return i.asyncQueue.verifyOperationInProgress(),[4,wx(i)];case 1:return e=s.sent(),Bt("FirestoreClient","Initializing OnlineComponentProvider"),[4,i.getConfiguration()];case 2:return o=s.sent(),[4,t.initialize(e,o)];case 3:return s.sent(),i.setCredentialChangeListener(function(c){return function(f,g){return(0,Me.mG)(this,void 0,void 0,function(){var v,S;return(0,Me.Jh)(this,function(W){switch(W.label){case 0:return(v=Gt(f)).asyncQueue.verifyOperationInProgress(),Bt("RemoteStore","RemoteStore received new credentials"),S=ke(v),v.Or.add(3),[4,m(v)];case 1:return W.sent(),S&&v.Br.set("Unknown"),[4,v.remoteSyncer.handleCredentialChange(g)];case 2:return W.sent(),v.Or.delete(3),[4,p(v)];case 3:return W.sent(),[2]}})})}(t.remoteStore,c)}),i.onlineComponents=t,[2]}})})}function wx(i){return(0,Me.mG)(this,void 0,void 0,function(){return(0,Me.Jh)(this,function(t){switch(t.label){case 0:return i.offlineComponents?[3,2]:(Bt("FirestoreClient","Using default OfflineComponentProvider"),[4,dF(i,new uF)]);case 1:t.sent(),t.label=2;case 2:return[2,i.offlineComponents]}})})}function vT(i){return(0,Me.mG)(this,void 0,void 0,function(){return(0,Me.Jh)(this,function(t){switch(t.label){case 0:return i.onlineComponents?[3,2]:(Bt("FirestoreClient","Using default OnlineComponentProvider"),[4,hF(i,new bx)]);case 1:t.sent(),t.label=2;case 2:return[2,i.onlineComponents]}})})}function fF(i){return wx(i).then(function(t){return t.persistence})}function Cx(i){return wx(i).then(function(t){return t.localStore})}function pF(i){return vT(i).then(function(t){return t.remoteStore})}function Sx(i){return vT(i).then(function(t){return t.syncEngine})}function bv(i){return(0,Me.mG)(this,void 0,void 0,function(){var t,e;return(0,Me.Jh)(this,function(o){switch(o.label){case 0:return[4,vT(i)];case 1:return t=o.sent(),[2,((e=t.eventManager).onListen=cV.bind(null,t.syncEngine),e.onUnlisten=dV.bind(null,t.syncEngine),e)]}})})}function gF(i,t,e){var o=this;void 0===e&&(e={});var s=new Fi;return i.asyncQueue.enqueueAndForget(function(){return(0,Me.mG)(o,void 0,void 0,function(){var c;return(0,Me.Jh)(this,function(f){switch(f.label){case 0:return c=function(g,v,S,W,pe){var we=new mT({next:function(Pe){v.enqueueAndForget(function(){return cx(g,Te)});var Ue=Pe.docs.has(S);!Ue&&Pe.fromCache?pe.reject(new kt(pt.UNAVAILABLE,"Failed to get document because the client is offline.")):Ue&&Pe.fromCache&&W&&"server"===W.source?pe.reject(new kt(pt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):pe.resolve(Pe)},error:function(Pe){return pe.reject(Pe)}}),Te=new hx(Hf(S.path),we,{includeMetadataChanges:!0,so:!0});return lx(g,Te)},[4,bv(i)];case 1:return[2,c.apply(void 0,[f.sent(),i.asyncQueue,t,e,s])]}})})}),s.promise}function mF(i,t,e){var o=this;void 0===e&&(e={});var s=new Fi;return i.asyncQueue.enqueueAndForget(function(){return(0,Me.mG)(o,void 0,void 0,function(){var c;return(0,Me.Jh)(this,function(f){switch(f.label){case 0:return c=function(g,v,S,W,pe){var we=new mT({next:function(Pe){v.enqueueAndForget(function(){return cx(g,Te)}),Pe.fromCache&&"server"===W.source?pe.reject(new kt(pt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):pe.resolve(Pe)},error:function(Pe){return pe.reject(Pe)}}),Te=new hx(S,we,{includeMetadataChanges:!0,so:!0});return lx(g,Te)},[4,bv(i)];case 1:return[2,c.apply(void 0,[f.sent(),i.asyncQueue,t,e,s])]}})})}),s.promise}var PV=function(i,t,e,o,s,c,f,g){this.databaseId=i,this.appId=t,this.persistenceKey=e,this.host=o,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.useFetchStreams=g},yT=function(){function i(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(i.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(t){return t instanceof i&&t.projectId===this.projectId&&t.database===this.database},i}(),vF=new Map,yF=function(i,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+i},_F=function(){function i(){this.changeListener=null}return i.prototype.getToken=function(){return Promise.resolve(null)},i.prototype.invalidateToken=function(){},i.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable(function(){return e(ji.UNAUTHENTICATED)})},i.prototype.removeChangeListener=function(){this.changeListener=null},i}(),OV=function(){function i(t){this.token=t,this.changeListener=null}return i.prototype.getToken=function(){return Promise.resolve(this.token)},i.prototype.invalidateToken=function(){},i.prototype.setChangeListener=function(t,e){var o=this;this.changeListener=e,t.enqueueRetryable(function(){return e(o.token.user)})},i.prototype.removeChangeListener=function(){this.changeListener=null},i}(),FV=function(){function i(t){var e=this;this.currentUser=ji.UNAUTHENTICATED,this.oc=new Fi,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable(function(){return e.changeListener(e.currentUser)})};var o=function(s){Bt("FirebaseCredentialsProvider","Auth detected"),e.auth=s,e.auth.addAuthTokenListener(e.uc)};t.onInit(function(s){return o(s)}),setTimeout(function(){if(!e.auth){var s=t.getImmediate({optional:!0});s?o(s):(Bt("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}},0)}return i.prototype.getToken=function(){var t=this,e=this.cc,o=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(o).then(function(s){return t.cc!==e?(Bt("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):s?(ln("string"==typeof s.accessToken),new yF(s.accessToken,t.currentUser)):null}):Promise.resolve(null)},i.prototype.invalidateToken=function(){this.forceRefresh=!0},i.prototype.setChangeListener=function(t,e){var o=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable(function(){return(0,Me.mG)(o,void 0,void 0,function(){return(0,Me.Jh)(this,function(s){switch(s.label){case 0:return[4,this.oc.promise];case 1:return s.sent(),[4,e(this.currentUser)];case 2:return s.sent(),this.changeListener=e,[2]}})})})},i.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},i.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return ln(null===t||"string"==typeof t),new ji(t)},i}(),LV=function(){function i(t,e,o){this.hc=t,this.lc=e,this.fc=o,this.type="FirstParty",this.user=ji.FIRST_PARTY}return Object.defineProperty(i.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),i}(),NV=function(){function i(t,e,o){this.hc=t,this.lc=e,this.fc=o}return i.prototype.getToken=function(){return Promise.resolve(new LV(this.hc,this.lc,this.fc))},i.prototype.setChangeListener=function(t,e){t.enqueueRetryable(function(){return e(ji.FIRST_PARTY)})},i.prototype.removeChangeListener=function(){},i.prototype.invalidateToken=function(){},i}();function Ax(i,t,e){if(!e)throw new kt(pt.INVALID_ARGUMENT,"Function "+i+"() cannot be called with an empty "+t+".")}function Ex(i,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new kt(pt.INVALID_ARGUMENT,"Invalid options passed to function "+i+'(): You cannot specify both "merge" and "mergeFields".');return t}function bF(i,t,e,o){if(!0===t&&!0===o)throw new kt(pt.INVALID_ARGUMENT,i+" and "+e+" cannot be used together.")}function wF(i){if(!en.isDocumentKey(i))throw new kt(pt.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+i+" has "+i.length+".")}function CF(i){if(en.isDocumentKey(i))throw new kt(pt.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+i+" has "+i.length+".")}function _T(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=i.substring(0,20)+"..."),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";var t=function(e){if(e.constructor){var o=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(o&&o.length>1)return o[1]}return null}(i);return t?"a custom "+t+" object":"an object"}return"function"==typeof i?"a function":Kt()}function Hn(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new kt(pt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var e=_T(i);throw new kt(pt.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+e)}return i}function SF(i,t){if(t<=0)throw new kt(pt.INVALID_ARGUMENT,"Function "+i+"() requires a positive number, but it was: "+t+".")}var AF=function(){function i(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new kt(pt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new kt(pt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,bF("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return i.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},i}(),O0=function(){function i(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AF({}),this._settingsFrozen=!1,t instanceof yT?(this._databaseId=t,this._credentials=new _F):(this._app=t,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new kt(pt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yT(o.options.projectId)}(t),this._credentials=new FV(e))}return Object.defineProperty(i.prototype,"app",{get:function(){if(!this._app)throw new kt(pt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),i.prototype._setSettings=function(t){if(this._settingsFrozen)throw new kt(pt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AF(t),void 0!==t.credentials&&(this._credentials=function(e){if(!e)return new _F;switch(e.type){case"gapi":var o=e.client;return ln(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new NV(o,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new kt(pt.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},i.prototype._getSettings=function(){return this._settings},i.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},i.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},i.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},i.prototype._terminate=function(){return(e=vF.get(this))&&(Bt("ComponentProvider","Removing Datastore"),vF.delete(this),e.terminate()),Promise.resolve();var e},i}(),Cr=function(){function i(t,e,o){this.converter=e,this._key=o,this.type="document",this.firestore=t}return Object.defineProperty(i.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return new Od(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),i.prototype.withConverter=function(t){return new i(this.firestore,t,this._key)},i}(),Zo=function(){function i(t,e,o){this.converter=e,this._query=o,this.type="query",this.firestore=t}return i.prototype.withConverter=function(t){return new i(this.firestore,t,this._query)},i}(),Od=function(i){function t(e,o,s){var c=this;return(c=i.call(this,e,o,Hf(s))||this)._path=s,c.type="collection",c}return(0,Me.ZT)(t,i),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Cr(this.firestore,null,new en(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(Zo);function EF(i,t){for(var e,o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];if(i=(0,Cn.m9)(i),Ax("collection","path",t),i instanceof O0)return CF(e=xn.fromString.apply(xn,(0,Me.ev)([t],o))),new Od(i,null,e);if(!(i instanceof Cr||i instanceof Od))throw new kt(pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return CF(e=xn.fromString.apply(xn,(0,Me.ev)([i.path],o)).child(xn.fromString(t))),new Od(i.firestore,null,e)}function bT(i,t){for(var e,o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];if(i=(0,Cn.m9)(i),1===arguments.length&&(t=Nm.u()),Ax("doc","path",t),i instanceof O0)return wF(e=xn.fromString.apply(xn,(0,Me.ev)([t],o))),new Cr(i,null,new en(e));if(!(i instanceof Cr||i instanceof Od))throw new kt(pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return wF(e=i._path.child(xn.fromString.apply(xn,(0,Me.ev)([t],o)))),new Cr(i.firestore,i instanceof Od?i.converter:null,new en(e))}function TF(i,t){return i=(0,Cn.m9)(i),t=(0,Cn.m9)(t),(i instanceof Cr||i instanceof Od)&&(t instanceof Cr||t instanceof Od)&&i.firestore===t.firestore&&i.path===t.path&&i.converter===t.converter}function DF(i,t){return i=(0,Cn.m9)(i),t=(0,Cn.m9)(t),i instanceof Zo&&t instanceof Zo&&i.firestore===t.firestore&&pd(i._query,t._query)&&i.converter===t.converter}var BV=function(){function i(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new pT(this,"async_queue_retry"),this.Ic=function(){var o=gv();o&&Bt("AsyncQueue","Visibility state changed to "+o.visibilityState),t.Zi.Gi()};var e=gv();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(i.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),i.prototype.enqueueAndForget=function(t){this.enqueue(t)},i.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},i.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var e=gv();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},i.prototype.enqueue=function(t){var e=this;if(this.Ac(),this._c)return new Promise(function(){});var o=new Fi;return this.Rc(function(){return e._c&&e.Ec?Promise.resolve():(t().then(o.resolve,o.reject),o.promise)}).then(function(){return o.promise})},i.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.wc.push(t),e.bc()})},i.prototype.bc=function(){return(0,Me.mG)(this,void 0,void 0,function(){var t,e=this;return(0,Me.Jh)(this,function(o){switch(o.label){case 0:if(0===this.wc.length)return[3,5];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return o.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Bl(t=o.sent()))throw t;return Bt("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return e.bc()}),o.label=5;case 5:return[2]}})})},i.prototype.Rc=function(t){var e=this,o=this.dc.then(function(){return e.gc=!0,t().catch(function(s){throw e.yc=s,e.gc=!1,or("INTERNAL UNHANDLED ERROR: ",(f=(c=s).message||"",c.stack&&(f=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),f)),s;var c,f}).then(function(s){return e.gc=!1,s})});return this.dc=o,o},i.prototype.enqueueAfterDelay=function(t,e,o){var s=this;this.Ac(),this.Tc.indexOf(t)>-1&&(e=0);var c=P0.createAndSchedule(this,t,e,o,function(f){return s.vc(f)});return this.mc.push(c),c},i.prototype.Ac=function(){this.yc&&Kt()},i.prototype.verifyOperationInProgress=function(){},i.prototype.Pc=function(){return(0,Me.mG)(this,void 0,void 0,function(){var t;return(0,Me.Jh)(this,function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}})})},i.prototype.Vc=function(t){for(var e=0,o=this.mc;e<o.length;e++)if(o[e].timerId===t)return!0;return!1},i.prototype.Sc=function(t){var e=this;return this.Pc().then(function(){e.mc.sort(function(f,g){return f.targetTimeMs-g.targetTimeMs});for(var o=0,s=e.mc;o<s.length;o++){var c=s[o];if(c.skipDelay(),"all"!==t&&c.timerId===t)break}return e.Pc()})},i.prototype.Dc=function(t){this.Tc.push(t)},i.prototype.vc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},i}();function wv(i){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var o=t,s=0,c=["next","error","complete"];s<c.length;s++){var f=c[s];if(f in o&&"function"==typeof o[f])return!0}return!1}(i)}!function(){function i(){this._progressObserver={},this._taskCompletionResolver=new Fi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}i.prototype.onProgress=function(t,e,o){this._progressObserver={next:t,error:e,complete:o}},i.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},i.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},i.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},i.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},i.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var Vr=function(i){function t(e,o){var s=this;return(s=i.call(this,e,o)||this).type="firestore",s._queue=new BV,s._persistenceKey="name"in e?e.name:"[DEFAULT]",s}return(0,Me.ZT)(t,i),t.prototype._terminate=function(){return this._firestoreClient||MF(this),this._firestoreClient.terminate()},t}(O0);function wi(i){return i._firestoreClient||MF(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function MF(i){var t,c,g,e=i._freezeSettings(),o=(c=(null===(t=i._app)||void 0===t?void 0:t.options.appId)||"",new PV(i._databaseId,c,i._persistenceKey,(g=e).host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,g.useFetchStreams));i._firestoreClient=new IV(i._credentials,i._queue,o)}function kF(i,t,e){var o=this,s=new Fi;return i.asyncQueue.enqueue(function(){return(0,Me.mG)(o,void 0,void 0,function(){var c;return(0,Me.Jh)(this,function(f){switch(f.label){case 0:return f.trys.push([0,3,,4]),[4,dF(i,e)];case 1:return f.sent(),[4,hF(i,t)];case 2:return f.sent(),s.resolve(),[3,4];case 3:if(!("FirebaseError"===(g=c=f.sent()).name?g.code===pt.FAILED_PRECONDITION||g.code===pt.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&g instanceof DOMException)||22===g.code||20===g.code||11===g.code))throw c;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+c),s.reject(c),[3,4];case 4:return[2]}var g})})}).then(function(){return s.promise})}function RF(i){if(i._initialized||i._terminated)throw new kt(pt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var xu=function(){function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var o=0;o<t.length;++o)if(0===t[o].length)throw new kt(pt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new go(t)}return i.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},i}(),np=function(){function i(t){this._byteString=t}return i.fromBase64String=function(t){try{return new i(Pi.fromBase64String(t))}catch(e){throw new kt(pt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},i.fromUint8Array=function(t){return new i(Pi.fromUint8Array(t))},i.prototype.toBase64=function(){return this._byteString.toBase64()},i.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},i.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},i.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},i}(),rp=function(i){this._methodName=i},wT=function(){function i(t,e){if(!isFinite(t)||t<-90||t>90)throw new kt(pt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new kt(pt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(i.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},i.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},i.prototype._compareTo=function(t){return Tn(this._lat,t._lat)||Tn(this._long,t._long)},i}(),HV=/^__.*__$/,GV=function(){function i(t,e,o){this.data=t,this.fieldMask=e,this.fieldTransforms=o}return i.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Tr(t,this.data,this.fieldMask,e,this.fieldTransforms):new Wf(t,this.data,e,this.fieldTransforms)},i}(),xF=function(){function i(t,e,o){this.data=t,this.fieldMask=e,this.fieldTransforms=o}return i.prototype.toMutation=function(t,e){return new Tr(t,this.data,this.fieldMask,e,this.fieldTransforms)},i}();function IF(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Kt()}}var PF=function(){function i(t,e,o,s,c,f){this.settings=t,this.databaseId=e,this.R=o,this.ignoreUndefinedProperties=s,void 0===c&&this.Cc(),this.fieldTransforms=c||[],this.fieldMask=f||[]}return Object.defineProperty(i.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),i.prototype.xc=function(t){return new i(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},i.prototype.Fc=function(t){var e,o=null===(e=this.path)||void 0===e?void 0:e.child(t),s=this.xc({path:o,kc:!1});return s.$c(t),s},i.prototype.Oc=function(t){var e,o=null===(e=this.path)||void 0===e?void 0:e.child(t),s=this.xc({path:o,kc:!1});return s.Cc(),s},i.prototype.Mc=function(t){return this.xc({path:void 0,kc:!0})},i.prototype.Lc=function(t){return ST(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},i.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},i.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},i.prototype.$c=function(t){if(0===t.length)throw this.Lc("Document fields must not be empty");if(IF(this.Nc)&&HV.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},i}(),jV=function(){function i(t,e,o){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=o||mv(t)}return i.prototype.Uc=function(t,e,o,s){return void 0===s&&(s=!1),new PF({Nc:t,methodName:e,qc:o,path:go.emptyPath(),kc:!1,Bc:s},this.databaseId,this.R,this.ignoreUndefinedProperties)},i}();function ip(i){var t=i._freezeSettings(),e=mv(i._databaseId);return new jV(i._databaseId,!!t.ignoreUndefinedProperties,e)}function CT(i,t,e,o,s,c){void 0===c&&(c={});var f=i.Uc(c.merge||c.mergeFields?2:0,t,e,s);kx("Data must be an object, but it was:",f,o);var g,v,S=LF(o,f);if(c.merge)g=new _u(f.fieldMask),v=f.fieldTransforms;else if(c.mergeFields){for(var W=[],pe=0,we=c.mergeFields;pe<we.length;pe++){var Te=Rx(t,we[pe],e);if(!f.contains(Te))throw new kt(pt.INVALID_ARGUMENT,"Field '"+Te+"' is specified in your field mask but missing from your input data.");BF(W,Te)||W.push(Te)}g=new _u(W),v=f.fieldTransforms.filter(function(Pe){return g.covers(Pe.field)})}else g=null,v=f.fieldTransforms;return new GV(new Ho(S),g,v)}var Tx=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return(0,Me.ZT)(t,i),t.prototype._toFieldTransform=function(e){if(2!==e.Nc)throw e.Lc(1===e.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(rp);function OF(i,t,e){return new PF({Nc:3,qc:t.settings.qc,methodName:i._methodName,kc:e},t.databaseId,t.R,t.ignoreUndefinedProperties)}var zV=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return(0,Me.ZT)(t,i),t.prototype._toFieldTransform=function(e){return new vd(e.path,new jf)},t.prototype.isEqual=function(e){return e instanceof t},t}(rp),qV=function(i){function t(e,o){var s=this;return(s=i.call(this,e)||this).Kc=o,s}return(0,Me.ZT)(t,i),t.prototype._toFieldTransform=function(e){var o=OF(this,e,!0),s=this.Kc.map(function(f){return op(f,o)}),c=new md(s);return new vd(e.path,c)},t.prototype.isEqual=function(e){return this===e},t}(rp),WV=function(i){function t(e,o){var s=this;return(s=i.call(this,e)||this).Kc=o,s}return(0,Me.ZT)(t,i),t.prototype._toFieldTransform=function(e){var o=OF(this,e,!0),s=this.Kc.map(function(f){return op(f,o)}),c=new Nl(s);return new vd(e.path,c)},t.prototype.isEqual=function(e){return this===e},t}(rp),YV=function(i){function t(e,o){var s=this;return(s=i.call(this,e)||this).Qc=o,s}return(0,Me.ZT)(t,i),t.prototype._toFieldTransform=function(e){var o=new zf(e.R,S1(e.R,this.Qc));return new vd(e.path,o)},t.prototype.isEqual=function(e){return this===e},t}(rp);function Dx(i,t,e,o){var s=i.Uc(1,t,e);kx("Data must be an object, but it was:",s,o);var c=[],f=Ho.empty();Pl(o,function(v,S){var W=xx(t,v,e);S=(0,Cn.m9)(S);var pe=s.Oc(W);if(S instanceof Tx)c.push(W);else{var we=op(S,pe);null!=we&&(c.push(W),f.set(W,we))}});var g=new _u(c);return new xF(f,g,s.fieldTransforms)}function Mx(i,t,e,o,s,c){var f=i.Uc(1,t,e),g=[Rx(t,o,e)],v=[s];if(c.length%2!=0)throw new kt(pt.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var S=0;S<c.length;S+=2)g.push(Rx(t,c[S])),v.push(c[S+1]);for(var W=[],pe=Ho.empty(),we=g.length-1;we>=0;--we)if(!BF(W,g[we])){var Te=g[we],Pe=v[we];Pe=(0,Cn.m9)(Pe);var Ue=f.Oc(Te);if(Pe instanceof Tx)W.push(Te);else{var rt=op(Pe,Ue);null!=rt&&(W.push(Te),pe.set(Te,rt))}}var vt=new _u(W);return new xF(pe,vt,f.fieldTransforms)}function FF(i,t,e,o){return void 0===o&&(o=!1),op(e,i.Uc(o?4:3,t))}function op(i,t){if(NF(i=(0,Cn.m9)(i)))return kx("Unsupported field value:",t,i),LF(i,t);if(i instanceof rp)return function(e,o){if(!IF(o.Nc))throw o.Lc(e._methodName+"() can only be used with update() and set()");if(!o.path)throw o.Lc(e._methodName+"() is not currently supported inside arrays");var s=e._toFieldTransform(o);s&&o.fieldTransforms.push(s)}(i,t),null;if(void 0===i&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.kc&&4!==t.Nc)throw t.Lc("Nested arrays are not supported");return function(e,o){for(var s=[],c=0,f=0,g=e;f<g.length;f++){var v=op(g[f],o.Mc(c));null==v&&(v={nullValue:"NULL_VALUE"}),s.push(v),c++}return{arrayValue:{values:s}}}(i,t)}return function(e,o){if(null===(e=(0,Cn.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return S1(o.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var s=yi.fromDate(e);return{timestampValue:_d(o.R,s)}}if(e instanceof yi)return s=new yi(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:_d(o.R,s)};if(e instanceof wT)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof np)return{bytesValue:bd(o.R,e._byteString)};if(e instanceof Cr){var c=e.firestore._databaseId;if(!c.isEqual(s=o.databaseId))throw o.Lc("Document reference is for database "+c.projectId+"/"+c.database+" but should be for database "+s.projectId+"/"+s.database);return{referenceValue:m0(e.firestore._databaseId||o.databaseId,e._key.path)}}throw o.Lc("Unsupported field value: "+_T(e))}(i,t)}function LF(i,t){var e={};return Wb(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Pl(i,function(o,s){var c=op(s,t.Fc(o));null!=c&&(e[o]=c)}),{mapValue:{fields:e}}}function NF(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof yi||i instanceof wT||i instanceof np||i instanceof Cr||i instanceof rp)}function kx(i,t,e){if(!NF(e)||"object"!=typeof(s=e)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){var o=_T(e);throw t.Lc("an object"===o?i+" a custom object":i+" "+o)}var s}function Rx(i,t,e){if((t=(0,Cn.m9)(t))instanceof xu)return t._internalPath;if("string"==typeof t)return xx(i,t);throw ST("Field path arguments must be of type string or FieldPath.",i,!1,void 0,e)}var ZV=new RegExp("[~\\*/\\[\\]]");function xx(i,t,e){if(t.search(ZV)>=0)throw ST("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",i,!1,void 0,e);try{return(new(xu.bind.apply(xu,(0,Me.ev)([void 0],t.split(".")))))._internalPath}catch(o){throw ST("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",i,!1,void 0,e)}}function ST(i,t,e,o,s){var c=o&&!o.isEmpty(),f=void 0!==s,g="Function "+t+"() called with invalid data";e&&(g+=" (via `toFirestore()`)");var v="";return(c||f)&&(v+=" (found",c&&(v+=" in field "+o),f&&(v+=" in document "+s),v+=")"),new kt(pt.INVALID_ARGUMENT,(g+=". ")+i+v)}function BF(i,t){return i.some(function(e){return e.isEqual(t)})}var F0=function(){function i(t,e,o,s,c){this._firestore=t,this._userDataWriter=e,this._key=o,this._document=s,this._converter=c}return Object.defineProperty(i.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"ref",{get:function(){return new Cr(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),i.prototype.exists=function(){return null!==this._document},i.prototype.data=function(){if(this._document){if(this._converter){var t=new $V(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},i.prototype.get=function(t){if(this._document){var e=this._document.data.field(AT("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},i}(),$V=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return(0,Me.ZT)(t,i),t.prototype.data=function(){return i.prototype.data.call(this)},t}(F0);function AT(i,t){return"string"==typeof t?xx(i,t):t instanceof xu?t._internalPath:t._delegate._internalPath}var sp=function(){function i(t,e){this.hasPendingWrites=t,this.fromCache=e}return i.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},i}(),Wl=function(i){function t(e,o,s,c,f,g){var v=this;return(v=i.call(this,e,o,s,c,g)||this)._firestore=e,v._firestoreImpl=e,v.metadata=f,v}return(0,Me.ZT)(t,i),t.prototype.exists=function(){return i.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var o=new L0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(o,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},t.prototype.get=function(e,o){if(void 0===o&&(o={}),this._document){var s=this._document.data.field(AT("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,o.serverTimestamps)}},t}(F0),L0=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return(0,Me.ZT)(t,i),t.prototype.data=function(e){return void 0===e&&(e={}),i.prototype.data.call(this,e)},t}(Wl),Fd=function(){function i(t,e,o,s){this._firestore=t,this._userDataWriter=e,this._snapshot=s,this.metadata=new sp(s.hasPendingWrites,s.fromCache),this.query=o}return Object.defineProperty(i.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),i.prototype.forEach=function(t,e){var o=this;this._snapshot.docs.forEach(function(s){t.call(e,new L0(o._firestore,o._userDataWriter,s.key,s,new sp(o._snapshot.mutatedKeys.has(s.key),o._snapshot.fromCache),o.query.converter))})},i.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new kt(pt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(o,s){if(o._snapshot.oldDocs.isEmpty()){var c=0;return o._snapshot.docChanges.map(function(g){return{type:"added",doc:new L0(o._firestore,o._userDataWriter,g.doc.key,g.doc,new sp(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:c++}})}var f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(function(g){return s||3!==g.type}).map(function(g){var v=new L0(o._firestore,o._userDataWriter,g.doc.key,g.doc,new sp(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter),S=-1,W=-1;return 0!==g.type&&(S=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),1!==g.type&&(W=(f=f.add(g.doc)).indexOf(g.doc.key)),{type:QV(g.type),doc:v,oldIndex:S,newIndex:W}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},i}();function QV(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Kt()}}function VF(i,t){return i instanceof Wl&&t instanceof Wl?i._firestore===t._firestore&&i._key.isEqual(t._key)&&(null===i._document?null===t._document:i._document.isEqual(t._document))&&i._converter===t._converter:i instanceof Fd&&t instanceof Fd&&i._firestore===t._firestore&&DF(i.query,t.query)&&i.metadata.isEqual(t.metadata)&&i._snapshot.isEqual(t._snapshot)}function UF(i){if(hd(i)&&0===i.explicitOrderBy.length)throw new kt(pt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var N0=function(){};function Ld(i){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];for(var o=0,s=t;o<s.length;o++){var c=s[o];i=c._apply(i)}return i}var KV=function(i){function t(e,o,s){var c=this;return(c=i.call(this)||this).jc=e,c.Wc=o,c.Gc=s,c.type="where",c}return(0,Me.ZT)(t,i),t.prototype._apply=function(e){var c,g,o=ip(e.firestore),s=function(c,f,g,v,S,W,pe){var we;if(S.isKeyField()){if("array-contains"===W||"array-contains-any"===W)throw new kt(pt.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+W+"' queries on FieldPath.documentId().");if("in"===W||"not-in"===W){WF(pe,W);for(var Te=[],Pe=0,Ue=pe;Pe<Ue.length;Pe++)Te.push(qF(v,c,Ue[Pe]));we={arrayValue:{values:Te}}}else we=qF(v,c,pe)}else"in"!==W&&"not-in"!==W&&"array-contains-any"!==W||WF(pe,W),we=FF(g,"where",pe,"in"===W||"not-in"===W);var vt=Go.create(S,W,we);return function(At,Rt){if(Rt.g()){var Ht=jm(At);if(null!==Ht&&!Ht.isEqual(Rt.field))throw new kt(pt.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+Ht.toString()+"' and '"+Rt.field.toString()+"'");var jt=Cu(At);null!==jt&&YF(0,Rt.field,jt)}var cn=function(kn,hi){for(var nr=0,Qs=kn.filters;nr<Qs.length;nr++){var sw=Qs[nr];if(hi.indexOf(sw.op)>=0)return sw.op}return null}(At,function(kn){switch(kn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Rt.op));if(null!==cn)throw new kt(pt.INVALID_ARGUMENT,cn===Rt.op?"Invalid query. You cannot use more than one '"+Rt.op.toString()+"' filter.":"Invalid query. You cannot use '"+Rt.op.toString()+"' filters with '"+cn.toString()+"' filters.")}(c,vt),vt}(e._query,0,o,e.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Zo(e.firestore,e.converter,(g=(c=e._query).filters.concat([s]),new wu(c.path,c.collectionGroup,c.explicitOrderBy.slice(),g,c.limit,c.limitType,c.startAt,c.endAt)))},t}(N0),JV=function(i){function t(e,o){var s=this;return(s=i.call(this)||this).jc=e,s.zc=o,s.type="orderBy",s}return(0,Me.ZT)(t,i),t.prototype._apply=function(e){var s,f,o=function(s,c,f){if(null!==s.startAt)throw new kt(pt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new kt(pt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var g=new dd(c,f);return function(v,S){if(null===Cu(v)){var W=jm(v);null!==W&&YF(0,W,S.field)}}(s,g),g}(e._query,this.jc,this.zc);return new Zo(e.firestore,e.converter,(f=(s=e._query).explicitOrderBy.concat([o]),new wu(s.path,s.collectionGroup,f,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)))},t}(N0),HF=function(i){function t(e,o,s){var c=this;return(c=i.call(this)||this).type=e,c.Hc=o,c.Jc=s,c}return(0,Me.ZT)(t,i),t.prototype._apply=function(e){return new Zo(e.firestore,e.converter,n0(e._query,this.Hc,this.Jc))},t}(N0),GF=function(i){function t(e,o,s){var c=this;return(c=i.call(this)||this).type=e,c.Yc=o,c.Xc=s,c}return(0,Me.ZT)(t,i),t.prototype._apply=function(e){var s,c,o=zF(e,this.type,this.Yc,this.Xc);return new Zo(e.firestore,e.converter,(c=o,new wu((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,c,s.endAt)))},t}(N0),jF=function(i){function t(e,o,s){var c=this;return(c=i.call(this)||this).type=e,c.Yc=o,c.Xc=s,c}return(0,Me.ZT)(t,i),t.prototype._apply=function(e){var s,c,o=zF(e,this.type,this.Yc,this.Xc);return new Zo(e.firestore,e.converter,(c=o,new wu((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,c)))},t}(N0);function zF(i,t,e,o){if(e[0]=(0,Cn.m9)(e[0]),e[0]instanceof F0)return function(c,f,g,v,S){if(!v)throw new kt(pt.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+g+"().");for(var W=[],pe=0,we=fd(c);pe<we.length;pe++){var Te=we[pe];if(Te.field.isKeyField())W.push(Vf(f,v.key));else{var Pe=v.data.field(Te.field);if(Yb(Pe))throw new kt(pt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Te.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Pe){var Ue=Te.field.canonicalString();throw new kt(pt.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+Ue+"' (used as the orderBy) does not exist.")}W.push(Pe)}}return new Uf(W,S)}(i._query,i.firestore._databaseId,t,e[0]._document,o);var s=ip(i.firestore);return function(c,f,g,v,S,W){var pe=c.explicitOrderBy;if(S.length>pe.length)throw new kt(pt.INVALID_ARGUMENT,"Too many arguments provided to "+v+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var we=[],Te=0;Te<S.length;Te++){var Pe=S[Te];if(pe[Te].field.isKeyField()){if("string"!=typeof Pe)throw new kt(pt.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+v+"(), but got a "+typeof Pe);if(!t0(c)&&-1!==Pe.indexOf("/"))throw new kt(pt.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+v+"() must be a plain document ID, but '"+Pe+"' contains a slash.");var Ue=c.path.child(xn.fromString(Pe));if(!en.isDocumentKey(Ue))throw new kt(pt.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+v+"() must result in a valid document path, but '"+Ue+"' is not because it contains an odd number of segments.");var rt=new en(Ue);we.push(Vf(f,rt))}else{var vt=FF(g,v,Pe);we.push(vt)}}return new Uf(we,W)}(i._query,i.firestore._databaseId,s,t,e,o)}function qF(i,t,e){if("string"==typeof(e=(0,Cn.m9)(e))){if(""===e)throw new kt(pt.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!t0(t)&&-1!==e.indexOf("/"))throw new kt(pt.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+e+"' contains a '/' character.");var o=t.path.child(xn.fromString(e));if(!en.isDocumentKey(o))throw new kt(pt.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+o+"' is not because it has an odd number of segments ("+o.length+").");return Vf(i,new en(o))}if(e instanceof Cr)return Vf(i,e._key);throw new kt(pt.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+_T(e)+".")}function WF(i,t){if(!Array.isArray(i)||0===i.length)throw new kt(pt.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(i.length>10)throw new kt(pt.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function YF(i,t,e){if(!e.isEqual(t))throw new kt(pt.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+e.toString()+"' instead.")}var Ix=function(){function i(){}return i.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),bu(t)){case 0:return null;case 1:return t.booleanValue;case 2:return wr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Ol(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Kt()}},i.prototype.convertObject=function(t,e){var o=this,s={};return Pl(t.fields,function(c,f){s[c]=o.convertValue(f,e)}),s},i.prototype.convertGeoPoint=function(t){return new wT(wr(t.latitude),wr(t.longitude))},i.prototype.convertArray=function(t,e){var o=this;return(t.values||[]).map(function(s){return o.convertValue(s,e)})},i.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var o=Zb(t);return null==o?null:this.convertValue(o,e);case"estimate":return this.convertTimestamp(ld(t));default:return null}},i.prototype.convertTimestamp=function(t){var e=Da(t);return new yi(e.seconds,e.nanos)},i.prototype.convertDocumentKey=function(t,e){var o=xn.fromString(t);ln(Su(o));var s=new yT(o.get(1),o.get(3)),c=new en(o.popFirst(5));return s.isEqual(e)||or("Document "+c+" contains a document reference within a different database ("+s.projectId+"/"+s.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),c},i}();function ET(i,t,e){return i?e&&(e.merge||e.mergeFields)?i.toFirestore(t,e):i.toFirestore(t):t}var XV=function(i){function t(e){var o=this;return(o=i.call(this)||this).firestore=e,o}return(0,Me.ZT)(t,i),t.prototype.convertBytes=function(e){return new np(e)},t.prototype.convertReference=function(e){var o=this.convertDocumentKey(e,this.firestore._databaseId);return new Cr(this.firestore,null,o)},t}(Ix),eU=function(){function i(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=ip(t)}return i.prototype.set=function(t,e,o){this._verifyNotCommitted();var s=Nd(t,this._firestore),c=ET(s.converter,e,o),f=CT(this._dataReader,"WriteBatch.set",s._key,c,null!==s.converter,o);return this._mutations.push(f.toMutation(s._key,Oi.none())),this},i.prototype.update=function(t,e,o){for(var s=[],c=3;c<arguments.length;c++)s[c-3]=arguments[c];this._verifyNotCommitted();var f,g=Nd(t,this._firestore);return f="string"==typeof(e=(0,Cn.m9)(e))||e instanceof xu?Mx(this._dataReader,"WriteBatch.update",g._key,e,o,s):Dx(this._dataReader,"WriteBatch.update",g._key,e),this._mutations.push(f.toMutation(g._key,Oi.exists(!0))),this},i.prototype.delete=function(t){this._verifyNotCommitted();var e=Nd(t,this._firestore);return this._mutations=this._mutations.concat(new yd(e._key,Oi.none())),this},i.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},i.prototype._verifyNotCommitted=function(){if(this._committed)throw new kt(pt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},i}();function Nd(i,t){if((i=(0,Cn.m9)(i)).firestore!==t)throw new kt(pt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}var ap=function(i){function t(e){var o=this;return(o=i.call(this)||this).firestore=e,o}return(0,Me.ZT)(t,i),t.prototype.convertBytes=function(e){return new np(e)},t.prototype.convertReference=function(e){var o=this.convertDocumentKey(e,this.firestore._databaseId);return new Cr(this.firestore,null,o)},t}(Ix);function ZF(i,t,e){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];i=Hn(i,Cr);var c=Hn(i.firestore,Vr),f=ip(c);return B0(c,[("string"==typeof(t=(0,Cn.m9)(t))||t instanceof xu?Mx(f,"updateDoc",i._key,t,e,o):Dx(f,"updateDoc",i._key,t)).toMutation(i._key,Oi.exists(!0))])}function $F(i){for(var t,e,o,s=[],c=1;c<arguments.length;c++)s[c-1]=arguments[c];i=(0,Cn.m9)(i);var f={includeMetadataChanges:!1},g=0;"object"!=typeof s[g]||wv(s[g])||(f=s[g],g++);var v,S,W,pe={includeMetadataChanges:f.includeMetadataChanges};if(wv(s[g])){var we=s[g];s[g]=null===(t=we.next)||void 0===t?void 0:t.bind(we),s[g+1]=null===(e=we.error)||void 0===e?void 0:e.bind(we),s[g+2]=null===(o=we.complete)||void 0===o?void 0:o.bind(we)}if(i instanceof Cr)S=Hn(i.firestore,Vr),W=Hf(i._key.path),v={next:function(Ue){s[g]&&s[g](Px(S,i,Ue))},error:s[g+1],complete:s[g+2]};else{var Te=Hn(i,Zo);S=Hn(Te.firestore,Vr),W=Te._query;var Pe=new ap(S);v={next:function(Ue){s[g]&&s[g](new Fd(S,Pe,Te,Ue))},error:s[g+1],complete:s[g+2]},UF(i._query)}return function(Ue,rt,vt,At){var Rt=this,Ht=new mT(At),jt=new hx(rt,Ht,vt);return Ue.asyncQueue.enqueueAndForget(function(){return(0,Me.mG)(Rt,void 0,void 0,function(){var cn;return(0,Me.Jh)(this,function(kn){switch(kn.label){case 0:return cn=lx,[4,bv(Ue)];case 1:return[2,cn.apply(void 0,[kn.sent(),jt])]}})})}),function(){Ht.Wo(),Ue.asyncQueue.enqueueAndForget(function(){return(0,Me.mG)(Rt,void 0,void 0,function(){var cn;return(0,Me.Jh)(this,function(kn){switch(kn.label){case 0:return cn=cx,[4,bv(Ue)];case 1:return[2,cn.apply(void 0,[kn.sent(),jt])]}})})})}}(wi(S),W,pe,v)}function B0(i,t){return function(e,o){var s=this,c=new Fi;return e.asyncQueue.enqueueAndForget(function(){return(0,Me.mG)(s,void 0,void 0,function(){var f;return(0,Me.Jh)(this,function(g){switch(g.label){case 0:return f=hV,[4,Sx(e)];case 1:return[2,f.apply(void 0,[g.sent(),o,c])]}})})}),c.promise}(wi(i),t)}function Px(i,t,e){var o=e.docs.get(t._key),s=new ap(i);return new Wl(i,s,t._key,o,new sp(e.hasPendingWrites,e.fromCache),t.converter)}var tU=function(i){function t(e,o){var s=this;return(s=i.call(this,e,o)||this)._firestore=e,s}return(0,Me.ZT)(t,i),t.prototype.get=function(e){var o=this,s=Nd(e,this._firestore),c=new ap(this._firestore);return i.prototype.get.call(this,e).then(function(f){return new Wl(o._firestore,c,s._key,f._document,new sp(!1,!1),s.converter)})},t}(function(){function i(t,e){this._firestore=t,this._transaction=e,this._dataReader=ip(t)}return i.prototype.get=function(t){var e=this,o=Nd(t,this._firestore),s=new XV(this._firestore);return this._transaction.lookup([o._key]).then(function(c){if(!c||1!==c.length)return Kt();var f=c[0];if(f.isFoundDocument())return new F0(e._firestore,s,f.key,f,o.converter);if(f.isNoDocument())return new F0(e._firestore,s,o._key,null,o.converter);throw Kt()})},i.prototype.set=function(t,e,o){var s=Nd(t,this._firestore),c=ET(s.converter,e,o),f=CT(this._dataReader,"Transaction.set",s._key,c,null!==s.converter,o);return this._transaction.set(s._key,f),this},i.prototype.update=function(t,e,o){for(var s=[],c=3;c<arguments.length;c++)s[c-3]=arguments[c];var f,g=Nd(t,this._firestore);return f="string"==typeof(e=(0,Cn.m9)(e))||e instanceof xu?Mx(this._dataReader,"Transaction.update",g._key,e,o,s):Dx(this._dataReader,"Transaction.update",g._key,e),this._transaction.update(g._key,f),this},i.prototype.delete=function(t){var e=Nd(t,this._firestore);return this._transaction.delete(e._key),this},i}());function QF(){if("undefined"==typeof Uint8Array)throw new kt(pt.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function KF(){if("undefined"==typeof atob)throw new kt(pt.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var JF=function(){function i(t){this._delegate=t}return i.fromBase64String=function(t){return KF(),new i(np.fromBase64String(t))},i.fromUint8Array=function(t){return QF(),new i(np.fromUint8Array(t))},i.prototype.toBase64=function(){return KF(),this._delegate.toBase64()},i.prototype.toUint8Array=function(){return QF(),this._delegate.toUint8Array()},i.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},i.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},i}(),nU=function(){function i(){}return i.prototype.enableIndexedDbPersistence=function(t,e){return function(o,s){RF(o=Hn(o,Vr));var c=wi(o),f=o._freezeSettings(),g=new bx;return kF(c,g,new lF(g,f.cacheSizeBytes,null==s?void 0:s.forceOwnership))}(t._delegate,{forceOwnership:e})},i.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(e){RF(e=Hn(e,Vr));var o=wi(e),s=e._freezeSettings(),c=new bx;return kF(o,c,new MV(c,s.cacheSizeBytes))}(t._delegate)},i.prototype.clearIndexedDbPersistence=function(t){return function(e){var o=this;if(e._initialized&&!e._terminated)throw new kt(pt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var s=new Fi;return e._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,Me.mG)(o,void 0,void 0,function(){var c;return(0,Me.Jh)(this,function(f){switch(f.label){case 0:return f.trys.push([0,2,,3]),[4,function(g){return(0,Me.mG)(this,void 0,void 0,function(){return(0,Me.Jh)(this,function(S){switch(S.label){case 0:return Td.yt()?[4,Td.delete(g+"main")]:[2,Promise.resolve()];case 1:return S.sent(),[2]}})})}(k0(e._databaseId,e._persistenceKey))];case 1:return f.sent(),s.resolve(),[3,3];case 2:return c=f.sent(),s.reject(c),[3,3];case 3:return[2]}})})}),s.promise}(t._delegate)},i}(),XF=function(){function i(t,e,o){var s=this;this._delegate=e,this.Zc=o,this.INTERNAL={delete:function(){return s.terminate()}},t instanceof yT||(this.tu=t)}return Object.defineProperty(i.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),i.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||Ff("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},i.prototype.useEmulator=function(t,e,o){void 0===o&&(o={}),function(s,c,f,g){void 0===g&&(g={});var v=(s=Hn(s,O0))._getSettings();if("firestore.googleapis.com"!==v.host&&v.host!==c&&Ff("Host has been set in both settings() and useEmulator(), emulator host will be used"),s._setSettings(Object.assign(Object.assign({},v),{host:c+":"+f,ssl:!1})),g.mockUserToken){var S=(0,Cn.Sg)(g.mockUserToken),W=g.mockUserToken.sub||g.mockUserToken.user_id;if(!W)throw new kt(pt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s._credentials=new OV(new yF(S,new ji(W)))}}(this._delegate,t,e,o)},i.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return(0,Me.mG)(e,void 0,void 0,function(){var o,s;return(0,Me.Jh)(this,function(c){switch(c.label){case 0:return[4,fF(t)];case 1:return o=c.sent(),[4,pF(t)];case 2:return s=c.sent(),[2,(o.setNetworkEnabled(!0),f=s,g=Gt(f),g.Or.delete(0),p(g))]}var f,g})})})}(wi(Hn(this._delegate,Vr)))},i.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return(0,Me.mG)(e,void 0,void 0,function(){var o,s;return(0,Me.Jh)(this,function(c){switch(c.label){case 0:return[4,fF(t)];case 1:return o=c.sent(),[4,pF(t)];case 2:return s=c.sent(),[2,(o.setNetworkEnabled(!1),function(f){return(0,Me.mG)(this,void 0,void 0,function(){var g;return(0,Me.Jh)(this,function(v){switch(v.label){case 0:return(g=Gt(f)).Or.add(0),[4,m(g)];case 1:return v.sent(),g.Br.set("Offline"),[2]}})})}(s))]}})})})}(wi(Hn(this._delegate,Vr)))},i.prototype.enablePersistence=function(t){var e=!1,o=!1;return t&&bF("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",o=!!t.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,o)},i.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},i.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},i.prototype.waitForPendingWrites=function(){return function(t){var e=this,o=new Fi;return t.asyncQueue.enqueueAndForget(function(){return(0,Me.mG)(e,void 0,void 0,function(){var s;return(0,Me.Jh)(this,function(c){switch(c.label){case 0:return s=mV,[4,Sx(t)];case 1:return[2,s.apply(void 0,[c.sent(),o])]}})})}),o.promise}(wi(Hn(this._delegate,Vr)))},i.prototype.onSnapshotsInSync=function(t){return o=t,function(s,c){var f=this,g=new mT(c);return s.asyncQueue.enqueueAndForget(function(){return(0,Me.mG)(f,void 0,void 0,function(){var v;return(0,Me.Jh)(this,function(S){switch(S.label){case 0:return v=function(W,pe){Gt(W).Gr.add(pe),pe.next()},[4,bv(s)];case 1:return[2,v.apply(void 0,[S.sent(),g])]}})})}),function(){g.Wo(),s.asyncQueue.enqueueAndForget(function(){return(0,Me.mG)(f,void 0,void 0,function(){var v;return(0,Me.Jh)(this,function(S){switch(S.label){case 0:return v=function(W,pe){Gt(W).Gr.delete(pe)},[4,bv(s)];case 1:return[2,v.apply(void 0,[S.sent(),g])]}})})})}}(wi(Hn(this._delegate,Vr)),wv(o)?o:{next:o});var o},Object.defineProperty(i.prototype,"app",{get:function(){if(!this.tu)throw new kt(pt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),i.prototype.collection=function(t){try{return new MT(this,EF(this._delegate,t))}catch(e){throw vo(e,"collection()","Firestore.collection()")}},i.prototype.doc=function(t){try{return new up(this,bT(this._delegate,t))}catch(e){throw vo(e,"doc()","Firestore.doc()")}},i.prototype.collectionGroup=function(t){try{return new H0(this,function(e,o){if(e=Hn(e,O0),Ax("collectionGroup","collection id",o),o.indexOf("/")>=0)throw new kt(pt.INVALID_ARGUMENT,"Invalid collection ID '"+o+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Zo(e,null,(s=o,new wu(xn.emptyPath(),s)));var s}(this._delegate,t))}catch(e){throw vo(e,"collectionGroup()","Firestore.collectionGroup()")}},i.prototype.runTransaction=function(t){var o,e=this;return function(c,f){var g=this,v=new Fi;return c.asyncQueue.enqueueAndForget(function(){return(0,Me.mG)(g,void 0,void 0,function(){var S;return(0,Me.Jh)(this,function(W){switch(W.label){case 0:return[4,(pe=c,vT(pe).then(function(we){return we.datastore}))];case 1:return S=W.sent(),new xV(c.asyncQueue,S,f,v).run(),[2]}var pe})})}),v.promise}(wi(o=this._delegate),function(c){return function(o){return t(new eL(e,o))}(new tU(o,c))})},i.prototype.batch=function(){var t=this;return wi(this._delegate),new tL(new eU(this._delegate,function(e){return B0(t._delegate,e)}))},i.prototype.loadBundle=function(t){throw new kt(pt.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},i.prototype.namedQuery=function(t){throw new kt(pt.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},i}(),TT=function(i){function t(e){var o=this;return(o=i.call(this)||this).firestore=e,o}return(0,Me.ZT)(t,i),t.prototype.convertBytes=function(e){return new JF(new np(e))},t.prototype.convertReference=function(e){var o=this.convertDocumentKey(e,this.firestore._databaseId);return up.eu(o,this.firestore,null)},t}(Ix),eL=function(){function i(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new TT(t)}return i.prototype.get=function(t){var e=this,o=lp(t);return this._delegate.get(o).then(function(s){return new V0(e._firestore,new Wl(e._firestore._delegate,e._userDataWriter,s._key,s._document,s.metadata,o.converter))})},i.prototype.set=function(t,e,o){var s=lp(t);return o?(Ex("Transaction.set",o),this._delegate.set(s,e,o)):this._delegate.set(s,e),this},i.prototype.update=function(t,e,o){for(var s,c=[],f=3;f<arguments.length;f++)c[f-3]=arguments[f];var g=lp(t);return 2===arguments.length?this._delegate.update(g,e):(s=this._delegate).update.apply(s,(0,Me.ev)([g,e,o],c)),this},i.prototype.delete=function(t){var e=lp(t);return this._delegate.delete(e),this},i}(),tL=function(){function i(t){this._delegate=t}return i.prototype.set=function(t,e,o){var s=lp(t);return o?(Ex("WriteBatch.set",o),this._delegate.set(s,e,o)):this._delegate.set(s,e),this},i.prototype.update=function(t,e,o){for(var s,c=[],f=3;f<arguments.length;f++)c[f-3]=arguments[f];var g=lp(t);return 2===arguments.length?this._delegate.update(g,e):(s=this._delegate).update.apply(s,(0,Me.ev)([g,e,o],c)),this},i.prototype.delete=function(t){var e=lp(t);return this._delegate.delete(e),this},i.prototype.commit=function(){return this._delegate.commit()},i}(),DT=function(){function i(t,e,o){this._firestore=t,this._userDataWriter=e,this._delegate=o}return i.prototype.fromFirestore=function(t,e){var o=new L0(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new U0(this._firestore,o),null!=e?e:{})},i.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},i.nu=function(t,e){var o=i.su,s=o.get(t);s||(s=new WeakMap,o.set(t,s));var c=s.get(e);return c||(c=new i(t,new TT(t),e),s.set(e,c)),c},i}();DT.su=new WeakMap;var up=function(){function i(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new TT(t)}return i.iu=function(t,e,o){if(t.length%2!=0)throw new kt(pt.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new i(e,new Cr(e._delegate,o,new en(t)))},i.eu=function(t,e,o){return new i(e,new Cr(e._delegate,o,t))},Object.defineProperty(i.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return new MT(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),i.prototype.collection=function(t){try{return new MT(this.firestore,EF(this._delegate,t))}catch(e){throw vo(e,"collection()","DocumentReference.collection()")}},i.prototype.isEqual=function(t){return(t=(0,Cn.m9)(t))instanceof Cr&&TF(this._delegate,t)},i.prototype.set=function(t,e){e=Ex("DocumentReference.set",e);try{return function(o,s,c){o=Hn(o,Cr);var f=Hn(o.firestore,Vr),g=ET(o.converter,s,c);return B0(f,[CT(ip(f),"setDoc",o._key,g,null!==o.converter,c).toMutation(o._key,Oi.none())])}(this._delegate,t,e)}catch(o){throw vo(o,"setDoc()","DocumentReference.set()")}},i.prototype.update=function(t,e){for(var o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];try{return 1===arguments.length?ZF(this._delegate,t):ZF.apply(void 0,(0,Me.ev)([this._delegate,t,e],o))}catch(c){throw vo(c,"updateDoc()","DocumentReference.update()")}},i.prototype.delete=function(){return B0(Hn((t=this._delegate).firestore,Vr),[new yd(t._key,Oi.none())]);var t},i.prototype.onSnapshot=function(){for(var t=this,e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var s=nL(e),c=rL(e,function(f){return new V0(t.firestore,new Wl(t.firestore._delegate,t._userDataWriter,f._key,f._document,f.metadata,t._delegate.converter))});return $F(this._delegate,s,c)},i.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(o){o=Hn(o,Cr);var s=Hn(o.firestore,Vr),c=wi(s),f=new ap(s);return function(g,v){var S=this,W=new Fi;return g.asyncQueue.enqueueAndForget(function(){return(0,Me.mG)(S,void 0,void 0,function(){var pe;return(0,Me.Jh)(this,function(we){switch(we.label){case 0:return pe=function(Te,Pe,Ue){return(0,Me.mG)(this,void 0,void 0,function(){var rt,vt;return(0,Me.Jh)(this,function(At){switch(At.label){case 0:return At.trys.push([0,2,,3]),[4,(Rt=Te,Ht=Pe,jt=Gt(Rt),jt.persistence.runTransaction("read document","readonly",function(cn){return jt.Mn.mn(cn,Ht)}))];case 1:return(vt=At.sent()).isFoundDocument()?Ue.resolve(vt):vt.isNoDocument()?Ue.resolve(null):Ue.reject(new kt(pt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return rt=At.sent(),vt=Ru(rt,"Failed to get document '"+Pe+" from cache"),Ue.reject(vt),[3,3];case 3:return[2]}var Rt,Ht,jt})})},[4,Cx(g)];case 1:return[2,pe.apply(void 0,[we.sent(),v,W])]}})})}),W.promise}(c,o._key).then(function(g){return new Wl(s,f,o._key,g,new sp(null!==g&&g.hasLocalMutations,!0),o.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(o){o=Hn(o,Cr);var s=Hn(o.firestore,Vr);return gF(wi(s),o._key,{source:"server"}).then(function(c){return Px(s,o,c)})}(this._delegate):function(o){o=Hn(o,Cr);var s=Hn(o.firestore,Vr);return gF(wi(s),o._key).then(function(c){return Px(s,o,c)})}(this._delegate)).then(function(o){return new V0(e.firestore,new Wl(e.firestore._delegate,e._userDataWriter,o._key,o._document,o.metadata,e._delegate.converter))})},i.prototype.withConverter=function(t){return new i(this.firestore,this._delegate.withConverter(t?DT.nu(this.firestore,t):null))},i}();function vo(i,t,e){return i.message=i.message.replace(t,e),i}function nL(i){for(var t=0,e=i;t<e.length;t++){var o=e[t];if("object"==typeof o&&!wv(o))return o}return{}}function rL(i,t){var e,o,s;return{next:function(c){s.next&&s.next(t(c))},error:null===(e=(s=wv(i[0])?i[0]:wv(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]}).error)||void 0===e?void 0:e.bind(s),complete:null===(o=s.complete)||void 0===o?void 0:o.bind(s)}}var V0=function(){function i(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(i.prototype,"ref",{get:function(){return new up(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),i.prototype.data=function(t){return this._delegate.data(t)},i.prototype.get=function(t,e){return this._delegate.get(t,e)},i.prototype.isEqual=function(t){return VF(this._delegate,t._delegate)},i}(),U0=function(i){function t(){return null!==i&&i.apply(this,arguments)||this}return(0,Me.ZT)(t,i),t.prototype.data=function(e){return this._delegate.data(e)},t}(V0),H0=function(){function i(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new TT(t)}return i.prototype.where=function(t,e,o){try{return new i(this.firestore,Ld(this._delegate,(f=o,g=e,v=AT("where",s=t),new KV(v,g,f))))}catch(s){throw vo(s,/(orderBy|where)\(\)/,"Query.$1()")}var s,f,g,v},i.prototype.orderBy=function(t,e){try{return new i(this.firestore,Ld(this._delegate,function(o,s){void 0===s&&(s="asc");var c=s,f=AT("orderBy",o);return new JV(f,c)}(t,e)))}catch(o){throw vo(o,/(orderBy|where)\(\)/,"Query.$1()")}},i.prototype.limit=function(t){try{return new i(this.firestore,Ld(this._delegate,(SF("limit",e=t),new HF("limit",e,"F"))))}catch(e){throw vo(e,"limit()","Query.limit()")}var e},i.prototype.limitToLast=function(t){try{return new i(this.firestore,Ld(this._delegate,(SF("limitToLast",e=t),new HF("limitToLast",e,"L"))))}catch(e){throw vo(e,"limitToLast()","Query.limitToLast()")}var e},i.prototype.startAt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new i(this.firestore,Ld(this._delegate,function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new GF("startAt",o,!0)}.apply(void 0,t)))}catch(o){throw vo(o,"startAt()","Query.startAt()")}},i.prototype.startAfter=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new i(this.firestore,Ld(this._delegate,function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new GF("startAfter",o,!1)}.apply(void 0,t)))}catch(o){throw vo(o,"startAfter()","Query.startAfter()")}},i.prototype.endBefore=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new i(this.firestore,Ld(this._delegate,function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new jF("endBefore",o,!0)}.apply(void 0,t)))}catch(o){throw vo(o,"endBefore()","Query.endBefore()")}},i.prototype.endAt=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return new i(this.firestore,Ld(this._delegate,function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new jF("endAt",o,!1)}.apply(void 0,t)))}catch(o){throw vo(o,"endAt()","Query.endAt()")}},i.prototype.isEqual=function(t){return DF(this._delegate,t._delegate)},i.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(o){o=Hn(o,Zo);var s=Hn(o.firestore,Vr),c=wi(s),f=new ap(s);return function(g,v){var S=this,W=new Fi;return g.asyncQueue.enqueueAndForget(function(){return(0,Me.mG)(S,void 0,void 0,function(){var pe;return(0,Me.Jh)(this,function(we){switch(we.label){case 0:return pe=function(Te,Pe,Ue){return(0,Me.mG)(this,void 0,void 0,function(){var rt,vt,At,Rt,Ht;return(0,Me.Jh)(this,function(jt){switch(jt.label){case 0:return jt.trys.push([0,2,,3]),[4,hv(Te,Pe,!0)];case 1:return Ht=jt.sent(),rt=new nF(Pe,Ht.Bn),vt=rt._o(Ht.documents),At=rt.applyChanges(vt,!1),Ue.resolve(At.snapshot),[3,3];case 2:return Rt=jt.sent(),Ht=Ru(Rt,"Failed to execute query '"+Pe+" against cache"),Ue.reject(Ht),[3,3];case 3:return[2]}})})},[4,Cx(g)];case 1:return[2,pe.apply(void 0,[we.sent(),v,W])]}})})}),W.promise}(c,o._query).then(function(g){return new Fd(s,f,o,g)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(o){o=Hn(o,Zo);var s=Hn(o.firestore,Vr),c=wi(s),f=new ap(s);return mF(c,o._query,{source:"server"}).then(function(g){return new Fd(s,f,o,g)})}(this._delegate):function(o){o=Hn(o,Zo);var s=Hn(o.firestore,Vr),c=wi(s),f=new ap(s);return UF(o._query),mF(c,o._query).then(function(g){return new Fd(s,f,o,g)})}(this._delegate)).then(function(o){return new Ox(e.firestore,new Fd(e.firestore._delegate,e._userDataWriter,e._delegate,o._snapshot))})},i.prototype.onSnapshot=function(){for(var t=this,e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var s=nL(e),c=rL(e,function(f){return new Ox(t.firestore,new Fd(t.firestore._delegate,t._userDataWriter,t._delegate,f._snapshot))});return $F(this._delegate,s,c)},i.prototype.withConverter=function(t){return new i(this.firestore,this._delegate.withConverter(t?DT.nu(this.firestore,t):null))},i}(),iU=function(){function i(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(i.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"doc",{get:function(){return new U0(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),i}(),Ox=function(){function i(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(i.prototype,"query",{get:function(){return new H0(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new U0(t._firestore,e)})},enumerable:!1,configurable:!0}),i.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(o){return new iU(e._firestore,o)})},i.prototype.forEach=function(t,e){var o=this;this._delegate.forEach(function(s){t.call(e,new U0(o._firestore,s))})},i.prototype.isEqual=function(t){return VF(this._delegate,t._delegate)},i}(),MT=function(i){function t(e,o){var s=this;return(s=i.call(this,e,o)||this).firestore=e,s._delegate=o,s}return(0,Me.ZT)(t,i),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new up(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new up(this.firestore,void 0===e?bT(this._delegate):bT(this._delegate,e))}catch(o){throw vo(o,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var s,c,f,g,v,o=this;return(s=this._delegate,c=e,f=Hn(s.firestore,Vr),g=bT(s),v=ET(s.converter,c),B0(f,[CT(ip(s.firestore),"addDoc",g._key,v,null!==s.converter,{}).toMutation(g._key,Oi.exists(!1))]).then(function(){return g})).then(function(s){return new up(o.firestore,s)})},t.prototype.isEqual=function(e){return TF(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?DT.nu(this.firestore,e):null))},t}(H0);function lp(i){return Hn(i,Cr)}var oU=function(){function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(xu.bind.apply(xu,(0,Me.ev)([void 0],t)))}return i.documentId=function(){return new i(go.keyField().canonicalString())},i.prototype.isEqual=function(t){return(t=(0,Cn.m9)(t))instanceof xu&&this._delegate._internalPath.isEqual(t._internalPath)},i}(),sU=function(){function i(t){this._delegate=t}return i.serverTimestamp=function(){var t=new zV("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new i(t)},i.delete=function(){var t=new Tx("deleteField");return t._methodName="FieldValue.delete",new i(t)},i.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var o=function(){for(var s=[],c=0;c<arguments.length;c++)s[c]=arguments[c];return new qV("arrayUnion",s)}.apply(void 0,t);return o._methodName="FieldValue.arrayUnion",new i(o)},i.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var o=function(){for(var s=[],c=0;c<arguments.length;c++)s[c]=arguments[c];return new WV("arrayRemove",s)}.apply(void 0,t);return o._methodName="FieldValue.arrayRemove",new i(o)},i.increment=function(t){var e=new YV("increment",t);return e._methodName="FieldValue.increment",new i(e)},i.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},i}(),iL=y(6034),aU={Firestore:XF,GeoPoint:wT,Timestamp:yi,Blob:JF,Transaction:eL,WriteBatch:tL,DocumentReference:up,DocumentSnapshot:V0,Query:H0,QueryDocumentSnapshot:U0,QuerySnapshot:Ox,CollectionReference:MT,FieldPath:oU,FieldValue:sU,setLogLevel:function(i){hs.setLogLevel(i)},CACHE_SIZE_UNLIMITED:-1};function oL(i,t){return function(i,t=ul.z){return new Yn.y(e=>{let o;return null!=t?t.schedule(()=>{o=i.onSnapshot({includeMetadataChanges:!0},e)}):o=i.onSnapshot({includeMetadataChanges:!0},e),()=>{null!=o&&o()}})}(i,t)}function Fx(i,t){return oL(i,t).pipe((0,sn.U)(e=>({payload:e,type:"query"})))}function kT(i,t){return Fx(i,t).pipe(mi(void 0),ya(),(0,sn.U)(([e,o])=>{const s=o.payload.docChanges(),c=s.map(f=>({type:f.type,payload:f}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((f,g)=>{const v=s.find(W=>W.doc.ref.isEqual(f.ref)),S=null==e?void 0:e.payload.docs.find(W=>W.ref.isEqual(f.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(f.metadata)||!v&&S&&JSON.stringify(S.metadata)===JSON.stringify(f.metadata)||c.push({type:"modified",payload:{oldIndex:g,newIndex:g,type:"modified",doc:f}})}),c}))}function sL(i,t,e){return kT(i,e).pipe(Wp((o,s)=>function(i,t,e){return t.forEach(o=>{e.indexOf(o.type)>-1&&(i=function(i,t){switch(t.type){case"added":if(!i[t.newIndex]||!i[t.newIndex].doc.ref.isEqual(t.doc.ref))return Lx(i,t.newIndex,0,t);break;case"modified":if(null==i[t.oldIndex]||i[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=i.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return Lx(i,t.newIndex,1,t)}break;case"removed":if(i[t.oldIndex]&&i[t.oldIndex].doc.ref.isEqual(t.doc.ref))return Lx(i,t.oldIndex,1)}return i}(i,o))}),i}(o,s.map(c=>c.payload),t),[]),Bh(),(0,sn.U)(o=>o.map(s=>({type:s.type,payload:s}))))}function Lx(i,t,e,...o){const s=i.slice();return s.splice(t,e,...o),s}function aL(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}!function(i){i.INTERNAL.registerComponent(new iL.wA("firestore",function(o){return t=o.getProvider("app").getImmediate(),e=o.getProvider("auth-internal"),new XF(t,new Vr(t,e),new nU);var t,e},"PUBLIC").setServiceProps(Object.assign({},aU))),i.registerVersion("@firebase/firestore","2.3.10")}(Lo.Z);class uL{constructor(t,e,o){this.ref=t,this.query=e,this.afs=o}stateChanges(t){let e=kT(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,sn.U)(o=>o.filter(s=>t.indexOf(s.type)>-1)))),e.pipe(mi(void 0),ya(),$n(([o,s])=>s.length>0||!o),(0,sn.U)(([o,s])=>s),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Wp((e,o)=>[...e,...o],[]))}snapshotChanges(t){const e=aL(t);return sL(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Fx(this.query,this.afs.schedulers.outsideAngular).pipe((0,sn.U)(e=>e.payload.docs.map(o=>t.idField?Object.assign(Object.assign({},o.data()),{[t.idField]:o.id}):o.data())),this.afs.keepUnstableUntilFirst)}get(t){return(0,Xt.D)(this.query.get(t)).pipe((0,Fo.QV)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new lL(this.ref.doc(t),this.afs)}}class lL{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const o=this.ref.collection(t),{ref:s,query:c}=hL(o,e);return new uL(s,c,this.afs)}snapshotChanges(){return function(i,t){return oL(i,t).pipe(mi(void 0),ya(),(0,sn.U)(([e,o])=>o.exists?(null==e?void 0:e.exists)?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe((0,sn.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,Xt.D)(this.ref.get(t)).pipe((0,Fo.QV)(this.afs.schedulers.insideAngular))}}class fU{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?kT(this.query,this.afs.schedulers.outsideAngular).pipe((0,sn.U)(e=>e.filter(o=>t.indexOf(o.type)>-1)),$n(e=>e.length>0),this.afs.keepUnstableUntilFirst):kT(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Wp((e,o)=>[...e,...o],[]))}snapshotChanges(t){const e=aL(t);return sL(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return Fx(this.query,this.afs.schedulers.outsideAngular).pipe((0,sn.U)(o=>o.payload.docs.map(s=>t.idField?Object.assign({[t.idField]:s.id},s.data()):s.data())),this.afs.keepUnstableUntilFirst)}get(t){return(0,Xt.D)(this.query.get(t)).pipe((0,Fo.QV)(this.afs.schedulers.insideAngular))}}const Nx=new a.OlP("angularfire2.enableFirestorePersistence"),Bx=new a.OlP("angularfire2.firestore.persistenceSettings"),cL=new a.OlP("angularfire2.firestore.settings"),dL=new a.OlP("angularfire2.firestore.use-emulator");function hL(i,t=(e=>e)){return{query:t(i),ref:i}}let Cv=(()=>{class i{constructor(e,o,s,c,f,g,v,S,W){this.schedulers=new jn.HU(g),this.keepUnstableUntilFirst=(0,jn.ss)(this.schedulers);const pe=(0,jn.on)(e,g,o);!MR.Z.auth&&W&&(0,jn.yq)();const we=S;[this.firestore,this.persistenceEnabled$]=(0,jn.sI)(`${pe.name}.firestore`,"AngularFirestore",pe,()=>{const Te=g.runOutsideAngular(()=>pe.firestore());if(c&&Te.settings(c),we&&Te.useEmulator(...we),s&&!Ga(f)){const Pe=()=>{try{return(0,Xt.D)(Te.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(Ue){return"undefined"!=typeof console&&console.warn(Ue),(0,Lt.of)(!1)}};return[Te,g.runOutsideAngular(Pe)]}return[Te,(0,Lt.of)(!1)]},[c,we,s])}collection(e,o){let s;s="string"==typeof e?this.firestore.collection(e):e;const{ref:c,query:f}=hL(s,o),g=this.schedulers.ngZone.run(()=>c);return new uL(g,f,this)}collectionGroup(e,o){const s=o||(f=>f),c=this.firestore.collectionGroup(e);return new fU(s(c),this)}doc(e){let o;o="string"==typeof e?this.firestore.doc(e):e;const s=this.schedulers.ngZone.run(()=>o);return new lL(s,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(jn.Dh),a.LFG(jn.xv,8),a.LFG(Nx,8),a.LFG(cL,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Bx,8),a.LFG(dL,8),a.LFG(cf,8))},i.\u0275prov=a.Yz7({factory:function(){return new i(a.LFG(jn.Dh),a.LFG(jn.xv,8),a.LFG(Nx,8),a.LFG(cL,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Bx,8),a.LFG(dL,8),a.LFG(cf,8))},token:i,providedIn:"any"}),i})(),pU=(()=>{class i{static enablePersistence(e){return{ngModule:i,providers:[{provide:Nx,useValue:!0},{provide:Bx,useValue:e}]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({providers:[Cv]}),i})(),Qr=(()=>{class i{constructor(e,o,s,c){this.afAuth=e,this.afs=o,this.router=s,this.ngZone=c,this.user$=this.afAuth.authState.pipe(yr(f=>f?(this.updateUserData(f),this.afs.doc(`users/${f.uid}`).valueChanges()):(0,Lt.of)(null))),this.afAuth.onAuthStateChanged(f=>{this.userLoggedIn=!!f})}whatisID(){return this.afAuth.currentUser}loginUser(e,o){return this.afAuth.signInWithEmailAndPassword(e,o).then(s=>{console.log("Auth Service: loginUser: success",s.user.uid),this.updateUserData(s.user)})}signupUser(e){return this.afAuth.createUserWithEmailAndPassword(e.email,e.password).then(o=>{this.ngZone.run(()=>{this.router.navigate(["dashboard"])}),e.email.toLowerCase(),this.createNewUser(o.user)}).catch(o=>{window.alert(o.message)})}userInfo(e){return{uid:e.uid,displayname:e.displayname,email:e.email,rank:e.rank,role:{reader:!0}}}updateRole(e){this.afs.doc(`users/${e.uid}`)}createNewUser(e){return this.afs.doc(`users/${e.uid}`).set({verified:!1,rank:"not configured",displayname:"not configured",uid:e.uid,email:e.email,role:{reader:!0}},{merge:!0})}updateUserData(e){return this.afs.doc(`users/${e.uid}`).set({uid:e.uid,email:e.email,role:{reader:!0}},{merge:!0})}signOut(){}canRead(e){return this.checkAuthorization(e,["admin","publisher","reader","manager","developer"])}canEdit(e){return this.checkAuthorization(e,["admin","publisher","manager","developer"])}canDelete(e){return this.checkAuthorization(e,["admin","manager","developer"])}checkAuthorization(e,o){if(!e)return!1;for(const s of o)if(e.role[s])return!0;return!1}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(ai),a.LFG(Cv),a.LFG(zr),a.LFG(a.R0b))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var gU=y(1555);function fL(...i){if(1===i.length){const t=i[0];if((0,Sr.k)(t))return RT(t,null);if((0,gU.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return RT(e.map(o=>t[o]),e)}}if("function"==typeof i[i.length-1]){const t=i.pop();return RT(i=1===i.length&&(0,Sr.k)(i[0])?i[0]:i,null).pipe((0,sn.U)(e=>t(...e)))}return RT(i,null)}function RT(i,t){return new Yn.y(e=>{const o=i.length;if(0===o)return void e.complete();const s=new Array(o);let c=0,f=0;for(let g=0;g<o;g++){const v=(0,Xt.D)(i[g]);let S=!1;e.add(v.subscribe({next:W=>{S||(S=!0,f++),s[g]=W},error:W=>e.error(W),complete:()=>{c++,(c===o||!S)&&(f===o&&e.next(t?t.reduce((W,pe,we)=>(W[pe]=s[we],W),{}):s),e.complete())}}))}})}let pL=(()=>{class i{constructor(e,o){this._renderer=e,this._elementRef=o,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(e,o){this._renderer.setProperty(this._elementRef.nativeElement,e,o)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.Qsj),a.Y36(a.SBq))},i.\u0275dir=a.lG2({type:i}),i})(),cp=(()=>{class i extends pL{}return i.\u0275fac=function(){let t;return function(o){return(t||(t=a.n5z(i)))(o||i)}}(),i.\u0275dir=a.lG2({type:i,features:[a.qOj]}),i})();const Ba=new a.OlP("NgValueAccessor"),vU={provide:Ba,useExisting:(0,a.Gpc)(()=>G0),multi:!0},_U=new a.OlP("CompositionEventMode");let G0=(()=>{class i extends pL{constructor(e,o,s){super(e,o),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const i=G()?G().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(_U,8))},i.\u0275dir=a.lG2({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,o){1&e&&a.NdJ("input",function(c){return o._handleInput(c.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(c){return o._compositionEnd(c.target.value)})},features:[a._Bn([vU]),a.qOj]}),i})();function Bd(i){return null==i||0===i.length}function mL(i){return null!=i&&"number"==typeof i.length}const Ni=new a.OlP("NgValidators"),Vd=new a.OlP("NgAsyncValidators"),bU=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ud{static min(t){return function(i){return t=>{if(Bd(t.value)||Bd(i))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<i?{min:{min:i,actual:t.value}}:null}}(t)}static max(t){return function(i){return t=>{if(Bd(t.value)||Bd(i))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>i?{max:{max:i,actual:t.value}}:null}}(t)}static required(t){return function(i){return Bd(i.value)?{required:!0}:null}(t)}static requiredTrue(t){return function(i){return!0===i.value?null:{required:!0}}(t)}static email(t){return function(i){return Bd(i.value)||bU.test(i.value)?null:{email:!0}}(t)}static minLength(t){return function(i){return t=>Bd(t.value)||!mL(t.value)?null:t.value.length<i?{minlength:{requiredLength:i,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function(i){return t=>mL(t.value)&&t.value.length>i?{maxlength:{requiredLength:i,actualLength:t.value.length}}:null}(t)}static pattern(t){return function(i){if(!i)return Hd;let t,e;return"string"==typeof i?(e="","^"!==i.charAt(0)&&(e+="^"),e+=i,"$"!==i.charAt(i.length-1)&&(e+="$"),t=new RegExp(e)):(e=i.toString(),t=i),o=>{if(Bd(o.value))return null;const s=o.value;return t.test(s)?null:{pattern:{requiredPattern:e,actualValue:s}}}}(t)}static nullValidator(t){return null}static compose(t){return RL(t)}static composeAsync(t){return xL(t)}}function Hd(i){return null}function EL(i){return null!=i}function TL(i){const t=(0,a.QGY)(i)?(0,Xt.D)(i):i;return(0,a.CqO)(t),t}function DL(i){let t={};return i.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function ML(i,t){return t.map(e=>e(i))}function kL(i){return i.map(t=>function(i){return!i.validate}(t)?t:e=>t.validate(e))}function RL(i){if(!i)return null;const t=i.filter(EL);return 0==t.length?null:function(e){return DL(ML(e,t))}}function Vx(i){return null!=i?RL(kL(i)):null}function xL(i){if(!i)return null;const t=i.filter(EL);return 0==t.length?null:function(e){return fL(ML(e,t).map(TL)).pipe((0,sn.U)(DL))}}function Ux(i){return null!=i?xL(kL(i)):null}function IL(i,t){return null===i?[t]:Array.isArray(i)?[...i,t]:[i,t]}function PL(i){return i._rawValidators}function OL(i){return i._rawAsyncValidators}function Hx(i){return i?Array.isArray(i)?i:[i]:[]}function xT(i,t){return Array.isArray(i)?i.includes(t):i===t}function FL(i,t){const e=Hx(t);return Hx(i).forEach(s=>{xT(e,s)||e.push(s)}),e}function LL(i,t){return Hx(t).filter(e=>!xT(i,e))}let NL=(()=>{class i{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Vx(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Ux(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,o){return!!this.control&&this.control.hasError(e,o)}getError(e,o){return this.control?this.control.getError(e,o):null}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=a.lG2({type:i}),i})(),yo=(()=>{class i extends NL{get formDirective(){return null}get path(){return null}}return i.\u0275fac=function(){let t;return function(o){return(t||(t=a.n5z(i)))(o||i)}}(),i.\u0275dir=a.lG2({type:i,features:[a.qOj]}),i})();class Iu extends NL{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class BL{constructor(t){this._cd=t}is(t){var e,o,s;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(s=null===(o=this._cd)||void 0===o?void 0:o.control)||void 0===s?void 0:s[t])}}let IT=(()=>{class i extends BL{constructor(e){super(e)}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(Iu,2))},i.\u0275dir=a.lG2({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,o){2&e&&a.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))},features:[a.qOj]}),i})(),PT=(()=>{class i extends BL{constructor(e){super(e)}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(yo,10))},i.\u0275dir=a.lG2({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,o){2&e&&a.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))("ng-submitted",o.is("submitted"))},features:[a.qOj]}),i})();function OT(i,t){return[...t.path,i]}function j0(i,t){Gx(i,t),t.valueAccessor.writeValue(i.value),function(i,t){t.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&VL(i,t)})}(i,t),function(i,t){const e=(o,s)=>{t.valueAccessor.writeValue(o),s&&t.viewToModelUpdate(o)};i.registerOnChange(e),t._registerOnDestroy(()=>{i._unregisterOnChange(e)})}(i,t),function(i,t){t.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&VL(i,t),"submit"!==i.updateOn&&i.markAsTouched()})}(i,t),function(i,t){if(t.valueAccessor.setDisabledState){const e=o=>{t.valueAccessor.setDisabledState(o)};i.registerOnDisabledChange(e),t._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}(i,t)}function FT(i,t,e=!0){const o=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(o),t.valueAccessor.registerOnTouched(o)),NT(i,t),i&&(t._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function LT(i,t){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Gx(i,t){const e=PL(i);null!==t.validator?i.setValidators(IL(e,t.validator)):"function"==typeof e&&i.setValidators([e]);const o=OL(i);null!==t.asyncValidator?i.setAsyncValidators(IL(o,t.asyncValidator)):"function"==typeof o&&i.setAsyncValidators([o]);const s=()=>i.updateValueAndValidity();LT(t._rawValidators,s),LT(t._rawAsyncValidators,s)}function NT(i,t){let e=!1;if(null!==i){if(null!==t.validator){const s=PL(i);if(Array.isArray(s)&&s.length>0){const c=s.filter(f=>f!==t.validator);c.length!==s.length&&(e=!0,i.setValidators(c))}}if(null!==t.asyncValidator){const s=OL(i);if(Array.isArray(s)&&s.length>0){const c=s.filter(f=>f!==t.asyncValidator);c.length!==s.length&&(e=!0,i.setAsyncValidators(c))}}}const o=()=>{};return LT(t._rawValidators,o),LT(t._rawAsyncValidators,o),e}function VL(i,t){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function UL(i,t){Gx(i,t)}function jx(i,t){if(!i.hasOwnProperty("model"))return!1;const e=i.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function HL(i,t){i._syncPendingControls(),t.forEach(e=>{const o=e.control;"submit"===o.updateOn&&o._pendingChange&&(e.viewToModelUpdate(o._pendingValue),o._pendingChange=!1)})}function zx(i,t){if(!t)return null;let e,o,s;return Array.isArray(t),t.forEach(c=>{c.constructor===G0?e=c:function(i){return Object.getPrototypeOf(i.constructor)===cp}(c)?o=c:s=c}),s||o||e||null}function BT(i,t){const e=i.indexOf(t);e>-1&&i.splice(e,1)}const z0="VALID",VT="INVALID",Sv="PENDING",q0="DISABLED";function qx(i){return(Yx(i)?i.validators:i)||null}function GL(i){return Array.isArray(i)?Vx(i):i||null}function Wx(i,t){return(Yx(t)?t.asyncValidators:i)||null}function jL(i){return Array.isArray(i)?Ux(i):i||null}function Yx(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}class Zx{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=GL(this._rawValidators),this._composedAsyncValidatorFn=jL(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===z0}get invalid(){return this.status===VT}get pending(){return this.status==Sv}get disabled(){return this.status===q0}get enabled(){return this.status!==q0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=GL(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=jL(t)}addValidators(t){this.setValidators(FL(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(FL(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(LL(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(LL(t,this._rawAsyncValidators))}hasValidator(t){return xT(this._rawValidators,t)}hasAsyncValidator(t){return xT(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Sv,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=q0,this.errors=null,this._forEachChild(o=>{o.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(o=>o(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=z0,this._forEachChild(o=>{o.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===z0||this.status===Sv)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?q0:z0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Sv,this._hasOwnPendingAsyncValidator=!0;const e=TL(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(i,t,e){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let o=i;return t.forEach(s=>{o=o instanceof W0?o.controls.hasOwnProperty(s)?o.controls[s]:null:o instanceof xU&&o.at(s)||null}),o}(this,t)}getError(t,e){const o=e?this.get(e):this;return o&&o.errors?o.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?q0:this.errors?VT:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Sv)?Sv:this._anyControlsHaveStatus(VT)?VT:z0}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Yx(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Pu extends Zx{constructor(t=null,e,o){super(qx(e),Wx(o,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){BT(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){BT(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class W0 extends Zx{constructor(t,e,o){super(qx(e),Wx(o,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,o={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,o={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(o=>{this._throwIfControlMissing(o),this.controls[o].setValue(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(o=>{this.controls[o]&&this.controls[o].patchValue(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((o,s)=>{o.reset(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,o)=>(t[o]=e instanceof Pu?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,o)=>!!o._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const o=this.controls[e];o&&t(o,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const o=this.controls[e];if(this.contains(e)&&t(o))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,o)=>((e.enabled||this.disabled)&&(t[o]=e.value),t))}_reduceChildren(t,e){let o=t;return this._forEachChild((s,c)=>{o=e(o,s,c)}),o}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,o)=>{if(void 0===t[o])throw new Error(`Must supply a value for form control with name: '${o}'.`)})}}class xU extends Zx{constructor(t,e,o){super(qx(e),Wx(o,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,o={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:o.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,o={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((o,s)=>{this._throwIfControlMissing(s),this.at(s).setValue(o,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((o,s)=>{this.at(s)&&this.at(s).patchValue(o,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((o,s)=>{o.reset(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Pu?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,o)=>!!o._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,o)=>{t(e,o)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,o)=>{if(void 0===t[o])throw new Error(`Must supply a value for form control at index: ${o}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const IU={provide:yo,useExisting:(0,a.Gpc)(()=>Av)},Y0=(()=>Promise.resolve(null))();let Av=(()=>{class i extends yo{constructor(e,o){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new a.vpe,this.form=new W0({},Vx(e),Ux(o))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Y0.then(()=>{const o=this._findContainer(e.path);e.control=o.registerControl(e.name,e.control),j0(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Y0.then(()=>{const o=this._findContainer(e.path);o&&o.removeControl(e.name),BT(this._directives,e)})}addFormGroup(e){Y0.then(()=>{const o=this._findContainer(e.path),s=new W0({});UL(s,e),o.registerControl(e.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Y0.then(()=>{const o=this._findContainer(e.path);o&&o.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,o){Y0.then(()=>{this.form.get(e.path).setValue(o)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,HL(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(Ni,10),a.Y36(Vd,10))},i.\u0275dir=a.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,o){1&e&&a.NdJ("submit",function(c){return o.onSubmit(c)})("reset",function(){return o.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([IU]),a.qOj]}),i})();const OU={provide:Iu,useExisting:(0,a.Gpc)(()=>$x)},WL=(()=>Promise.resolve(null))();let $x=(()=>{class i extends Iu{constructor(e,o,s,c){super(),this.control=new Pu,this._registered=!1,this.update=new a.vpe,this._parent=e,this._setValidators(o),this._setAsyncValidators(s),this.valueAccessor=zx(0,c)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),jx(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?OT(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){j0(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){WL.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const o=e.isDisabled.currentValue,s=""===o||o&&"false"!==o;WL.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable()})}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(yo,9),a.Y36(Ni,10),a.Y36(Vd,10),a.Y36(Ba,10))},i.\u0275dir=a.lG2({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[a._Bn([OU]),a.qOj,a.TTD]}),i})(),UT=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=a.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),i})(),ZL=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({}),i})();const Qx=new a.OlP("NgModelWithFormControlWarning"),UU={provide:yo,useExisting:(0,a.Gpc)(()=>dp)};let dp=(()=>{class i extends yo{constructor(e,o){super(),this.validators=e,this.asyncValidators=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(e),this._setAsyncValidators(o)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(NT(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const o=this.form.get(e.path);return j0(o,e),o.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),o}getControl(e){return this.form.get(e.path)}removeControl(e){FT(e.control||null,e,!1),BT(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,o){this.form.get(e.path).setValue(o)}onSubmit(e){return this.submitted=!0,HL(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const o=e.control,s=this.form.get(e.path);o!==s&&(FT(o||null,e),s instanceof Pu&&(j0(s,e),e.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const o=this.form.get(e.path);UL(o,e),o.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const o=this.form.get(e.path);o&&function(i,t){return NT(i,t)}(o,e)&&o.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Gx(this.form,this),this._oldForm&&NT(this._oldForm,this)}_checkFormPresent(){}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(Ni,10),a.Y36(Vd,10))},i.\u0275dir=a.lG2({type:i,selectors:[["","formGroup",""]],hostBindings:function(e,o){1&e&&a.NdJ("submit",function(c){return o.onSubmit(c)})("reset",function(){return o.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([UU]),a.qOj,a.TTD]}),i})();const jU={provide:Iu,useExisting:(0,a.Gpc)(()=>HT)};let HT=(()=>{class i extends Iu{constructor(e,o,s,c,f){super(),this._ngModelWarningConfig=f,this._added=!1,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(o),this._setAsyncValidators(s),this.valueAccessor=zx(0,c)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),jx(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return OT(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(yo,13),a.Y36(Ni,10),a.Y36(Vd,10),a.Y36(Ba,10),a.Y36(Qx,8))},i.\u0275dir=a.lG2({type:i,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([jU]),a.qOj,a.TTD]}),i._ngModelWarningSentOnce=!1,i})(),lN=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[[ZL]]}),i})(),i3=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[lN]}),i})(),o3=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:Qx,useValue:e.warnOnNgModelWithFormControl}]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[lN]}),i})();function s3(i,t){if(1&i&&(a.TgZ(0,"tr"),a.TgZ(1,"td"),a._uU(2,"1"),a.qZA(),a.TgZ(3,"td"),a._uU(4),a.qZA(),a.TgZ(5,"td"),a.TgZ(6,"p",8),a.TgZ(7,"a",9),a._uU(8,"LINK"),a.qZA(),a.qZA(),a.qZA(),a._UZ(9,"td"),a._UZ(10,"td"),a.qZA()),2&i){const e=t.$implicit;a.xp6(4),a.Oqu(e.name),a.xp6(3),a.s9C("href",e.link,a.LSH)}}let cN=(()=>{class i{constructor(e,o,s){this.afAuth=e,this.auth=o,this.afs=s,this.document="Publications",this.user=Qr,this.pdfSrc="../../../assets/jsp834.png"}ngOnInit(){this.documentCollection=this.afs.collection("documents"),this.documents=this.documentCollection.valueChanges()}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(ai),a.Y36(Qr),a.Y36(Cv))},i.\u0275cmp=a.Xpm({type:i,selectors:[["app-search"]],decls:24,vars:4,consts:[[1,"search"],[1,"text"],[1,"form-floating","mb-3","searchbar"],["type","text","id","floatingInput",1,"form-control","searchbartext"],["for","floatingInput"],[1,"results"],[1,"content-table"],[4,"ngFor","ngForOf"],[1,"link"],[3,"href"]],template:function(e,o){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"h1",1),a._uU(2,"Documents Search..."),a.qZA(),a.TgZ(3,"form",2),a._UZ(4,"input",3),a.TgZ(5,"label",4),a._uU(6),a.qZA(),a.qZA(),a.qZA(),a.TgZ(7,"div",5),a.TgZ(8,"table",6),a.TgZ(9,"thead"),a.TgZ(10,"tr"),a.TgZ(11,"th"),a._uU(12,"Number"),a.qZA(),a.TgZ(13,"th"),a._uU(14,"Name"),a.qZA(),a.TgZ(15,"th"),a._uU(16,"Link"),a.qZA(),a.TgZ(17,"th"),a._uU(18,"Views"),a.qZA(),a.TgZ(19,"th"),a._uU(20,"Likes"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(21,"tbody"),a.YNc(22,s3,11,2,"tr",7),a.ALo(23,"async"),a.qZA(),a.qZA(),a.qZA()),2&e&&(a.xp6(6),a.hij("",o.document," search"),a.xp6(16),a.Q6J("ngForOf",a.lcZ(23,2,o.documents)))},directives:[UT,PT,Av,Rn],pipes:[Zi],styles:[".searchbar[_ngcontent-%COMP%]{margin-top:auto;margin-left:15vw;margin-right:15vw}.searchbartext[_ngcontent-%COMP%]{border-radius:2rem}.text[_ngcontent-%COMP%]{text-align:center}.search[_ngcontent-%COMP%]{align-content:center}.logo[_ngcontent-%COMP%]{align-items:center}.example-card[_ngcontent-%COMP%]{max-width:400px;margin:10px}.example-header-image[_ngcontent-%COMP%]{background-image:url(https://material.angular.io/assets/img/examples/shiba1.jpg);background-size:cover}.results[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-evenly}.RAF[_ngcontent-%COMP%]{background-image:url(raf.4a2a1d7ddf2c5eaa3552.jpg);background-size:cover}.RoyalNavy[_ngcontent-%COMP%]{background-image:url(royalnavy.9cbcdcbb4c404368fb5e.png);background-size:cover}.ARMY[_ngcontent-%COMP%]{background-image:url(army.052745d52ec74f9f33a5.png);background-size:cover}*[_ngcontent-%COMP%]{font-family:sans-serif}.tableinside[_ngcontent-%COMP%]{padding:0%}.content-table[_ngcontent-%COMP%]{border-collapse:collapse;font-size:.9em;min-width:400px;border-radius:5px 5px 0 0;overflow:hidden;box-shadow:0 0 20px #00000026;width:80vw;margin:25px 2.5vw}.content-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:#009879;color:#fff;text-align:left;font-weight:bold}.content-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .content-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 15px}.content-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #dddddd}.content-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-of-type(even){background-color:#f3f3f3}.content-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-of-type{border-bottom:2px solid #009879}.content-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.active-row[_ngcontent-%COMP%]{font-weight:bold;color:#009879}.link[_ngcontent-%COMP%]{margin-bottom:0%;font-weight:bold}"]}),i})();const a3=function(){return["/search"]};let u3=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=a.Xpm({type:i,selectors:[["app-home"]],decls:13,vars:2,consts:[[1,"home"],[1,"card","center",2,"width","20rem"],["src","../../../assets/logo.png","alt","Card image cap",1,"card-img-top"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"centre"],["mat-raised-button","","routerLinkActive","router-link-active",3,"routerLink"],[2,"margin-top","5%"]],template:function(e,o){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a._UZ(2,"img",2),a.TgZ(3,"div",3),a.TgZ(4,"h5",4),a._uU(5,"Project Alexandria"),a.qZA(),a.TgZ(6,"p",5),a._uU(7,"card content goes here"),a.qZA(),a.TgZ(8,"div",6),a.TgZ(9,"button",7),a._uU(10,"Search"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(11,"div",8),a._UZ(12,"app-search"),a.qZA()),2&e&&(a.xp6(9),a.Q6J("routerLink",a.DdM(1,a3)))},directives:[gu,Ih,ks,cN],styles:[".home[_ngcontent-%COMP%]{display:flex;justify-content:center}.centre[_ngcontent-%COMP%]{color:#0ff}"]}),i})(),l3=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=a.Xpm({type:i,selectors:[["app-info"]],decls:2,vars:0,template:function(e,o){1&e&&(a.TgZ(0,"p"),a._uU(1,"info works!"),a.qZA())},styles:[""]}),i})();var c3=y(9105);function on(i,t,e,o){return(0,c3.m)(e)&&(o=e,e=void 0),o?on(i,t,e).pipe((0,sn.U)(s=>(0,Sr.k)(s)?o(...s):o(s))):new Yn.y(s=>{dN(i,t,function(f){s.next(arguments.length>1?Array.prototype.slice.call(arguments):f)},s,e)})}function dN(i,t,e,o,s){let c;if(function(i){return i&&"function"==typeof i.addEventListener&&"function"==typeof i.removeEventListener}(i)){const f=i;i.addEventListener(t,e,s),c=()=>f.removeEventListener(t,e,s)}else if(function(i){return i&&"function"==typeof i.on&&"function"==typeof i.off}(i)){const f=i;i.on(t,e),c=()=>f.off(t,e)}else if(function(i){return i&&"function"==typeof i.addListener&&"function"==typeof i.removeListener}(i)){const f=i;i.addListener(t,e),c=()=>f.removeListener(t,e)}else{if(!i||!i.length)throw new TypeError("Invalid event target");for(let f=0,g=i.length;f<g;f++)dN(i[f],t,e,o,s)}o.add(c)}var tr=y(6890),zi=y(8265);function hN(i,t){const e=new i.EventBus;return function(i,t){on(i,"documentload").pipe(Ut(t)).subscribe(()=>{const e=document.createEvent("CustomEvent");e.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(e)}),on(i,"pagerendered").pipe(Ut(t)).subscribe(({pageNumber:e,cssTransform:o,source:s})=>{const c=document.createEvent("CustomEvent");c.initCustomEvent("pagerendered",!0,!0,{pageNumber:e,cssTransform:o}),s.div.dispatchEvent(c)}),on(i,"textlayerrendered").pipe(Ut(t)).subscribe(({pageNumber:e,source:o})=>{const s=document.createEvent("CustomEvent");s.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:e}),o.textLayerDiv.dispatchEvent(s)}),on(i,"pagechanging").pipe(Ut(t)).subscribe(({pageNumber:e,source:o})=>{const s=document.createEvent("UIEvents");s.initEvent("pagechanging",!0,!0),s.pageNumber=e,o.container.dispatchEvent(s)}),on(i,"pagesinit").pipe(Ut(t)).subscribe(({source:e})=>{const o=document.createEvent("CustomEvent");o.initCustomEvent("pagesinit",!0,!0,null),e.container.dispatchEvent(o)}),on(i,"pagesloaded").pipe(Ut(t)).subscribe(({pagesCount:e,source:o})=>{const s=document.createEvent("CustomEvent");s.initCustomEvent("pagesloaded",!0,!0,{pagesCount:e}),o.container.dispatchEvent(s)}),on(i,"scalechange").pipe(Ut(t)).subscribe(({scale:e,presetValue:o,source:s})=>{const c=document.createEvent("UIEvents");c.initEvent("scalechange",!0,!0),c.scale=e,c.presetValue=o,s.container.dispatchEvent(c)}),on(i,"updateviewarea").pipe(Ut(t)).subscribe(({location:e,source:o})=>{const s=document.createEvent("UIEvents");s.initEvent("updateviewarea",!0,!0),s.location=e,o.container.dispatchEvent(s)}),on(i,"find").pipe(Ut(t)).subscribe(({source:e,type:o,query:s,phraseSearch:c,caseSensitive:f,highlightAll:g,findPrevious:v})=>{if(e===window)return;const S=document.createEvent("CustomEvent");S.initCustomEvent("find"+o,!0,!0,{query:s,phraseSearch:c,caseSensitive:f,highlightAll:g,findPrevious:v}),window.dispatchEvent(S)}),on(i,"attachmentsloaded").pipe(Ut(t)).subscribe(({attachmentsCount:e,source:o})=>{const s=document.createEvent("CustomEvent");s.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:e}),o.container.dispatchEvent(s)}),on(i,"sidebarviewchanged").pipe(Ut(t)).subscribe(({view:e,source:o})=>{const s=document.createEvent("CustomEvent");s.initCustomEvent("sidebarviewchanged",!0,!0,{view:e}),o.outerContainer.dispatchEvent(s)}),on(i,"pagemode").pipe(Ut(t)).subscribe(({mode:e,source:o})=>{const s=document.createEvent("CustomEvent");s.initCustomEvent("pagemode",!0,!0,{mode:e}),o.pdfViewer.container.dispatchEvent(s)}),on(i,"namedaction").pipe(Ut(t)).subscribe(({action:e,source:o})=>{const s=document.createEvent("CustomEvent");s.initCustomEvent("namedaction",!0,!0,{action:e}),o.pdfViewer.container.dispatchEvent(s)}),on(i,"presentationmodechanged").pipe(Ut(t)).subscribe(({active:e,switchInProgress:o})=>{const s=document.createEvent("CustomEvent");s.initCustomEvent("presentationmodechanged",!0,!0,{active:e,switchInProgress:o}),window.dispatchEvent(s)}),on(i,"outlineloaded").pipe(Ut(t)).subscribe(({outlineCount:e,source:o})=>{const s=document.createEvent("CustomEvent");s.initCustomEvent("outlineloaded",!0,!0,{outlineCount:e}),o.container.dispatchEvent(s)})}(e,t),e}function GT(i,t,e){i[t]=e}function Z0(){return"undefined"==typeof window}const g3=["pdfViewerContainer"];Z0()||GT(tr,"verbosity",tr.VerbosityLevel.ERRORS);var hp=(()=>(function(i){i[i.DISABLED=0]="DISABLED",i[i.ENABLED=1]="ENABLED",i[i.ENHANCED=2]="ENHANCED"}(hp||(hp={})),hp))();let m3=(()=>{class i{constructor(e,o){if(this.element=e,this.ngZone=o,this.isVisible=!1,this._cMapsUrl=void 0!==tr?`https://unpkg.com/pdfjs-dist@${tr.version}/cmaps/`:null,this._renderText=!0,this._renderTextMode=hp.ENABLED,this._stickToPage=!1,this._originalSize=!0,this._page=1,this._zoom=1,this._zoomScale="page-width",this._rotation=0,this._showAll=!0,this._canAutoResize=!0,this._fitToPage=!1,this._externalLinkTarget="blank",this._showBorders=!1,this.resizeTimeout=null,this.pageScrollTimeout=null,this.isInitialized=!1,this.destroy$=new Vt.xQ,this.afterLoadComplete=new a.vpe,this.pageRendered=new a.vpe,this.pageInitialized=new a.vpe,this.textLayerRendered=new a.vpe,this.onError=new a.vpe,this.onProgress=new a.vpe,this.pageChange=new a.vpe(!0),Z0())return;let s;s=window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${tr.version}/es5/build/pdf.worker.js`,GT(tr.GlobalWorkerOptions,"workerSrc",s)}set cMapsUrl(e){this._cMapsUrl=e}set page(e){const o=e=parseInt(e,10)||1;this._pdf&&(e=this.getValidPageNumber(e)),this._page=e,o!==e&&this.pageChange.emit(e)}set renderText(e){this._renderText=e}set renderTextMode(e){this._renderTextMode=e}set originalSize(e){this._originalSize=e}set showAll(e){this._showAll=e}set stickToPage(e){this._stickToPage=e}set zoom(e){e<=0||(this._zoom=e)}get zoom(){return this._zoom}set zoomScale(e){this._zoomScale=e}get zoomScale(){return this._zoomScale}set rotation(e){"number"==typeof e&&e%90==0?this._rotation=e:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(e){this._externalLinkTarget=e}set autoresize(e){this._canAutoResize=Boolean(e)}set fitToPage(e){this._fitToPage=Boolean(e)}set showBorders(e){this._showBorders=Boolean(e)}static getLinkTarget(e){switch(e){case"blank":return tr.LinkTarget.BLANK;case"none":return tr.LinkTarget.NONE;case"self":return tr.LinkTarget.SELF;case"parent":return tr.LinkTarget.PARENT;case"top":return tr.LinkTarget.TOP}return null}ngAfterViewChecked(){if(this.isInitialized)return;const e=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=e?!1===this.isVisible&&null!=e&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}get pdfLinkService(){return this._showAll?this.pdfMultiPageLinkService:this.pdfSinglePageLinkService}get pdfViewer(){return this.getCurrentViewer()}get pdfFindController(){return this._showAll?this.pdfMultiPageFindController:this.pdfSinglePageFindController}ngOnChanges(e){if(!Z0()&&this.isVisible)if("src"in e)this.loadPDF();else if(this._pdf){if("renderText"in e?(this.getCurrentViewer().textLayerMode=this._renderText?this._renderTextMode:hp.DISABLED,this.resetPdfDocument()):"showAll"in e&&this.resetPdfDocument(),"page"in e){const{page:o}=e;if(o.currentValue===this._latestScrolledPage)return;this.getCurrentViewer().scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){const e=this.getCurrentViewer();(0,Xt.D)(this._pdf.getPage(e.currentPageNumber)).pipe(Ut(this.destroy$)).subscribe({next:o=>{const s=this._rotation||o.rotate,c=o.getViewport({scale:this._zoom,rotation:s}).width*i.CSS_UNITS;let f=this._zoom,g=!0;if(!this._originalSize||this._fitToPage&&c>this.pdfViewerContainer.nativeElement.clientWidth){const v=o.getViewport({scale:1,rotation:s});f=this.getScale(v.width,v.height),g=!this._stickToPage}e._setScale(f,g)}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._pdf.destroy(),this._pdf=null,this.pdfMultiPageViewer.setDocument(null),this.pdfSinglePageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null,null),this.pdfSinglePageLinkService.setDocument(null,null),this.pdfMultiPageFindController.setDocument(null),this.pdfSinglePageFindController.setDocument(null))}getPDFLinkServiceConfig(){const e={},o=i.getLinkTarget(this._externalLinkTarget);return o&&(e.externalLinkTarget=o),e}setupMultiPageViewer(){GT(tr,"disableTextLayer",!this._renderText);const e=hN(zi,this.destroy$);on(e,"pagerendered").pipe(Ut(this.destroy$)).subscribe(s=>{this.pageRendered.emit(s)}),on(e,"pagesinit").pipe(Ut(this.destroy$)).subscribe(s=>{this.pageInitialized.emit(s)}),on(e,"pagechanging").pipe(Ut(this.destroy$)).subscribe(({pageNumber:s})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=s,this.pageChange.emit(s)},100)}),on(e,"textlayerrendered").pipe(Ut(this.destroy$)).subscribe(s=>{this.textLayerRendered.emit(s)}),this.pdfMultiPageLinkService=new zi.PDFLinkService(Object.assign({eventBus:e},this.getPDFLinkServiceConfig())),this.pdfMultiPageFindController=new zi.PDFFindController({linkService:this.pdfMultiPageLinkService,eventBus:e});const o={eventBus:e,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfMultiPageLinkService,textLayerMode:this._renderText?this._renderTextMode:hp.DISABLED,findController:this.pdfMultiPageFindController};this.pdfMultiPageViewer=new zi.PDFViewer(o),this.pdfMultiPageLinkService.setViewer(this.pdfMultiPageViewer),this.pdfMultiPageFindController.setDocument(this._pdf)}setupSinglePageViewer(){GT(tr,"disableTextLayer",!this._renderText);const e=hN(zi,this.destroy$);on(e,"pagechanging").pipe(Ut(this.destroy$)).subscribe(({pageNumber:s})=>{s!==this._page&&(this.page=s)}),on(e,"pagerendered").pipe(Ut(this.destroy$)).subscribe(s=>{this.pageRendered.emit(s)}),on(e,"pagesinit").pipe(Ut(this.destroy$)).subscribe(s=>{this.pageInitialized.emit(s)}),on(e,"textlayerrendered").pipe(Ut(this.destroy$)).subscribe(s=>{this.textLayerRendered.emit(s)}),this.pdfSinglePageLinkService=new zi.PDFLinkService(Object.assign({eventBus:e},this.getPDFLinkServiceConfig())),this.pdfSinglePageFindController=new zi.PDFFindController({linkService:this.pdfSinglePageLinkService,eventBus:e});const o={eventBus:e,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfSinglePageLinkService,textLayerMode:this._renderText?this._renderTextMode:hp.DISABLED,findController:this.pdfSinglePageFindController};this.pdfSinglePageViewer=new zi.PDFSinglePageViewer(o),this.pdfSinglePageLinkService.setViewer(this.pdfSinglePageViewer),this.pdfSinglePageFindController.setDocument(this._pdf),this.pdfSinglePageViewer._currentPageNumber=this._page}getValidPageNumber(e){return e<1?1:e>this._pdf.numPages?this._pdf.numPages:e}getDocumentParams(){const e=typeof this.src;if(!this._cMapsUrl)return this.src;const o={cMapUrl:this._cMapsUrl,cMapPacked:!0};return"string"===e?o.url=this.src:"object"===e&&(void 0!==this.src.byteLength?o.data=this.src:Object.assign(o,this.src)),o}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.loadingTask=tr.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=o=>{this.onProgress.emit(o)};const e=this.src;(0,Xt.D)(this.loadingTask.promise).pipe(Ut(this.destroy$)).subscribe({next:o=>{this._pdf=o,this.lastLoaded=e,this.afterLoadComplete.emit(o),this.pdfMultiPageViewer||(this.setupMultiPageViewer(),this.setupSinglePageViewer()),this.resetPdfDocument(),this.update()},error:o=>{this.onError.emit(o)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page);const e=this.getCurrentViewer();(0!==this._rotation||e.pagesRotation!==this._rotation)&&setTimeout(()=>{e.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{e.currentPageNumber=this._page}),this.updateSize()}getScale(e,o){const s=this._showBorders?2*i.BORDER_WIDTH:0,c=this.pdfViewerContainer.nativeElement.clientWidth-s,f=this.pdfViewerContainer.nativeElement.clientHeight-s;if(0===f||0===o||0===c||0===e)return 1;let g=1;switch(this._zoomScale){case"page-fit":g=Math.min(f/o,c/e);break;case"page-height":g=f/o;break;case"page-width":default:g=c/e}return this._zoom*g/i.CSS_UNITS}getCurrentViewer(){return this._showAll?this.pdfMultiPageViewer:this.pdfSinglePageViewer}resetPdfDocument(){this.pdfFindController.setDocument(this._pdf),this._showAll?(this.pdfSinglePageViewer.setDocument(null),this.pdfSinglePageLinkService.setDocument(null),this.pdfMultiPageViewer.setDocument(this._pdf),this.pdfMultiPageLinkService.setDocument(this._pdf,null)):(this.pdfMultiPageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null),this.pdfSinglePageViewer.setDocument(this._pdf),this.pdfSinglePageLinkService.setDocument(this._pdf,null))}initialize(){Z0()||!this.isVisible||(this.isInitialized=!0,this.setupMultiPageViewer(),this.setupSinglePageViewer())}setupResizeListener(){Z0()||this.ngZone.runOutsideAngular(()=>{on(window,"resize").pipe(ll(100),$n(()=>this._canAutoResize&&!!this._pdf),Ut(this.destroy$)).subscribe(()=>{this.updateSize()})})}}return i.CSS_UNITS=96/72,i.BORDER_WIDTH=9,i.\u0275fac=function(e){return new(e||i)(a.Y36(a.SBq),a.Y36(a.R0b))},i.\u0275cmp=a.Xpm({type:i,selectors:[["pdf-viewer"]],viewQuery:function(e,o){if(1&e&&a.Gf(g3,5),2&e){let s;a.iGM(s=a.CRH())&&(o.pdfViewerContainer=s.first)}},inputs:{src:"src",cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[a.TTD],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(e,o){1&e&&(a.TgZ(0,"div",0,1),a._UZ(2,"div",2),a.qZA())},styles:['.ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]     .textLayer{position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1}[_nghost-%COMP%]     .textLayer>span{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:blue}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:yellow;box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{background-color:#0036ff21;border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select{background-color:#0036ff21;border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-color:#0036ff21;border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover{border:1px solid black}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover{border:1px solid black}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid black}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{background-color:#000;content:"";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:"";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:115%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;width:20em}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #888;border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;white-space:normal;word-wrap:break-word}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:9px}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popup span{display:inline-block;margin-left:5px}[_nghost-%COMP%]     .annotationLayer .popup p{border-top:1px solid #333333;margin-top:2px;padding-top:2px}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:1px auto -8px;position:relative;overflow:visible;border:9px solid transparent;background-clip:content-box;border-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAQAAADYWf5HAAAA6UlEQVR4Xl2Pi2rEMAwE16fm1f7/r14v7w4rI0IzLAF7hLxNevBSEMEF5+OilNCsRd8ZMyn+a4NmsOT8WJw1lFbSYgGFzF2bLFoLjTClWjKKGRWpDYAGXUnZ4uhbBUzF3Oe/GG/ue2fn4GgsyXhNgysV2JnrhKEMg4fEZcALmiKbNhBBRFpSyDOj1G4QOVly6O1FV54ZZq8OVygrciDt6JazRgi1ljTPH0gbrPmHPXAbCiDd4GawIjip1TPh9tt2sz24qaCjr/jAb/GBFTbq9KZ7Ke/Cqt8nayUikZKsWZK7Fe6bg5dOUt8fZHWG2BHc+6EAAAAASUVORK5CYII=) 9 9 repeat;background-color:#fff}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page{margin-left:-3.5px;margin-right:-3.5px}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:-3.5px;margin-right:-3.5px}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQAAP///wAAAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJBwAAACwAAAAAGAAYAAAFriAgjiQAQWVaDgr5POSgkoTDjFE0NoQ8iw8HQZQTDQjDn4jhSABhAAOhoTqSDg7qSUQwxEaEwwFhXHhHgzOA1xshxAnfTzotGRaHglJqkJcaVEqCgyoCBQkJBQKDDXQGDYaIioyOgYSXA36XIgYMBWRzXZoKBQUMmil0lgalLSIClgBpO0g+s26nUWddXyoEDIsACq5SsTMMDIECwUdJPw0Mzsu0qHYkw72bBmozIQAh+QQJBwAAACwAAAAAGAAYAAAFsCAgjiTAMGVaDgR5HKQwqKNxIKPjjFCk0KNXC6ATKSI7oAhxWIhezwhENTCQEoeGCdWIPEgzESGxEIgGBWstEW4QCGGAIJEoxGmGt5ZkgCRQQHkGd2CESoeIIwoMBQUMP4cNeQQGDYuNj4iSb5WJnmeGng0CDGaBlIQEJziHk3sABidDAHBgagButSKvAAoyuHuUYHgCkAZqebw0AgLBQyyzNKO3byNuoSS8x8OfwIchACH5BAkHAAAALAAAAAAYABgAAAW4ICCOJIAgZVoOBJkkpDKoo5EI43GMjNPSokXCINKJCI4HcCRIQEQvqIOhGhBHhUTDhGo4diOZyFAoKEQDxra2mAEgjghOpCgz3LTBIxJ5kgwMBShACREHZ1V4Kg1rS44pBAgMDAg/Sw0GBAQGDZGTlY+YmpyPpSQDiqYiDQoCliqZBqkGAgKIS5kEjQ21VwCyp76dBHiNvz+MR74AqSOdVwbQuo+abppo10ssjdkAnc0rf8vgl8YqIQAh+QQJBwAAACwAAAAAGAAYAAAFrCAgjiQgCGVaDgZZFCQxqKNRKGOSjMjR0qLXTyciHA7AkaLACMIAiwOC1iAxCrMToHHYjWQiA4NBEA0Q1RpWxHg4cMXxNDk4OBxNUkPAQAEXDgllKgMzQA1pSYopBgonCj9JEA8REQ8QjY+RQJOVl4ugoYssBJuMpYYjDQSliwasiQOwNakALKqsqbWvIohFm7V6rQAGP6+JQLlFg7KDQLKJrLjBKbvAor3IKiEAIfkECQcAAAAsAAAAABgAGAAABbUgII4koChlmhokw5DEoI4NQ4xFMQoJO4uuhignMiQWvxGBIQC+AJBEUyUcIRiyE6CR0CllW4HABxBURTUw4nC4FcWo5CDBRpQaCoF7VjgsyCUDYDMNZ0mHdwYEBAaGMwwHDg4HDA2KjI4qkJKUiJ6faJkiA4qAKQkRB3E0i6YpAw8RERAjA4tnBoMApCMQDhFTuySKoSKMJAq6rD4GzASiJYtgi6PUcs9Kew0xh7rNJMqIhYchACH5BAkHAAAALAAAAAAYABgAAAW0ICCOJEAQZZo2JIKQxqCOjWCMDDMqxT2LAgELkBMZCoXfyCBQiFwiRsGpku0EshNgUNAtrYPT0GQVNRBWwSKBMp98P24iISgNDAS4ipGA6JUpA2WAhDR4eWM/CAkHBwkIDYcGiTOLjY+FmZkNlCN3eUoLDmwlDW+AAwcODl5bYl8wCVYMDw5UWzBtnAANEQ8kBIM0oAAGPgcREIQnVloAChEOqARjzgAQEbczg8YkWJq8nSUhACH5BAkHAAAALAAAAAAYABgAAAWtICCOJGAYZZoOpKKQqDoORDMKwkgwtiwSBBYAJ2owGL5RgxBziQQMgkwoMkhNqAEDARPSaiMDFdDIiRSFQowMXE8Z6RdpYHWnEAWGPVkajPmARVZMPUkCBQkJBQINgwaFPoeJi4GVlQ2Qc3VJBQcLV0ptfAMJBwdcIl+FYjALQgimoGNWIhAQZA4HXSpLMQ8PIgkOSHxAQhERPw7ASTSFyCMMDqBTJL8tf3y2fCEAIfkECQcAAAAsAAAAABgAGAAABa8gII4k0DRlmg6kYZCoOg5EDBDEaAi2jLO3nEkgkMEIL4BLpBAkVy3hCTAQKGAznM0AFNFGBAbj2cA9jQixcGZAGgECBu/9HnTp+FGjjezJFAwFBQwKe2Z+KoCChHmNjVMqA21nKQwJEJRlbnUFCQlFXlpeCWcGBUACCwlrdw8RKGImBwktdyMQEQciB7oACwcIeA4RVwAODiIGvHQKERAjxyMIB5QlVSTLYLZ0sW8hACH5BAkHAAAALAAAAAAYABgAAAW0ICCOJNA0ZZoOpGGQrDoOBCoSxNgQsQzgMZyIlvOJdi+AS2SoyXrK4umWPM5wNiV0UDUIBNkdoepTfMkA7thIECiyRtUAGq8fm2O4jIBgMBA1eAZ6Knx+gHaJR4QwdCMKBxEJRggFDGgQEREPjjAMBQUKIwIRDhBDC2QNDDEKoEkDoiMHDigICGkJBS2dDA6TAAnAEAkCdQ8ORQcHTAkLcQQODLPMIgIJaCWxJMIkPIoAt3EhACH5BAkHAAAALAAAAAAYABgAAAWtICCOJNA0ZZoOpGGQrDoOBCoSxNgQsQzgMZyIlvOJdi+AS2SoyXrK4umWHM5wNiV0UN3xdLiqr+mENcWpM9TIbrsBkEck8oC0DQqBQGGIz+t3eXtob0ZTPgNrIwQJDgtGAgwCWSIMDg4HiiUIDAxFAAoODwxDBWINCEGdSTQkCQcoegADBaQ6MggHjwAFBZUFCm0HB0kJCUy9bAYHCCPGIwqmRq0jySMGmj6yRiEAIfkECQcAAAAsAAAAABgAGAAABbIgII4k0DRlmg6kYZCsOg4EKhLE2BCxDOAxnIiW84l2L4BLZKipBopW8XRLDkeCiAMyMvQAA+uON4JEIo+vqukkKQ6RhLHplVGN+LyKcXA4Dgx5DWwGDXx+gIKENnqNdzIDaiMECwcFRgQCCowiCAcHCZIlCgICVgSfCEMMnA0CXaU2YSQFoQAKUQMMqjoyAglcAAyBAAIMRUYLCUkFlybDeAYJryLNk6xGNCTQXY0juHghACH5BAkHAAAALAAAAAAYABgAAAWzICCOJNA0ZVoOAmkY5KCSSgSNBDE2hDyLjohClBMNij8RJHIQvZwEVOpIekRQJyJs5AMoHA+GMbE1lnm9EcPhOHRnhpwUl3AsknHDm5RN+v8qCAkHBwkIfw1xBAYNgoSGiIqMgJQifZUjBhAJYj95ewIJCQV7KYpzBAkLLQADCHOtOpY5PgNlAAykAEUsQ1wzCgWdCIdeArczBQVbDJ0NAqyeBb64nQAGArBTt8R8mLuyPyEAOwAAAAAAAAAAAA==) center no-repeat}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{margin-left:0;margin-right:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page, [_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .spread{display:block}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page, [_nghost-%COMP%]     .pdfPresentationMode .pdfViewer.removePageBorders .page{margin-left:auto;margin-right:auto}[_nghost-%COMP%]     .pdfPresentationMode:-webkit-full-screen .pdfViewer .page{margin-bottom:100%;border:0}[_nghost-%COMP%]     .pdfPresentationMode:-webkit-full-screen .pdfViewer .page, [_nghost-%COMP%]     .pdfPresentationMode:-moz-full-screen .pdfViewer .page, [_nghost-%COMP%]     .pdfPresentationMode:-ms-fullscreen .pdfViewer .page, [_nghost-%COMP%]     .pdfPresentationMode:fullscreen .pdfViewer .page{margin-bottom:100%;border:0}']}),i})();var v3=y(6465),_3=y(6102);new class extends _3.v{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let o,s=-1,c=e.length;t=t||e.shift();do{if(o=t.execute(t.state,t.delay))break}while(++s<c&&(t=e.shift()));if(this.active=!1,o){for(;++s<c&&(t=e.shift());)t.unsubscribe();throw o}}}(class extends v3.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,o=0){return null!==o&&o>0?super.requestAsyncId(t,e,o):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,o=0){if(null!==o&&o>0||null===o&&this.delay>0)return super.recycleAsyncId(t,e,o);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}});var rI=y(4581);class S3{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new A3(t,this.durationSelector))}}class A3 extends Do.Ds{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let e;try{const{durationSelector:s}=this;e=s(t)}catch(s){return this.destination.error(s)}const o=(0,Do.ft)(e,new Do.IY(this));!o||o.closed?this.clearThrottle():this.add(this.throttled=o)}}clearThrottle(){const{value:t,hasValue:e,throttled:o}=this;o&&(this.remove(o),this.throttled=void 0,o.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var fN=y(6561);function T3(i){const{index:t,period:e,subscriber:o}=i;if(o.next(t),!o.closed){if(-1===e)return o.complete();i.index=t+1,this.schedule(i,e)}}function jT(i,t=ul.P){return function(i){return function(e){return e.lift(new S3(i))}}(()=>function(i=0,t,e){let o=-1;return(0,fN.k)(t)?o=Number(t)<1?1:Number(t):(0,To.K)(t)&&(e=t),(0,To.K)(e)||(e=ul.P),new Yn.y(s=>{const c=(0,fN.k)(i)?i:+i-e.now();return e.schedule(T3,c,{index:0,period:o,subscriber:s})})}(i,t))}let Ev=(()=>{class i{constructor(e,o,s){this._ngZone=e,this._platform=o,this._scrolled=new Vt.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const o=this.scrollContainers.get(e);o&&(o.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Yn.y(o=>{this._globalSubscription||this._addGlobalListener();const s=e>0?this._scrolled.pipe(jT(e)).subscribe(o):this._scrolled.subscribe(o);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Lt.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,o)=>this.deregister(o)),this._scrolled.complete()}ancestorScrolled(e,o){const s=this.getAncestorScrollContainers(e);return this.scrolled(o).pipe($n(c=>!c||s.indexOf(c)>-1))}getAncestorScrollContainers(e){const o=[];return this.scrollContainers.forEach((s,c)=>{this._scrollableContainsElement(c,e)&&o.push(c)}),o}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,o){let s=io(o),c=e.getElementRef().nativeElement;do{if(s==c)return!0}while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>on(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(a.R0b),a.LFG(Nn),a.LFG(J,8))},i.\u0275prov=a.Yz7({factory:function(){return new i(a.LFG(a.R0b),a.LFG(Nn),a.LFG(J,8))},token:i,providedIn:"root"}),i})(),Tv=(()=>{class i{constructor(e,o,s,c){this.elementRef=e,this.scrollDispatcher=o,this.ngZone=s,this.dir=c,this._destroyed=new Vt.xQ,this._elementScrolled=new Yn.y(f=>this.ngZone.runOutsideAngular(()=>on(this.elementRef.nativeElement,"scroll").pipe(Ut(this._destroyed)).subscribe(f)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const o=this.elementRef.nativeElement,s=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=s?e.end:e.start),null==e.right&&(e.right=s?e.start:e.end),null!=e.bottom&&(e.top=o.scrollHeight-o.clientHeight-e.bottom),s&&0!=Hh()?(null!=e.left&&(e.right=o.scrollWidth-o.clientWidth-e.left),2==Hh()?e.left=e.right:1==Hh()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=o.scrollWidth-o.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const o=this.elementRef.nativeElement;Zy()?o.scrollTo(e):(null!=e.top&&(o.scrollTop=e.top),null!=e.left&&(o.scrollLeft=e.left))}measureScrollOffset(e){const o="left",s="right",c=this.elementRef.nativeElement;if("top"==e)return c.scrollTop;if("bottom"==e)return c.scrollHeight-c.clientHeight-c.scrollTop;const f=this.dir&&"rtl"==this.dir.value;return"start"==e?e=f?s:o:"end"==e&&(e=f?o:s),f&&2==Hh()?e==o?c.scrollWidth-c.clientWidth-c.scrollLeft:c.scrollLeft:f&&1==Hh()?e==o?c.scrollLeft+c.scrollWidth-c.clientWidth:-c.scrollLeft:e==o?c.scrollLeft:c.scrollWidth-c.clientWidth-c.scrollLeft}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.SBq),a.Y36(Ev),a.Y36(a.R0b),a.Y36(si,8))},i.\u0275dir=a.lG2({type:i,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),i})(),pp=(()=>{class i{constructor(e,o,s){this._platform=e,this._change=new Vt.xQ,this._changeListener=c=>{this._change.next(c)},this._document=s,o.runOutsideAngular(()=>{if(e.isBrowser){const c=this._getWindow();c.addEventListener("resize",this._changeListener),c.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:o,height:s}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+s,right:e.left+o,height:s,width:o}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,o=this._getWindow(),s=e.documentElement,c=s.getBoundingClientRect();return{top:-c.top||e.body.scrollTop||o.scrollY||s.scrollTop||0,left:-c.left||e.body.scrollLeft||o.scrollX||s.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(jT(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(Nn),a.LFG(a.R0b),a.LFG(J,8))},i.\u0275prov=a.Yz7({factory:function(){return new i(a.LFG(Nn),a.LFG(a.R0b),a.LFG(J,8))},token:i,providedIn:"root"}),i})(),$0=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({}),i})(),sI=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[[as,dl,$0],as,$0]}),i})();function vN(i){return t=>t.lift(new V3(i))}class V3{constructor(t){this.value=t}call(t,e){return e.subscribe(new U3(t,this.value))}}class U3 extends Zn.L{constructor(t,e){super(t),this.value=e}_next(t){this.destination.next(this.value)}}const qT=["*"];function H3(i,t){if(1&i){const e=a.EpF();a.TgZ(0,"div",2),a.NdJ("click",function(){return a.CHM(e),a.oxw()._onBackdropClicked()}),a.qZA()}if(2&i){const e=a.oxw();a.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function G3(i,t){1&i&&(a.TgZ(0,"mat-drawer-content"),a.Hsn(1,2),a.qZA())}const j3=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],z3=["mat-drawer","mat-drawer-content","*"],_N={transformDrawer:Fs("transform",[Io("open, open-instant",Er({transform:"none",visibility:"visible"})),Io("void",Er({"box-shadow":"none",visibility:"hidden"})),ao("void => open-instant",so("0ms")),ao("void <=> open, open-instant => void",so("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},$3=new a.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}}),aI=new a.OlP("MAT_DRAWER_CONTAINER");let WT=(()=>{class i extends Tv{constructor(e,o,s,c,f){super(s,c,f),this._changeDetectorRef=e,this._container=o}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.sBO),a.Y36((0,a.Gpc)(()=>ZT)),a.Y36(a.SBq),a.Y36(Ev),a.Y36(a.R0b))},i.\u0275cmp=a.Xpm({type:i,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,o){2&e&&a.Udp("margin-left",o._container._contentMargins.left,"px")("margin-right",o._container._contentMargins.right,"px")},features:[a.qOj],ngContentSelectors:qT,decls:1,vars:0,template:function(e,o){1&e&&(a.F$t(),a.Hsn(0))},encapsulation:2,changeDetection:0}),i})(),YT=(()=>{class i{constructor(e,o,s,c,f,g,v){this._elementRef=e,this._focusTrapFactory=o,this._focusMonitor=s,this._platform=c,this._ngZone=f,this._doc=g,this._container=v,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Vt.xQ,this._animationEnd=new Vt.xQ,this._animationState="void",this.openedChange=new a.vpe(!0),this._openedStream=this.openedChange.pipe($n(S=>S),(0,sn.U)(()=>{})),this.openedStart=this._animationStarted.pipe($n(S=>S.fromState!==S.toState&&0===S.toState.indexOf("open")),vN(void 0)),this._closedStream=this.openedChange.pipe($n(S=>!S),(0,sn.U)(()=>{})),this.closedStart=this._animationStarted.pipe($n(S=>S.fromState!==S.toState&&"void"===S.toState),vN(void 0)),this._destroyed=new Vt.xQ,this.onPositionChanged=new a.vpe,this._modeChanged=new Vt.xQ,this.openedChange.subscribe(S=>{S?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus()}),this._ngZone.runOutsideAngular(()=>{on(this._elementRef.nativeElement,"keydown").pipe($n(S=>27===S.keyCode&&!this.disableClose&&!Is(S)),Ut(this._destroyed)).subscribe(S=>this._ngZone.run(()=>{this.close(),S.stopPropagation(),S.preventDefault()}))}),this._animationEnd.pipe(Bh((S,W)=>S.fromState===W.fromState&&S.toState===W.toState)).subscribe(S=>{const{fromState:W,toState:pe}=S;(0===pe.indexOf("open")&&"void"===W||"void"===pe&&0===W.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!=this._position&&(this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=bn(e)}get autoFocus(){const e=this._autoFocus;return null==e?"side"!==this.mode:e}set autoFocus(e){this._autoFocus=bn(e)}get opened(){return this._opened}set opened(e){this.toggle(bn(e))}_takeFocus(){!this.autoFocus||!this._focusTrap||this._focusTrap.focusInitialElementWhenReady().then(e=>{!e&&"function"==typeof this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()})}_restoreFocus(){!this.autoFocus||(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,this._openedVia):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null,this._openedVia=null)}_isFocusWithinDrawer(){var e;const o=null===(e=this._doc)||void 0===e?void 0:e.activeElement;return!!o&&this._elementRef.nativeElement.contains(o)}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0)}toggle(e=!this.opened,o){return this._setOpen(e,!e&&this._isFocusWithinDrawer(),o)}_setOpen(e,o,s="program"){return this._opened=e,e?(this._animationState=this._enableAnimations?"open":"open-instant",this._openedVia=s):(this._animationState="void",o&&this._restoreFocus()),this._updateFocusTrapState(),new Promise(c=>{this.openedChange.pipe(gi(1)).subscribe(f=>c(f?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_animationStartListener(e){this._animationStarted.next(e)}_animationDoneListener(e){this._animationEnd.next(e)}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.SBq),a.Y36(qC),a.Y36(ss),a.Y36(Nn),a.Y36(a.R0b),a.Y36(J,8),a.Y36(aI,8))},i.\u0275cmp=a.Xpm({type:i,selectors:[["mat-drawer"]],hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,o){1&e&&a.WFA("@transform.start",function(c){return o._animationStartListener(c)})("@transform.done",function(c){return o._animationDoneListener(c)}),2&e&&(a.uIk("align",null),a.d8E("@transform",o._animationState),a.ekj("mat-drawer-end","end"===o.position)("mat-drawer-over","over"===o.mode)("mat-drawer-push","push"===o.mode)("mat-drawer-side","side"===o.mode)("mat-drawer-opened",o.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:qT,decls:2,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(e,o){1&e&&(a.F$t(),a.TgZ(0,"div",0),a.Hsn(1),a.qZA())},directives:[Tv],encapsulation:2,data:{animation:[_N.transformDrawer]},changeDetection:0}),i})(),ZT=(()=>{class i{constructor(e,o,s,c,f,g=!1,v){this._dir=e,this._element=o,this._ngZone=s,this._changeDetectorRef=c,this._animationMode=v,this._drawers=new a.n_E,this.backdropClick=new a.vpe,this._destroyed=new Vt.xQ,this._doCheckSubject=new Vt.xQ,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Vt.xQ,e&&e.change.pipe(Ut(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),f.change().pipe(Ut(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=g}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=bn(e)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(e){this._backdropOverride=null==e?null:bn(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(mi(this._allDrawers),Ut(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(o=>!o._container||o._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(mi(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(ll(10),Ut(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,o=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const s=this._left._getWidth();e+=s,o-=s}if(this._right&&this._right.opened)if("side"==this._right.mode)o+=this._right._getWidth();else if("push"==this._right.mode){const s=this._right._getWidth();o+=s,e-=s}e=e||null,o=o||null,(e!==this._contentMargins.left||o!==this._contentMargins.right)&&(this._contentMargins={left:e,right:o},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe($n(o=>o.fromState!==o.toState),Ut(this._drawers.changes)).subscribe(o=>{"open-instant"!==o.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(Ut(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe(Ut(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(gi(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(Ut((0,ho.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const o=this._element.nativeElement.classList,s="mat-drawer-container-has-open";e?o.add(s):o.remove(s)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(si,8),a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(a.sBO),a.Y36(pp),a.Y36($3),a.Y36(co,8))},i.\u0275cmp=a.Xpm({type:i,selectors:[["mat-drawer-container"]],contentQueries:function(e,o,s){if(1&e&&(a.Suo(s,WT,5),a.Suo(s,YT,5)),2&e){let c;a.iGM(c=a.CRH())&&(o._content=c.first),a.iGM(c=a.CRH())&&(o._allDrawers=c)}},viewQuery:function(e,o){if(1&e&&a.Gf(WT,5),2&e){let s;a.iGM(s=a.CRH())&&(o._userContent=s.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,o){2&e&&a.ekj("mat-drawer-container-explicit-backdrop",o._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[a._Bn([{provide:aI,useExisting:i}])],ngContentSelectors:z3,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,o){1&e&&(a.F$t(j3),a.YNc(0,H3,1,2,"div",0),a.Hsn(1),a.Hsn(2,1),a.YNc(3,G3,2,0,"mat-drawer-content",1)),2&e&&(a.Q6J("ngIf",o.hasBackdrop),a.xp6(3),a.Q6J("ngIf",!o._content))},directives:[ar,WT],styles:[".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n"],encapsulation:2,changeDetection:0}),i})(),X3=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[[ea,Fn,dl,$0],$0,Fn]}),i})();const eH=["*",[["mat-toolbar-row"]]],tH=["*","mat-toolbar-row"],nH=Vs(class{constructor(i){this._elementRef=i}});let wN=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=a.lG2({type:i,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),i})(),rH=(()=>{class i extends nH{constructor(e,o,s){super(e),this._platform=o,this._document=s}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.SBq),a.Y36(Nn),a.Y36(J))},i.\u0275cmp=a.Xpm({type:i,selectors:[["mat-toolbar"]],contentQueries:function(e,o,s){if(1&e&&a.Suo(s,wN,5),2&e){let c;a.iGM(c=a.CRH())&&(o._toolbarRows=c)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,o){2&e&&a.ekj("mat-toolbar-multiple-rows",o._toolbarRows.length>0)("mat-toolbar-single-row",0===o._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[a.qOj],ngContentSelectors:tH,decls:2,vars:0,template:function(e,o){1&e&&(a.F$t(eH),a.Hsn(0),a.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),i})(),iH=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[[Fn],Fn]}),i})();var oH=y(205),sH=y(8819);class CN{}class SN{}class Yl{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const o=e.indexOf(":");if(o>0){const s=e.slice(0,o),c=s.toLowerCase(),f=e.slice(o+1).trim();this.maybeSetNormalizedName(s,c),this.headers.has(c)?this.headers.get(c).push(f):this.headers.set(c,[f])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let o=t[e];const s=e.toLowerCase();"string"==typeof o&&(o=[o]),o.length>0&&(this.headers.set(s,o),this.maybeSetNormalizedName(e,s))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Yl?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Yl;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Yl?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let o=t.value;if("string"==typeof o&&(o=[o]),0===o.length)return;this.maybeSetNormalizedName(t.name,e);const s=("a"===t.op?this.headers.get(e):void 0)||[];s.push(...o),this.headers.set(e,s);break;case"d":const c=t.value;if(c){let f=this.headers.get(e);if(!f)return;f=f.filter(g=>-1===c.indexOf(g)),0===f.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,f)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class aH{encodeKey(t){return AN(t)}encodeValue(t){return AN(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function AN(i){return encodeURIComponent(i).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function EN(i){return`${i}`}class Gd{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new aH,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(i,t){const e=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(s=>{const c=s.indexOf("="),[f,g]=-1==c?[t.decodeKey(s),""]:[t.decodeKey(s.slice(0,c)),t.decodeValue(s.slice(c+1))],v=e.get(f)||[];v.push(g),e.set(f,v)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const o=t.fromObject[e];this.map.set(e,Array.isArray(o)?o:[o])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(o=>{const s=t[o];Array.isArray(s)?s.forEach(c=>{e.push({param:o,value:c,op:"a"})}):e.push({param:o,value:s,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(o=>e+"="+this.encoder.encodeValue(o)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Gd({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(EN(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let o=this.map.get(t.param)||[];const s=o.indexOf(EN(t.value));-1!==s&&o.splice(s,1),o.length>0?this.map.set(t.param,o):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class lH{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function TN(i){return"undefined"!=typeof ArrayBuffer&&i instanceof ArrayBuffer}function DN(i){return"undefined"!=typeof Blob&&i instanceof Blob}function MN(i){return"undefined"!=typeof FormData&&i instanceof FormData}class Q0{constructor(t,e,o,s){let c;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==o?o:null,c=s):c=o,c&&(this.reportProgress=!!c.reportProgress,this.withCredentials=!!c.withCredentials,c.responseType&&(this.responseType=c.responseType),c.headers&&(this.headers=c.headers),c.context&&(this.context=c.context),c.params&&(this.params=c.params)),this.headers||(this.headers=new Yl),this.context||(this.context=new lH),this.params){const f=this.params.toString();if(0===f.length)this.urlWithParams=e;else{const g=e.indexOf("?");this.urlWithParams=e+(-1===g?"?":g<e.length-1?"&":"")+f}}else this.params=new Gd,this.urlWithParams=e}serializeBody(){return null===this.body?null:TN(this.body)||DN(this.body)||MN(this.body)||function(i){return"undefined"!=typeof URLSearchParams&&i instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Gd?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||MN(this.body)?null:DN(this.body)?this.body.type||null:TN(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Gd?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const o=t.method||this.method,s=t.url||this.url,c=t.responseType||this.responseType,f=void 0!==t.body?t.body:this.body,g=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,v=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let S=t.headers||this.headers,W=t.params||this.params;const pe=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(S=Object.keys(t.setHeaders).reduce((we,Te)=>we.set(Te,t.setHeaders[Te]),S)),t.setParams&&(W=Object.keys(t.setParams).reduce((we,Te)=>we.set(Te,t.setParams[Te]),W)),new Q0(o,s,f,{params:W,headers:S,context:pe,reportProgress:v,responseType:c,withCredentials:g})}}var Kr=(()=>((Kr=Kr||{})[Kr.Sent=0]="Sent",Kr[Kr.UploadProgress=1]="UploadProgress",Kr[Kr.ResponseHeader=2]="ResponseHeader",Kr[Kr.DownloadProgress=3]="DownloadProgress",Kr[Kr.Response=4]="Response",Kr[Kr.User=5]="User",Kr))();class uI{constructor(t,e=200,o="OK"){this.headers=t.headers||new Yl,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||o,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class lI extends uI{constructor(t={}){super(t),this.type=Kr.ResponseHeader}clone(t={}){return new lI({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class $T extends uI{constructor(t={}){super(t),this.type=Kr.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new $T({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class kN extends uI{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function cI(i,t){return{body:t,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials}}let QT=(()=>{class i{constructor(e){this.handler=e}request(e,o,s={}){let c;if(e instanceof Q0)c=e;else{let v,S;v=s.headers instanceof Yl?s.headers:new Yl(s.headers),s.params&&(S=s.params instanceof Gd?s.params:new Gd({fromObject:s.params})),c=new Q0(e,o,void 0!==s.body?s.body:null,{headers:v,context:s.context,params:S,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const f=(0,Lt.of)(c).pipe(dh(v=>this.handler.handle(v)));if(e instanceof Q0||"events"===s.observe)return f;const g=f.pipe($n(v=>v instanceof $T));switch(s.observe||"body"){case"body":switch(c.responseType){case"arraybuffer":return g.pipe((0,sn.U)(v=>{if(null!==v.body&&!(v.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return v.body}));case"blob":return g.pipe((0,sn.U)(v=>{if(null!==v.body&&!(v.body instanceof Blob))throw new Error("Response is not a Blob.");return v.body}));case"text":return g.pipe((0,sn.U)(v=>{if(null!==v.body&&"string"!=typeof v.body)throw new Error("Response is not a string.");return v.body}));case"json":default:return g.pipe((0,sn.U)(v=>v.body))}case"response":return g;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(e,o={}){return this.request("DELETE",e,o)}get(e,o={}){return this.request("GET",e,o)}head(e,o={}){return this.request("HEAD",e,o)}jsonp(e,o){return this.request("JSONP",e,{params:(new Gd).append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,o={}){return this.request("OPTIONS",e,o)}patch(e,o,s={}){return this.request("PATCH",e,cI(s,o))}post(e,o,s={}){return this.request("POST",e,cI(s,o))}put(e,o,s={}){return this.request("PUT",e,cI(s,o))}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(CN))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})();class RN{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const xN=new a.OlP("HTTP_INTERCEPTORS");let hH=(()=>{class i{intercept(e,o){return o.handle(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})();const fH=/^\)\]\}',?\n/;let IN=(()=>{class i{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Yn.y(o=>{const s=this.xhrFactory.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((Te,Pe)=>s.setRequestHeader(Te,Pe.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const Te=e.detectContentTypeHeader();null!==Te&&s.setRequestHeader("Content-Type",Te)}if(e.responseType){const Te=e.responseType.toLowerCase();s.responseType="json"!==Te?Te:"text"}const c=e.serializeBody();let f=null;const g=()=>{if(null!==f)return f;const Te=1223===s.status?204:s.status,Pe=s.statusText||"OK",Ue=new Yl(s.getAllResponseHeaders()),rt=function(i){return"responseURL"in i&&i.responseURL?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):null}(s)||e.url;return f=new lI({headers:Ue,status:Te,statusText:Pe,url:rt}),f},v=()=>{let{headers:Te,status:Pe,statusText:Ue,url:rt}=g(),vt=null;204!==Pe&&(vt=void 0===s.response?s.responseText:s.response),0===Pe&&(Pe=vt?200:0);let At=Pe>=200&&Pe<300;if("json"===e.responseType&&"string"==typeof vt){const Rt=vt;vt=vt.replace(fH,"");try{vt=""!==vt?JSON.parse(vt):null}catch(Ht){vt=Rt,At&&(At=!1,vt={error:Ht,text:vt})}}At?(o.next(new $T({body:vt,headers:Te,status:Pe,statusText:Ue,url:rt||void 0})),o.complete()):o.error(new kN({error:vt,headers:Te,status:Pe,statusText:Ue,url:rt||void 0}))},S=Te=>{const{url:Pe}=g(),Ue=new kN({error:Te,status:s.status||0,statusText:s.statusText||"Unknown Error",url:Pe||void 0});o.error(Ue)};let W=!1;const pe=Te=>{W||(o.next(g()),W=!0);let Pe={type:Kr.DownloadProgress,loaded:Te.loaded};Te.lengthComputable&&(Pe.total=Te.total),"text"===e.responseType&&!!s.responseText&&(Pe.partialText=s.responseText),o.next(Pe)},we=Te=>{let Pe={type:Kr.UploadProgress,loaded:Te.loaded};Te.lengthComputable&&(Pe.total=Te.total),o.next(Pe)};return s.addEventListener("load",v),s.addEventListener("error",S),s.addEventListener("timeout",S),s.addEventListener("abort",S),e.reportProgress&&(s.addEventListener("progress",pe),null!==c&&s.upload&&s.upload.addEventListener("progress",we)),s.send(c),o.next({type:Kr.Sent}),()=>{s.removeEventListener("error",S),s.removeEventListener("abort",S),s.removeEventListener("load",v),s.removeEventListener("timeout",S),e.reportProgress&&(s.removeEventListener("progress",pe),null!==c&&s.upload&&s.upload.removeEventListener("progress",we)),s.readyState!==s.DONE&&s.abort()}})}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(Xl))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})();const dI=new a.OlP("XSRF_COOKIE_NAME"),hI=new a.OlP("XSRF_HEADER_NAME");class PN{}let gH=(()=>{class i{constructor(e,o,s){this.doc=e,this.platform=o,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=mr(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(J),a.LFG(a.Lbi),a.LFG(dI))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})(),fI=(()=>{class i{constructor(e,o){this.tokenService=e,this.headerName=o}intercept(e,o){const s=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||s.startsWith("http://")||s.startsWith("https://"))return o.handle(e);const c=this.tokenService.getToken();return null!==c&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,c)})),o.handle(e)}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(PN),a.LFG(hI))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})(),mH=(()=>{class i{constructor(e,o){this.backend=e,this.injector=o,this.chain=null}handle(e){if(null===this.chain){const o=this.injector.get(xN,[]);this.chain=o.reduceRight((s,c)=>new RN(s,c),this.backend)}return this.chain.handle(e)}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(SN),a.LFG(a.zs3))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})(),vH=(()=>{class i{static disable(){return{ngModule:i,providers:[{provide:fI,useClass:hH}]}}static withOptions(e={}){return{ngModule:i,providers:[e.cookieName?{provide:dI,useValue:e.cookieName}:[],e.headerName?{provide:hI,useValue:e.headerName}:[]]}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({providers:[fI,{provide:xN,useExisting:fI,multi:!0},{provide:PN,useClass:gH},{provide:dI,useValue:"XSRF-TOKEN"},{provide:hI,useValue:"X-XSRF-TOKEN"}]}),i})(),yH=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({providers:[QT,{provide:CN,useClass:mH},IN,{provide:SN,useExisting:IN}],imports:[[vH.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),i})();const _H=["*"];function ON(i){return Error(`Unable to find icon with the name "${i}"`)}function FN(i){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${i}".`)}function LN(i){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${i}".`)}class gp{constructor(t,e,o){this.url=t,this.svgText=e,this.options=o}}let KT=(()=>{class i{constructor(e,o,s,c){this._httpClient=e,this._sanitizer=o,this._errorHandler=c,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=s}addSvgIcon(e,o,s){return this.addSvgIconInNamespace("",e,o,s)}addSvgIconLiteral(e,o,s){return this.addSvgIconLiteralInNamespace("",e,o,s)}addSvgIconInNamespace(e,o,s,c){return this._addSvgIconConfig(e,o,new gp(s,null,c))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,o,s,c){const f=this._sanitizer.sanitize(a.q3G.HTML,s);if(!f)throw LN(s);return this._addSvgIconConfig(e,o,new gp("",f,c))}addSvgIconSet(e,o){return this.addSvgIconSetInNamespace("",e,o)}addSvgIconSetLiteral(e,o){return this.addSvgIconSetLiteralInNamespace("",e,o)}addSvgIconSetInNamespace(e,o,s){return this._addSvgIconSetConfig(e,new gp(o,null,s))}addSvgIconSetLiteralInNamespace(e,o,s){const c=this._sanitizer.sanitize(a.q3G.HTML,o);if(!c)throw LN(o);return this._addSvgIconSetConfig(e,new gp("",c,s))}registerFontClassAlias(e,o=e){return this._fontCssClassesByAlias.set(e,o),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const o=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,e);if(!o)throw FN(e);const s=this._cachedIconsByUrl.get(o);return s?(0,Lt.of)(JT(s)):this._loadSvgIconFromConfig(new gp(e,null)).pipe((0,Or.b)(c=>this._cachedIconsByUrl.set(o,c)),(0,sn.U)(c=>JT(c)))}getNamedSvgIcon(e,o=""){const s=NN(o,e);let c=this._svgIconConfigs.get(s);if(c)return this._getSvgFromConfig(c);if(c=this._getIconConfigFromResolvers(o,e),c)return this._svgIconConfigs.set(s,c),this._getSvgFromConfig(c);const f=this._iconSetConfigs.get(o);return f?this._getSvgFromIconSetConfigs(e,f):(0,oH._)(ON(s))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?(0,Lt.of)(JT(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,sn.U)(o=>JT(o)))}_getSvgFromIconSetConfigs(e,o){const s=this._extractIconWithNameFromAnySet(e,o);return s?(0,Lt.of)(s):fL(o.filter(f=>!f.svgText).map(f=>this._loadSvgIconSetFromConfig(f).pipe(Yu(g=>{const S=`Loading icon set URL: ${this._sanitizer.sanitize(a.q3G.RESOURCE_URL,f.url)} failed: ${g.message}`;return this._errorHandler.handleError(new Error(S)),(0,Lt.of)(null)})))).pipe((0,sn.U)(()=>{const f=this._extractIconWithNameFromAnySet(e,o);if(!f)throw ON(e);return f}))}_extractIconWithNameFromAnySet(e,o){for(let s=o.length-1;s>=0;s--){const c=o[s];if(c.svgText&&c.svgText.indexOf(e)>-1){const f=this._svgElementFromConfig(c),g=this._extractSvgIconFromSet(f,e,c.options);if(g)return g}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,Or.b)(o=>e.svgText=o),(0,sn.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?(0,Lt.of)(null):this._fetchIcon(e).pipe((0,Or.b)(o=>e.svgText=o))}_extractSvgIconFromSet(e,o,s){const c=e.querySelector(`[id="${o}"]`);if(!c)return null;const f=c.cloneNode(!0);if(f.removeAttribute("id"),"svg"===f.nodeName.toLowerCase())return this._setSvgAttributes(f,s);if("symbol"===f.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(f),s);const g=this._svgElementFromString("<svg></svg>");return g.appendChild(f),this._setSvgAttributes(g,s)}_svgElementFromString(e){const o=this._document.createElement("DIV");o.innerHTML=e;const s=o.querySelector("svg");if(!s)throw Error("<svg> tag not found");return s}_toSvgElement(e){const o=this._svgElementFromString("<svg></svg>"),s=e.attributes;for(let c=0;c<s.length;c++){const{name:f,value:g}=s[c];"id"!==f&&o.setAttribute(f,g)}for(let c=0;c<e.childNodes.length;c++)e.childNodes[c].nodeType===this._document.ELEMENT_NODE&&o.appendChild(e.childNodes[c].cloneNode(!0));return o}_setSvgAttributes(e,o){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),o&&o.viewBox&&e.setAttribute("viewBox",o.viewBox),e}_fetchIcon(e){var o;const{url:s,options:c}=e,f=null!==(o=null==c?void 0:c.withCredentials)&&void 0!==o&&o;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==s)throw Error(`Cannot fetch icon from URL "${s}".`);const g=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,s);if(!g)throw FN(s);const v=this._inProgressUrlFetches.get(g);if(v)return v;const S=this._httpClient.get(g,{responseType:"text",withCredentials:f}).pipe(Xv(()=>this._inProgressUrlFetches.delete(g)),(0,sH.B)());return this._inProgressUrlFetches.set(g,S),S}_addSvgIconConfig(e,o,s){return this._svgIconConfigs.set(NN(e,o),s),this}_addSvgIconSetConfig(e,o){const s=this._iconSetConfigs.get(e);return s?s.push(o):this._iconSetConfigs.set(e,[o]),this}_svgElementFromConfig(e){if(!e.svgElement){const o=this._svgElementFromString(e.svgText);this._setSvgAttributes(o,e.options),e.svgElement=o}return e.svgElement}_getIconConfigFromResolvers(e,o){for(let s=0;s<this._resolvers.length;s++){const c=this._resolvers[s](o,e);if(c)return CH(c)?new gp(c.url,null,c.options):new gp(c,null)}}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(QT,8),a.LFG(Ka),a.LFG(J,8),a.LFG(a.qLn))},i.\u0275prov=a.Yz7({factory:function(){return new i(a.LFG(QT,8),a.LFG(Ka),a.LFG(J,8),a.LFG(a.qLn))},token:i,providedIn:"root"}),i})();function JT(i){return i.cloneNode(!0)}function NN(i,t){return i+":"+t}function CH(i){return!(!i.url||!i.options)}const SH=Vs(class{constructor(i){this._elementRef=i}}),AH=new a.OlP("mat-icon-location",{providedIn:"root",factory:function(){const i=(0,a.f3M)(J),t=i?i.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),BN=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],DH=BN.map(i=>`[${i}]`).join(", "),MH=/^url\(['"]?#(.*?)['"]?\)$/;let XT=(()=>{class i extends SH{constructor(e,o,s,c,f){super(e),this._iconRegistry=o,this._location=c,this._errorHandler=f,this._inline=!1,this._currentIconFetch=Vi.w.EMPTY,s||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=bn(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const o=this._cleanupFontValue(e);o!==this._fontSet&&(this._fontSet=o,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const o=this._cleanupFontValue(e);o!==this._fontIcon&&(this._fontIcon=o,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const o=e.split(":");switch(o.length){case 1:return["",o[0]];case 2:return o;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const o=this._location.getPathname();o!==this._previousPath&&(this._previousPath=o,this._prependPathToReferences(o))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const o=e.querySelectorAll("style");for(let c=0;c<o.length;c++)o[c].textContent+=" ";const s=this._location.getPathname();this._previousPath=s,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(s),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let o=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();o--;){const s=e.childNodes[o];(1!==s.nodeType||"svg"===s.nodeName.toLowerCase())&&e.removeChild(s)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,o=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();o!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),o&&e.classList.add(o),this._previousFontSetClass=o),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const o=this._elementsWithExternalReferences;o&&o.forEach((s,c)=>{s.forEach(f=>{c.setAttribute(f.name,`url('${e}#${f.value}')`)})})}_cacheChildrenWithExternalReferences(e){const o=e.querySelectorAll(DH),s=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let c=0;c<o.length;c++)BN.forEach(f=>{const g=o[c],v=g.getAttribute(f),S=v?v.match(MH):null;if(S){let W=s.get(g);W||(W=[],s.set(g,W)),W.push({name:f,value:S[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[o,s]=this._splitIconName(e);o&&(this._svgNamespace=o),s&&(this._svgName=s),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(s,o).pipe(gi(1)).subscribe(c=>this._setSvgElement(c),c=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${o}:${s}! ${c.message}`))})}}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.SBq),a.Y36(KT),a.$8M("aria-hidden"),a.Y36(AH),a.Y36(a.qLn))},i.\u0275cmp=a.Xpm({type:i,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,o){2&e&&(a.uIk("data-mat-icon-type",o._usingFontIcon()?"font":"svg")("data-mat-icon-name",o._svgName||o.fontIcon)("data-mat-icon-namespace",o._svgNamespace||o.fontSet),a.ekj("mat-icon-inline",o.inline)("mat-icon-no-color","primary"!==o.color&&"accent"!==o.color&&"warn"!==o.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[a.qOj],ngContentSelectors:_H,decls:1,vars:0,template:function(e,o){1&e&&(a.F$t(),a.Hsn(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),i})(),kH=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[[Fn],Fn]}),i})();const RH=["pdfViewerContainer"];function VN(i,t){const e=new i.EventBus;return function(i,t){on(i,"documentload").pipe(Ut(t)).subscribe(()=>{const e=document.createEvent("CustomEvent");e.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(e)}),on(i,"pagerendered").pipe(Ut(t)).subscribe(({pageNumber:e,cssTransform:o,source:s})=>{const c=document.createEvent("CustomEvent");c.initCustomEvent("pagerendered",!0,!0,{pageNumber:e,cssTransform:o}),s.div.dispatchEvent(c)}),on(i,"textlayerrendered").pipe(Ut(t)).subscribe(({pageNumber:e,source:o})=>{const s=document.createEvent("CustomEvent");s.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:e}),o.textLayerDiv.dispatchEvent(s)}),on(i,"pagechanging").pipe(Ut(t)).subscribe(({pageNumber:e,source:o})=>{const s=document.createEvent("UIEvents");s.initEvent("pagechanging",!0,!0),s.pageNumber=e,o.container.dispatchEvent(s)}),on(i,"pagesinit").pipe(Ut(t)).subscribe(({source:e})=>{const o=document.createEvent("CustomEvent");o.initCustomEvent("pagesinit",!0,!0,null),e.container.dispatchEvent(o)}),on(i,"pagesloaded").pipe(Ut(t)).subscribe(({pagesCount:e,source:o})=>{const s=document.createEvent("CustomEvent");s.initCustomEvent("pagesloaded",!0,!0,{pagesCount:e}),o.container.dispatchEvent(s)}),on(i,"scalechange").pipe(Ut(t)).subscribe(({scale:e,presetValue:o,source:s})=>{const c=document.createEvent("UIEvents");c.initEvent("scalechange",!0,!0),c.scale=e,c.presetValue=o,s.container.dispatchEvent(c)}),on(i,"updateviewarea").pipe(Ut(t)).subscribe(({location:e,source:o})=>{const s=document.createEvent("UIEvents");s.initEvent("updateviewarea",!0,!0),s.location=e,o.container.dispatchEvent(s)}),on(i,"find").pipe(Ut(t)).subscribe(({source:e,type:o,query:s,phraseSearch:c,caseSensitive:f,highlightAll:g,findPrevious:v})=>{if(e===window)return;const S=document.createEvent("CustomEvent");S.initCustomEvent("find"+o,!0,!0,{query:s,phraseSearch:c,caseSensitive:f,highlightAll:g,findPrevious:v}),window.dispatchEvent(S)}),on(i,"attachmentsloaded").pipe(Ut(t)).subscribe(({attachmentsCount:e,source:o})=>{const s=document.createEvent("CustomEvent");s.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:e}),o.container.dispatchEvent(s)}),on(i,"sidebarviewchanged").pipe(Ut(t)).subscribe(({view:e,source:o})=>{const s=document.createEvent("CustomEvent");s.initCustomEvent("sidebarviewchanged",!0,!0,{view:e}),o.outerContainer.dispatchEvent(s)}),on(i,"pagemode").pipe(Ut(t)).subscribe(({mode:e,source:o})=>{const s=document.createEvent("CustomEvent");s.initCustomEvent("pagemode",!0,!0,{mode:e}),o.pdfViewer.container.dispatchEvent(s)}),on(i,"namedaction").pipe(Ut(t)).subscribe(({action:e,source:o})=>{const s=document.createEvent("CustomEvent");s.initCustomEvent("namedaction",!0,!0,{action:e}),o.pdfViewer.container.dispatchEvent(s)}),on(i,"presentationmodechanged").pipe(Ut(t)).subscribe(({active:e,switchInProgress:o})=>{const s=document.createEvent("CustomEvent");s.initCustomEvent("presentationmodechanged",!0,!0,{active:e,switchInProgress:o}),window.dispatchEvent(s)}),on(i,"outlineloaded").pipe(Ut(t)).subscribe(({outlineCount:e,source:o})=>{const s=document.createEvent("CustomEvent");s.initCustomEvent("outlineloaded",!0,!0,{outlineCount:e}),o.container.dispatchEvent(s)})}(e,t),e}function eD(i,t,e){i[t]=e}function K0(){return"undefined"==typeof window}K0()||eD(tr,"verbosity",tr.VerbosityLevel.ERRORS);var mp=(()=>(function(i){i[i.DISABLED=0]="DISABLED",i[i.ENABLED=1]="ENABLED",i[i.ENHANCED=2]="ENHANCED"}(mp||(mp={})),mp))();let IH=(()=>{class i{constructor(e,o){if(this.element=e,this.ngZone=o,this.isVisible=!1,this._cMapsUrl=void 0!==tr?`https://unpkg.com/pdfjs-dist@${tr.version}/cmaps/`:null,this._renderText=!0,this._renderTextMode=mp.ENABLED,this._stickToPage=!1,this._originalSize=!0,this._page=1,this._zoom=1,this._zoomScale="page-width",this._rotation=0,this._showAll=!0,this._canAutoResize=!0,this._fitToPage=!1,this._externalLinkTarget="blank",this._showBorders=!1,this.resizeTimeout=null,this.pageScrollTimeout=null,this.isInitialized=!1,this.destroy$=new Vt.xQ,this.afterLoadComplete=new a.vpe,this.pageRendered=new a.vpe,this.pageInitialized=new a.vpe,this.textLayerRendered=new a.vpe,this.onError=new a.vpe,this.onProgress=new a.vpe,this.pageChange=new a.vpe(!0),K0())return;let s;s=window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${tr.version}/es5/build/pdf.worker.js`,eD(tr.GlobalWorkerOptions,"workerSrc",s)}set cMapsUrl(e){this._cMapsUrl=e}set page(e){const o=e=parseInt(e,10)||1;this._pdf&&(e=this.getValidPageNumber(e)),this._page=e,o!==e&&this.pageChange.emit(e)}set renderText(e){this._renderText=e}set renderTextMode(e){this._renderTextMode=e}set originalSize(e){this._originalSize=e}set showAll(e){this._showAll=e}set stickToPage(e){this._stickToPage=e}set zoom(e){e<=0||(this._zoom=e)}get zoom(){return this._zoom}set zoomScale(e){this._zoomScale=e}get zoomScale(){return this._zoomScale}set rotation(e){"number"==typeof e&&e%90==0?this._rotation=e:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(e){this._externalLinkTarget=e}set autoresize(e){this._canAutoResize=Boolean(e)}set fitToPage(e){this._fitToPage=Boolean(e)}set showBorders(e){this._showBorders=Boolean(e)}static getLinkTarget(e){switch(e){case"blank":return tr.LinkTarget.BLANK;case"none":return tr.LinkTarget.NONE;case"self":return tr.LinkTarget.SELF;case"parent":return tr.LinkTarget.PARENT;case"top":return tr.LinkTarget.TOP}return null}ngAfterViewChecked(){if(this.isInitialized)return;const e=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=e?!1===this.isVisible&&null!=e&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}get pdfLinkService(){return this._showAll?this.pdfMultiPageLinkService:this.pdfSinglePageLinkService}get pdfViewer(){return this.getCurrentViewer()}get pdfFindController(){return this._showAll?this.pdfMultiPageFindController:this.pdfSinglePageFindController}ngOnChanges(e){if(!K0()&&this.isVisible)if("src"in e)this.loadPDF();else if(this._pdf){if("renderText"in e?(this.getCurrentViewer().textLayerMode=this._renderText?this._renderTextMode:mp.DISABLED,this.resetPdfDocument()):"showAll"in e&&this.resetPdfDocument(),"page"in e){const{page:o}=e;if(o.currentValue===this._latestScrolledPage)return;this.getCurrentViewer().scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){const e=this.getCurrentViewer();(0,Xt.D)(this._pdf.getPage(e.currentPageNumber)).pipe(Ut(this.destroy$)).subscribe({next:o=>{const s=this._rotation||o.rotate,c=o.getViewport({scale:this._zoom,rotation:s}).width*i.CSS_UNITS;let f=this._zoom,g=!0;if(!this._originalSize||this._fitToPage&&c>this.pdfViewerContainer.nativeElement.clientWidth){const v=o.getViewport({scale:1,rotation:s});f=this.getScale(v.width,v.height),g=!this._stickToPage}e._setScale(f,g)}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._pdf.destroy(),this._pdf=null,this.pdfMultiPageViewer.setDocument(null),this.pdfSinglePageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null,null),this.pdfSinglePageLinkService.setDocument(null,null),this.pdfMultiPageFindController.setDocument(null),this.pdfSinglePageFindController.setDocument(null))}getPDFLinkServiceConfig(){const e={},o=i.getLinkTarget(this._externalLinkTarget);return o&&(e.externalLinkTarget=o),e}setupMultiPageViewer(){eD(tr,"disableTextLayer",!this._renderText);const e=VN(zi,this.destroy$);on(e,"pagerendered").pipe(Ut(this.destroy$)).subscribe(s=>{this.pageRendered.emit(s)}),on(e,"pagesinit").pipe(Ut(this.destroy$)).subscribe(s=>{this.pageInitialized.emit(s)}),on(e,"pagechanging").pipe(Ut(this.destroy$)).subscribe(({pageNumber:s})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=s,this.pageChange.emit(s)},100)}),on(e,"textlayerrendered").pipe(Ut(this.destroy$)).subscribe(s=>{this.textLayerRendered.emit(s)}),this.pdfMultiPageLinkService=new zi.PDFLinkService(Object.assign({eventBus:e},this.getPDFLinkServiceConfig())),this.pdfMultiPageFindController=new zi.PDFFindController({linkService:this.pdfMultiPageLinkService,eventBus:e});const o={eventBus:e,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfMultiPageLinkService,textLayerMode:this._renderText?this._renderTextMode:mp.DISABLED,findController:this.pdfMultiPageFindController};this.pdfMultiPageViewer=new zi.PDFViewer(o),this.pdfMultiPageLinkService.setViewer(this.pdfMultiPageViewer),this.pdfMultiPageFindController.setDocument(this._pdf)}setupSinglePageViewer(){eD(tr,"disableTextLayer",!this._renderText);const e=VN(zi,this.destroy$);on(e,"pagechanging").pipe(Ut(this.destroy$)).subscribe(({pageNumber:s})=>{s!==this._page&&(this.page=s)}),on(e,"pagerendered").pipe(Ut(this.destroy$)).subscribe(s=>{this.pageRendered.emit(s)}),on(e,"pagesinit").pipe(Ut(this.destroy$)).subscribe(s=>{this.pageInitialized.emit(s)}),on(e,"textlayerrendered").pipe(Ut(this.destroy$)).subscribe(s=>{this.textLayerRendered.emit(s)}),this.pdfSinglePageLinkService=new zi.PDFLinkService(Object.assign({eventBus:e},this.getPDFLinkServiceConfig())),this.pdfSinglePageFindController=new zi.PDFFindController({linkService:this.pdfSinglePageLinkService,eventBus:e});const o={eventBus:e,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfSinglePageLinkService,textLayerMode:this._renderText?this._renderTextMode:mp.DISABLED,findController:this.pdfSinglePageFindController};this.pdfSinglePageViewer=new zi.PDFSinglePageViewer(o),this.pdfSinglePageLinkService.setViewer(this.pdfSinglePageViewer),this.pdfSinglePageFindController.setDocument(this._pdf),this.pdfSinglePageViewer._currentPageNumber=this._page}getValidPageNumber(e){return e<1?1:e>this._pdf.numPages?this._pdf.numPages:e}getDocumentParams(){const e=typeof this.src;if(!this._cMapsUrl)return this.src;const o={cMapUrl:this._cMapsUrl,cMapPacked:!0};return"string"===e?o.url=this.src:"object"===e&&(void 0!==this.src.byteLength?o.data=this.src:Object.assign(o,this.src)),o}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.loadingTask=tr.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=o=>{this.onProgress.emit(o)};const e=this.src;(0,Xt.D)(this.loadingTask.promise).pipe(Ut(this.destroy$)).subscribe({next:o=>{this._pdf=o,this.lastLoaded=e,this.afterLoadComplete.emit(o),this.pdfMultiPageViewer||(this.setupMultiPageViewer(),this.setupSinglePageViewer()),this.resetPdfDocument(),this.update()},error:o=>{this.onError.emit(o)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page);const e=this.getCurrentViewer();(0!==this._rotation||e.pagesRotation!==this._rotation)&&setTimeout(()=>{e.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{e.currentPageNumber=this._page}),this.updateSize()}getScale(e,o){const s=this._showBorders?2*i.BORDER_WIDTH:0,c=this.pdfViewerContainer.nativeElement.clientWidth-s,f=this.pdfViewerContainer.nativeElement.clientHeight-s;if(0===f||0===o||0===c||0===e)return 1;let g=1;switch(this._zoomScale){case"page-fit":g=Math.min(f/o,c/e);break;case"page-height":g=f/o;break;case"page-width":default:g=c/e}return this._zoom*g/i.CSS_UNITS}getCurrentViewer(){return this._showAll?this.pdfMultiPageViewer:this.pdfSinglePageViewer}resetPdfDocument(){this.pdfFindController.setDocument(this._pdf),this._showAll?(this.pdfSinglePageViewer.setDocument(null),this.pdfSinglePageLinkService.setDocument(null),this.pdfMultiPageViewer.setDocument(this._pdf),this.pdfMultiPageLinkService.setDocument(this._pdf,null)):(this.pdfMultiPageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null),this.pdfSinglePageViewer.setDocument(this._pdf),this.pdfSinglePageLinkService.setDocument(this._pdf,null))}initialize(){K0()||!this.isVisible||(this.isInitialized=!0,this.setupMultiPageViewer(),this.setupSinglePageViewer())}setupResizeListener(){K0()||this.ngZone.runOutsideAngular(()=>{on(window,"resize").pipe(ll(100),$n(()=>this._canAutoResize&&!!this._pdf),Ut(this.destroy$)).subscribe(()=>{this.updateSize()})})}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.SBq),a.Y36(a.R0b))},i.\u0275cmp=a.Xpm({type:i,selectors:[["pdf-viewer"]],viewQuery:function(e,o){if(1&e&&a.Gf(RH,5),2&e){let s;a.iGM(s=a.CRH())&&(o.pdfViewerContainer=s.first)}},inputs:{cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"],src:"src"},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[a.TTD],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(e,o){1&e&&(a.TgZ(0,"div",0,1),a._UZ(2,"div",2),a.qZA())},styles:['.ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]     .textLayer{position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1}[_nghost-%COMP%]     .textLayer>span{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0 0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::-moz-selection{background:#00f}[_nghost-%COMP%]     .textLayer ::selection{background:#00f}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a, [_nghost-%COMP%]     .annotationLayer .linkAnnotation>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover, [_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover{opacity:.2;background:#ff0;box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{background-color:rgba(0,54,255,.13);border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover{border:1px solid #000}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:"";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:115%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;width:20em}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #888;border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;white-space:normal;word-wrap:break-word}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:9px}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popup span{display:inline-block;margin-left:5px}[_nghost-%COMP%]     .annotationLayer .popup p{border-top:1px solid #333;margin-top:2px;padding-top:2px}[_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation{cursor:pointer}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:1px auto -8px;position:relative;overflow:visible;border:9px solid transparent;background-clip:content-box;-o-border-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAQAAADYWf5HAAAA6UlEQVR4Xl2Pi2rEMAwE16fm1f7/r14v7w4rI0IzLAF7hLxNevBSEMEF5+OilNCsRd8ZMyn+a4NmsOT8WJw1lFbSYgGFzF2bLFoLjTClWjKKGRWpDYAGXUnZ4uhbBUzF3Oe/GG/ue2fn4GgsyXhNgysV2JnrhKEMg4fEZcALmiKbNhBBRFpSyDOj1G4QOVly6O1FV54ZZq8OVygrciDt6JazRgi1ljTPH0gbrPmHPXAbCiDd4GawIjip1TPh9tt2sz24qaCjr/jAb/GBFTbq9KZ7Ke/Cqt8nayUikZKsWZK7Fe6bg5dOUt8fZHWG2BHc+6EAAAAASUVORK5CYII=") 9 9 repeat;border-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAQAAADYWf5HAAAA6UlEQVR4Xl2Pi2rEMAwE16fm1f7/r14v7w4rI0IzLAF7hLxNevBSEMEF5+OilNCsRd8ZMyn+a4NmsOT8WJw1lFbSYgGFzF2bLFoLjTClWjKKGRWpDYAGXUnZ4uhbBUzF3Oe/GG/ue2fn4GgsyXhNgysV2JnrhKEMg4fEZcALmiKbNhBBRFpSyDOj1G4QOVly6O1FV54ZZq8OVygrciDt6JazRgi1ljTPH0gbrPmHPXAbCiDd4GawIjip1TPh9tt2sz24qaCjr/jAb/GBFTbq9KZ7Ke/Cqt8nayUikZKsWZK7Fe6bg5dOUt8fZHWG2BHc+6EAAAAASUVORK5CYII=") 9 9 repeat;background-color:#fff}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread, [_nghost-%COMP%]     .spread .page{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .spread .page{margin-left:-3.5px;margin-right:-3.5px}[_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0;background:url("data:image/gif;base64,R0lGODlhGAAYAPQAAP///wAAAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJBwAAACwAAAAAGAAYAAAFriAgjiQAQWVaDgr5POSgkoTDjFE0NoQ8iw8HQZQTDQjDn4jhSABhAAOhoTqSDg7qSUQwxEaEwwFhXHhHgzOA1xshxAnfTzotGRaHglJqkJcaVEqCgyoCBQkJBQKDDXQGDYaIioyOgYSXA36XIgYMBWRzXZoKBQUMmil0lgalLSIClgBpO0g+s26nUWddXyoEDIsACq5SsTMMDIECwUdJPw0Mzsu0qHYkw72bBmozIQAh+QQJBwAAACwAAAAAGAAYAAAFsCAgjiTAMGVaDgR5HKQwqKNxIKPjjFCk0KNXC6ATKSI7oAhxWIhezwhENTCQEoeGCdWIPEgzESGxEIgGBWstEW4QCGGAIJEoxGmGt5ZkgCRQQHkGd2CESoeIIwoMBQUMP4cNeQQGDYuNj4iSb5WJnmeGng0CDGaBlIQEJziHk3sABidDAHBgagButSKvAAoyuHuUYHgCkAZqebw0AgLBQyyzNKO3byNuoSS8x8OfwIchACH5BAkHAAAALAAAAAAYABgAAAW4ICCOJIAgZVoOBJkkpDKoo5EI43GMjNPSokXCINKJCI4HcCRIQEQvqIOhGhBHhUTDhGo4diOZyFAoKEQDxra2mAEgjghOpCgz3LTBIxJ5kgwMBShACREHZ1V4Kg1rS44pBAgMDAg/Sw0GBAQGDZGTlY+YmpyPpSQDiqYiDQoCliqZBqkGAgKIS5kEjQ21VwCyp76dBHiNvz+MR74AqSOdVwbQuo+abppo10ssjdkAnc0rf8vgl8YqIQAh+QQJBwAAACwAAAAAGAAYAAAFrCAgjiQgCGVaDgZZFCQxqKNRKGOSjMjR0qLXTyciHA7AkaLACMIAiwOC1iAxCrMToHHYjWQiA4NBEA0Q1RpWxHg4cMXxNDk4OBxNUkPAQAEXDgllKgMzQA1pSYopBgonCj9JEA8REQ8QjY+RQJOVl4ugoYssBJuMpYYjDQSliwasiQOwNakALKqsqbWvIohFm7V6rQAGP6+JQLlFg7KDQLKJrLjBKbvAor3IKiEAIfkECQcAAAAsAAAAABgAGAAABbUgII4koChlmhokw5DEoI4NQ4xFMQoJO4uuhignMiQWvxGBIQC+AJBEUyUcIRiyE6CR0CllW4HABxBURTUw4nC4FcWo5CDBRpQaCoF7VjgsyCUDYDMNZ0mHdwYEBAaGMwwHDg4HDA2KjI4qkJKUiJ6faJkiA4qAKQkRB3E0i6YpAw8RERAjA4tnBoMApCMQDhFTuySKoSKMJAq6rD4GzASiJYtgi6PUcs9Kew0xh7rNJMqIhYchACH5BAkHAAAALAAAAAAYABgAAAW0ICCOJEAQZZo2JIKQxqCOjWCMDDMqxT2LAgELkBMZCoXfyCBQiFwiRsGpku0EshNgUNAtrYPT0GQVNRBWwSKBMp98P24iISgNDAS4ipGA6JUpA2WAhDR4eWM/CAkHBwkIDYcGiTOLjY+FmZkNlCN3eUoLDmwlDW+AAwcODl5bYl8wCVYMDw5UWzBtnAANEQ8kBIM0oAAGPgcREIQnVloAChEOqARjzgAQEbczg8YkWJq8nSUhACH5BAkHAAAALAAAAAAYABgAAAWtICCOJGAYZZoOpKKQqDoORDMKwkgwtiwSBBYAJ2owGL5RgxBziQQMgkwoMkhNqAEDARPSaiMDFdDIiRSFQowMXE8Z6RdpYHWnEAWGPVkajPmARVZMPUkCBQkJBQINgwaFPoeJi4GVlQ2Qc3VJBQcLV0ptfAMJBwdcIl+FYjALQgimoGNWIhAQZA4HXSpLMQ8PIgkOSHxAQhERPw7ASTSFyCMMDqBTJL8tf3y2fCEAIfkECQcAAAAsAAAAABgAGAAABa8gII4k0DRlmg6kYZCoOg5EDBDEaAi2jLO3nEkgkMEIL4BLpBAkVy3hCTAQKGAznM0AFNFGBAbj2cA9jQixcGZAGgECBu/9HnTp+FGjjezJFAwFBQwKe2Z+KoCChHmNjVMqA21nKQwJEJRlbnUFCQlFXlpeCWcGBUACCwlrdw8RKGImBwktdyMQEQciB7oACwcIeA4RVwAODiIGvHQKERAjxyMIB5QlVSTLYLZ0sW8hACH5BAkHAAAALAAAAAAYABgAAAW0ICCOJNA0ZZoOpGGQrDoOBCoSxNgQsQzgMZyIlvOJdi+AS2SoyXrK4umWPM5wNiV0UDUIBNkdoepTfMkA7thIECiyRtUAGq8fm2O4jIBgMBA1eAZ6Knx+gHaJR4QwdCMKBxEJRggFDGgQEREPjjAMBQUKIwIRDhBDC2QNDDEKoEkDoiMHDigICGkJBS2dDA6TAAnAEAkCdQ8ORQcHTAkLcQQODLPMIgIJaCWxJMIkPIoAt3EhACH5BAkHAAAALAAAAAAYABgAAAWtICCOJNA0ZZoOpGGQrDoOBCoSxNgQsQzgMZyIlvOJdi+AS2SoyXrK4umWHM5wNiV0UN3xdLiqr+mENcWpM9TIbrsBkEck8oC0DQqBQGGIz+t3eXtob0ZTPgNrIwQJDgtGAgwCWSIMDg4HiiUIDAxFAAoODwxDBWINCEGdSTQkCQcoegADBaQ6MggHjwAFBZUFCm0HB0kJCUy9bAYHCCPGIwqmRq0jySMGmj6yRiEAIfkECQcAAAAsAAAAABgAGAAABbIgII4k0DRlmg6kYZCsOg4EKhLE2BCxDOAxnIiW84l2L4BLZKipBopW8XRLDkeCiAMyMvQAA+uON4JEIo+vqukkKQ6RhLHplVGN+LyKcXA4Dgx5DWwGDXx+gIKENnqNdzIDaiMECwcFRgQCCowiCAcHCZIlCgICVgSfCEMMnA0CXaU2YSQFoQAKUQMMqjoyAglcAAyBAAIMRUYLCUkFlybDeAYJryLNk6xGNCTQXY0juHghACH5BAkHAAAALAAAAAAYABgAAAWzICCOJNA0ZVoOAmkY5KCSSgSNBDE2hDyLjohClBMNij8RJHIQvZwEVOpIekRQJyJs5AMoHA+GMbE1lnm9EcPhOHRnhpwUl3AsknHDm5RN+v8qCAkHBwkIfw1xBAYNgoSGiIqMgJQifZUjBhAJYj95ewIJCQV7KYpzBAkLLQADCHOtOpY5PgNlAAykAEUsQ1wzCgWdCIdeArczBQVbDJ0NAqyeBb64nQAGArBTt8R8mLuyPyEAOwAAAAAAAAAAAA==") 50% no-repeat}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{margin-left:0;margin-right:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page, [_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .spread{display:block}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page, [_nghost-%COMP%]     .pdfPresentationMode .pdfViewer.removePageBorders .page{margin-left:auto;margin-right:auto}[_nghost-%COMP%]     .pdfPresentationMode:-moz-full-screen .pdfViewer .page, [_nghost-%COMP%]     .pdfPresentationMode:-ms-fullscreen .pdfViewer .page, [_nghost-%COMP%]     .pdfPresentationMode:-webkit-full-screen .pdfViewer .page, [_nghost-%COMP%]     .pdfPresentationMode:fullscreen .pdfViewer .page{margin-bottom:100%;border:0}']}),i.CSS_UNITS=96/72,i.BORDER_WIDTH=9,i})(),PH=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({}),i})();const OH=["thumbContainer"],FH=["toggleBar"],LH=["input"],NH=function(i){return{enterDuration:i}},BH=["*"],VH=new a.OlP("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})});let UH=0;const HH={provide:Ba,useExisting:(0,a.Gpc)(()=>UN),multi:!0};class GH{constructor(t,e){this.source=t,this.checked=e}}const jH=tA(Vs(em(fu(class{constructor(i){this._elementRef=i}}))));let UN=(()=>{class i extends jH{constructor(e,o,s,c,f,g){super(e),this._focusMonitor=o,this._changeDetectorRef=s,this.defaults=f,this._onChange=v=>{},this._onTouched=()=>{},this._uniqueId="mat-slide-toggle-"+ ++UH,this._required=!1,this._checked=!1,this.name=null,this.id=this._uniqueId,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new a.vpe,this.toggleChange=new a.vpe,this.tabIndex=parseInt(c)||0,this.color=this.defaultColor=f.color||"accent",this._noopAnimations="NoopAnimations"===g}get required(){return this._required}set required(e){this._required=bn(e)}get checked(){return this._checked}set checked(e){this._checked=bn(e),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{"keyboard"===e||"program"===e?this._inputElement.nativeElement.focus():e||Promise.resolve().then(()=>this._onTouched())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onChangeEvent(e){e.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}_onInputClick(e){e.stopPropagation()}writeValue(e){this.checked=!!e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck()}focus(e,o){o?this._focusMonitor.focusVia(this._inputElement,o,e):this._inputElement.nativeElement.focus(e)}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(new GH(this,this.checked))}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.SBq),a.Y36(ss),a.Y36(a.sBO),a.$8M("tabindex"),a.Y36(VH),a.Y36(co,8))},i.\u0275cmp=a.Xpm({type:i,selectors:[["mat-slide-toggle"]],viewQuery:function(e,o){if(1&e&&(a.Gf(OH,5),a.Gf(FH,5),a.Gf(LH,5)),2&e){let s;a.iGM(s=a.CRH())&&(o._thumbEl=s.first),a.iGM(s=a.CRH())&&(o._thumbBarEl=s.first),a.iGM(s=a.CRH())&&(o._inputElement=s.first)}},hostAttrs:[1,"mat-slide-toggle"],hostVars:12,hostBindings:function(e,o){2&e&&(a.Ikx("id",o.id),a.uIk("tabindex",o.disabled?null:-1)("aria-label",null)("aria-labelledby",null),a.ekj("mat-checked",o.checked)("mat-disabled",o.disabled)("mat-slide-toggle-label-before","before"==o.labelPosition)("_mat-animation-noopable",o._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],required:"required",checked:"checked",ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],features:[a._Bn([HH]),a.qOj],ngContentSelectors:BH,decls:16,vars:20,consts:[[1,"mat-slide-toggle-label"],["label",""],[1,"mat-slide-toggle-bar"],["toggleBar",""],["type","checkbox","role","switch",1,"mat-slide-toggle-input","cdk-visually-hidden",3,"id","required","tabIndex","checked","disabled","change","click"],["input",""],[1,"mat-slide-toggle-thumb-container"],["thumbContainer",""],[1,"mat-slide-toggle-thumb"],["mat-ripple","",1,"mat-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-slide-toggle-persistent-ripple"],[1,"mat-slide-toggle-content",3,"cdkObserveContent"],["labelContent",""],[2,"display","none"]],template:function(e,o){if(1&e&&(a.F$t(),a.TgZ(0,"label",0,1),a.TgZ(2,"div",2,3),a.TgZ(4,"input",4,5),a.NdJ("change",function(c){return o._onChangeEvent(c)})("click",function(c){return o._onInputClick(c)}),a.qZA(),a.TgZ(6,"div",6,7),a._UZ(8,"div",8),a.TgZ(9,"div",9),a._UZ(10,"div",10),a.qZA(),a.qZA(),a.qZA(),a.TgZ(11,"span",11,12),a.NdJ("cdkObserveContent",function(){return o._onLabelTextChange()}),a.TgZ(13,"span",13),a._uU(14,"\xa0"),a.qZA(),a.Hsn(15),a.qZA(),a.qZA()),2&e){const s=a.MAs(1),c=a.MAs(12);a.uIk("for",o.inputId),a.xp6(2),a.ekj("mat-slide-toggle-bar-no-side-margin",!c.textContent||!c.textContent.trim()),a.xp6(2),a.Q6J("id",o.inputId)("required",o.required)("tabIndex",o.tabIndex)("checked",o.checked)("disabled",o.disabled),a.uIk("name",o.name)("aria-checked",o.checked.toString())("aria-label",o.ariaLabel)("aria-labelledby",o.ariaLabelledby)("aria-describedby",o.ariaDescribedby),a.xp6(5),a.Q6J("matRippleTrigger",s)("matRippleDisabled",o.disableRipple||o.disabled)("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",a.VKq(18,NH,o._noopAnimations?0:150))}},directives:[pu,NC],styles:[".mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:transparent}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px, 0, 0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px, 0, 0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar,.mat-slide-toggle-bar{margin-right:8px;margin-left:0}[dir=rtl] .mat-slide-toggle-bar,.mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0, 0, 0);transition:all 80ms linear;transition-property:transform}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media(hover: none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}.cdk-high-contrast-active .mat-slide-toggle-thumb,.cdk-high-contrast-active .mat-slide-toggle-bar{border:1px solid}.cdk-high-contrast-active .mat-slide-toggle.cdk-keyboard-focused .mat-slide-toggle-bar{outline:2px dotted;outline-offset:5px}\n"],encapsulation:2,changeDetection:0}),i})(),HN=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({}),i})(),WH=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[[HN,im,Fn,Ag],HN,Fn]}),i})();function YH(i,t){if(1&i){const e=a.EpF();a.TgZ(0,"div",16),a.TgZ(1,"mat-slide-toggle",17),a.NdJ("ngModelChange",function(s){return a.CHM(e),a.oxw().isOutlineShown=s}),a._uU(2," Show outline "),a.qZA(),a.qZA()}if(2&i){const e=a.oxw();a.xp6(1),a.Q6J("ngModel",e.isOutlineShown)}}function ZH(i,t){if(1&i){const e=a.EpF();a.TgZ(0,"ul"),a.TgZ(1,"li"),a.TgZ(2,"a",20),a.NdJ("click",function(){const c=a.CHM(e).$implicit;return a.oxw(3).navigateTo(c.dest)}),a._uU(3),a.qZA(),a.qZA(),a.qZA()}if(2&i){const e=t.$implicit;a.xp6(3),a.hij(" ",e.title," ")}}function $H(i,t){if(1&i){const e=a.EpF();a.TgZ(0,"ul",19),a.TgZ(1,"li"),a.TgZ(2,"a",20),a.NdJ("click",function(){const c=a.CHM(e).$implicit;return a.oxw(2).navigateTo(c.dest)}),a._uU(3),a.qZA(),a.YNc(4,ZH,4,1,"ul",21),a.qZA(),a.qZA()}if(2&i){const e=t.$implicit;a.xp6(3),a.hij(" ",e.title," "),a.xp6(1),a.Q6J("ngForOf",e.items)}}function QH(i,t){if(1&i&&(a.TgZ(0,"div"),a.YNc(1,$H,5,2,"ul",18),a.qZA()),2&i){const e=a.oxw();a.xp6(1),a.Q6J("ngForOf",e.outline)}}function KH(i,t){if(1&i&&(a.TgZ(0,"div",22),a.TgZ(1,"div",23),a._UZ(2,"div",24),a.qZA(),a.TgZ(3,"span"),a._uU(4),a.qZA(),a.qZA()),2&i){const e=a.oxw();a.xp6(2),a.Udp("width",e.progressData.loaded/e.progressData.total*100+"%"),a.xp6(2),a.hij("",e.getInt(e.progressData.loaded/e.progressData.total*100),"%")}}let JH=(()=>{class i{constructor(){this.pdfSrc="https://assets.publishing.service.gov.uk/government/uploads/system/uploads/attachment_data/file/960172/JSP_834_Part_1_V5.1_Feb_2021.pdf",this.page=1,this.rotation=0,this.zoom=.5,this.zoomScale="page-fit",this.originalSize=!1,this.renderText=!0,this.isLoaded=!1,this.stickToPage=!0,this.showAll=!0,this.autoresize=!1,this.fitToPage=!1,this.isOutlineShown=!0,this.pdfQuery="",this.mobile=!1,this.DocumentTitle="PDF"}ngOnInit(){window.screen.width<=768&&(this.mobile=!0)}loadPdf(){const e=new XMLHttpRequest;e.open("GET","/assets/pdf-test.pdf",!0),e.responseType="blob",e.onload=o=>{if(console.log(e),200===e.status){const s=new Blob([e.response],{type:"application/pdf"});this.pdfSrc=URL.createObjectURL(s)}},e.send()}incrementPage(e){this.page+=e}incrementZoom(e){this.zoom+=e,console.log(this.zoom)}rotate(e){this.rotation+=e}onFileSelected(){const e=document.querySelector("#file");if("undefined"!=typeof FileReader){const o=new FileReader;o.onload=s=>{this.pdfSrc=s.target.result},o.readAsArrayBuffer(e.files[0])}}afterLoadComplete(e){this.pdf=e,this.loadOutline()}loadOutline(){this.pdf.getOutline().then(e=>{this.outline=e})}onError(e){if(this.error=e,"PasswordException"===e.name){const o=prompt("This document is password protected. Enter the password:");o&&(this.error=null,this.setPassword(o))}}setPassword(e){let o;o=this.pdfSrc instanceof ArrayBuffer?{data:this.pdfSrc}:"string"==typeof this.pdfSrc?{url:this.pdfSrc}:Object.assign({},this.pdfSrc),o.password=e,this.pdfSrc=o}onProgress(e){console.log(e),this.progressData=e,this.isLoaded=e.loaded>=e.total,this.error=null}getInt(e){return Math.round(e)}navigateTo(e){this.pdfComponent.pdfLinkService.navigateTo(e)}scrollToPage(){this.pdfComponent.pdfViewer.scrollPageIntoView({pageNumber:3})}pageRendered(e){console.log("(page-rendered)",e)}pageInitialized(e){console.log("(page-initialized)",e)}searchQueryChanged(e){e!==this.pdfQuery?(this.pdfQuery=e,this.pdfComponent.pdfFindController.executeCommand("find",{query:this.pdfQuery,highlightAll:!0})):this.pdfComponent.pdfFindController.executeCommand("findagain",{query:this.pdfQuery,highlightAll:!0})}onResize(e){this.mobile=e.target.innerWidth<=768}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=a.Xpm({type:i,selectors:[["app-pdfview"]],viewQuery:function(e,o){if(1&e&&a.Gf(m3,5),2&e){let s;a.iGM(s=a.CRH())&&(o.pdfComponent=s.first)}},hostBindings:function(e,o){1&e&&a.NdJ("resize",function(c){return o.onResize(c)},!1,a.Jf7)},decls:33,vars:15,consts:[["autosize","",1,"example-container"],[1,"toolbarrow"],["type","button","mat-button","",3,"click"],["aria-hidden","false","aria-label","Menu Icon"],["mode","over",1,"example-sidenav"],["drawer",""],[1,"container"],[1,"row2"],["mat-raised-button","",1,"button1",3,"click"],[1,"row"],["mat-raised-button",""],["class","mb",4,"ngIf"],[4,"ngIf"],[1,"example-sidenav-content"],["id","progress",4,"ngIf"],[3,"src","page","rotation","original-size","show-all","fit-to-page","zoom","stick-to-page","render-text","external-link-target","autoresize","pageChange","after-load-complete","error","on-progress","page-rendered","pages-initialized"],[1,"mb"],[3,"ngModel","ngModelChange"],["class","outline-list",4,"ngFor","ngForOf"],[1,"outline-list"],[3,"click"],[4,"ngFor","ngForOf"],["id","progress"],[1,"bg"],[1,"bar"]],template:function(e,o){if(1&e){const s=a.EpF();a.TgZ(0,"mat-drawer-container",0),a.TgZ(1,"mat-toolbar-row",1),a.TgZ(2,"button",2),a.NdJ("click",function(){return a.CHM(s),a.MAs(8).toggle()}),a.TgZ(3,"mat-icon",3),a._uU(4,"menu"),a.qZA(),a.qZA(),a.TgZ(5,"h1"),a._uU(6),a.qZA(),a.qZA(),a.TgZ(7,"mat-drawer",4,5),a.TgZ(9,"div",6),a.TgZ(10,"div",7),a.TgZ(11,"button",8),a.NdJ("click",function(){return o.incrementZoom(.5)}),a._uU(12,"Zoom +"),a.qZA(),a.TgZ(13,"button",8),a.NdJ("click",function(){return o.incrementZoom(-.5)}),a._uU(14,"Zoom -"),a.qZA(),a.qZA(),a.TgZ(15,"div",9),a.TgZ(16,"button",10),a._uU(17,"Somthing"),a.qZA(),a.qZA(),a.TgZ(18,"div",9),a.TgZ(19,"button",10),a._uU(20,"Somthing"),a.qZA(),a.qZA(),a.TgZ(21,"div",9),a.TgZ(22,"button",10),a._uU(23,"Somthing"),a.qZA(),a.qZA(),a.TgZ(24,"div",9),a.TgZ(25,"button",10),a._uU(26,"Load Outline"),a.qZA(),a.qZA(),a._UZ(27,"app-documentinfo"),a.YNc(28,YH,3,1,"div",11),a.YNc(29,QH,2,1,"div",12),a.qZA(),a.qZA(),a.TgZ(30,"div",13),a.YNc(31,KH,5,3,"div",14),a.TgZ(32,"pdf-viewer",15),a.NdJ("pageChange",function(f){return o.page=f})("after-load-complete",function(f){return o.afterLoadComplete(f)})("error",function(f){return o.onError(f)})("on-progress",function(f){return o.onProgress(f)})("page-rendered",function(f){return o.pageRendered(f)})("pages-initialized",function(f){return o.pageInitialized(f)}),a.qZA(),a.qZA(),a.qZA()}2&e&&(a.xp6(6),a.Oqu(o.DocumentTitle),a.xp6(22),a.Q6J("ngIf",o.showAll),a.xp6(1),a.Q6J("ngIf",o.showAll&&o.isOutlineShown),a.xp6(2),a.Q6J("ngIf",!o.isLoaded&&!o.error&&o.progressData),a.xp6(1),a.Q6J("src",o.pdfSrc)("page",o.page)("rotation",o.rotation)("original-size",o.originalSize)("show-all",o.showAll)("fit-to-page",o.fitToPage)("zoom",o.zoom)("stick-to-page",o.stickToPage)("render-text",o.renderText)("external-link-target","blank")("autoresize",o.autoresize))},directives:[ZT,wN,gu,XT,YT,fC,ar,IH,UN,IT,$x,Rn],styles:[".example-container[_ngcontent-%COMP%]{width:100%;height:93.2vh;align-items:center}.toolbarrow[_ngcontent-%COMP%]{background-color:#f5f5f5;border:.2ex;border-style:solid none solid none}.container[_ngcontent-%COMP%]{border:10px;border-color:#000;background-color:#f5f5f5;display:flex;width:30vw;padding:5%;flex-direction:column;align-content:space-around;border:.2ex;border-style:solid none solid none}.example-sidenav[_ngcontent-%COMP%]{padding:0;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.row[_ngcontent-%COMP%]{align-items:center;flex-direction:row;padding:20px}.row2[_ngcontent-%COMP%]{align-items:center;padding:20px;flex-direction:row;margin-left:-12px;margin-right:-12px;align-content:stretch}.text[_ngcontent-%COMP%]{align-items:center}.button1[_ngcontent-%COMP%]{background-color:green;width:50%}.example-sidenav-content[_ngcontent-%COMP%]{height:86vh}pdf-viewer[_ngcontent-%COMP%]{display:block;height:50vh}mat-toolbar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:100}.select-file__container[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:20px}.select-file__container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:0}.page-number[_ngcontent-%COMP%]{width:50px}.mb[_ngcontent-%COMP%]{margin-bottom:15px}pdf-viewer[_ngcontent-%COMP%]{display:block}.error[_ngcontent-%COMP%]{color:#ff4146}#progress[_ngcontent-%COMP%]{margin-top:50px;width:100px;text-align:center;margin-left:auto;margin-right:auto}#progress[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%], #progress[_ngcontent-%COMP%]   .bg[_ngcontent-%COMP%]{height:20px}#progress[_ngcontent-%COMP%]   .bg[_ngcontent-%COMP%]{background-color:#e3e3e3}#progress[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{width:0;max-width:100%;background-color:#3f51b5;transition:.5s width}.outline-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer}.outline-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ea1f62}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}mat-drawer[_ngcontent-%COMP%]{width:320px;padding:12px}mat-drawer-container[_ngcontent-%COMP%]{position:absolute;top:64px;right:0;bottom:0;left:0}pdf-viewer[_ngcontent-%COMP%]{height:100%}.title[_ngcontent-%COMP%]{width:284px}.toggle-menu[_ngcontent-%COMP%]{margin-right:20px}"]}),i})();const XH=["*",[["mat-card-footer"]]],eG=["*","mat-card-footer"],tG=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],nG=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let GN=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=a.lG2({type:i,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),i})(),jN=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=a.lG2({type:i,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),i})(),zN=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=a.lG2({type:i,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-card-subtitle"]}),i})(),oG=(()=>{class i{constructor(){this.align="start"}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=a.lG2({type:i,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(e,o){2&e&&a.ekj("mat-card-actions-align-end","end"===o.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),i})(),qN=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=a.lG2({type:i,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-card-avatar"]}),i})(),J0=(()=>{class i{constructor(e){this._animationMode=e}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(co,8))},i.\u0275cmp=a.Xpm({type:i,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,o){2&e&&a.ekj("_mat-animation-noopable","NoopAnimations"===o._animationMode)},exportAs:["matCard"],ngContentSelectors:eG,decls:2,vars:0,template:function(e,o){1&e&&(a.F$t(XH),a.Hsn(0),a.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}._mat-animation-noopable.mat-card{transition:none;animation:none}.mat-card .mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card .mat-divider-horizontal{left:auto;right:0}.mat-card .mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card .mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}\n"],encapsulation:2,changeDetection:0}),i})(),WN=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=a.Xpm({type:i,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:nG,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(e,o){1&e&&(a.F$t(tG),a.Hsn(0),a.TgZ(1,"div",0),a.Hsn(2,1),a.qZA(),a.Hsn(3,2))},encapsulation:2,changeDetection:0}),i})(),sG=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[[Fn],Fn]}),i})();const aG=["underline"],uG=["connectionContainer"],lG=["inputContainer"],cG=["label"];function dG(i,t){1&i&&(a.ynx(0),a.TgZ(1,"div",14),a._UZ(2,"div",15),a._UZ(3,"div",16),a._UZ(4,"div",17),a.qZA(),a.TgZ(5,"div",18),a._UZ(6,"div",15),a._UZ(7,"div",16),a._UZ(8,"div",17),a.qZA(),a.BQk())}function hG(i,t){1&i&&(a.TgZ(0,"div",19),a.Hsn(1,1),a.qZA())}function fG(i,t){if(1&i&&(a.ynx(0),a.Hsn(1,2),a.TgZ(2,"span"),a._uU(3),a.qZA(),a.BQk()),2&i){const e=a.oxw(2);a.xp6(3),a.Oqu(e._control.placeholder)}}function pG(i,t){1&i&&a.Hsn(0,3,["*ngSwitchCase","true"])}function gG(i,t){1&i&&(a.TgZ(0,"span",23),a._uU(1," *"),a.qZA())}function mG(i,t){if(1&i){const e=a.EpF();a.TgZ(0,"label",20,21),a.NdJ("cdkObserveContent",function(){return a.CHM(e),a.oxw().updateOutlineGap()}),a.YNc(2,fG,4,1,"ng-container",12),a.YNc(3,pG,1,0,"ng-content",12),a.YNc(4,gG,2,0,"span",22),a.qZA()}if(2&i){const e=a.oxw();a.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),a.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),a.uIk("for",e._control.id)("aria-owns",e._control.id),a.xp6(2),a.Q6J("ngSwitchCase",!1),a.xp6(1),a.Q6J("ngSwitchCase",!0),a.xp6(1),a.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function vG(i,t){1&i&&(a.TgZ(0,"div",24),a.Hsn(1,4),a.qZA())}function yG(i,t){if(1&i&&(a.TgZ(0,"div",25,26),a._UZ(2,"span",27),a.qZA()),2&i){const e=a.oxw();a.xp6(2),a.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function _G(i,t){if(1&i&&(a.TgZ(0,"div"),a.Hsn(1,5),a.qZA()),2&i){const e=a.oxw();a.Q6J("@transitionMessages",e._subscriptAnimationState)}}function bG(i,t){if(1&i&&(a.TgZ(0,"div",31),a._uU(1),a.qZA()),2&i){const e=a.oxw(2);a.Q6J("id",e._hintLabelId),a.xp6(1),a.Oqu(e.hintLabel)}}function wG(i,t){if(1&i&&(a.TgZ(0,"div",28),a.YNc(1,bG,2,2,"div",29),a.Hsn(2,6),a._UZ(3,"div",30),a.Hsn(4,7),a.qZA()),2&i){const e=a.oxw();a.Q6J("@transitionMessages",e._subscriptAnimationState),a.xp6(1),a.Q6J("ngIf",e.hintLabel)}}const CG=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],SG=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],YN=new a.OlP("MatError"),EG={transitionMessages:Fs("transitionMessages",[Io("enter",Er({opacity:1,transform:"translateY(0%)"})),ao("void => enter",[Er({opacity:0,transform:"translateY(-5px)"}),so("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let tD=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=a.lG2({type:i}),i})();const ZN=new a.OlP("MatHint");let nD=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=a.lG2({type:i,selectors:[["mat-label"]]}),i})(),DG=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275dir=a.lG2({type:i,selectors:[["mat-placeholder"]]}),i})();const $N=new a.OlP("MatPrefix"),QN=new a.OlP("MatSuffix");let KN=0;const kG=Vs(class{constructor(i){this._elementRef=i}},"primary"),RG=new a.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),XN=new a.OlP("MatFormField");let e2=(()=>{class i extends kG{constructor(e,o,s,c,f,g,v,S){super(e),this._changeDetectorRef=o,this._dir=c,this._defaults=f,this._platform=g,this._ngZone=v,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Vt.xQ,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+KN++,this._labelId="mat-form-field-label-"+KN++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==S,this.appearance=f&&f.appearance?f.appearance:"legacy",this._hideRequiredMarker=!(!f||null==f.hideRequiredMarker)&&f.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const o=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&o!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=bn(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(mi(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Ut(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Ut(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,ho.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(mi(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(mi(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Ut(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const o=this._control?this._control.ngControl:null;return o&&o[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,on(this._label.nativeElement,"transitionend").pipe(gi(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const o=this._hintChildren?this._hintChildren.find(c=>"start"===c.align):null,s=this._hintChildren?this._hintChildren.find(c=>"end"===c.align):null;o?e.push(o.id):this._hintLabel&&e.push(this._hintLabelId),s&&e.push(s.id)}else this._errorChildren&&e.push(...this._errorChildren.map(o=>o.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&e&&e.children.length&&e.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let o=0,s=0;const c=this._connectionContainerRef.nativeElement,f=c.querySelectorAll(".mat-form-field-outline-start"),g=c.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const v=c.getBoundingClientRect();if(0===v.width&&0===v.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const S=this._getStartEnd(v),W=e.children,pe=this._getStartEnd(W[0].getBoundingClientRect());let we=0;for(let Te=0;Te<W.length;Te++)we+=W[Te].offsetWidth;o=Math.abs(pe-S)-5,s=we>0?.75*we+10:0}for(let v=0;v<f.length;v++)f[v].style.width=`${o}px`;for(let v=0;v<g.length;v++)g[v].style.width=`${s}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const o=e.getRootNode();return o&&o!==e}return document.documentElement.contains(e)}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(si,8),a.Y36(RG,8),a.Y36(Nn),a.Y36(a.R0b),a.Y36(co,8))},i.\u0275cmp=a.Xpm({type:i,selectors:[["mat-form-field"]],contentQueries:function(e,o,s){if(1&e&&(a.Suo(s,tD,5),a.Suo(s,tD,7),a.Suo(s,nD,5),a.Suo(s,nD,7),a.Suo(s,DG,5),a.Suo(s,YN,5),a.Suo(s,ZN,5),a.Suo(s,$N,5),a.Suo(s,QN,5)),2&e){let c;a.iGM(c=a.CRH())&&(o._controlNonStatic=c.first),a.iGM(c=a.CRH())&&(o._controlStatic=c.first),a.iGM(c=a.CRH())&&(o._labelChildNonStatic=c.first),a.iGM(c=a.CRH())&&(o._labelChildStatic=c.first),a.iGM(c=a.CRH())&&(o._placeholderChild=c.first),a.iGM(c=a.CRH())&&(o._errorChildren=c),a.iGM(c=a.CRH())&&(o._hintChildren=c),a.iGM(c=a.CRH())&&(o._prefixChildren=c),a.iGM(c=a.CRH())&&(o._suffixChildren=c)}},viewQuery:function(e,o){if(1&e&&(a.Gf(aG,5),a.Gf(uG,7),a.Gf(lG,5),a.Gf(cG,5)),2&e){let s;a.iGM(s=a.CRH())&&(o.underlineRef=s.first),a.iGM(s=a.CRH())&&(o._connectionContainerRef=s.first),a.iGM(s=a.CRH())&&(o._inputContainerRef=s.first),a.iGM(s=a.CRH())&&(o._label=s.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,o){2&e&&a.ekj("mat-form-field-appearance-standard","standard"==o.appearance)("mat-form-field-appearance-fill","fill"==o.appearance)("mat-form-field-appearance-outline","outline"==o.appearance)("mat-form-field-appearance-legacy","legacy"==o.appearance)("mat-form-field-invalid",o._control.errorState)("mat-form-field-can-float",o._canLabelFloat())("mat-form-field-should-float",o._shouldLabelFloat())("mat-form-field-has-label",o._hasFloatingLabel())("mat-form-field-hide-placeholder",o._hideControlPlaceholder())("mat-form-field-disabled",o._control.disabled)("mat-form-field-autofilled",o._control.autofilled)("mat-focused",o._control.focused)("ng-untouched",o._shouldForward("untouched"))("ng-touched",o._shouldForward("touched"))("ng-pristine",o._shouldForward("pristine"))("ng-dirty",o._shouldForward("dirty"))("ng-valid",o._shouldForward("valid"))("ng-invalid",o._shouldForward("invalid"))("ng-pending",o._shouldForward("pending"))("_mat-animation-noopable",!o._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[a._Bn([{provide:XN,useExisting:i}]),a.qOj],ngContentSelectors:SG,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,o){1&e&&(a.F$t(CG),a.TgZ(0,"div",0),a.TgZ(1,"div",1,2),a.NdJ("click",function(c){return o._control.onContainerClick&&o._control.onContainerClick(c)}),a.YNc(3,dG,9,0,"ng-container",3),a.YNc(4,hG,2,0,"div",4),a.TgZ(5,"div",5,6),a.Hsn(7),a.TgZ(8,"span",7),a.YNc(9,mG,5,16,"label",8),a.qZA(),a.qZA(),a.YNc(10,vG,2,0,"div",9),a.qZA(),a.YNc(11,yG,3,4,"div",10),a.TgZ(12,"div",11),a.YNc(13,_G,2,1,"div",12),a.YNc(14,wG,5,2,"div",13),a.qZA(),a.qZA()),2&e&&(a.xp6(3),a.Q6J("ngIf","outline"==o.appearance),a.xp6(1),a.Q6J("ngIf",o._prefixChildren.length),a.xp6(5),a.Q6J("ngIf",o._hasFloatingLabel()),a.xp6(1),a.Q6J("ngIf",o._suffixChildren.length),a.xp6(1),a.Q6J("ngIf","outline"!=o.appearance),a.xp6(1),a.Q6J("ngSwitch",o._getDisplayedMessages()),a.xp6(1),a.Q6J("ngSwitchCase","error"),a.xp6(1),a.Q6J("ngSwitchCase","hint"))},directives:[ar,Co,xr,NC],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[EG.transitionMessages]},changeDetection:0}),i})(),pI=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[[ea,Fn,Ag],Fn]}),i})();const t2=Vh({passive:!0});let n2=(()=>{class i{constructor(e,o){this._platform=e,this._ngZone=o,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return ns.E;const o=io(e),s=this._monitoredElements.get(o);if(s)return s.subject;const c=new Vt.xQ,f="cdk-text-field-autofilled",g=v=>{"cdk-text-field-autofill-start"!==v.animationName||o.classList.contains(f)?"cdk-text-field-autofill-end"===v.animationName&&o.classList.contains(f)&&(o.classList.remove(f),this._ngZone.run(()=>c.next({target:v.target,isAutofilled:!1}))):(o.classList.add(f),this._ngZone.run(()=>c.next({target:v.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{o.addEventListener("animationstart",g,t2),o.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(o,{subject:c,unlisten:()=>{o.removeEventListener("animationstart",g,t2)}}),c}stopMonitoring(e){const o=io(e),s=this._monitoredElements.get(o);s&&(s.unlisten(),s.subject.complete(),o.classList.remove("cdk-text-field-autofill-monitored"),o.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(o))}ngOnDestroy(){this._monitoredElements.forEach((e,o)=>this.stopMonitoring(o))}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(Nn),a.LFG(a.R0b))},i.\u0275prov=a.Yz7({factory:function(){return new i(a.LFG(Nn),a.LFG(a.R0b))},token:i,providedIn:"root"}),i})(),r2=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[[dl]]}),i})();const IG=new a.OlP("MAT_INPUT_VALUE_ACCESSOR"),PG=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let OG=0;const FG=nA(class{constructor(i,t,e,o){this._defaultErrorStateMatcher=i,this._parentForm=t,this._parentFormGroup=e,this.ngControl=o}});let o2=(()=>{class i extends FG{constructor(e,o,s,c,f,g,v,S,W,pe){super(g,c,f,s),this._elementRef=e,this._platform=o,this._autofillMonitor=S,this._formField=pe,this._uid="mat-input-"+OG++,this.focused=!1,this.stateChanges=new Vt.xQ,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Pe=>LC().has(Pe));const we=this._elementRef.nativeElement,Te=we.nodeName.toLowerCase();this._inputValueAccessor=v||we,this._previousNativeValue=this.value,this.id=this.id,o.IOS&&W.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",Pe=>{const Ue=Pe.target;!Ue.value&&0===Ue.selectionStart&&0===Ue.selectionEnd&&(Ue.setSelectionRange(1,1),Ue.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===Te,this._isTextarea="textarea"===Te,this._isInFormField=!!pe,this._isNativeSelect&&(this.controlType=we.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=bn(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required}set required(e){this._required=bn(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&LC().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=bn(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,o;const s=(null===(o=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===o?void 0:o.call(e))?null:this.placeholder;if(s!==this._previousPlaceholder){const c=this._elementRef.nativeElement;this._previousPlaceholder=s,s?c.setAttribute("placeholder",s):c.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){PG.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,o=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&o&&o.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.SBq),a.Y36(Nn),a.Y36(Iu,10),a.Y36(Av,8),a.Y36(dp,8),a.Y36(rm),a.Y36(IG,10),a.Y36(n2),a.Y36(a.R0b),a.Y36(XN,8))},i.\u0275dir=a.lG2({type:i,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(e,o){1&e&&a.NdJ("focus",function(){return o._focusChanged(!0)})("blur",function(){return o._focusChanged(!1)})("input",function(){return o._onInput()}),2&e&&(a.Ikx("disabled",o.disabled)("required",o.required),a.uIk("id",o.id)("data-placeholder",o.placeholder)("readonly",o.readonly&&!o._isNativeSelect||null)("aria-invalid",o.empty&&o.required?null:o.errorState)("aria-required",o.required),a.ekj("mat-input-server",o._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[a._Bn([{provide:tD,useExisting:i}]),a.qOj,a.TTD]}),i})(),LG=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({providers:[rm],imports:[[r2,pI,Fn],r2,pI]}),i})(),NG=(()=>{class i{constructor(e,o,s){this.authService=e,this.router=o,this.afAuth=s,this.loginForm=new W0({email:new Pu("",[Ud.required,Ud.email]),password:new Pu("",Ud.required)}),this.firebaseErrorMessage=""}ngOnInit(){}loginUser(){this.loginForm.invalid||this.authService.loginUser(this.loginForm.value.email,this.loginForm.value.password).then(e=>{null==e?(console.log("SUCCESS"),this.router.navigate(["/dashboard"])):0==e.isValid&&(console.log("login error",e),this.firebaseErrorMessage=e.message)})}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(Qr),a.Y36(zr),a.Y36(ai))},i.\u0275cmp=a.Xpm({type:i,selectors:[["app-login"]],decls:17,vars:2,consts:[["type","",3,"formGroup","ngSubmit"],["appearance","outline"],["autocomplete","off","formControlName","email","type","email","matInput","","placeholder","Email"],["autocomplete","off","formControlName","password","type","password","matInput","","placeholder","Password"],[1,"error-style"],["mat-raised-button","","color","primary"]],template:function(e,o){1&e&&(a.TgZ(0,"mat-card"),a.TgZ(1,"form",0),a.NdJ("ngSubmit",function(){return o.loginUser()}),a.TgZ(2,"p"),a.TgZ(3,"mat-form-field",1),a.TgZ(4,"mat-label"),a._uU(5,"Email"),a.qZA(),a._UZ(6,"input",2),a.qZA(),a.qZA(),a.TgZ(7,"p"),a.TgZ(8,"mat-form-field",1),a.TgZ(9,"mat-label"),a._uU(10,"Password"),a.qZA(),a._UZ(11,"input",3),a.qZA(),a.qZA(),a.TgZ(12,"div",4),a.TgZ(13,"span"),a._uU(14),a.qZA(),a.qZA(),a.TgZ(15,"button",5),a._uU(16,"Login"),a.qZA(),a.qZA(),a.qZA()),2&e&&(a.xp6(1),a.Q6J("formGroup",o.loginForm),a.xp6(13),a.Oqu(o.firebaseErrorMessage))},directives:[J0,UT,PT,dp,e2,nD,G0,o2,IT,HT,gu],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center}"]}),i})();var s2=y(3098);function a2(i,t=ul.P){const o=function(i){return i instanceof Date&&!isNaN(+i)}(i)?+i-t.now():Math.abs(i);return s=>s.lift(new VG(o,t))}class VG{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new gI(t,this.delay,this.scheduler))}}class gI extends Zn.L{constructor(t,e,o){super(t),this.delay=e,this.scheduler=o,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,o=e.queue,s=t.scheduler,c=t.destination;for(;o.length>0&&o[0].time-s.now()<=0;)o.shift().notification.observe(c);if(o.length>0){const f=Math.max(0,o[0].time-s.now());this.schedule(t,f)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(gI.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,o=new UG(e.now()+this.delay,t);this.queue.push(o),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(s2.P.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(s2.P.createComplete()),this.unsubscribe()}}class UG{constructor(t,e){this.time=t,this.notification=e}}class mI{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class vI extends mI{constructor(t,e,o,s){super(),this.component=t,this.viewContainerRef=e,this.injector=o,this.componentFactoryResolver=s}}class Dv extends mI{constructor(t,e,o){super(),this.templateRef=t,this.viewContainerRef=e,this.context=o}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class HG extends mI{constructor(t){super(),this.element=t instanceof a.SBq?t.nativeElement:t}}class yI{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof vI?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Dv?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof HG?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class u2 extends yI{constructor(t,e,o,s,c){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=o,this._defaultInjector=s,this.attachDomPortal=f=>{const g=f.element,v=this._document.createComment("dom-portal");g.parentNode.insertBefore(v,g),this.outletElement.appendChild(g),this._attachedPortal=f,super.setDisposeFn(()=>{v.parentNode&&v.parentNode.replaceChild(g,v)})},this._document=c}attachComponentPortal(t){const o=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let s;return t.viewContainerRef?(s=t.viewContainerRef.createComponent(o,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>s.destroy())):(s=o.create(t.injector||this._defaultInjector),this._appRef.attachView(s.hostView),this.setDisposeFn(()=>{this._appRef.detachView(s.hostView),s.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(s)),this._attachedPortal=t,s}attachTemplatePortal(t){let e=t.viewContainerRef,o=e.createEmbeddedView(t.templateRef,t.context);return o.rootNodes.forEach(s=>this.outletElement.appendChild(s)),o.detectChanges(),this.setDisposeFn(()=>{let s=e.indexOf(o);-1!==s&&e.remove(s)}),this._attachedPortal=t,o}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let rD=(()=>{class i extends yI{constructor(e,o,s){super(),this._componentFactoryResolver=e,this._viewContainerRef=o,this._isInitialized=!1,this.attached=new a.vpe,this.attachDomPortal=c=>{const f=c.element,g=this._document.createComment("dom-portal");c.setAttachedHost(this),f.parentNode.insertBefore(g,f),this._getRootNode().appendChild(f),this._attachedPortal=c,super.setDisposeFn(()=>{g.parentNode&&g.parentNode.replaceChild(f,g)})},this._document=s}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const o=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,c=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),f=o.createComponent(c,o.length,e.injector||o.injector);return o!==this._viewContainerRef&&this._getRootNode().appendChild(f.hostView.rootNodes[0]),super.setDisposeFn(()=>f.destroy()),this._attachedPortal=e,this._attachedRef=f,this.attached.emit(f),f}attachTemplatePortal(e){e.setAttachedHost(this);const o=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=o,this.attached.emit(o),o}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a._Vd),a.Y36(a.s_b),a.Y36(J))},i.\u0275dir=a.lG2({type:i,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[a.qOj]}),i})(),c2=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({}),i})();const d2=Zy();class qG{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=_r(-this._previousScrollPosition.left),t.style.top=_r(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,o=t.style,s=this._document.body.style,c=o.scrollBehavior||"",f=s.scrollBehavior||"";this._isEnabled=!1,o.left=this._previousHTMLStyles.left,o.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),d2&&(o.scrollBehavior=s.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),d2&&(o.scrollBehavior=c,s.scrollBehavior=f)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,o=this._viewportRuler.getViewportSize();return e.scrollHeight>o.height||e.scrollWidth>o.width}}class WG{constructor(t,e,o,s){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=o,this._config=s,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class h2{enable(){}disable(){}attach(){}}function _I(i,t){return t.some(e=>i.bottom<e.top||i.top>e.bottom||i.right<e.left||i.left>e.right)}function f2(i,t){return t.some(e=>i.top<e.top||i.bottom>e.bottom||i.left<e.left||i.right>e.right)}class YG{constructor(t,e,o,s){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=o,this._config=s,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:o,height:s}=this._viewportRuler.getViewportSize();_I(e,[{width:o,height:s,bottom:s,right:o,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let ZG=(()=>{class i{constructor(e,o,s,c){this._scrollDispatcher=e,this._viewportRuler=o,this._ngZone=s,this.noop=()=>new h2,this.close=f=>new WG(this._scrollDispatcher,this._ngZone,this._viewportRuler,f),this.block=()=>new qG(this._viewportRuler,this._document),this.reposition=f=>new YG(this._scrollDispatcher,this._viewportRuler,this._ngZone,f),this._document=c}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(Ev),a.LFG(pp),a.LFG(a.R0b),a.LFG(J))},i.\u0275prov=a.Yz7({factory:function(){return new i(a.LFG(Ev),a.LFG(pp),a.LFG(a.R0b),a.LFG(J))},token:i,providedIn:"root"}),i})();class iD{constructor(t){if(this.scrollStrategy=new h2,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const o of e)void 0!==t[o]&&(this[o]=t[o])}}}class $G{constructor(t,e,o,s,c){this.offsetX=o,this.offsetY=s,this.panelClass=c,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class QG{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let p2=(()=>{class i{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const o=this._attachedOverlays.indexOf(e);o>-1&&this._attachedOverlays.splice(o,1),0===this._attachedOverlays.length&&this.detach()}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(J))},i.\u0275prov=a.Yz7({factory:function(){return new i(a.LFG(J))},token:i,providedIn:"root"}),i})(),KG=(()=>{class i extends p2{constructor(e){super(e),this._keydownListener=o=>{const s=this._attachedOverlays;for(let c=s.length-1;c>-1;c--)if(s[c]._keydownEvents.observers.length>0){s[c]._keydownEvents.next(o);break}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(J))},i.\u0275prov=a.Yz7({factory:function(){return new i(a.LFG(J))},token:i,providedIn:"root"}),i})(),JG=(()=>{class i extends p2{constructor(e,o){super(e),this._platform=o,this._cursorStyleIsSet=!1,this._clickListener=s=>{const c=Ic(s),f=this._attachedOverlays.slice();for(let g=f.length-1;g>-1;g--){const v=f[g];if(!(v._outsidePointerEvents.observers.length<1)&&v.hasAttached()){if(v.overlayElement.contains(c))break;v._outsidePointerEvents.next(s)}}}}add(e){if(super.add(e),!this._isAttached){const o=this._document.body;o.addEventListener("click",this._clickListener,!0),o.addEventListener("auxclick",this._clickListener,!0),o.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=o.style.cursor,o.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(J),a.LFG(Nn))},i.\u0275prov=a.Yz7({factory:function(){return new i(a.LFG(J),a.LFG(Nn))},token:i,providedIn:"root"}),i})();const jd="undefined"!=typeof window?window:{},g2=void 0!==jd.__karma__&&!!jd.__karma__||void 0!==jd.jasmine&&!!jd.jasmine||void 0!==jd.jest&&!!jd.jest||void 0!==jd.Mocha&&!!jd.Mocha;let X0=(()=>{class i{constructor(e,o){this._platform=o,this._document=e}ngOnDestroy(){const e=this._containerElement;e&&e.parentNode&&e.parentNode.removeChild(e)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||g2){const s=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let c=0;c<s.length;c++)s[c].parentNode.removeChild(s[c])}const o=this._document.createElement("div");o.classList.add(e),g2?o.setAttribute("platform","test"):this._platform.isBrowser||o.setAttribute("platform","server"),this._document.body.appendChild(o),this._containerElement=o}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(J),a.LFG(Nn))},i.\u0275prov=a.Yz7({factory:function(){return new i(a.LFG(J),a.LFG(Nn))},token:i,providedIn:"root"}),i})();class XG{constructor(t,e,o,s,c,f,g,v,S){this._portalOutlet=t,this._host=e,this._pane=o,this._config=s,this._ngZone=c,this._keyboardDispatcher=f,this._document=g,this._location=v,this._outsideClickDispatcher=S,this._backdropElement=null,this._backdropClick=new Vt.xQ,this._attachments=new Vt.xQ,this._detachments=new Vt.xQ,this._locationChanges=Vi.w.EMPTY,this._backdropClickHandler=W=>this._backdropClick.next(W),this._keydownEvents=new Vt.xQ,this._outsidePointerEvents=new Vt.xQ,s.scrollStrategy&&(this._scrollStrategy=s.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=s.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(gi(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=_r(this._config.width),t.height=_r(this._config.height),t.minWidth=_r(this._config.minWidth),t.minHeight=_r(this._config.minHeight),t.maxWidth=_r(this._config.maxWidth),t.maxHeight=_r(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t=this._backdropElement;if(!t)return;let e,o=()=>{t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",o),t.parentNode&&t.parentNode.removeChild(t)),this._backdropElement==t&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(t,this._config.backdropClass,!1),clearTimeout(e)};t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",o)}),t.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(o,500))}_toggleClasses(t,e,o){const s=t.classList;cl(e).forEach(c=>{c&&(o?s.add(c):s.remove(c))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Ut((0,ho.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const m2="cdk-overlay-connected-position-bounding-box",ej=/([A-Za-z%]+)$/;class v2{constructor(t,e,o,s,c){this._viewportRuler=e,this._document=o,this._platform=s,this._overlayContainer=c,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Vt.xQ,this._resizeSubscription=Vi.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(m2),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,o=this._viewportRect,s=[];let c;for(let f of this._preferredPositions){let g=this._getOriginPoint(t,f),v=this._getOverlayPoint(g,e,f),S=this._getOverlayFit(v,e,o,f);if(S.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,g);this._canFitWithFlexibleDimensions(S,v,o)?s.push({position:f,origin:g,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(g,f)}):(!c||c.overlayFit.visibleArea<S.visibleArea)&&(c={overlayFit:S,overlayPoint:v,originPoint:g,position:f,overlayRect:e})}if(s.length){let f=null,g=-1;for(const v of s){const S=v.boundingBoxRect.width*v.boundingBoxRect.height*(v.position.weight||1);S>g&&(g=S,f=v)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&vp(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(m2),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let o,s;if("center"==e.originX)o=t.left+t.width/2;else{const c=this._isRtl()?t.right:t.left,f=this._isRtl()?t.left:t.right;o="start"==e.originX?c:f}return s="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:o,y:s}}_getOverlayPoint(t,e,o){let s,c;return s="center"==o.overlayX?-e.width/2:"start"===o.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,c="center"==o.overlayY?-e.height/2:"top"==o.overlayY?0:-e.height,{x:t.x+s,y:t.y+c}}_getOverlayFit(t,e,o,s){const c=_2(e);let{x:f,y:g}=t,v=this._getOffset(s,"x"),S=this._getOffset(s,"y");v&&(f+=v),S&&(g+=S);let we=0-g,Te=g+c.height-o.height,Pe=this._subtractOverflows(c.width,0-f,f+c.width-o.width),Ue=this._subtractOverflows(c.height,we,Te),rt=Pe*Ue;return{visibleArea:rt,isCompletelyWithinViewport:c.width*c.height===rt,fitsInViewportVertically:Ue===c.height,fitsInViewportHorizontally:Pe==c.width}}_canFitWithFlexibleDimensions(t,e,o){if(this._hasFlexibleDimensions){const s=o.bottom-e.y,c=o.right-e.x,f=y2(this._overlayRef.getConfig().minHeight),g=y2(this._overlayRef.getConfig().minWidth),S=t.fitsInViewportHorizontally||null!=g&&g<=c;return(t.fitsInViewportVertically||null!=f&&f<=s)&&S}return!1}_pushOverlayOnScreen(t,e,o){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const s=_2(e),c=this._viewportRect,f=Math.max(t.x+s.width-c.width,0),g=Math.max(t.y+s.height-c.height,0),v=Math.max(c.top-o.top-t.y,0),S=Math.max(c.left-o.left-t.x,0);let W=0,pe=0;return W=s.width<=c.width?S||-f:t.x<this._viewportMargin?c.left-o.left-t.x:0,pe=s.height<=c.height?v||-g:t.y<this._viewportMargin?c.top-o.top-t.y:0,this._previousPushAmount={x:W,y:pe},{x:t.x+W,y:t.y+pe}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const o=this._getScrollVisibility(),s=new QG(t,o);this._positionChanges.next(s)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let o,s=t.overlayY;o="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let c=0;c<e.length;c++)e[c].style.transformOrigin=`${o} ${s}`}_calculateBoundingBoxRect(t,e){const o=this._viewportRect,s=this._isRtl();let c,f,g,W,pe,we;if("top"===e.overlayY)f=t.y,c=o.height-f+this._viewportMargin;else if("bottom"===e.overlayY)g=o.height-t.y+2*this._viewportMargin,c=o.height-g+this._viewportMargin;else{const Te=Math.min(o.bottom-t.y+o.top,t.y),Pe=this._lastBoundingBoxSize.height;c=2*Te,f=t.y-Te,c>Pe&&!this._isInitialRender&&!this._growAfterOpen&&(f=t.y-Pe/2)}if("end"===e.overlayX&&!s||"start"===e.overlayX&&s)we=o.width-t.x+this._viewportMargin,W=t.x-this._viewportMargin;else if("start"===e.overlayX&&!s||"end"===e.overlayX&&s)pe=t.x,W=o.right-t.x;else{const Te=Math.min(o.right-t.x+o.left,t.x),Pe=this._lastBoundingBoxSize.width;W=2*Te,pe=t.x-Te,W>Pe&&!this._isInitialRender&&!this._growAfterOpen&&(pe=t.x-Pe/2)}return{top:f,left:pe,bottom:g,right:we,width:W,height:c}}_setBoundingBoxStyles(t,e){const o=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(o.height=Math.min(o.height,this._lastBoundingBoxSize.height),o.width=Math.min(o.width,this._lastBoundingBoxSize.width));const s={};if(this._hasExactPosition())s.top=s.left="0",s.bottom=s.right=s.maxHeight=s.maxWidth="",s.width=s.height="100%";else{const c=this._overlayRef.getConfig().maxHeight,f=this._overlayRef.getConfig().maxWidth;s.height=_r(o.height),s.top=_r(o.top),s.bottom=_r(o.bottom),s.width=_r(o.width),s.left=_r(o.left),s.right=_r(o.right),s.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",s.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",c&&(s.maxHeight=_r(c)),f&&(s.maxWidth=_r(f))}this._lastBoundingBoxSize=o,vp(this._boundingBox.style,s)}_resetBoundingBoxStyles(){vp(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){vp(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const o={},s=this._hasExactPosition(),c=this._hasFlexibleDimensions,f=this._overlayRef.getConfig();if(s){const W=this._viewportRuler.getViewportScrollPosition();vp(o,this._getExactOverlayY(e,t,W)),vp(o,this._getExactOverlayX(e,t,W))}else o.position="static";let g="",v=this._getOffset(e,"x"),S=this._getOffset(e,"y");v&&(g+=`translateX(${v}px) `),S&&(g+=`translateY(${S}px)`),o.transform=g.trim(),f.maxHeight&&(s?o.maxHeight=_r(f.maxHeight):c&&(o.maxHeight="")),f.maxWidth&&(s?o.maxWidth=_r(f.maxWidth):c&&(o.maxWidth="")),vp(this._pane.style,o)}_getExactOverlayY(t,e,o){let s={top:"",bottom:""},c=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(c=this._pushOverlayOnScreen(c,this._overlayRect,o));let f=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return c.y-=f,"bottom"===t.overlayY?s.bottom=this._document.documentElement.clientHeight-(c.y+this._overlayRect.height)+"px":s.top=_r(c.y),s}_getExactOverlayX(t,e,o){let f,s={left:"",right:""},c=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(c=this._pushOverlayOnScreen(c,this._overlayRect,o)),f=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===f?s.right=this._document.documentElement.clientWidth-(c.x+this._overlayRect.width)+"px":s.left=_r(c.x),s}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),o=this._scrollables.map(s=>s.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:f2(t,o),isOriginOutsideView:_I(t,o),isOverlayClipped:f2(e,o),isOverlayOutsideView:_I(e,o)}}_subtractOverflows(t,...e){return e.reduce((o,s)=>o-Math.max(s,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,o=this._viewportRuler.getViewportScrollPosition();return{top:o.top+this._viewportMargin,left:o.left+this._viewportMargin,right:o.left+t-this._viewportMargin,bottom:o.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&cl(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof a.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,o=t.height||0;return{top:t.y,bottom:t.y+o,left:t.x,right:t.x+e,height:o,width:e}}}function vp(i,t){for(let e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);return i}function y2(i){if("number"!=typeof i&&null!=i){const[t,e]=i.split(ej);return e&&"px"!==e?null:parseFloat(t)}return i||null}function _2(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)}}class tj{constructor(t,e,o,s,c,f,g){this._preferredPositions=[],this._positionStrategy=new v2(o,s,c,f,g).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,o,s){const c=new $G(t,e,o,s);return this._preferredPositions.push(c),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const b2="cdk-global-overlay-wrapper";class nj{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(b2),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,o=this._overlayRef.getConfig(),{width:s,height:c,maxWidth:f,maxHeight:g}=o,v=!("100%"!==s&&"100vw"!==s||f&&"100%"!==f&&"100vw"!==f),S=!("100%"!==c&&"100vh"!==c||g&&"100%"!==g&&"100vh"!==g);t.position=this._cssPosition,t.marginLeft=v?"0":this._leftOffset,t.marginTop=S?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,v?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=S?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,o=e.style;e.classList.remove(b2),o.justifyContent=o.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let rj=(()=>{class i{constructor(e,o,s,c){this._viewportRuler=e,this._document=o,this._platform=s,this._overlayContainer=c}global(){return new nj}connectedTo(e,o,s){return new tj(o,s,e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(e){return new v2(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(pp),a.LFG(J),a.LFG(Nn),a.LFG(X0))},i.\u0275prov=a.Yz7({factory:function(){return new i(a.LFG(pp),a.LFG(J),a.LFG(Nn),a.LFG(X0))},token:i,providedIn:"root"}),i})(),ij=0,zd=(()=>{class i{constructor(e,o,s,c,f,g,v,S,W,pe,we){this.scrollStrategies=e,this._overlayContainer=o,this._componentFactoryResolver=s,this._positionBuilder=c,this._keyboardDispatcher=f,this._injector=g,this._ngZone=v,this._document=S,this._directionality=W,this._location=pe,this._outsideClickDispatcher=we}create(e){const o=this._createHostElement(),s=this._createPaneElement(o),c=this._createPortalOutlet(s),f=new iD(e);return f.direction=f.direction||this._directionality.value,new XG(c,o,s,f,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const o=this._document.createElement("div");return o.id="cdk-overlay-"+ij++,o.classList.add("cdk-overlay-pane"),e.appendChild(o),o}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(a.z2F)),new u2(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(ZG),a.LFG(X0),a.LFG(a._Vd),a.LFG(rj),a.LFG(KG),a.LFG(a.zs3),a.LFG(a.R0b),a.LFG(J),a.LFG(si),a.LFG(O),a.LFG(JG))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})();const aj={provide:new a.OlP("cdk-connected-overlay-scroll-strategy"),deps:[zd],useFactory:function(i){return()=>i.scrollStrategies.reposition()}};let C2=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({providers:[zd,aj],imports:[[as,c2,sI],sI]}),i})();const uj=["mat-menu-item",""];function lj(i,t){1&i&&(a.O4$(),a.TgZ(0,"svg",2),a._UZ(1,"polygon",3),a.qZA())}const S2=["*"];function cj(i,t){if(1&i){const e=a.EpF();a.TgZ(0,"div",0),a.NdJ("keydown",function(s){return a.CHM(e),a.oxw()._handleKeydown(s)})("click",function(){return a.CHM(e),a.oxw().closed.emit("click")})("@transformMenu.start",function(s){return a.CHM(e),a.oxw()._onAnimationStart(s)})("@transformMenu.done",function(s){return a.CHM(e),a.oxw()._onAnimationDone(s)}),a.TgZ(1,"div",1),a.Hsn(2),a.qZA(),a.qZA()}if(2&i){const e=a.oxw();a.Q6J("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),a.uIk("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const oD={transformMenu:Fs("transformMenu",[Io("void",Er({opacity:0,transform:"scale(0.8)"})),ao("void => enter",so("120ms cubic-bezier(0, 0, 0.2, 1)",Er({opacity:1,transform:"scale(1)"}))),ao("* => void",so("100ms 25ms linear",Er({opacity:0})))]),fadeInItems:Fs("fadeInItems",[Io("showing",Er({opacity:1})),ao("void => *",[Er({opacity:0}),so("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},A2=new a.OlP("MatMenuContent"),bI=new a.OlP("MAT_MENU_PANEL"),dj=em(fu(class{}));let Mv=(()=>{class i extends dj{constructor(e,o,s,c,f){super(),this._elementRef=e,this._focusMonitor=s,this._parentMenu=c,this._changeDetectorRef=f,this.role="menuitem",this._hovered=new Vt.xQ,this._focused=new Vt.xQ,this._highlighted=!1,this._triggersSubmenu=!1,c&&c.addItem&&c.addItem(this)}focus(e,o){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,o):this._getHostElement().focus(o),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){var e,o;const s=this._elementRef.nativeElement.cloneNode(!0),c=s.querySelectorAll("mat-icon, .material-icons");for(let f=0;f<c.length;f++){const g=c[f];null===(e=g.parentNode)||void 0===e||e.removeChild(g)}return(null===(o=s.textContent)||void 0===o?void 0:o.trim())||""}_setHighlighted(e){var o;this._highlighted=e,null===(o=this._changeDetectorRef)||void 0===o||o.markForCheck()}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.SBq),a.Y36(J),a.Y36(ss),a.Y36(bI,8),a.Y36(a.sBO))},i.\u0275cmp=a.Xpm({type:i,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(e,o){1&e&&a.NdJ("click",function(c){return o._checkDisabled(c)})("mouseenter",function(){return o._handleMouseEnter()}),2&e&&(a.uIk("role",o.role)("tabindex",o._getTabIndex())("aria-disabled",o.disabled.toString())("disabled",o.disabled||null),a.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",o._highlighted)("mat-menu-item-submenu-trigger",o._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[a.qOj],attrs:uj,ngContentSelectors:S2,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(e,o){1&e&&(a.F$t(),a.Hsn(0),a._UZ(1,"div",0),a.YNc(2,lj,2,0,"svg",1)),2&e&&(a.xp6(1),a.Q6J("matRippleDisabled",o.disableRipple||o.disabled)("matRippleTrigger",o._getHostElement()),a.xp6(1),a.Q6J("ngIf",o._triggersSubmenu))},directives:[pu,ar],encapsulation:2,changeDetection:0}),i})();const E2=new a.OlP("mat-menu-default-options",{providedIn:"root",factory:function(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let fj=0,ew=(()=>{class i{constructor(e,o,s){this._elementRef=e,this._ngZone=o,this._defaultOptions=s,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new a.n_E,this._tabSubscription=Vi.w.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new Vt.xQ,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new a.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+fj++}get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=bn(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=bn(e)}set panelClass(e){const o=this._previousPanelClass;o&&o.length&&o.split(" ").forEach(s=>{this._classList[s]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(s=>{this._classList[s]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new Pc(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(mi(this._directDescendantItems),yr(e=>(0,ho.T)(...e.map(o=>o._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e))}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(mi(this._directDescendantItems),yr(o=>(0,ho.T)(...o.map(s=>s._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const o=e.keyCode,s=this._keyManager;switch(o){case 27:Is(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:(38===o||40===o)&&s.setFocusOrigin("keyboard"),s.onKeydown(e)}}focusFirstItem(e="program"){this.lazyContent?this._ngZone.onStable.pipe(gi(1)).subscribe(()=>this._focusFirstItem(e)):this._focusFirstItem(e)}_focusFirstItem(e){const o=this._keyManager;if(o.setFocusOrigin(e).setFirstItemActive(),!o.activeItem&&this._directDescendantItems.length){let s=this._directDescendantItems.first._getHostElement().parentElement;for(;s;){if("menu"===s.getAttribute("role")){s.focus();break}s=s.parentElement}}}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const o=Math.min(this._baseElevation+e,24),s=`${this._elevationPrefix}${o}`,c=Object.keys(this._classList).find(f=>f.startsWith(this._elevationPrefix));(!c||c===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[s]=!0,this._previousElevation=s)}setPositionClasses(e=this.xPosition,o=this.yPosition){const s=this._classList;s["mat-menu-before"]="before"===e,s["mat-menu-after"]="after"===e,s["mat-menu-above"]="above"===o,s["mat-menu-below"]="below"===o}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(mi(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(o=>o._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(E2))},i.\u0275dir=a.lG2({type:i,contentQueries:function(e,o,s){if(1&e&&(a.Suo(s,A2,5),a.Suo(s,Mv,5),a.Suo(s,Mv,4)),2&e){let c;a.iGM(c=a.CRH())&&(o.lazyContent=c.first),a.iGM(c=a.CRH())&&(o._allItems=c),a.iGM(c=a.CRH())&&(o.items=c)}},viewQuery:function(e,o){if(1&e&&a.Gf(a.Rgc,5),2&e){let s;a.iGM(s=a.CRH())&&(o.templateRef=s.first)}},inputs:{backdropClass:"backdropClass",xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{closed:"closed",close:"close"}}),i})(),pj=(()=>{class i extends ew{constructor(e,o,s){super(e,o,s),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(E2))},i.\u0275cmp=a.Xpm({type:i,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,o){2&e&&a.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[a._Bn([{provide:bI,useExisting:i}]),a.qOj],ngContentSelectors:S2,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(e,o){1&e&&(a.F$t(),a.YNc(0,cj,3,6,"ng-template"))},directives:[wo],styles:["mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n"],encapsulation:2,data:{animation:[oD.transformMenu,oD.fadeInItems]},changeDetection:0}),i})();const T2=new a.OlP("mat-menu-scroll-strategy"),D2={provide:T2,deps:[zd],useFactory:function(i){return()=>i.scrollStrategies.reposition()}},k2=Vh({passive:!0});let mj=(()=>{class i{constructor(e,o,s,c,f,g,v,S){this._overlay=e,this._element=o,this._viewContainerRef=s,this._menuItemInstance=g,this._dir=v,this._focusMonitor=S,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Vi.w.EMPTY,this._hoverSubscription=Vi.w.EMPTY,this._menuCloseSubscription=Vi.w.EMPTY,this._handleTouchStart=W=>{Tg(W)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new a.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new a.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=c,this._parentMaterialMenu=f instanceof ew?f:void 0,o.nativeElement.addEventListener("touchstart",this._handleTouchStart,k2),g&&(g._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(o=>{this._destroyMenu(o),("click"===o||"tab"===o)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(o)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,k2),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const e=this._createOverlay(),o=e.getConfig();this._setPosition(o.positionStrategy),o.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,e.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof ew&&this.menu._startAnimation()}closeMenu(){this.menu.close.emit()}focus(e,o){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,o):this._element.nativeElement.focus(o)}updatePosition(){var e;null===(e=this._overlayRef)||void 0===e||e.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const o=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,o instanceof ew?(o._resetAnimation(),o.lazyContent?o._animationDone.pipe($n(s=>"void"===s.toState),gi(1),Ut(o.lazyContent._attached)).subscribe({next:()=>o.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),o.lazyContent&&o.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this.menu.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(){if(this.menu.setElevation){let e=0,o=this.menu.parentMenu;for(;o;)e++,o=o.parentMenu;this.menu.setElevation(e)}}_setIsMenuOpen(e){this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e)}_checkMenu(){}_createOverlay(){if(!this._overlayRef){const e=this._getOverlayConfig();this._subscribeToPositions(e.positionStrategy),this._overlayRef=this._overlay.create(e),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new iD({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this.menu.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e){this.menu.setPositionClasses&&e.positionChanges.subscribe(o=>{this.menu.setPositionClasses("start"===o.connectionPair.overlayX?"after":"before","top"===o.connectionPair.overlayY?"below":"above")})}_setPosition(e){let[o,s]="before"===this.menu.xPosition?["end","start"]:["start","end"],[c,f]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[g,v]=[c,f],[S,W]=[o,s],pe=0;this.triggersSubmenu()?(W=o="before"===this.menu.xPosition?"start":"end",s=S="end"===o?"start":"end",pe="bottom"===c?8:-8):this.menu.overlapTrigger||(g="top"===c?"bottom":"top",v="top"===f?"bottom":"top"),e.withPositions([{originX:o,originY:g,overlayX:S,overlayY:c,offsetY:pe},{originX:s,originY:g,overlayX:W,overlayY:c,offsetY:pe},{originX:o,originY:v,overlayX:S,overlayY:f,offsetY:-pe},{originX:s,originY:v,overlayX:W,overlayY:f,offsetY:-pe}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),o=this._overlayRef.detachments(),s=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,Lt.of)(),c=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe($n(f=>f!==this._menuItemInstance),$n(()=>this._menuOpen)):(0,Lt.of)();return(0,ho.T)(e,s,c,o)}_handleMousedown(e){Eg(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const o=e.keyCode;(13===o||32===o)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===o&&"ltr"===this.dir||37===o&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe($n(e=>e===this._menuItemInstance&&!e.disabled),a2(0,rI.E)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof ew&&this.menu._isAnimating?this.menu._animationDone.pipe(gi(1),a2(0,rI.E),Ut(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return(!this._portal||this._portal.templateRef!==this.menu.templateRef)&&(this._portal=new Dv(this.menu.templateRef,this._viewContainerRef)),this._portal}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(zd),a.Y36(a.SBq),a.Y36(a.s_b),a.Y36(T2),a.Y36(bI,8),a.Y36(Mv,10),a.Y36(si,8),a.Y36(ss))},i.\u0275dir=a.lG2({type:i,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:["aria-haspopup","true",1,"mat-menu-trigger"],hostVars:2,hostBindings:function(e,o){1&e&&a.NdJ("mousedown",function(c){return o._handleMousedown(c)})("keydown",function(c){return o._handleKeydown(c)})("click",function(c){return o._handleClick(c)}),2&e&&a.uIk("aria-expanded",o.menuOpen||null)("aria-controls",o.menuOpen?o.menu.panelId:null)},inputs:{restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"],_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]}),i})(),R2=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({providers:[D2],imports:[Fn]}),i})(),vj=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({providers:[D2],imports:[[ea,Fn,im,C2,R2],$0,Fn,R2]}),i})();function yj(i,t){1&i&&a._UZ(0,"div")}function _j(i,t){if(1&i&&(a.TgZ(0,"div",10),a.TgZ(1,"span"),a._uU(2),a.qZA(),a.qZA()),2&i){const e=a.oxw(2);a.xp6(2),a.Oqu(e.firebaseErrorMessage)}}const bj=function(){return["/login"]};function wj(i,t){if(1&i){const e=a.EpF();a.TgZ(0,"mat-card"),a.TgZ(1,"form",3),a.NdJ("ngSubmit",function(){return a.CHM(e),a.oxw().signup()}),a.TgZ(2,"p"),a.TgZ(3,"mat-form-field",4),a.TgZ(4,"mat-label"),a._uU(5,"Email:"),a.qZA(),a._UZ(6,"input",5),a.qZA(),a.qZA(),a.TgZ(7,"p"),a.TgZ(8,"mat-form-field",4),a.TgZ(9,"mat-label"),a._uU(10,"Password:"),a.qZA(),a._UZ(11,"input",6),a.qZA(),a.qZA(),a.YNc(12,_j,3,1,"div",7),a.TgZ(13,"button",8),a._uU(14,"Signup"),a.qZA(),a.qZA(),a.TgZ(15,"div"),a.TgZ(16,"span"),a._uU(17,"Already have an account? "),a.TgZ(18,"button",9),a._uU(19,"Log In"),a.qZA(),a.qZA(),a.qZA(),a.qZA()}if(2&i){const e=a.oxw();a.xp6(1),a.Q6J("formGroup",e.signupForm),a.xp6(11),a.Q6J("ngIf",""!=e.firebaseErrorMessage),a.xp6(6),a.Q6J("routerLink",a.DdM(3,bj))}}function Cj(i,t){if(1&i&&(a.TgZ(0,"div"),a.TgZ(1,"p"),a._uU(2),a.qZA(),a.qZA()),2&i){const e=t.ngIf;a.xp6(2),a.hij("You are already signed in as ",e.displayname,"")}}function Sj(i,t){if(1&i&&(a.YNc(0,Cj,3,1,"div",11),a.ALo(1,"async")),2&i){const e=a.oxw();a.Q6J("ngIf",a.lcZ(1,1,e.auth.user$))}}let Aj=(()=>{class i{constructor(e,o,s){this.auth=e,this.router=o,this.afAuth=s,this.user=Qr,this.hide=!0,this.passFormControl=new Pu("",[Ud.required]),this.confirmFormControl=new Pu("",[Ud.required]),this.firebaseErrorMessage=""}ngOnInit(){this.signupForm=new W0({email:new Pu("",[Ud.required,Ud.email]),password:new Pu("",Ud.required)})}signup(){this.signupForm.invalid||this.auth.signupUser(this.signupForm.value).then(e=>{null==e?this.router.navigate(["/dashboard"]):0==e.isValid&&(this.firebaseErrorMessage=e.message)}).catch(()=>{})}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(Qr),a.Y36(zr),a.Y36(ai))},i.\u0275cmp=a.Xpm({type:i,selectors:[["app-signup"]],decls:6,vars:5,consts:[[4,"ngIf","ngIfThen","ngIfElse"],["guest",""],["authenticated",""],[3,"formGroup","ngSubmit"],["appearance","outline"],["formControlName","email","type","email","matInput","","placeholder","Email"],["autocomplete","off","formControlName","password","type","password","matInput","","placeholder","Password"],["class","error-style",4,"ngIf"],["mat-menu-item","","color","primary"],["mat-menu-item","",1,"redirect",3,"routerLink"],[1,"error-style"],[4,"ngIf"]],template:function(e,o){if(1&e&&(a.YNc(0,yj,1,0,"div",0),a.ALo(1,"async"),a.YNc(2,wj,20,4,"ng-template",null,1,a.W1O),a.YNc(4,Sj,2,3,"ng-template",null,2,a.W1O)),2&e){const s=a.MAs(3),c=a.MAs(5);a.Q6J("ngIf",a.lcZ(1,3,o.auth.user$))("ngIfThen",c)("ngIfElse",s)}},directives:[ar,J0,UT,PT,dp,e2,nD,G0,o2,IT,HT,Mv,ks],pipes:[Zi],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center}"]}),i})();function Ej(i,t){1&i&&a._UZ(0,"div")}function Tj(i,t){1&i&&(a.TgZ(0,"p"),a._uU(1,"are not logged on!!!"),a.qZA())}function Dj(i,t){1&i&&(a.TgZ(0,"span"),a.TgZ(1,"button",21),a._uU(2,"Admin"),a.qZA(),a.qZA())}const Mj=function(i){return["/dashboard",i,"admin"]};function kj(i,t){if(1&i&&(a.TgZ(0,"span"),a.TgZ(1,"button",24),a._UZ(2,"i",25),a._uU(3,"Admin Dashboard"),a.qZA(),a.qZA()),2&i){const e=a.oxw().ngIf;a.xp6(1),a.Q6J("routerLink",a.VKq(1,Mj,e.uid))}}const Rj=function(i){return["/profile",i]};function xj(i,t){if(1&i&&(a.TgZ(0,"div"),a.TgZ(1,"div",5),a.TgZ(2,"div",6),a.TgZ(3,"div",7),a.TgZ(4,"h6",8),a._uU(5),a.qZA(),a.TgZ(6,"div",9),a.TgZ(7,"div",10),a._UZ(8,"i",11),a.TgZ(9,"span",12),a._uU(10,"Null"),a.qZA(),a.qZA(),a.TgZ(11,"div"),a.TgZ(12,"span",13),a._uU(13,"Null"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(14,"div",14),a.TgZ(15,"div",15),a._UZ(16,"img",16),a.qZA(),a.TgZ(17,"div",17),a.TgZ(18,"div",18),a.TgZ(19,"span"),a._uU(20),a.qZA(),a.TgZ(21,"div",19),a._UZ(22,"i",20),a._UZ(23,"i",20),a._UZ(24,"i",20),a._UZ(25,"i",20),a._UZ(26,"i",20),a.qZA(),a.qZA(),a.TgZ(27,"div"),a.TgZ(28,"button",21),a._uU(29,"reader"),a.qZA(),a.YNc(30,Dj,3,0,"span",4),a.qZA(),a.qZA(),a.qZA(),a._UZ(31,"hr",22),a.TgZ(32,"h6"),a._uU(33),a.qZA(),a.TgZ(34,"div",23),a.TgZ(35,"button",24),a._UZ(36,"i",25),a._uU(37,"Profile"),a.qZA(),a.YNc(38,kj,4,3,"span",4),a.qZA(),a.qZA(),a.qZA(),a.TgZ(39,"div",26),a.TgZ(40,"div",27),a._uU(41,"Uploads"),a.qZA(),a.TgZ(42,"div",28),a._uU(43,"stats"),a.qZA(),a.qZA(),a.qZA()),2&i){const e=t.ngIf;a.xp6(5),a.Oqu(e.email),a.xp6(11),a.s9C("src",e.photoURL,a.LSH),a.xp6(4),a.Oqu(e.displayname),a.xp6(10),a.Q6J("ngIf",1==e.role.admin),a.xp6(3),a.Oqu(e.uid),a.xp6(2),a.Q6J("routerLink",a.VKq(7,Rj,e.uid)),a.xp6(3),a.Q6J("ngIf",1==e.role.admin)}}function Ij(i,t){if(1&i&&(a.TgZ(0,"div",3),a.YNc(1,xj,44,9,"div",4),a.ALo(2,"async"),a.qZA()),2&i){const e=a.oxw();a.xp6(1),a.Q6J("ngIf",a.lcZ(2,1,e.auth.user$))}}let Pj=(()=>{class i{constructor(e,o){this.afAuth=e,this.auth=o,this.user=Qr}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(ai),a.Y36(Qr))},i.\u0275cmp=a.Xpm({type:i,selectors:[["app-reader"]],decls:6,vars:5,consts:[[4,"ngIf","ngIfThen","ngIfElse"],["guest",""],["authenticated",""],[1,"dashboard"],[4,"ngIf"],[1,"profile"],[1,"card","p-4","mt-3"],[1,"first"],[1,"heading"],[1,"time","d-flex","flex-row","align-items-center","justify-content-between","mt-3"],[1,"d-flex","align-items-center"],[1,"fa","fa-clock-o","clock"],[1,"hour","ml-1"],[1,"font-weight-bold"],[1,"second","d-flex","flex-row","mt-2"],[1,"image","mr-3"],["width","60",1,"rounded-circle",3,"src"],[1,""],[1,"d-flex","flex-row","mb-1"],[1,"ratings","ml-2"],[1,"fa","fa-star"],["disabled","",1,"btn","btn-outline-dark","btn-sm"],[1,"line-color"],[1,"third","mt-4"],[1,"btn","btn-success","btn-block",3,"routerLink"],[1,"fa","fa-clock-o"],[1,"documents"],[1,"uploads"],[1,"stats"]],template:function(e,o){if(1&e&&(a.YNc(0,Ej,1,0,"div",0),a.ALo(1,"async"),a.YNc(2,Tj,2,0,"ng-template",null,1,a.W1O),a.YNc(4,Ij,3,3,"ng-template",null,2,a.W1O)),2&e){const s=a.MAs(3),c=a.MAs(5);a.Q6J("ngIf",a.lcZ(1,3,o.auth.user$))("ngIfThen",c)("ngIfElse",s)}},directives:[ar,ks],pipes:[Zi],styles:['.dashboard[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:stretch}.profile[_ngcontent-%COMP%]{background-color:#fff;width:40vw;height:40vh;margin-right:0%;overflow:hidden;border-style:solid;justify-content:center;display:flex}.table[_ngcontent-%COMP%]{width:100%}.documents[_ngcontent-%COMP%]{background-color:#bc8f8f;width:100vw;display:flex;flex-direction:row;justify-content:center;align-items:stretch}.users[_ngcontent-%COMP%]{background-color:#fff;width:85vw;height:40vh;margin-right:0%;max-height:40vh;overflow:hidden;display:flex;border-style:solid}.uploads[_ngcontent-%COMP%]{background-color:#fff;width:30vw;height:60vh;border-style:solid}.stats[_ngcontent-%COMP%]{background-color:#fff;width:70vw;height:60vh;border-style:solid}.top[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:stretch}*[_ngcontent-%COMP%]{font-family:sans-serif}.tableinside[_ngcontent-%COMP%]{padding:0%}.content-table[_ngcontent-%COMP%]{border-collapse:collapse;font-size:.9em;min-width:400px;border-radius:5px 5px 0 0;overflow:hidden;box-shadow:0 0 20px #00000026;width:80vw;margin:25px 2.5vw}.content-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:#009879;color:#fff;text-align:left;font-weight:bold}.content-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .content-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 15px}.content-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #dddddd}.content-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-of-type(even){background-color:#f3f3f3}.content-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-of-type{border-bottom:2px solid #009879}.content-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.active-row[_ngcontent-%COMP%]{font-weight:bold;color:#009879}body[_ngcontent-%COMP%]{background-color:#eee;font-family:"Roboto",sans-serif}.card[_ngcontent-%COMP%]{background-color:#bbb;width:30vw;height:90%;border-radius:20px}.heading[_ngcontent-%COMP%]{font-weight:700}.hour[_ngcontent-%COMP%]{margin-top:1px;color:green;font-size:12px}.ratings[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#388e3c}.btn[_ngcontent-%COMP%]{border-radius:15px!important}.line-color[_ngcontent-%COMP%]{color:green;height:3px}']}),i})();function Oj(i,t){1&i&&a._UZ(0,"div")}function Fj(i,t){1&i&&(a.TgZ(0,"p"),a._uU(1,"are not logged on!!!"),a.qZA())}function Lj(i,t){1&i&&(a.TgZ(0,"div"),a._UZ(1,"app-reader"),a.qZA())}function Nj(i,t){if(1&i&&(a.TgZ(0,"div"),a.YNc(1,Lj,2,0,"div",4),a.qZA()),2&i){const e=t.ngIf;a.xp6(1),a.Q6J("ngIf",1==e.role.reader)}}function Bj(i,t){if(1&i&&(a.TgZ(0,"div",3),a.YNc(1,Nj,2,1,"div",4),a.ALo(2,"async"),a.qZA()),2&i){const e=a.oxw();a.xp6(1),a.Q6J("ngIf",a.lcZ(2,1,e.auth.user$))}}let Vj=(()=>{class i{constructor(e,o){this.afAuth=e,this.auth=o,this.user=Qr}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(ai),a.Y36(Qr))},i.\u0275cmp=a.Xpm({type:i,selectors:[["app-dashboard"]],decls:6,vars:5,consts:[[4,"ngIf","ngIfThen","ngIfElse"],["guest",""],["authenticated",""],[1,"dashboard"],[4,"ngIf"]],template:function(e,o){if(1&e&&(a.YNc(0,Oj,1,0,"div",0),a.ALo(1,"async"),a.YNc(2,Fj,2,0,"ng-template",null,1,a.W1O),a.YNc(4,Bj,3,3,"ng-template",null,2,a.W1O)),2&e){const s=a.MAs(3),c=a.MAs(5);a.Q6J("ngIf",a.lcZ(1,3,o.auth.user$))("ngIfThen",c)("ngIfElse",s)}},directives:[ar,Pj],pipes:[Zi],styles:[".dashboard[_ngcontent-%COMP%]{border:rosybrown}.profile[_ngcontent-%COMP%]{background-color:red;width:15vw;height:40vh}.documents[_ngcontent-%COMP%]{background-color:#bc8f8f;width:100vw;display:flex;flex-direction:row;justify-content:center;align-items:stretch}.uploads[_ngcontent-%COMP%]{background-color:#8b4513;width:30vw;height:40vh}.stats[_ngcontent-%COMP%]{background-color:silver;width:70vw;height:40vh}"]}),i})(),Uj=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=a.Xpm({type:i,selectors:[["app-managersinfo"]],decls:2,vars:0,template:function(e,o){1&e&&(a.TgZ(0,"p"),a._uU(1,"managersinfo works!"),a.qZA())},styles:[""]}),i})(),Hj=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=a.Xpm({type:i,selectors:[["app-readersinfo"]],decls:2,vars:0,template:function(e,o){1&e&&(a.TgZ(0,"p"),a._uU(1,"readersinfo works!"),a.qZA())},styles:[""]}),i})(),Gj=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=a.Xpm({type:i,selectors:[["app-devinfo"]],decls:2,vars:0,template:function(e,o){1&e&&(a.TgZ(0,"p"),a._uU(1,"devinfo works!"),a.qZA())},styles:[""]}),i})(),qd=(()=>{class i{constructor(e,o){this.router=e,this.afAuth=o}canActivate(e,o){return new Promise((s,c)=>{this.afAuth.onAuthStateChanged(f=>{f?s(!0):(console.log("Auth Guard: user is not logged in"),this.router.navigate(["/"]),s(!1))})})}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(zr),a.LFG(ai))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function jj(i,t){1&i&&a._UZ(0,"div")}function zj(i,t){1&i&&(a.TgZ(0,"h3"),a._uU(1,"Howdy, GUEST"),a.qZA(),a.TgZ(2,"p"),a._uU(3,"Login to get started..."),a.qZA())}function qj(i,t){if(1&i){const e=a.EpF();a.TgZ(0,"div"),a.TgZ(1,"h3"),a._uU(2),a.qZA(),a._UZ(3,"img",6),a.TgZ(4,"p"),a._uU(5),a.qZA(),a.TgZ(6,"button",7),a.NdJ("click",function(){return a.CHM(e),a.oxw(2).auth.signOut()}),a._uU(7,"Logout"),a.qZA(),a._UZ(8,"hr"),a._uU(9," Subscriber: "),a.TgZ(10,"span",8),a._uU(11),a.qZA(),a._UZ(12,"br"),a._uU(13," Editor: "),a.TgZ(14,"span",8),a._uU(15),a.qZA(),a._UZ(16,"br"),a._uU(17," Admin: "),a.TgZ(18,"span",8),a._uU(19),a.qZA(),a._UZ(20,"br"),a.qZA()}if(2&i){const e=t.ngIf;a.xp6(2),a.hij("Howdy, ",e.displayname,""),a.xp6(3),a.hij("UID: ",e.uid,""),a.xp6(5),a.ekj("is-success",null==e.role?null:e.role.reader),a.xp6(1),a.hij(" ",null==e.role?null:e.role.reader," "),a.xp6(3),a.ekj("is-success",null==e.role?null:e.role.publisher),a.xp6(1),a.hij(" ",null==e.role?null:e.role.publisher," "),a.xp6(3),a.ekj("is-success",null==e.role?null:e.role.admin),a.xp6(1),a.hij(" ",null==e.role?null:e.role.admin," ")}}function Wj(i,t){if(1&i&&(a.YNc(0,qj,21,11,"div",5),a.ALo(1,"async")),2&i){const e=a.oxw();a.Q6J("ngIf",a.lcZ(1,1,e.auth.user$))}}let Yj=(()=>{class i{constructor(e){this.auth=e}printUser(){console.log(this.auth.user$)}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(Qr))},i.\u0275cmp=a.Xpm({type:i,selectors:[["app-testpage"]],decls:12,vars:5,consts:[[4,"ngIf","ngIfThen","ngIfElse"],["routerLink","/secret",1,"button","is-dark"],["routerLink","/content",1,"button","is-info"],["guest",""],["authenticated",""],[4,"ngIf"],["src","assets/avatar.svg","width","50px"],[1,"button",3,"click"],[1,"tag"]],template:function(e,o){if(1&e&&(a.YNc(0,jj,1,0,"div",0),a.ALo(1,"async"),a._UZ(2,"hr"),a.TgZ(3,"a",1),a._uU(4," Super Secret Page\n"),a.qZA(),a.TgZ(5,"a",2),a._uU(6," Subscriber Page\n"),a.qZA(),a.YNc(7,zj,4,0,"ng-template",null,3,a.W1O),a.YNc(9,Wj,2,3,"ng-template",null,4,a.W1O),a._UZ(11,"hr")),2&e){const s=a.MAs(8),c=a.MAs(10);a.Q6J("ngIf",a.lcZ(1,3,o.auth.user$))("ngIfThen",c)("ngIfElse",s)}},directives:[ar,xh],pipes:[Zi],styles:[""]}),i})();function Zj(i,t){1&i&&a._UZ(0,"div")}function $j(i,t){1&i&&(a.TgZ(0,"p"),a._uU(1,"are not logged on!!!"),a.qZA())}const Qj=function(){return["update"]};function Kj(i,t){if(1&i&&(a.TgZ(0,"div"),a.TgZ(1,"mat-card",4),a.TgZ(2,"mat-card-header"),a._UZ(3,"div",5),a.TgZ(4,"mat-card-title"),a._uU(5),a.qZA(),a.TgZ(6,"mat-card-subtitle"),a._uU(7),a.qZA(),a.qZA(),a.TgZ(8,"mat-card-content"),a.TgZ(9,"p"),a._uU(10," Somthing goes here "),a.qZA(),a.qZA(),a.TgZ(11,"mat-card-actions"),a.TgZ(12,"button",6),a._uU(13,"UPDATE PROFILE"),a.qZA(),a.TgZ(14,"button",7),a._uU(15,"SHARE"),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&i){const e=t.ngIf;a.xp6(5),a.Oqu(e.email),a.xp6(2),a.AsE("Welcome, ",e.rank," ",e.displayname,""),a.xp6(5),a.Q6J("routerLink",a.DdM(4,Qj))}}function Jj(i,t){if(1&i&&(a.YNc(0,Kj,16,5,"div",3),a.ALo(1,"async")),2&i){const e=a.oxw();a.Q6J("ngIf",a.lcZ(1,1,e.auth.user$))}}let Xj=(()=>{class i{constructor(e,o,s){this.afAuth=e,this.auth=o,this.afs=s,this.user=Qr}ngOnInit(){this.userCollection=this.afs.collection("users"),this.users=this.userCollection.valueChanges()}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(ai),a.Y36(Qr),a.Y36(Cv))},i.\u0275cmp=a.Xpm({type:i,selectors:[["app-profile"]],decls:6,vars:5,consts:[[4,"ngIf","ngIfThen","ngIfElse"],["guest",""],["authenticated",""],[4,"ngIf"],[1,"example-card"],["mat-card-avatar","",1,"example-header-image"],["mat-button","",3,"routerLink"],["mat-button","","disabled",""]],template:function(e,o){if(1&e&&(a.YNc(0,Zj,1,0,"div",0),a.ALo(1,"async"),a.YNc(2,$j,2,0,"ng-template",null,1,a.W1O),a.YNc(4,Jj,2,3,"ng-template",null,2,a.W1O)),2&e){const s=a.MAs(3),c=a.MAs(5);a.Q6J("ngIf",a.lcZ(1,3,o.auth.user$))("ngIfThen",c)("ngIfElse",s)}},directives:[ar,J0,WN,qN,jN,zN,GN,oG,gu,ks],pipes:[Zi],styles:[""]}),i})();function e4(i,t){1&i&&a._UZ(0,"div")}function t4(i,t){1&i&&(a.TgZ(0,"p"),a._uU(1,"are not logged on!!!"),a.qZA())}function n4(i,t){1&i&&(a.TgZ(0,"span"),a.TgZ(1,"mat-icon",7),a._uU(2,"verified"),a.qZA(),a.qZA())}function r4(i,t){if(1&i&&(a.TgZ(0,"div",8),a.TgZ(1,"div",9),a.TgZ(2,"p",10),a._uU(3),a.qZA(),a.TgZ(4,"button",11),a.TgZ(5,"mat-icon"),a._uU(6,"favorite"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(7,"div",9),a.TgZ(8,"p",10),a._uU(9),a.qZA(),a.TgZ(10,"button",11),a.TgZ(11,"mat-icon"),a._uU(12,"favorite"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(13,"div",9),a.TgZ(14,"p",10),a._uU(15),a.qZA(),a.TgZ(16,"button",11),a.TgZ(17,"mat-icon"),a._uU(18,"favorite"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(19,"div",9),a.TgZ(20,"p",10),a._uU(21),a.qZA(),a.TgZ(22,"button",11),a.TgZ(23,"mat-icon"),a._uU(24),a.qZA(),a.qZA(),a.qZA(),a.TgZ(25,"div",9),a.TgZ(26,"p",10),a._uU(27),a.qZA(),a.TgZ(28,"button",11),a.TgZ(29,"mat-icon"),a._uU(30,"favorite"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(31,"div",9),a.TgZ(32,"p",10),a._uU(33),a.qZA(),a.TgZ(34,"button",11),a.TgZ(35,"mat-icon"),a._uU(36,"favorite"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(37,"div",9),a.TgZ(38,"p",10),a._uU(39),a.qZA(),a.TgZ(40,"button",11),a.TgZ(41,"mat-icon"),a._uU(42,"favorite"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(43,"div",9),a.TgZ(44,"p",10),a._uU(45),a.qZA(),a.TgZ(46,"button",11),a.TgZ(47,"mat-icon"),a._uU(48,"favorite"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(49,"div",9),a.TgZ(50,"p",10),a._uU(51),a.qZA(),a.TgZ(52,"button",11),a.TgZ(53,"mat-icon"),a._uU(54,"favorite"),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&i){const e=a.oxw().ngIf,o=a.oxw(2);a.xp6(3),a.hij("Working ",e.displayname,""),a.xp6(6),a.hij("Rank: ",e.rank,""),a.xp6(6),a.hij("UID: ",e.uid,""),a.xp6(6),a.hij("EMAIL: ",e.email,""),a.xp6(3),a.Oqu(o.iconon),a.xp6(3),a.hij("reader ",e.role.reader,""),a.xp6(6),a.hij("publisher ",e.role.publisher,""),a.xp6(6),a.hij("manager ",e.role.manager,""),a.xp6(6),a.hij("developer ",e.role.developer,""),a.xp6(6),a.hij("admin ",e.role.admin,"")}}function i4(i,t){if(1&i&&(a.TgZ(0,"div"),a.TgZ(1,"mat-card",4),a.TgZ(2,"mat-card-header"),a._UZ(3,"div",5),a.TgZ(4,"mat-card-title"),a._uU(5),a.YNc(6,n4,3,0,"span",3),a.qZA(),a.TgZ(7,"mat-card-subtitle"),a._uU(8),a.qZA(),a.qZA(),a.TgZ(9,"mat-card-content"),a.TgZ(10,"mat-card"),a.TgZ(11,"p"),a._uU(12),a.qZA(),a.TgZ(13,"p"),a._uU(14),a.qZA(),a.TgZ(15,"p"),a._uU(16),a.qZA(),a.TgZ(17,"p"),a._uU(18),a.qZA(),a.TgZ(19,"p"),a._uU(20),a.qZA(),a.TgZ(21,"p"),a._uU(22),a.qZA(),a.TgZ(23,"p"),a._uU(24),a.qZA(),a.TgZ(25,"p"),a._uU(26),a.qZA(),a.YNc(27,r4,55,10,"div",6),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&i){const e=t.ngIf;a.xp6(5),a.Oqu(e.email),a.xp6(1),a.Q6J("ngIf",1==e.verified),a.xp6(2),a.AsE("Welcome, ",e.rank," ",e.displayname,""),a.xp6(4),a.hij("Rank: ",e.rank,""),a.xp6(2),a.hij("UID: ",e.uid,""),a.xp6(2),a.hij("EMAIL: ",e.email,""),a.xp6(2),a.hij("reader ",e.role.reader,""),a.xp6(2),a.hij("publisher ",e.role.publisher,""),a.xp6(2),a.hij("manager ",e.role.manager,""),a.xp6(2),a.hij("developer ",e.role.developer,""),a.xp6(2),a.hij("admin ",e.role.admin,""),a.xp6(1),a.Q6J("ngIf",1==e.role.admin)}}function o4(i,t){if(1&i&&(a.YNc(0,i4,28,13,"div",3),a.ALo(1,"async")),2&i){const e=a.oxw();a.Q6J("ngIf",a.lcZ(1,1,e.auth.user$))}}let s4=(()=>{class i{constructor(e,o){this.afAuth=e,this.auth=o,this.user=Qr,this.iconon="radio_button_checked",this.iconoff="radio_button_unchecked"}ngOnInit(){console.log(this.afAuth.currentUser.catch())}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(ai),a.Y36(Qr))},i.\u0275cmp=a.Xpm({type:i,selectors:[["app-profileupdate"]],decls:6,vars:5,consts:[[4,"ngIf","ngIfThen","ngIfElse"],["guest",""],["authenticated",""],[4,"ngIf"],[1,"example-card"],["mat-card-avatar","",1,"example-header-image"],["class","userUpdate",4,"ngIf"],["color","primary"],[1,"userUpdate"],[1,"userAttribute"],[1,"userAttributetext"],["mat-icon-button","","color","warn","aria-label","Example icon button with a heart icon"]],template:function(e,o){if(1&e&&(a.YNc(0,e4,1,0,"div",0),a.ALo(1,"async"),a.YNc(2,t4,2,0,"ng-template",null,1,a.W1O),a.YNc(4,o4,2,3,"ng-template",null,2,a.W1O)),2&e){const s=a.MAs(3),c=a.MAs(5);a.Q6J("ngIf",a.lcZ(1,3,o.auth.user$))("ngIfThen",c)("ngIfElse",s)}},directives:[ar,J0,WN,qN,jN,zN,GN,XT,gu],pipes:[Zi],styles:[".userUpdate[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.userAttribute[_ngcontent-%COMP%]{display:flex;width:50%;align-items:center}.userAttributetext[_ngcontent-%COMP%]{margin-bottom:0%}"]}),i})();function a4(i,t){}class wI{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const u4={dialogContainer:Fs("dialogContainer",[Io("void, exit",Er({opacity:0,transform:"scale(0.7)"})),Io("enter",Er({transform:"none"})),ao("* => enter",so("150ms cubic-bezier(0, 0, 0.2, 1)",Er({transform:"none",opacity:1}))),ao("* => void, * => exit",so("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Er({opacity:0})))])};let l4=(()=>{class i extends yI{constructor(e,o,s,c,f,g){super(),this._elementRef=e,this._focusTrapFactory=o,this._changeDetectorRef=s,this._config=f,this._focusMonitor=g,this._animationStateChanged=new a.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=v=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(v)),this._ariaLabelledBy=f.ariaLabelledBy||null,this._document=c}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const o=Sg(),s=this._elementRef.nativeElement;(!o||o===this._document.body||o===s||s.contains(o))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=Sg())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,o=Sg();return e===o||e.contains(o)}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(a.SBq),a.Y36(qC),a.Y36(a.sBO),a.Y36(J,8),a.Y36(wI),a.Y36(ss))},i.\u0275dir=a.lG2({type:i,viewQuery:function(e,o){if(1&e&&a.Gf(rD,7),2&e){let s;a.iGM(s=a.CRH())&&(o._portalOutlet=s.first)}},features:[a.qOj]}),i})(),c4=(()=>{class i extends l4{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:o}){"enter"===e?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:o})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:o}))}_onAnimationStart({toState:e,totalTime:o}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:o}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:o})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return i.\u0275fac=function(){let t;return function(o){return(t||(t=a.n5z(i)))(o||i)}}(),i.\u0275cmp=a.Xpm({type:i,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,o){1&e&&a.WFA("@dialogContainer.start",function(c){return o._onAnimationStart(c)})("@dialogContainer.done",function(c){return o._onAnimationDone(c)}),2&e&&(a.Ikx("id",o._id),a.uIk("role",o._config.role)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledBy)("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null),a.d8E("@dialogContainer",o._state))},features:[a.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,o){1&e&&a.YNc(0,a4,0,0,"ng-template",0)},directives:[rD],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[u4.dialogContainer]}}),i})(),d4=0;class CI{constructor(t,e,o="mat-dialog-"+d4++){this._overlayRef=t,this._containerInstance=e,this.id=o,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new Vt.xQ,this._afterClosed=new Vt.xQ,this._beforeClosed=new Vt.xQ,this._state=0,e._id=o,e._animationStateChanged.pipe($n(s=>"opened"===s.state),gi(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe($n(s=>"closed"===s.state),gi(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe($n(s=>27===s.keyCode&&!this.disableClose&&!Is(s))).subscribe(s=>{s.preventDefault(),SI(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():SI(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe($n(e=>"closing"===e.state),gi(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function SI(i,t,e){return void 0!==i._containerInstance&&(i._containerInstance._closeInteractionType=t),i.close(e)}const h4=new a.OlP("MatDialogData"),f4=new a.OlP("mat-dialog-default-options"),x2=new a.OlP("mat-dialog-scroll-strategy"),g4={provide:x2,deps:[zd],useFactory:function(i){return()=>i.scrollStrategies.block()}};let m4=(()=>{class i{constructor(e,o,s,c,f,g,v,S,W){this._overlay=e,this._injector=o,this._defaultOptions=s,this._parentDialog=c,this._overlayContainer=f,this._dialogRefConstructor=v,this._dialogContainerType=S,this._dialogDataToken=W,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Vt.xQ,this._afterOpenedAtThisLevel=new Vt.xQ,this._ariaHiddenElements=new Map,this.afterAllClosed=da(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(mi(void 0))),this._scrollStrategy=g}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,o){(o=function(i,t){return Object.assign(Object.assign({},t),i)}(o,this._defaultOptions||new wI)).id&&this.getDialogById(o.id);const s=this._createOverlay(o),c=this._attachDialogContainer(s,o),f=this._attachDialogContent(e,c,s,o);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(f),f.afterClosed().subscribe(()=>this._removeOpenDialog(f)),this.afterOpened.next(f),c._initializeWithAttachedContent(),f}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(o=>o.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const o=this._getOverlayConfig(e);return this._overlay.create(o)}_getOverlayConfig(e){const o=new iD({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(o.backdropClass=e.backdropClass),o}_attachDialogContainer(e,o){const c=a.zs3.create({parent:o&&o.viewContainerRef&&o.viewContainerRef.injector||this._injector,providers:[{provide:wI,useValue:o}]}),f=new vI(this._dialogContainerType,o.viewContainerRef,c,o.componentFactoryResolver);return e.attach(f).instance}_attachDialogContent(e,o,s,c){const f=new this._dialogRefConstructor(s,o,c.id);if(e instanceof a.Rgc)o.attachTemplatePortal(new Dv(e,null,{$implicit:c.data,dialogRef:f}));else{const g=this._createInjector(c,f,o),v=o.attachComponentPortal(new vI(e,c.viewContainerRef,g));f.componentInstance=v.instance}return f.updateSize(c.width,c.height).updatePosition(c.position),f}_createInjector(e,o,s){const c=e&&e.viewContainerRef&&e.viewContainerRef.injector,f=[{provide:this._dialogContainerType,useValue:s},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:o}];return e.direction&&(!c||!c.get(si,null,a.XFs.Optional))&&f.push({provide:si,useValue:{value:e.direction,change:(0,Lt.of)()}}),a.zs3.create({parent:c||this._injector,providers:f})}_removeOpenDialog(e){const o=this.openDialogs.indexOf(e);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,c)=>{s?c.setAttribute("aria-hidden",s):c.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const o=e.parentElement.children;for(let s=o.length-1;s>-1;s--){let c=o[s];c!==e&&"SCRIPT"!==c.nodeName&&"STYLE"!==c.nodeName&&!c.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(c,c.getAttribute("aria-hidden")),c.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let o=e.length;for(;o--;)e[o].close()}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(zd),a.Y36(a.zs3),a.Y36(void 0),a.Y36(void 0),a.Y36(X0),a.Y36(void 0),a.Y36(a.DyG),a.Y36(a.DyG),a.Y36(a.OlP))},i.\u0275dir=a.lG2({type:i}),i})(),tw=(()=>{class i extends m4{constructor(e,o,s,c,f,g,v){super(e,o,c,g,v,f,CI,c4,h4)}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(zd),a.LFG(a.zs3),a.LFG(O,8),a.LFG(f4,8),a.LFG(x2),a.LFG(i,12),a.LFG(X0))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac}),i})(),_4=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({providers:[tw,g4],imports:[[C2,c2,Fn],Fn]}),i})();function b4(i,t){1&i&&a._UZ(0,"div")}function w4(i,t){1&i&&(a.TgZ(0,"p"),a._uU(1,"are not logged on!!!"),a.qZA())}function C4(i,t){1&i&&(a.TgZ(0,"span"),a.TgZ(1,"button",22),a._uU(2,"Admin"),a.qZA(),a.qZA())}const S4=function(i){return["/dashboard",i,"admin"]};function A4(i,t){if(1&i&&(a.TgZ(0,"span"),a.TgZ(1,"button",25),a._UZ(2,"i",26),a._uU(3,"Admin Dashboard"),a.qZA(),a.qZA()),2&i){const e=a.oxw().ngIf;a.xp6(1),a.Q6J("routerLink",a.VKq(1,S4,e.uid))}}function E4(i,t){if(1&i&&(a.TgZ(0,"tr"),a.TgZ(1,"td"),a._uU(2),a.qZA(),a.TgZ(3,"td"),a._uU(4),a.qZA(),a.TgZ(5,"td"),a._uU(6),a.qZA(),a.TgZ(7,"td"),a._uU(8),a.ALo(9,"json"),a.qZA(),a.TgZ(10,"td"),a._uU(11),a.qZA(),a.qZA()),2&i){const e=t.$implicit;a.xp6(2),a.Oqu(e.displayname),a.xp6(2),a.Oqu(e.rank),a.xp6(2),a.Oqu(e.uid),a.xp6(2),a.Oqu(a.lcZ(9,5,e.role)),a.xp6(3),a.Oqu(e.verified)}}function T4(i,t){if(1&i&&(a.TgZ(0,"div",34),a.TgZ(1,"div"),a.TgZ(2,"table",35),a.TgZ(3,"thead"),a.TgZ(4,"tr"),a.TgZ(5,"th"),a._uU(6,"displayname"),a.qZA(),a.TgZ(7,"th"),a._uU(8,"rank"),a.qZA(),a.TgZ(9,"th"),a._uU(10,"uid"),a.qZA(),a.TgZ(11,"th"),a._uU(12,"role"),a.qZA(),a.TgZ(13,"th"),a._uU(14,"verified"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(15,"tbody"),a.YNc(16,E4,12,7,"tr",36),a.ALo(17,"async"),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&i){const e=a.oxw(3);a.xp6(16),a.Q6J("ngForOf",a.lcZ(17,1,e.users))}}const D4=function(i){return["/profile",i]};function M4(i,t){if(1&i){const e=a.EpF();a.TgZ(0,"div"),a.TgZ(1,"div",5),a.TgZ(2,"div",6),a.TgZ(3,"div",7),a.TgZ(4,"div",8),a.TgZ(5,"h6",9),a._uU(6),a.qZA(),a.TgZ(7,"div",10),a.TgZ(8,"div",11),a._UZ(9,"i",12),a.TgZ(10,"span",13),a._uU(11,"Null"),a.qZA(),a.qZA(),a.TgZ(12,"div"),a.TgZ(13,"span",14),a._uU(14,"Null"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(15,"div",15),a.TgZ(16,"div",16),a._UZ(17,"img",17),a.qZA(),a.TgZ(18,"div",18),a.TgZ(19,"div",19),a.TgZ(20,"span"),a._uU(21),a.qZA(),a.TgZ(22,"div",20),a._UZ(23,"i",21),a._UZ(24,"i",21),a._UZ(25,"i",21),a._UZ(26,"i",21),a._UZ(27,"i",21),a.qZA(),a.qZA(),a.TgZ(28,"div"),a.TgZ(29,"button",22),a._uU(30,"reader"),a.qZA(),a.YNc(31,C4,3,0,"span",4),a.qZA(),a.qZA(),a.qZA(),a._UZ(32,"hr",23),a.TgZ(33,"h6"),a._uU(34),a.qZA(),a.TgZ(35,"div",24),a.TgZ(36,"button",25),a._UZ(37,"i",26),a._uU(38,"Profile"),a.qZA(),a.YNc(39,A4,4,3,"span",4),a.qZA(),a.qZA(),a.qZA(),a.TgZ(40,"div",27),a.TgZ(41,"mat-card",28),a.YNc(42,T4,18,3,"div",29),a.qZA(),a.qZA(),a.qZA(),a.TgZ(43,"div",30),a.TgZ(44,"div",31),a._uU(45,"Uploads "),a.TgZ(46,"button",32),a.NdJ("click",function(){return a.CHM(e),a.oxw(2).openDialog()}),a._uU(47,"Upload PDF"),a.qZA(),a.qZA(),a.TgZ(48,"div",33),a._uU(49,"STATS"),a.qZA(),a.qZA(),a.qZA()}if(2&i){const e=t.ngIf;a.xp6(6),a.Oqu(e.email),a.xp6(11),a.s9C("src",e.photoURL,a.LSH),a.xp6(4),a.Oqu(e.displayname),a.xp6(10),a.Q6J("ngIf",1==e.role.admin),a.xp6(3),a.Oqu(e.uid),a.xp6(2),a.Q6J("routerLink",a.VKq(8,D4,e.uid)),a.xp6(3),a.Q6J("ngIf",1==e.role.admin),a.xp6(3),a.Q6J("ngIf",1==e.role.admin)}}function k4(i,t){if(1&i&&(a.TgZ(0,"div",3),a.YNc(1,M4,50,10,"div",4),a.ALo(2,"async"),a.qZA()),2&i){const e=a.oxw();a.xp6(1),a.Q6J("ngIf",a.lcZ(2,1,e.auth.user$))}}let R4=(()=>{class i{constructor(e,o,s,c){this.afAuth=e,this.auth=o,this.afs=s,this.dialog=c,this.user=Qr}openDialog(){this.dialog.open(x4).afterClosed().subscribe(o=>{console.log(`Dialog result: ${o}`)})}ngOnInit(){this.userCollection=this.afs.collection("users"),this.users=this.userCollection.valueChanges(),console.log(this.test),this.documentCollection=this.afs.collection("documents"),this.documents=this.documentCollection.valueChanges()}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(ai),a.Y36(Qr),a.Y36(Cv),a.Y36(tw))},i.\u0275cmp=a.Xpm({type:i,selectors:[["app-admin"]],decls:6,vars:5,consts:[[4,"ngIf","ngIfThen","ngIfElse"],["guest",""],["authenticated",""],[1,"dashboard"],[4,"ngIf"],[1,"top"],[1,"profile"],[1,"card","p-4","mt-3"],[1,"first"],[1,"heading"],[1,"time","d-flex","flex-row","align-items-center","justify-content-between","mt-3"],[1,"d-flex","align-items-center"],[1,"fa","fa-clock-o","clock"],[1,"hour","ml-1"],[1,"font-weight-bold"],[1,"second","d-flex","flex-row","mt-2"],[1,"image","mr-3"],["width","60",1,"rounded-circle",3,"src"],[1,""],[1,"d-flex","flex-row","mb-1"],[1,"ratings","ml-2"],[1,"fa","fa-star"],["disabled","",1,"btn","btn-outline-dark","btn-sm"],[1,"line-color"],[1,"third","mt-4"],[1,"btn","btn-success","btn-block",3,"routerLink"],[1,"fa","fa-clock-o"],[1,"users"],[1,"tableinside"],["class","userUpdate",4,"ngIf"],[1,"documents"],[1,"uploads"],["mat-menu-item","",3,"click"],[1,"stats"],[1,"userUpdate"],[1,"content-table"],[4,"ngFor","ngForOf"]],template:function(e,o){if(1&e&&(a.YNc(0,b4,1,0,"div",0),a.ALo(1,"async"),a.YNc(2,w4,2,0,"ng-template",null,1,a.W1O),a.YNc(4,k4,3,3,"ng-template",null,2,a.W1O)),2&e){const s=a.MAs(3),c=a.MAs(5);a.Q6J("ngIf",a.lcZ(1,3,o.auth.user$))("ngIfThen",c)("ngIfElse",s)}},directives:[ar,ks,J0,Mv,Rn],pipes:[Zi,So],styles:['.dashboard[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:stretch}.profile[_ngcontent-%COMP%]{background-color:#fff;width:40vw;height:40vh;margin-right:0%;overflow:hidden;border-style:solid;justify-content:center;display:flex}.table[_ngcontent-%COMP%]{width:100%}.documents[_ngcontent-%COMP%]{background-color:#bc8f8f;width:100vw;display:flex;flex-direction:row;justify-content:center;align-items:stretch}.users[_ngcontent-%COMP%]{background-color:#fff;width:60vw;height:40vh;margin-right:0%;max-height:40vh;overflow:hidden;display:flex;border-style:solid}.uploads[_ngcontent-%COMP%]{background-color:#fff;width:30vw;height:60vh;border-style:solid}.stats[_ngcontent-%COMP%]{background-color:#fff;width:70vw;height:60vh;border-style:solid}.top[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:stretch}*[_ngcontent-%COMP%]{font-family:sans-serif}.tableinside[_ngcontent-%COMP%]{padding:0%}.content-table[_ngcontent-%COMP%]{border-collapse:collapse;font-size:.9em;min-width:400px;border-radius:5px 5px 0 0;overflow:hidden;box-shadow:0 0 20px #00000026;width:55vw;margin:25px 2.5vw}.content-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{background-color:#009879;color:#fff;text-align:left;font-weight:bold}.content-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .content-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:12px 15px}.content-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{border-bottom:1px solid #dddddd}.content-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-of-type(even){background-color:#f3f3f3}.content-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:last-of-type{border-bottom:2px solid #009879}.content-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.active-row[_ngcontent-%COMP%]{font-weight:bold;color:#009879}body[_ngcontent-%COMP%]{background-color:#eee;font-family:"Roboto",sans-serif}.card[_ngcontent-%COMP%]{background-color:#bbb;width:30vw;height:90%;border-radius:20px}.heading[_ngcontent-%COMP%]{font-weight:700}.hour[_ngcontent-%COMP%]{margin-top:1px;color:green;font-size:12px}.ratings[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#388e3c}.btn[_ngcontent-%COMP%]{border-radius:15px!important}.line-color[_ngcontent-%COMP%]{color:green;height:3px}']}),i})(),x4=(()=>{class i{constructor(e,o,s,c){this.afAuth=e,this.auth=o,this.afs=s,this.dialog=c,this.user=Qr,this.false=null}testButton(){this.afAuth.user.subscribe(e=>{e?this.uid=e.uid:this.false=!0}),console.log(this.false)}ngOnInit(){this.userCollection=this.afs.collection("users"),this.users=this.userCollection.valueChanges(),this.documentCollection=this.afs.collection("documents"),this.documents=this.documentCollection.valueChanges(),this.testButton()}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(ai),a.Y36(Qr),a.Y36(Cv),a.Y36(tw))},i.\u0275cmp=a.Xpm({type:i,selectors:[["app-dialog"]],decls:12,vars:1,consts:[[1,"uploadpdf"],[1,"form-label"],["type","text","aria-label","readonly input example","readonly","",1,"form-control",3,"value"],[1,"mb-3"],["for","exampleFormControlInput1",1,"form-label"],["type","email","id","exampleFormControlInput1","placeholder","name@example.com",1,"form-control"],["for","exampleFormControlTextarea1",1,"form-label"],["id","exampleFormControlTextarea1","rows","3",1,"form-control"]],template:function(e,o){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"label",1),a._uU(2,"UID"),a.qZA(),a._UZ(3,"input",2),a._UZ(4,"br"),a.TgZ(5,"div",3),a.TgZ(6,"label",4),a._uU(7,"Email address"),a.qZA(),a._UZ(8,"input",5),a.qZA(),a.TgZ(9,"div",3),a._UZ(10,"label",6),a._UZ(11,"textarea",7),a.qZA(),a.qZA()),2&e&&(a.xp6(3),a.s9C("value",o.uid))},styles:[".uploadpdf[_ngcontent-%COMP%]{width:70vw}"]}),i})();const I4=[{path:"",component:u3},{path:"info",component:l3},{path:"search",component:cN},{path:"docinfo",component:fC},{path:"pdfview",component:JH},{path:"login",component:NG},{path:"signup",component:Aj},{path:"dashboard",component:Vj,canActivate:[qd]},{path:"info/readersinfo",component:Hj,canActivate:[qd]},{path:"info/managersinfo",component:Uj,canActivate:[qd]},{path:"info/devinfo",component:Gj,canActivate:[qd]},{path:"test/testpage",component:Yj,canActivate:[qd]},{path:"profile/:uid",component:Xj,canActivate:[qd]},{path:"profile/:uid/update",component:s4,canActivate:[qd]},{path:"dashboard/:uid/admin",component:R4,canActivate:[qd]}];let P4=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[[mg.forRoot(I4)],mg]}),i})();const O4=function(){return["/login"]},F4=function(){return["/signup"]};function L4(i,t){if(1&i&&(a.TgZ(0,"div",2),a.TgZ(1,"button",3),a.TgZ(2,"mat-icon"),a._uU(3,"account_circle"),a.qZA(),a.qZA(),a.TgZ(4,"mat-menu",null,4),a.TgZ(6,"button",5),a._uU(7,"Log in"),a.qZA(),a.TgZ(8,"button",5),a._uU(9,"Sign Up"),a.qZA(),a.qZA(),a.qZA()),2&i){const e=a.MAs(5);a.xp6(1),a.Q6J("matMenuTriggerFor",e),a.xp6(5),a.Q6J("routerLink",a.DdM(3,O4)),a.xp6(2),a.Q6J("routerLink",a.DdM(4,F4))}}const N4=function(i){return["/profile",i]},B4=function(){return["/dashboard"]};function V4(i,t){if(1&i){const e=a.EpF();a.TgZ(0,"span"),a.TgZ(1,"button",7),a._uU(2,"Profile"),a.qZA(),a.TgZ(3,"button",5),a._uU(4,"Dashboard"),a.qZA(),a.TgZ(5,"button",8),a.NdJ("click",function(){return a.CHM(e),a.oxw(2).logOut()}),a._uU(6,"Log out"),a.qZA(),a.qZA()}if(2&i){const e=t.ngIf;a.xp6(1),a.Q6J("routerLink",a.VKq(2,N4,e.uid)),a.xp6(2),a.Q6J("routerLink",a.DdM(4,B4))}}function U4(i,t){if(1&i&&(a.TgZ(0,"div",2),a.TgZ(1,"button",3),a.TgZ(2,"mat-icon"),a._uU(3,"account_circle"),a.qZA(),a.qZA(),a.TgZ(4,"mat-menu",null,4),a.YNc(6,V4,7,5,"span",6),a.ALo(7,"async"),a.qZA(),a.qZA()),2&i){const e=a.MAs(5),o=a.oxw();a.xp6(1),a.Q6J("matMenuTriggerFor",e),a.xp6(5),a.Q6J("ngIf",a.lcZ(7,2,o.auth.user$))}}let H4=(()=>{class i{constructor(e,o){this.afAuth=e,this.auth=o,this.user=Qr}ngOnInit(){}logOut(){this.afAuth.signOut()}}return i.\u0275fac=function(e){return new(e||i)(a.Y36(ai),a.Y36(Qr))},i.\u0275cmp=a.Xpm({type:i,selectors:[["app-toolbar"]],decls:7,vars:6,consts:[[1,"toolbar"],["class","profile",4,"ngIf"],[1,"profile"],["mat-mini-fab","","color","primary","aria-label","Example icon button with a delete icon",1,"fab",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","","routerLinkActive","router-link-active",3,"routerLink"],[4,"ngIf"],["mat-menu-item","",3,"routerLink"],["mat-menu-item","",3,"click"]],template:function(e,o){1&e&&(a.TgZ(0,"div",0),a.TgZ(1,"h1"),a._uU(2,"Project Alexandria"),a.qZA(),a.YNc(3,L4,10,5,"div",1),a.ALo(4,"async"),a.YNc(5,U4,8,4,"div",1),a.ALo(6,"async"),a.qZA()),2&e&&(a.xp6(3),a.Q6J("ngIf",!a.lcZ(4,2,o.afAuth.user)),a.xp6(2),a.Q6J("ngIf",a.lcZ(6,4,o.afAuth.user)))},directives:[ar,gu,mj,XT,pj,Mv,Ih,ks],pipes:[Zi],styles:[".toolbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.profile[_ngcontent-%COMP%]{right:0;position:absolute;margin-right:2%}.fab[_ngcontent-%COMP%]{margin-right:3%;background-color:#00000045;color:#000}"]}),i})();const G4=function(){return["/"]},j4=function(){return["/search"]},z4=function(){return["/info"]},q4=function(){return["/pdfview"]},W4=function(){return["/docinfo"]};let Y4=(()=>{class i{constructor(){this.showFiller=!1,this.title="Alexandria"}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=a.Xpm({type:i,selectors:[["app-root"]],decls:29,vars:10,consts:[["autosize","",1,"example-container"],["type","button","mat-button","",3,"click"],["aria-hidden","false","aria-label","Menu Icon"],["mode","over",1,"example-sidenav"],["drawer",""],[1,"container"],[1,"row"],["mat-raised-button","","routerLinkActive","router-link-active",3,"routerLink"],[1,"text"],[1,"example-sidenav-content"]],template:function(e,o){if(1&e){const s=a.EpF();a.TgZ(0,"mat-drawer-container",0),a.TgZ(1,"mat-toolbar"),a.TgZ(2,"button",1),a.NdJ("click",function(){return a.CHM(s),a.MAs(7).toggle()}),a.TgZ(3,"mat-icon",2),a._uU(4,"menu"),a.qZA(),a.qZA(),a._UZ(5,"app-toolbar"),a.qZA(),a.TgZ(6,"mat-drawer",3,4),a.TgZ(8,"div",5),a.TgZ(9,"div",6),a.TgZ(10,"button",7),a._uU(11,"Home"),a.qZA(),a.qZA(),a.TgZ(12,"div",6),a.TgZ(13,"button",7),a._uU(14,"Search"),a.qZA(),a.qZA(),a.TgZ(15,"div",6),a.TgZ(16,"button",7),a._uU(17,"Info"),a.qZA(),a.qZA(),a.TgZ(18,"div",8),a.TgZ(19,"p"),a._uU(20," Below are test views "),a.qZA(),a.qZA(),a.TgZ(21,"div",6),a.TgZ(22,"button",7),a._uU(23,"Document Viewer"),a.qZA(),a.qZA(),a.TgZ(24,"div",6),a.TgZ(25,"button",7),a._uU(26,"Document Information"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(27,"div",9),a._UZ(28,"router-outlet"),a.qZA(),a.qZA()}2&e&&(a.xp6(10),a.Q6J("routerLink",a.DdM(5,G4)),a.xp6(3),a.Q6J("routerLink",a.DdM(6,j4)),a.xp6(3),a.Q6J("routerLink",a.DdM(7,z4)),a.xp6(6),a.Q6J("routerLink",a.DdM(8,q4)),a.xp6(3),a.Q6J("routerLink",a.DdM(9,W4)))},directives:[ZT,rH,gu,XT,H4,YT,Ih,ks,hg],styles:[".example-container[_ngcontent-%COMP%]{width:100%;height:100%;align-items:center}.example-sidenav[_ngcontent-%COMP%]{padding:0;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.row[_ngcontent-%COMP%]{align-items:center;padding:10% 20px}.text[_ngcontent-%COMP%]{align-items:center}"]}),i})(),i6=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[[Y_,Fn],Y_,Fn]}),i})();const U2=new a.OlP("mat-chips-default-options"),v6={separatorKeyCodes:[13]};let y6=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({providers:[rm,{provide:U2,useValue:v6}],imports:[[Fn]]}),i})(),I6=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[[sI]]}),i})(),$6=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({imports:[[I6,Fn],Fn]}),i})();var K2="firebasestorage.googleapis.com",J2="storageBucket",Jr=function(i){function t(e,o){var s=i.call(this,LI(e),"Firebase Storage: "+o+" ("+LI(e)+")")||this;return s.customData={serverResponse:null},s._baseMessage=s.message,Object.setPrototypeOf(s,t.prototype),s}return(0,Me.ZT)(t,i),t.prototype._codeEquals=function(e){return LI(e)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),t}(Cn.ZR);function LI(i){return"storage/"+i}function NI(){return new Jr("unknown","An unknown error occurred, please check the error payload for server response.")}function X2(){return new Jr("canceled","User canceled the upload/download.")}function eB(){return new Jr("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function _p(i){return new Jr("invalid-argument",i)}function tB(){return new Jr("app-deleted","The Firebase app was deleted.")}function nB(i){return new Jr("invalid-root-operation","The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function iw(i,t){return new Jr("invalid-format","String does not match format '"+i+"': "+t)}function gD(i){throw new Jr("internal-error","Internal error: "+i)}var Zs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},BI=function(t,e){this.data=t,this.contentType=e||null};function rB(i,t){switch(i){case Zs.RAW:return new BI(iB(t));case Zs.BASE64:case Zs.BASE64URL:return new BI(oB(i,t));case Zs.DATA_URL:return new BI(function(i){var t=new sB(i);return t.base64?oB(Zs.BASE64,t.rest):function(i){var t;try{t=decodeURIComponent(i)}catch(e){throw iw(Zs.DATA_URL,"Malformed data URL.")}return iB(t)}(t.rest)}(t),function(i){return new sB(i).contentType}(t))}throw NI()}function iB(i){for(var t=[],e=0;e<i.length;e++){var o=i.charCodeAt(e);if(o<=127)t.push(o);else if(o<=2047)t.push(192|o>>6,128|63&o);else if(55296==(64512&o))if(e<i.length-1&&56320==(64512&i.charCodeAt(e+1))){var c=o,f=i.charCodeAt(++e);t.push(240|(o=65536|(1023&c)<<10|1023&f)>>18,128|o>>12&63,128|o>>6&63,128|63&o)}else t.push(239,191,189);else 56320==(64512&o)?t.push(239,191,189):t.push(224|o>>12,128|o>>6&63,128|63&o)}return new Uint8Array(t)}function oB(i,t){switch(i){case Zs.BASE64:var e=-1!==t.indexOf("-"),o=-1!==t.indexOf("_");if(e||o)throw iw(i,"Invalid character '"+(e?"-":"_")+"' found: is it base64url encoded?");break;case Zs.BASE64URL:var c=-1!==t.indexOf("+"),f=-1!==t.indexOf("/");if(c||f)throw iw(i,"Invalid character '"+(c?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var g;try{g=function(i){return atob(i)}(t)}catch(W){throw iw(i,"Invalid character found")}for(var v=new Uint8Array(g.length),S=0;S<g.length;S++)v[S]=g.charCodeAt(S);return v}var sB=function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw iw(Zs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var o=e[1]||null;null!=o&&(this.base64=function(i,t){return i.length>=t.length&&i.substring(i.length-t.length)===t}(o,";base64"),this.contentType=this.base64?o.substring(0,o.length-";base64".length):o),this.rest=t.substring(t.indexOf(",")+1)},gz={STATE_CHANGED:"state_changed"},_o={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function VI(i){switch(i){case"running":case"pausing":case"canceling":return _o.RUNNING;case"paused":return _o.PAUSED;case"success":return _o.SUCCESS;case"canceled":return _o.CANCELED;case"error":default:return _o.ERROR}}var Wd=(()=>(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"}(Wd||(Wd={})),Wd))(),mz=function(){function i(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Wd.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=Wd.ABORT,e()}),t.xhr_.addEventListener("error",function(){t.errorCode_=Wd.NETWORK_ERROR,e()}),t.xhr_.addEventListener("load",function(){e()})})}return i.prototype.send=function(t,e,o,s){if(this.sent_)throw gD("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==s)for(var c in s)s.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,s[c].toString());return void 0!==o?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_},i.prototype.getErrorCode=function(){if(!this.sent_)throw gD("cannot .getErrorCode() before sending");return this.errorCode_},i.prototype.getStatus=function(){if(!this.sent_)throw gD("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},i.prototype.getResponseText=function(){if(!this.sent_)throw gD("cannot .getResponseText() before sending");return this.xhr_.responseText},i.prototype.abort=function(){this.xhr_.abort()},i.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},i.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},i.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},i}(),yz=function(){function i(){}return i.prototype.createConnection=function(){return new mz},i}(),$s=function(){function i(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(i.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),i.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},i.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},i.makeFromBucketSpec=function(t,e){var o;try{o=i.makeFromUrl(t,e)}catch(s){return new i(t,"")}if(""===o.path)return o;throw function(i){return new Jr("invalid-default-bucket","Invalid default bucket '"+i+"'.")}(t)},i.makeFromUrl=function(t,e){var o=null,s="([A-Za-z0-9.\\-_]+)",g=new RegExp("^gs://"+s+"(/(.*))?$","i");function S(nr){nr.path_=decodeURIComponent(nr.path)}for(var pe=e.replace(/[.]/g,"\\."),Rt=[{regex:g,indices:{bucket:1,path:3},postModify:function(nr){"/"===nr.path.charAt(nr.path.length-1)&&(nr.path_=nr.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+pe+"/v[A-Za-z0-9_]+/b/"+s+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:S},{regex:new RegExp("^https?://"+(e===K2?"(?:storage.googleapis.com|storage.cloud.google.com)":e)+"/"+s+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:S}],Ht=0;Ht<Rt.length;Ht++){var jt=Rt[Ht],cn=jt.regex.exec(t);if(cn){var hi=cn[jt.indices.path];hi||(hi=""),o=new i(cn[jt.indices.bucket],hi),jt.postModify(o);break}}if(null==o)throw function(i){return new Jr("invalid-url","Invalid URL '"+i+"'.")}(t);return o},i}(),_z=function(){function i(t){this.promise_=Promise.reject(t)}return i.prototype.getPromise=function(){return this.promise_},i.prototype.cancel=function(t){},i}();function mD(i){return"string"==typeof i||i instanceof String}function aB(i){return UI()&&i instanceof Blob}function UI(){return"undefined"!=typeof Blob}function HI(i,t,e,o){if(o<t)throw _p("Invalid value for '"+i+"'. Expected "+t+" or greater.");if(o>e)throw _p("Invalid value for '"+i+"'. Expected "+e+" or less.")}function Yd(i,t){var e=t.match(/^(\w+):\/\/.+/),s=t;return null==(null==e?void 0:e[1])&&(s="https://"+t),s+"/v0"+i}function uB(i){var t=encodeURIComponent,e="?";for(var o in i)i.hasOwnProperty(o)&&(e=e+(t(o)+"=")+t(i[o])+"&");return e.slice(0,-1)}var Ez=function(){function i(t,e,o,s,c,f,g,v,S,W,pe){var we=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=o,this.body_=s,this.successCodes_=c.slice(),this.additionalRetryCodes_=f.slice(),this.callback_=g,this.errorCallback_=v,this.progressCallback_=W,this.timeout_=S,this.pool_=pe,this.promise_=new Promise(function(Te,Pe){we.resolve_=Te,we.reject_=Pe,we.start_()})}return i.prototype.start_=function(){var t=this;function o(s,c){var f=t.resolve_,g=t.reject_,v=c.connection;if(c.wasSuccessCode)try{var S=t.callback_(v,v.getResponseText());!function(i){return void 0!==i}(S)?f():f(S)}catch(pe){g(pe)}else if(null!==v)(W=NI()).serverResponse=v.getResponseText(),g(t.errorCallback_?t.errorCallback_(v,W):W);else if(c.canceled)g(W=t.appDelete_?tB():X2());else{var W;g(W=new Jr("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}}this.canceled_?o(0,new vD(!1,null,!0)):this.backoffId_=function(i,t,e){var o=1,s=null,c=!1,f=0;function g(){return 2===f}var v=!1;function S(){for(var Pe=[],Ue=0;Ue<arguments.length;Ue++)Pe[Ue]=arguments[Ue];v||(v=!0,t.apply(null,Pe))}function W(Pe){s=setTimeout(function(){s=null,i(pe,g())},Pe)}function pe(Pe){for(var Ue=[],rt=1;rt<arguments.length;rt++)Ue[rt-1]=arguments[rt];if(!v){if(Pe)return void S.call.apply(S,(0,Me.ev)([null,Pe],Ue));var At;if(g()||c)return void S.call.apply(S,(0,Me.ev)([null,Pe],Ue));o<64&&(o*=2),1===f?(f=2,At=0):At=1e3*(o+Math.random()),W(At)}}var we=!1;function Te(Pe){we||(we=!0,!v&&(null!==s?(Pe||(f=2),clearTimeout(s),W(0)):Pe||(f=1)))}return W(0),setTimeout(function(){c=!0,Te(!0)},e),Te}(function(s,c){if(c)s(!1,new vD(!1,null,!0));else{var f=t.pool_.createConnection();t.pendingConnection_=f,null!==t.progressCallback_&&f.addUploadProgressListener(g),f.send(t.url_,t.method_,t.body_,t.headers_).then(function(){null!==t.progressCallback_&&f.removeUploadProgressListener(g),t.pendingConnection_=null;var v=f.getErrorCode()===Wd.NO_ERROR,S=f.getStatus();if(v&&!t.isRetryStatusCode_(S)){var pe=-1!==t.successCodes_.indexOf(S);s(!0,new vD(pe,f))}else{var W=f.getErrorCode()===Wd.ABORT;s(!1,new vD(!1,null,W))}})}function g(v){null!==t.progressCallback_&&t.progressCallback_(v.loaded,v.lengthComputable?v.total:-1)}},o,this.timeout_)},i.prototype.getPromise=function(){return this.promise_},i.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function(i){i(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()},i.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,s=-1!==[408,429].indexOf(t),c=-1!==this.additionalRetryCodes_.indexOf(t);return e||s||c},i}(),vD=function(t,e,o){this.wasSuccessCode=t,this.connection=e,this.canceled=!!o};function xz(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Iz(){for(var i=[],t=0;t<arguments.length;t++)i[t]=arguments[t];var e=xz();if(void 0!==e){for(var o=new e,s=0;s<i.length;s++)o.append(i[s]);return o.getBlob()}if(UI())return new Blob(i);throw new Jr("unsupported-environment","This browser doesn't seem to support creating Blobs")}var GI=function(){function i(t,e){var o=0,s="";aB(t)?(this.data_=t,o=t.size,s=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),o=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),o=t.length),this.size_=o,this.type_=s}return i.prototype.size=function(){return this.size_},i.prototype.type=function(){return this.type_},i.prototype.slice=function(t,e){if(aB(this.data_)){var s=function(i,t,e){return i.webkitSlice?i.webkitSlice(t,e):i.mozSlice?i.mozSlice(t,e):i.slice?i.slice(t,e):null}(this.data_,t,e);return null===s?null:new i(s)}return new i(new Uint8Array(this.data_.buffer,t,e-t),!0)},i.getBlob=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(UI()){var o=t.map(function(v){return v instanceof i?v.data_:v});return new i(Iz.apply(null,o))}var s=t.map(function(v){return mD(v)?rB(Zs.RAW,v).data:v.data_}),c=0;s.forEach(function(v){c+=v.byteLength});var f=new Uint8Array(c),g=0;return s.forEach(function(v){for(var S=0;S<v.length;S++)f[g++]=v[S]}),new i(f,!0)},i.prototype.uploadData=function(){return this.data_},i}();function jI(i){var t;try{t=JSON.parse(i)}catch(e){return null}return function(i){return"object"==typeof i&&!Array.isArray(i)}(t)?t:null}function lB(i){var t=i.lastIndexOf("/",i.length-2);return-1===t?i:i.slice(t+1)}function Lz(i,t){return t}var bo=function(t,e,o,s){this.server=t,this.local=e||t,this.writable=!!o,this.xform=s||Lz},yD=null;function _D(){if(yD)return yD;var i=[];i.push(new bo("bucket")),i.push(new bo("generation")),i.push(new bo("metageneration")),i.push(new bo("name","fullPath",!0));var e=new bo("name");e.xform=function(c,f){return function(i){return!mD(i)||i.length<2?i:lB(i)}(f)},i.push(e);var s=new bo("size");return s.xform=function(c,f){return void 0!==f?Number(f):f},i.push(s),i.push(new bo("timeCreated")),i.push(new bo("updated")),i.push(new bo("md5Hash",null,!0)),i.push(new bo("cacheControl",null,!0)),i.push(new bo("contentDisposition",null,!0)),i.push(new bo("contentEncoding",null,!0)),i.push(new bo("contentLanguage",null,!0)),i.push(new bo("contentType",null,!0)),i.push(new bo("metadata","customMetadata",!0)),yD=i}function cB(i,t,e){var o=jI(t);return null===o?null:function(i,t,e){for(var o={type:"file"},s=e.length,c=0;c<s;c++){var f=e[c];o[f.local]=f.xform(o,t[f.server])}return function(i,t){Object.defineProperty(i,"ref",{get:function(){var c=new $s(i.bucket,i.fullPath);return t._makeStorageReference(c)}})}(o,i),o}(i,o,e)}function zI(i,t){for(var e={},o=t.length,s=0;s<o;s++){var c=t[s];c.writable&&(e[c.server]=i[c.local])}return JSON.stringify(e)}var dB="prefixes";var Ql=function(t,e,o,s){this.url=t,this.method=e,this.handler=o,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function Ou(i){if(!i)throw NI()}function bD(i,t){return function(o,s){var c=cB(i,s,t);return Ou(null!==c),c}}function Iv(i){return function(e,o){var s;return(s=401===e.getStatus()?e.getResponseText().includes("Firebase App Check token is invalid")?new Jr("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Jr("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?function(i){return new Jr("quota-exceeded","Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(i.bucket):403===e.getStatus()?function(i){return new Jr("unauthorized","User does not have permission to access '"+i+"'.")}(i.path):o).serverResponse=o.serverResponse,s}}function wD(i){var t=Iv(i);return function(o,s){var c=t(o,s);return 404===o.getStatus()&&(c=function(i){return new Jr("object-not-found","Object '"+i+"' does not exist.")}(i.path)),c.serverResponse=s.serverResponse,c}}function fB(i,t,e){var s=Yd(t.fullServerUrl(),i.host),f=i.maxOperationRetryTime,g=new Ql(s,"GET",bD(i,e),f);return g.errorHandler=wD(t),g}function qz(i,t,e,o,s){var c={};c.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(c.delimiter=e),o&&(c.pageToken=o),s&&(c.maxResults=s);var g=Yd(t.bucketOnlyServerUrl(),i.host),S=i.maxOperationRetryTime,W=new Ql(g,"GET",function(i,t){return function(o,s){var c=function(i,t,e){var o=jI(e);return null===o?null:function(i,t,e){var o={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[dB])for(var s=0,c=e[dB];s<c.length;s++){var g=c[s].replace(/\/$/,""),v=i._makeStorageReference(new $s(t,g));o.prefixes.push(v)}if(e.items)for(var S=0,W=e.items;S<W.length;S++)v=i._makeStorageReference(new $s(t,W[S].name)),o.items.push(v);return o}(i,t,o)}(i,t,s);return Ou(null!==c),c}}(i,t.bucket),S);return W.urlParams=c,W.errorHandler=Iv(t),W}function pB(i,t,e){var o=Object.assign({},e);return o.fullPath=i.path,o.size=t.size(),o.contentType||(o.contentType=function(i,t){return t&&t.type()||"application/octet-stream"}(0,t)),o}var CD=function(t,e,o,s){this.current=t,this.total=e,this.finalized=!!o,this.metadata=s||null};function qI(i,t){var e=null;try{e=i.getResponseHeader("X-Goog-Upload-Status")}catch(s){Ou(!1)}return Ou(!!e&&-1!==(t||["active"]).indexOf(e)),e}var eq=function(t,e,o){if(function(i){return"function"==typeof i}(t)||null!=e||null!=o)this.next=t,this.error=e,this.complete=o;else{var c=t;this.next=c.next,this.error=c.error,this.complete=c.complete}};function Pv(i){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];Promise.resolve().then(function(){return i.apply(void 0,t)})}}var mB=function(){function i(t,e,o){var s=this;void 0===o&&(o=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=o,this._mappings=_D(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(c){s._request=void 0,s._chunkMultiplier=1,c._codeEquals("canceled")?(s._needToFetchStatus=!0,s.completeTransitions_()):(s._error=c,s._transition("error"))},this._metadataErrorHandler=function(c){s._request=void 0,c._codeEquals("canceled")?s.completeTransitions_():(s._error=c,s._transition("error"))},this._promise=new Promise(function(c,f){s._resolve=c,s._reject=f,s._start()}),this._promise.then(null,function(){})}return i.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(o){return t._updateProgress(e+o)}},i.prototype._shouldDoResumable=function(t){return t.size()>262144},i.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},i.prototype._resolveToken=function(t){var e=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(o){var s=o[0],c=o[1];switch(e._state){case"running":t(s,c);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}})},i.prototype._createResumable=function(){var t=this;this._resolveToken(function(e,o){var s=function(i,t,e,o,s){var c=t.bucketOnlyServerUrl(),f=pB(t,o,s),g={name:f.fullPath},v=Yd(c,i.host),W={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+o.size(),"X-Goog-Upload-Header-Content-Type":f.contentType,"Content-Type":"application/json; charset=utf-8"},pe=zI(f,e),Pe=new Ql(v,"POST",function(Ue){var rt;qI(Ue);try{rt=Ue.getResponseHeader("X-Goog-Upload-URL")}catch(vt){Ou(!1)}return Ou(mD(rt)),rt},i.maxUploadRetryTime);return Pe.urlParams=g,Pe.headers=W,Pe.body=pe,Pe.errorHandler=Iv(t),Pe}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),c=t._ref.storage._makeRequest(s,e,o);t._request=c,c.getPromise().then(function(f){t._request=void 0,t._uploadUrl=f,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},i.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken(function(o,s){var c=function(i,t,e,o){var v=new Ql(e,"POST",function(S){var W=qI(S,["active","final"]),pe=null;try{pe=S.getResponseHeader("X-Goog-Upload-Size-Received")}catch(Te){Ou(!1)}pe||Ou(!1);var we=Number(pe);return Ou(!isNaN(we)),new CD(we,o.size(),"final"===W)},i.maxUploadRetryTime);return v.headers={"X-Goog-Upload-Command":"query"},v.errorHandler=Iv(t),v}(t._ref.storage,t._ref._location,e,t._blob),f=t._ref.storage._makeRequest(c,o,s);t._request=f,f.getPromise().then(function(g){g=g,t._request=void 0,t._updateProgress(g.current),t._needToFetchStatus=!1,g.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},i.prototype._continueUpload=function(){var t=this,e=262144*this._chunkMultiplier,o=new CD(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken(function(c,f){var g;try{g=function(i,t,e,o,s,c,f,g){var v=new CD(0,0);if(f?(v.current=f.current,v.total=f.total):(v.current=0,v.total=o.size()),o.size()!==v.total)throw new Jr("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var S=v.total-v.current,W=S;s>0&&(W=Math.min(W,s));var pe=v.current,Pe={"X-Goog-Upload-Command":W===S?"upload, finalize":"upload","X-Goog-Upload-Offset":""+v.current},Ue=o.slice(pe,pe+W);if(null===Ue)throw eB();var Rt=new Ql(e,"POST",function(Ht,jt){var nr,cn=qI(Ht,["active","final"]),kn=v.current+W,hi=o.size();return nr="final"===cn?bD(t,c)(Ht,jt):null,new CD(kn,hi,"final"===cn,nr)},t.maxUploadRetryTime);return Rt.headers=Pe,Rt.body=Ue.uploadData(),Rt.progressCallback=g||null,Rt.errorHandler=Iv(i),Rt}(t._ref._location,t._ref.storage,s,t._blob,e,t._mappings,o,t._makeProgressCallback())}catch(S){return t._error=S,void t._transition("error")}var v=t._ref.storage._makeRequest(g,c,f);t._request=v,v.getPromise().then(function(S){t._increaseMultiplier(),t._request=void 0,t._updateProgress(S.current),S.finalized?(t._metadata=S.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},i.prototype._increaseMultiplier=function(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},i.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(e,o){var s=fB(t._ref.storage,t._ref._location,t._mappings),c=t._ref.storage._makeRequest(s,e,o);t._request=c,c.getPromise().then(function(f){t._request=void 0,t._metadata=f,t._transition("success")},t._metadataErrorHandler)})},i.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(e,o){var s=function(i,t,e,o,s){var c=t.bucketOnlyServerUrl(),f={"X-Goog-Upload-Protocol":"multipart"},v=function(){for(var Rt="",Ht=0;Ht<2;Ht++)Rt+=Math.random().toString().slice(2);return Rt}();f["Content-Type"]="multipart/related; boundary="+v;var S=pB(t,o,s),W=zI(S,e),Te=GI.getBlob("--"+v+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+W+"\r\n--"+v+"\r\nContent-Type: "+S.contentType+"\r\n\r\n",o,"\r\n--"+v+"--");if(null===Te)throw eB();var Pe={name:S.fullPath},Ue=Yd(c,i.host),vt=i.maxUploadRetryTime,At=new Ql(Ue,"POST",bD(i,e),vt);return At.urlParams=Pe,At.headers=f,At.body=Te.uploadData(),At.errorHandler=Iv(t),At}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),c=t._ref.storage._makeRequest(s,e,o);t._request=c,c.getPromise().then(function(f){t._request=void 0,t._metadata=f,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},i.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},i.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=X2(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},i.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(i.prototype,"snapshot",{get:function(){var t=VI(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),i.prototype.on=function(t,e,o,s){var c=this,f=new eq(e,o,s);return this._addObserver(f),function(){c._removeObserver(f)}},i.prototype.then=function(t,e){return this._promise.then(t,e)},i.prototype.catch=function(t){return this.then(null,t)},i.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},i.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},i.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach(function(o){t._notifyObserver(o)})},i.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(VI(this._state)){case _o.SUCCESS:Pv(this._resolve.bind(null,this.snapshot))();break;case _o.CANCELED:case _o.ERROR:Pv(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},i.prototype._notifyObserver=function(t){switch(VI(this._state)){case _o.RUNNING:case _o.PAUSED:t.next&&Pv(t.next.bind(t,this.snapshot))();break;case _o.SUCCESS:t.complete&&Pv(t.complete.bind(t))();break;case _o.CANCELED:case _o.ERROR:t.error&&Pv(t.error.bind(t,this._error))();break;default:t.error&&Pv(t.error.bind(t,this._error))()}},i.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},i.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},i.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},i}(),SD=function(){function i(t,e){this._service=t,this._location=e instanceof $s?e:$s.makeFromUrl(e,t.host)}return i.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},i.prototype._newRef=function(t,e){return new i(t,e)},Object.defineProperty(i.prototype,"root",{get:function(){var t=new $s(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"name",{get:function(){return lB(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){var t=function(i){if(0===i.length)return null;var t=i.lastIndexOf("/");return-1===t?"":i.slice(0,t)}(this._location.path);if(null===t)return null;var e=new $s(this._location.bucket,t);return new i(this._service,e)},enumerable:!1,configurable:!0}),i.prototype._throwIfRoot=function(t){if(""===this._location.path)throw nB(t)},i}();function nq(i){var t={prefixes:[],items:[]};return vB(i,t).then(function(){return t})}function vB(i,t,e){return(0,Me.mG)(this,void 0,void 0,function(){var s,c,f;return(0,Me.Jh)(this,function(g){switch(g.label){case 0:return[4,yB(i,{pageToken:e})];case 1:return s=g.sent(),(c=t.prefixes).push.apply(c,s.prefixes),(f=t.items).push.apply(f,s.items),null==s.nextPageToken?[3,3]:[4,vB(i,t,s.nextPageToken)];case 2:g.sent(),g.label=3;case 3:return[2]}})})}function yB(i,t){return(0,Me.mG)(this,void 0,void 0,function(){var e,o;return(0,Me.Jh)(this,function(s){switch(s.label){case 0:return null!=t&&"number"==typeof t.maxResults&&HI("options.maxResults",1,1e3,t.maxResults),o=qz(i.storage,i._location,"/",(e=t||{}).pageToken,e.maxResults),[4,i.storage.makeRequestWithTokens(o)];case 1:return[2,s.sent().getPromise()]}})})}function oq(i){return(0,Me.mG)(this,void 0,void 0,function(){var t;return(0,Me.Jh)(this,function(e){switch(e.label){case 0:return i._throwIfRoot("getDownloadURL"),t=function(i,t,e){var s=Yd(t.fullServerUrl(),i.host),f=i.maxOperationRetryTime,g=new Ql(s,"GET",function(i,t){return function(o,s){var c=cB(i,s,t);return Ou(null!==c),function(i,t,e){var o=jI(t);if(null===o||!mD(o.downloadTokens))return null;var s=o.downloadTokens;if(0===s.length)return null;var c=encodeURIComponent;return s.split(",").map(function(v){var W=i.fullPath;return Yd("/b/"+c(i.bucket)+"/o/"+c(W),e)+uB({alt:"media",token:v})})[0]}(c,s,i.host)}}(i,e),f);return g.errorHandler=wD(t),g}(i.storage,i._location,_D()),[4,i.storage.makeRequestWithTokens(t)];case 1:return[2,e.sent().getPromise().then(function(o){if(null===o)throw new Jr("no-download-url","The given file does not have any download URLs.");return o})]}})})}function _B(i,t){var e=function(i,t){var e=t.split("/").filter(function(o){return o.length>0}).join("/");return 0===i.length?e:i+"/"+e}(i._location.path,t),o=new $s(i._location.bucket,e);return new SD(i.storage,o)}function WI(i){return/^[A-Za-z]+:\/\//.test(i)}function bB(i,t){if(i instanceof AD){var e=i;if(null==e._bucket)throw new Jr("no-default-bucket","No default bucket found. Did you set the '"+J2+"' property when initializing the app?");var o=new SD(e,e._bucket);return null!=t?bB(o,t):o}if(void 0!==t){if(t.includes(".."))throw _p('`path` param cannot contain ".."');return _B(i,t)}return i}function uq(i,t){if(t&&WI(t)){if(i instanceof AD)return function(i,t){return new SD(i,t)}(i,t);throw _p("To use ref(service, url), the first argument must be a Storage instance.")}return bB(i,t)}function wB(i,t){var e=null==t?void 0:t[J2];return null==e?null:$s.makeFromBucketSpec(e,i)}var AD=function(){function i(t,e,o,s,c,f){this.app=t,this._authProvider=e,this._appCheckProvider=o,this._pool=s,this._url=c,this._firebaseVersion=f,this._bucket=null,this._host=K2,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=c?$s.makeFromBucketSpec(c,this._host):wB(this._host,this.app.options)}return Object.defineProperty(i.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._bucket=null!=this._url?$s.makeFromBucketSpec(this._url,t):wB(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){HI("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){HI("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),i.prototype._getAuthToken=function(){return(0,Me.mG)(this,void 0,void 0,function(){var t,e;return(0,Me.Jh)(this,function(o){switch(o.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=o.sent()))return[2,e.accessToken];o.label=2;case 2:return[2,null]}})})},i.prototype._getAppCheckToken=function(){return(0,Me.mG)(this,void 0,void 0,function(){var t;return(0,Me.Jh)(this,function(o){switch(o.label){case 0:return(t=this._appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,o.sent().token];case 2:return[2,null]}})})},i.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear()),Promise.resolve()},i.prototype._makeStorageReference=function(t){return new SD(this,t)},i.prototype._makeRequest=function(t,e,o){var s=this;if(this._deleted)return new _z(tB());var c=function(i,t,e,o,s,c){var f=uB(i.urlParams),g=i.url+f,v=Object.assign({},i.headers);return function(i,t){t&&(i["X-Firebase-GMPID"]=t)}(v,t),function(i,t){null!==t&&t.length>0&&(i.Authorization="Firebase "+t)}(v,e),function(i,t){i["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(v,c),function(i,t){null!==t&&(i["X-Firebase-AppCheck"]=t)}(v,o),new Ez(g,i.method,v,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,s)}(t,this._appId,e,o,this._pool,this._firebaseVersion);return this._requests.add(c),c.getPromise().then(function(){return s._requests.delete(c)},function(){return s._requests.delete(c)}),c},i.prototype.makeRequestWithTokens=function(t){return(0,Me.mG)(this,void 0,void 0,function(){var e;return(0,Me.Jh)(this,function(c){switch(c.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return e=c.sent(),[2,this._makeRequest(t,e[0],e[1])]}})})},i}();function CB(i,t){return uq(i=(0,Cn.m9)(i),t)}var ED=function(){function i(t,e,o){this._delegate=t,this.task=e,this.ref=o}return Object.defineProperty(i.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),i}(),SB=function(){function i(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(i.prototype,"snapshot",{get:function(){return new ED(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),i.prototype.then=function(t,e){var o=this;return this._delegate.then(function(s){if(t)return t(new ED(s,o,o._ref))},e)},i.prototype.on=function(t,e,o,s){var c=this,f=void 0;return e&&(f="function"==typeof e?function(g){return e(new ED(g,c,c._ref))}:{next:e.next?function(g){return e.next(new ED(g,c,c._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,f,o||void 0,s||void 0)},i}(),AB=function(){function i(t,e){this._delegate=t,this._service=e}return Object.defineProperty(i.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(e){return new ow(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(e){return new ow(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),i}(),ow=function(){function i(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(i.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),i.prototype.toString=function(){return this._delegate.toString()},i.prototype.child=function(t){return new i(function(i,t){return _B(i,t)}(this._delegate,t),this.storage)},Object.defineProperty(i.prototype,"root",{get:function(){return new i(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){var t=this._delegate.parent;return null==t?null:new i(t,this.storage)},enumerable:!1,configurable:!0}),i.prototype.put=function(t,e){return this._throwIfRoot("put"),new SB(function(i,t,e){return function(i,t,e){return i._throwIfRoot("uploadBytesResumable"),new mB(i,new GI(t),e)}(i=(0,Cn.m9)(i),t,e)}(this._delegate,t,e),this)},i.prototype.putString=function(t,e,o){void 0===e&&(e=Zs.RAW),this._throwIfRoot("putString");var s=rB(e,t),c=(0,Me.pi)({},o);return null==c.contentType&&null!=s.contentType&&(c.contentType=s.contentType),new SB(new mB(this._delegate,new GI(s.data,!0),c),this)},i.prototype.listAll=function(){var t=this;return function(i){return nq(i=(0,Cn.m9)(i))}(this._delegate).then(function(e){return new AB(e,t.storage)})},i.prototype.list=function(t){var e=this;return function(i,t){return yB(i=(0,Cn.m9)(i),t)}(this._delegate,t||void 0).then(function(o){return new AB(o,e.storage)})},i.prototype.getMetadata=function(){return function(i){return function(i){return(0,Me.mG)(this,void 0,void 0,function(){var t;return(0,Me.Jh)(this,function(e){switch(e.label){case 0:return i._throwIfRoot("getMetadata"),t=fB(i.storage,i._location,_D()),[4,i.storage.makeRequestWithTokens(t)];case 1:return[2,e.sent().getPromise()]}})})}(i=(0,Cn.m9)(i))}(this._delegate)},i.prototype.updateMetadata=function(t){return function(i,t){return function(i,t){return(0,Me.mG)(this,void 0,void 0,function(){var e;return(0,Me.Jh)(this,function(o){switch(o.label){case 0:return i._throwIfRoot("updateMetadata"),e=function(i,t,e,o){var c=Yd(t.fullServerUrl(),i.host),g=zI(e,o),S=i.maxOperationRetryTime,W=new Ql(c,"PATCH",bD(i,o),S);return W.headers={"Content-Type":"application/json; charset=utf-8"},W.body=g,W.errorHandler=wD(t),W}(i.storage,i._location,t,_D()),[4,i.storage.makeRequestWithTokens(e)];case 1:return[2,o.sent().getPromise()]}})})}(i=(0,Cn.m9)(i),t)}(this._delegate,t)},i.prototype.getDownloadURL=function(){return function(i){return oq(i=(0,Cn.m9)(i))}(this._delegate)},i.prototype.delete=function(){return this._throwIfRoot("delete"),function(i){return function(i){return(0,Me.mG)(this,void 0,void 0,function(){var t;return(0,Me.Jh)(this,function(e){switch(e.label){case 0:return i._throwIfRoot("deleteObject"),t=function(i,t){var o=Yd(t.fullServerUrl(),i.host),g=new Ql(o,"DELETE",function(v,S){},i.maxOperationRetryTime);return g.successCodes=[200,204],g.errorHandler=wD(t),g}(i.storage,i._location),[4,i.storage.makeRequestWithTokens(t)];case 1:return[2,e.sent().getPromise()]}})})}(i=(0,Cn.m9)(i))}(this._delegate)},i.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw nB(t)},i}(),_q=function(){function i(t,e){this.app=t,this._delegate=e}return Object.defineProperty(i.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),i.prototype.ref=function(t){if(WI(t))throw _p("ref() expected a child path but got a URL, use refFromURL instead.");return new ow(CB(this._delegate,t),this)},i.prototype.refFromURL=function(t){if(!WI(t))throw _p("refFromURL() expected a full URL but got a child path, use ref() instead.");try{$s.makeFromUrl(t,this._delegate.host)}catch(e){throw _p("refFromUrl() expected a valid full URL but got an invalid one.")}return new ow(CB(this._delegate,t),this)},i.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},i.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},i.prototype.useEmulator=function(t,e){!function(i,t,e){!function(i,t,e){i.host="http://"+t+":"+e}(i,t,e)}(this._delegate,t,e)},i}();function Sq(i,t){var e=t.instanceIdentifier,o=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),c=i.getProvider("app-check-internal");return new _q(o,new AD(o,s,c,new yz,e,Lo.Z.SDK_VERSION))}function EB(i){const t=function(i){return new Yn.y(t=>{const e=f=>t.next(f);e(i.snapshot);const c=i.on("state_changed",e);return i.then(f=>{e(f),t.complete()},f=>{e(i.snapshot),(f=>{t.error(f)})(f)}),function(){c()}}).pipe(ll(0))}(i);return{task:i,then:i.then.bind(i),catch:i.catch.bind(i),pause:i.pause.bind(i),cancel:i.cancel.bind(i),resume:i.resume.bind(i),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,sn.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function TD(i,t,e){return{getDownloadURL:()=>(0,Lt.of)(void 0).pipe((0,Fo.QV)(t.outsideAngular),yr(()=>i.getDownloadURL()),e),getMetadata:()=>(0,Lt.of)(void 0).pipe((0,Fo.QV)(t.outsideAngular),yr(()=>i.getMetadata()),e),delete:()=>(0,Xt.D)(i.delete()),child:o=>TD(i.child(o),t,e),updateMetadata:o=>(0,Xt.D)(i.updateMetadata(o)),put:(o,s)=>EB(i.put(o,s)),putString:(o,s,c)=>EB(i.putString(o,s,c)),listAll:()=>(0,Xt.D)(i.listAll())}}!function(i){var t={TaskState:_o,TaskEvent:gz,StringFormat:Zs,Storage:AD,Reference:ow};i.INTERNAL.registerComponent(new iL.wA("storage",Sq,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),i.registerVersion("@firebase/storage","0.6.2")}(Lo.Z);const TB=new a.OlP("angularfire2.storageBucket"),DB=new a.OlP("angularfire2.storage.maxUploadRetryTime"),MB=new a.OlP("angularfire2.storage.maxOperationRetryTime");let kB=(()=>{class i{constructor(e,o,s,c,f,g,v){this.schedulers=new jn.HU(f),this.keepUnstableUntilFirst=(0,jn.ss)(this.schedulers);const S=(0,jn.on)(e,f,o);this.storage=(0,jn.sI)(`${S.name}.storage.${s}`,"AngularFireStorage",S,()=>{const W=f.runOutsideAngular(()=>S.storage(s||void 0));return g&&W.setMaxUploadRetryTime(g),v&&W.setMaxOperationRetryTime(v),W},[g,v])}ref(e){return TD(this.storage.ref(e),this.schedulers,this.keepUnstableUntilFirst)}refFromURL(e){return TD(this.storage.refFromURL(e),this.schedulers,this.keepUnstableUntilFirst)}upload(e,o,s){return TD(this.storage.ref(e),this.schedulers,this.keepUnstableUntilFirst).put(o,s)}}return i.\u0275fac=function(e){return new(e||i)(a.LFG(jn.Dh),a.LFG(jn.xv,8),a.LFG(TB,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(DB,8),a.LFG(MB,8))},i.\u0275prov=a.Yz7({factory:function(){return new i(a.LFG(jn.Dh),a.LFG(jn.xv,8),a.LFG(TB,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(DB,8),a.LFG(MB,8))},token:i,providedIn:"any"}),i})(),Tq=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({}),i})(),Dq=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i}),i.\u0275inj=a.cJS({providers:[kB],imports:[Tq]}),i})();const RB_firebase={apiKey:"AIzaSyDltHIjMJUlu6fuK6_utmXKKQOm1deg4mw",authDomain:"alexandria-e94eb.firebaseapp.com",projectId:"alexandria-e94eb",storageBucket:"alexandria-e94eb.appspot.com",messagingSenderId:"365905800719",appId:"1:365905800719:web:4beffc20c7cf12a1d3bd7a",measurementId:"G-7GBB2S52GB"};let Mq=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=a.oAB({type:i,bootstrap:[Y4]}),i.\u0275inj=a.cJS({providers:[],imports:[[lh,P4,KS,bR,iH,X3,kH,Fn,LG,i6,yH,PH,i3,JS,WH,sG,o3,vj,y6,$6,_4,pI,jn.hO.initializeApp(RB_firebase),pU,TR,Dq]]}),i})();(0,a.G48)(),Es().bootstrapModule(Mq).catch(i=>console.error(i))},4762:(ve,I,y)=>{"use strict";y.d(I,{ZT:()=>H,pi:()=>G,mG:()=>K,Jh:()=>he,XA:()=>D,CR:()=>te,ev:()=>L});var a=function(T,ne){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,F){x.__proto__=F}||function(x,F){for(var ee in F)Object.prototype.hasOwnProperty.call(F,ee)&&(x[ee]=F[ee])})(T,ne)};function H(T,ne){if("function"!=typeof ne&&null!==ne)throw new TypeError("Class extends value "+String(ne)+" is not a constructor or null");function x(){this.constructor=T}a(T,ne),T.prototype=null===ne?Object.create(ne):(x.prototype=ne.prototype,new x)}var G=function(){return(G=Object.assign||function(ne){for(var x,F=1,ee=arguments.length;F<ee;F++)for(var M in x=arguments[F])Object.prototype.hasOwnProperty.call(x,M)&&(ne[M]=x[M]);return ne}).apply(this,arguments)};function K(T,ne,x,F){return new(x||(x=Promise))(function(M,P){function Y(Z){try{A(F.next(Z))}catch($){P($)}}function j(Z){try{A(F.throw(Z))}catch($){P($)}}function A(Z){Z.done?M(Z.value):function(M){return M instanceof x?M:new x(function(P){P(M)})}(Z.value).then(Y,j)}A((F=F.apply(T,ne||[])).next())})}function he(T,ne){var F,ee,M,P,x={label:0,sent:function(){if(1&M[0])throw M[1];return M[1]},trys:[],ops:[]};return P={next:Y(0),throw:Y(1),return:Y(2)},"function"==typeof Symbol&&(P[Symbol.iterator]=function(){return this}),P;function Y(A){return function(Z){return function(A){if(F)throw new TypeError("Generator is already executing.");for(;x;)try{if(F=1,ee&&(M=2&A[0]?ee.return:A[0]?ee.throw||((M=ee.return)&&M.call(ee),0):ee.next)&&!(M=M.call(ee,A[1])).done)return M;switch(ee=0,M&&(A=[2&A[0],M.value]),A[0]){case 0:case 1:M=A;break;case 4:return x.label++,{value:A[1],done:!1};case 5:x.label++,ee=A[1],A=[0];continue;case 7:A=x.ops.pop(),x.trys.pop();continue;default:if(!(M=(M=x.trys).length>0&&M[M.length-1])&&(6===A[0]||2===A[0])){x=0;continue}if(3===A[0]&&(!M||A[1]>M[0]&&A[1]<M[3])){x.label=A[1];break}if(6===A[0]&&x.label<M[1]){x.label=M[1],M=A;break}if(M&&x.label<M[2]){x.label=M[2],x.ops.push(A);break}M[2]&&x.ops.pop(),x.trys.pop();continue}A=ne.call(T,x)}catch(Z){A=[6,Z],ee=0}finally{F=M=0}if(5&A[0])throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}([A,Z])}}}function D(T){var ne="function"==typeof Symbol&&Symbol.iterator,x=ne&&T[ne],F=0;if(x)return x.call(T);if(T&&"number"==typeof T.length)return{next:function(){return T&&F>=T.length&&(T=void 0),{value:T&&T[F++],done:!T}}};throw new TypeError(ne?"Object is not iterable.":"Symbol.iterator is not defined.")}function te(T,ne){var x="function"==typeof Symbol&&T[Symbol.iterator];if(!x)return T;var ee,P,F=x.call(T),M=[];try{for(;(void 0===ne||ne-- >0)&&!(ee=F.next()).done;)M.push(ee.value)}catch(Y){P={error:Y}}finally{try{ee&&!ee.done&&(x=F.return)&&x.call(F)}finally{if(P)throw P.error}}return M}function L(T,ne,x){if(x||2===arguments.length)for(var M,F=0,ee=ne.length;F<ee;F++)(M||!(F in ne))&&(M||(M=Array.prototype.slice.call(ne,0,F)),M[F]=ne[F]);return T.concat(M||Array.prototype.slice.call(ne))}},2069:()=>{},6599:()=>{},5358:()=>{},1822:()=>{},1127:()=>{},3074:()=>{}},ve=>{ve(ve.s=7777)}]);